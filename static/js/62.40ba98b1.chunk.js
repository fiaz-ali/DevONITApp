webpackJsonp([62],{1507:function(e,t,n){"use strict";var a,o=n(2),i=(n.n(o),n(711)),r=n(753),c=n(12),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(r,c)}s((a=a.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={component:Object(),locationList:[],typeList:[]},a=n,n.handleComponentChange=n.handleComponentChange.bind(n),n._getLocationsList=n._getLocationsList.bind(n),n._getTypeList=n._getTypeList.bind(n),n}return s(t,e),t.prototype.componentWillReceiveProps=function(e){return l(this,void 0,void 0,function(){return u(this,function(t){return this.setState({component:e.component}),[2]})})},t.prototype.componentDidMount=function(){return l(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._getLocationsList(this.props.buildingName)]:[3,3];case 1:return e.sent(),[4,this._getTypeList()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype._getLocationsList=function(e){return l(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,Object(i.b)(e).then(function(e){a.setState({locationList:e})})];case 1:return t.sent(),[2]}})})},t.prototype._getTypeList=function(){return l(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,Object(r.h)("Equip",3).then(function(e){var t=e.sort(function(e,t){return e.value<t.value?-1:e.value>t.value?1:0});a.setState({typeList:t})})];case 1:return e.sent(),[2]}})})},t.prototype.handleComponentChange=function(e,t){var n=this.state.component;switch(e){case"rdfsLabel":n.rdfsLabel=t;break;case"volts":n.volts=t;break;case"ampere":n.ampere=t;break;case"phase":n.phase=t;break;case"location":n.location=t;break;case"profileLink":n.profileLink=t;break;case"quantity":n.quantity=t;break;case"description":n.description=t;break;case"notes":n.notes=t;break;case"type":n.type=t;break;case"manufacturer":n.manufacturer=t;break;case"model":n.model=t;break;case"inputCapacity":n.inputCapacity=t;break;case"inputCapacityUnits":n.inputCapacityUnits=t;break;case"outputCapacity":n.outputCapacity=t;break;case"outputCapacityUnits":n.outputCapacityUnits=t}this.setState({component:n},function(){a.props.onComponentChange(n)})},t.prototype.render=function(){var e,t=this,n=this.props,a=n.isEdit,i=n.isView,r=this.state,s=r.component,l=r.locationList,u=r.typeList,m=s.name&&s.name.split("_");return m&&(e=Object(c.g)(m[0])+"_"+m[1]),o.createElement("div",{className:"content"},o.createElement("div",{className:"card padding-10"},o.createElement("div",{className:"row "},a&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"type"},"Component Name:"))),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text",disabled:a||i,id:"name",className:"form-control",value:e})))),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"type"},"Component Type:"))),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group"},o.createElement("select",{disabled:a||i,id:"type",className:"form-control",value:s.type,onChange:function(e){return t.handleComponentChange("type",e.target.value)}},o.createElement("option",{value:"",key:-1},"Select Subclass"),u&&u.length>0&&u.map(function(e,t){return o.createElement("option",{value:e.value,key:t},e.value," ")})))),!(a||i)&&o.createElement("div",{className:"col-md-1"},o.createElement("label",null,o.createElement("i",{className:"fa fas fa-asterisk"}))),!(a||i)&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"quantity"},"Quantity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"quantity",type:"number",className:"form-control",value:s.quantity?s.quantity:"1",onChange:function(e){return t.handleComponentChange("quantity",e.target.value)}})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"name"},"Component Label:")),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",id:"rdfsLabel",disabled:i,className:"form-control",value:s.rdfsLabel,onChange:function(e){return t.handleComponentChange("rdfsLabel",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"location"},"Location:")),o.createElement("div",{className:"col-md-3"},o.createElement("select",{id:"location",disabled:i,className:"form-control",value:s.location,onChange:function(e){return t.handleComponentChange("location",e.target.value)}},o.createElement("option",{value:"",key:-2},"Select Location"),l&&l.length>0&&l.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")}))),o.createElement("div",{className:"col-md-1"},o.createElement("label",null,o.createElement("i",{className:"fa fas fa-asterisk"})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"manufacturer"},"Manufacturer:")),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",id:"manufacturer",disabled:i,className:"form-control",value:s.manufacturer,onChange:function(e){return t.handleComponentChange("manufacturer",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"model"},"Model:")),o.createElement("div",{className:"col-md-3"},o.createElement("input",{type:"text",id:"model",disabled:i,className:"form-control",value:s.model,onChange:function(e){return t.handleComponentChange("model",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"profileLink"},"Profile Link:")),o.createElement("div",{className:"col-md-6"},o.createElement("input",{type:"text",id:"profileLink",disabled:i,className:"form-control",value:s.profileLink,onChange:function(e){return t.handleComponentChange("profileLink",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"volt"},"Volt:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"volt",type:"number",disabled:i,className:"form-control",value:s.volts,onChange:function(e){return t.handleComponentChange("volts",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"amphere"},"Amps:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"amphere",type:"number",disabled:i,className:"form-control",value:s.ampere,onChange:function(e){return t.handleComponentChange("ampere",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"phase"},"Phase:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"phase",type:"number",disabled:i,className:"form-control",value:s.phase,onChange:function(e){return t.handleComponentChange("phase",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"inputCapacity"},"Input Capacity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"inputCapacity",type:"number",disabled:i,className:"form-control",value:s.inputCapacity,onChange:function(e){return t.handleComponentChange("inputCapacity",e.target.value)}})),o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"inputCapacityUnits"},"Input Capacity Units:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"inputCapacityUnits",type:"text",disabled:i,className:"form-control",value:s.inputCapacityUnits,onChange:function(e){return t.handleComponentChange("inputCapacityUnits",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"outputCapacity"},"Output Capacity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"outputCapacity",type:"number",disabled:i,className:"form-control",value:s.outputCapacity,onChange:function(e){return t.handleComponentChange("outputCapacity",e.target.value)}})),o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"outputCapacityUnits"},"Output Capacity Units:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"outputCapacityUnits",type:"text",disabled:i,className:"form-control",value:s.outputCapacityUnits,onChange:function(e){return t.handleComponentChange("outputCapacityUnits",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"description"},"Description:")),o.createElement("div",{className:"col-md-4"},o.createElement("textarea",{className:"form-control",id:"description",disabled:i,value:s.description,onChange:function(e){t.handleComponentChange("description",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"notes"},"Notes:")),o.createElement("div",{className:"col-md-4"},o.createElement("textarea",{className:"form-control",id:"notes",disabled:i,value:s.notes,onChange:function(e){t.handleComponentChange("notes",e.target.value)}})))))},t}(o.Component);t.a=m},607:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(2),i=(n.n(o),n(753)),r=n(8),c=n(792),s=n(59),l=n(38),u=n(1507),m=n(106),p=n(12),d=n(60),f=n(7),h=n(9),b=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),v=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(r,c)}s((a=a.apply(e,t||[])).next())})},E=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={components:[],newComponent:Object(),equipment:Object(),componentToDelete:Object(),isEdit:!1,sortOrder:1,isView:!1},a=n,n._fetchComponents=n._fetchComponents.bind(n),n._fetchEquipment=n._fetchEquipment.bind(n),n.onComponentChange=n.onComponentChange.bind(n),n._saveComponent=n._saveComponent.bind(n),n.onDeleteComponent=n.onDeleteComponent.bind(n),n.deleteComponent=n.deleteComponent.bind(n),n.showNewComponentDialog=n.showNewComponentDialog.bind(n),n.sortComponents=n.sortComponents.bind(n),n}return b(t,e),t.prototype.componentDidMount=function(){return v(this,void 0,void 0,function(){return E(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.equipmentName?[4,this._fetchComponents()]:[3,3];case 1:return e.sent(),[4,this._fetchEquipment()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype._fetchEquipment=function(){return v(this,void 0,void 0,function(){var e=this;return E(this,function(t){switch(t.label){case 0:return this.props.buildingName&&this.props.equipmentName?[4,Object(i.j)(this.props.buildingName,this.props.equipmentName).then(function(t){if(t.length>0){var n=t[0],o=e.state.equipment;o.equipmentName=Object(r.g)(n.equip),o.rdfsLabel=Object(r.g)(n.rdfsLabel),o.equipmentType=Object(r.g)(n.type),o.subclassType=Object(r.g)(n.subtype),o.floor=Object(r.g)(n.floor),o.floor=Object(r.g)(n.floorRdfsLabel),o.location=Object(r.g)(n.location),o.location=Object(r.g)(n.locationRdfsLabel),o.locationDescription=Object(r.g)(n.locationDescription),o.manufacturer=Object(r.g)(n.manufacturer),o.model=Object(r.g)(n.model),o.serial=Object(r.g)(n.serial),o.capacity=Object(r.g)(n.capacity),o.refrigerantType=Object(r.g)(n.refrigerantType),o.units=Object(r.g)(n.units),o.notes=Object(r.g)(n.notes),a.setState({equipment:o})}}).catch(function(e){return e})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype._fetchComponents=function(){return v(this,void 0,void 0,function(){var e;return E(this,function(t){return e=this.props.equipmentName,this.props.equipmentName&&Object(i.i)(this.props.buildingName,e).then(function(e){if(e.length>0){var t=[];e.map(function(e){var n={ampere:Object(r.g)(e.ampere),location:Object(r.g)(e.location),rdfsLabelLocation:Object(r.g)(e.rdfsLabelLocation),profileLink:Object(r.g)(e.profile),name:Object(r.g)(e.name),rdfsLabel:Object(r.g)(e.rdfsLabel),phase:Object(r.g)(e.phase),volts:Object(r.g)(e.volts),quantity:"1",description:Object(r.g)(e.description),notes:Object(r.g)(e.notes),type:Object(r.g)(e.type),manufacturer:Object(r.g)(e.manufacturer),model:Object(r.g)(e.model),inputCapacity:Object(r.g)(e.inputCapacity),inputCapacityUnits:Object(r.g)(e.inputCapacityUnits),outputCapacity:Object(r.g)(e.outputCapacity),outputCapacityUnits:Object(r.g)(e.outputCapacityUnits)};t.push(n)}),a.setState({components:t,newComponent:Object()},function(){a.sortComponents("name",1)})}}).catch(function(e){return e}),[2]})})},t.prototype._saveComponent=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,r;return E(this,function(c){switch(c.label){case 0:return Object(m.a)(!0),e=this.state,t=e.newComponent,n=e.equipment,a=e.components,o=this.props.buildingName,r=a.filter(function(e){return e.type==t.type}).length+1,[4,Object(i.o)(o,n.equipmentName,t,r)];case 1:return c.sent(),[4,this._fetchComponents()];case 2:return c.sent(),Object(m.a)(!1),[2]}})})},t.prototype.onComponentChange=function(e){this.setState({newComponent:e})},t.prototype.onDeleteComponent=function(e){this.setState({componentToDelete:e})},t.prototype.deleteComponent=function(){return v(this,void 0,void 0,function(){var e;return E(this,function(t){switch(t.label){case 0:return Object(m.a)(!0),e=this.state.componentToDelete,[4,Object(p.d)(e.name,f.b.EQUIP)];case 1:return t.sent(),[4,this._fetchComponents()];case 2:return t.sent(),Object(m.a)(!1),[2]}})})},t.prototype.showNewComponentDialog=function(e,t){return v(this,void 0,void 0,function(){return E(this,function(n){return this.setState({newComponent:e&&e.name?e:{ampere:"",description:"",location:"",name:"",notes:"",phase:"",profileLink:"",quantity:"",rdfsLabel:"",type:"",volts:"",manufacturer:"",model:"",inputCapacity:"",inputCapacityUnits:"",outputCapacity:"",outputCapacityUnits:"",rdfsLabelLocation:""},isEdit:!(!e||!e.name),isView:t||!1},function(){setTimeout(function(){document.getElementById("showAddComponentDialog").click()},100)}),[2]})})},t.prototype.sortComponents=function(e,t){var n=this.state.components,a=this.state.sortOrder,o=n.sort(function(n,o){if(n&&o){var i="",r="";switch(e){case"name":n.name&&o.name&&(i=n.name,r=o.name);break;case"rdfsLabel":i=n.rdfsLabel,r=o.rdfsLabel;break;case"type":n.type&&o.type&&(i=n.type,r=o.type);break;case"location":n.location&&o.location&&(i=n.location,r=o.location);break;case"profileLink":n.profileLink&&o.profileLink&&(i=n.profileLink,r=o.profileLink)}var c=0;return i.toLocaleLowerCase()<r.toLocaleLowerCase()?c=-1:i.toLocaleLowerCase()>r.toLocaleLowerCase()&&(c=1),c*(t||a)}});this.setState({components:o,sortOrder:-1*(t||a)})},t.prototype.render=function(){var e=this,t=this.props,n=t.buildingName,a=t.equipmentName,i=this.state,r=i.components,m=i.newComponent,f=i.equipment,b=i.isEdit,v=i.isView,E=m&&m.rdfsLabel&&m.location&&m.type&&!0,y=JSON.parse(h.a.getItem("user")),C=Object(d.b)(y,"info-equip","write");return o.createElement("div",{className:"content"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement(c.a,{workFlowSpaceList:this.props.workFlowSpaceList,inspectionOntology:"",instance:this.props.instance,buildingName:n,tabName:"Equip",showComponentButton:!0,itemName:a,showAuditTypes:!0,showBIMButtons:!0}),C&&o.createElement("button",{type:"button",className:"btn btn-dark pull-right",onClick:function(t){e.showNewComponentDialog()}},o.createElement("i",{className:"fa fa-plus"})," Add Component(s)"),o.createElement("button",{id:"showAddComponentDialog",style:{display:"none"},"data-toggle":"modal","data-target":"#addComponentDialog"},"."),o.createElement(l.a,{id:"addComponentDialog",onSaveButtonClick:function(){e._saveComponent()},saveButtonText:"Save",isEditForm:!0,showCancelButton:!0,showSaveButton:!v,cancelButtonText:v?"Close":"Cancel",heading:m.name?v?"Component Detail":"Edit Component":"Add Component(s)",disableSaveButton:!E},o.createElement(u.a,{instance:this.props.instance,buildingName:n,isEdit:b,redirectURL:window.location.hash,onComponentChange:this.onComponentChange,component:m,isView:v})))),o.createElement("br",null),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"card",id:"ComponentList"},o.createElement("div",{className:"header"},o.createElement("h4",{className:"title"},f.rdfsLabel,"'s Components")),o.createElement("div",{className:"content"},o.createElement("div",{className:"dataCard"},o.createElement("div",{className:"row hidden-xs"},o.createElement("div",{className:"col-sm-12"},o.createElement("div",{className:"col-sm-3 headingText",onClick:function(){return e.sortComponents("name")}},"Name",o.createElement("i",{className:"fa fas fa-sort"})),o.createElement("div",{className:"col-sm-2 headingText",onClick:function(){return e.sortComponents("rdfsLabel")}},"Label",o.createElement("i",{className:"fa fas fa-sort"})),o.createElement("div",{className:"col-sm-2 headingText",onClick:function(){return e.sortComponents("type")}},"Type",o.createElement("i",{className:"fa fas fa-sort"})),o.createElement("div",{className:"col-sm-2 headingText",onClick:function(){return e.sortComponents("location")}},"Location",o.createElement("i",{className:"fa fas fa-sort"})),o.createElement("div",{className:"col-sm-3 headingText",onClick:function(){return e.sortComponents("profileLink")}},"Profile Link",o.createElement("i",{className:"fa fas fa-sort"})))),r&&r.length>0&&r.map(function(t,n){var a=t.name.split("_");return o.createElement("div",{key:n,className:"row clickable"},o.createElement("div",{className:"col-sm-12"},o.createElement("div",{className:"col-sm-3 trim-data",title:Object(p.g)(a[0])+"_"+a[1]},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"Name"),o.createElement("label",{className:"clickable",onClick:function(){e.showNewComponentDialog(t,!0)}},Object(p.g)(a[0])+"_"+a[1])),o.createElement("div",{className:"col-sm-2 trim-data",title:t.rdfsLabel},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"Label"),t.rdfsLabel),o.createElement("div",{className:"col-sm-2 trim-data",title:t.type},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"type"),t.type),o.createElement("div",{className:"col-sm-2 trim-data",title:t.rdfsLabelLocation},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"location"),t.rdfsLabelLocation),o.createElement("div",{className:"col-sm-3 trim-data",title:t.profileLink},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"profile Link"),o.createElement("a",{href:t.profileLink&&t.profileLink.indexOf("ttp")>0?t.profileLink:"http://"+t.profileLink,target:"_blank",title:t.profileLink},t.profileLink))),o.createElement("br",null),C&&o.createElement("div",{className:"col-sm-12 col-xs-12"},o.createElement("button",{className:"btn-xs btn-danger btn-fill pull-right",onClick:function(n){e.onDeleteComponent(t)},"data-toggle":"modal","data-target":"#ConfirmDeleteDialog"},o.createElement("i",{className:"fa fa-trash"})," Delete"),o.createElement("button",{className:"btn-xs btn-success btn-fill pull-right",onClick:function(n){e.showNewComponentDialog(t)}},o.createElement("i",{className:"fa fa-edit"})," Edit")))}),o.createElement(s.a,{instance:this.props.instance,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this point?",heading:"Confirm...",onConfirmButtonClick:function(){e.deleteComponent()}}))))))))},t}(o.Component);t.default=y},711:function(e,t,n){"use strict";t.g=function(e,t,n,o){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.e)({buildingName:e,spaceName:t,spaceWithCalendar:n},i.a.SPACES.GETSPACES,a.b.SPACE,o)];case 1:return[2,r.sent()]}})})},t.c=function(e,t,n){return r(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(i.e)({floor:e,buildingName:t},i.a.SPACES.GetLocationsList,a.b.SPACE,n)];case 1:return[2,o.sent()]}})})},t.d=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({zone:e,buildingName:t},i.a.SPACES.getLocationsListSpacesByZones,a.b.SPACE)];case 1:return[2,n.sent()]}})})},t.b=function(e,t,n){void 0===n&&(n=!0);return r(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(i.e)({buildingName:e,type:t},i.a.SPACES.GetAllLocationsList,a.b.SPACE,n)];case 1:return[2,o.sent()]}})})},t.a=function(e,t,n,s,l){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({buildingName:e,model:t,floor:n,isEdit:s,spacetoUpdate:l},i.a.SPACES.SAVESPACE,a.b.SPACE).then(function(){Object(o.b)("Space "+(s?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Space.")})];case 1:return[2,r.sent()]}})})},t.f=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.SPACES.GetSpaceTypesList,a.b.SPACE)];case 1:return[2,t.sent()]}})})},t.e=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({spaceName:e},i.a.SPACES.GetSpaceOptimalInfo,a.b.SPACE)];case 1:return[2,t.sent()]}})})},t.h=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.f)({spaceToUpdate:e},i.a.SPACES.UpdateSpaceOptimalInfo,a.b.SPACE).then(function(){Object(o.b)("Space Updated Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Space.")})];case 1:return[2,t.sent()]}})})};var a=n(7),o=n(6),i=n(5),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(r,c)}s((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}},753:function(e,t,n){"use strict";t.p=function(e,t,n){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({buildingName:e,equipment:t,isEdit:n},i.a.EQUIPMENT.SaveEquipment,a.b.EQUIP).then(function(){Object(o.b)("Equipment "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Equipment.")})];case 1:return[2,r.sent()]}})})},t.o=function(e,t,n,s){return r(this,void 0,void 0,function(){var r;return c(this,function(c){switch(c.label){case 0:return r=!!n.name,[4,Object(i.f)({buildingName:e,equipmentName:t,component:n,counter:s},i.a.EQUIPMENT.SaveComponent,a.b.EQUIP).then(function(){Object(o.b)("Component(s) "+(r?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Component(s).")})];case 1:return[2,c.sent()]}})})},t.q=function(e,t,n,s){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({isEdit:e,buildingName:t,equipmentName:n,lightingInformation:s},i.a.EQUIPMENT.SaveLightingInformation,a.b.EQUIP).then(function(){Object(o.b)("Lighting Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Lighting Info.")})];case 1:return[2,r.sent()]}})})},t.r=function(e,t,n,s,l){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({isEdit:e,buildingName:t,equipmentName:n,plugLoadModel:s,isCustom:l},i.a.EQUIPMENT.SavePlugLoadModel,a.b.EQUIP).then(function(){Object(o.b)("Plugload Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Plugload Info.")})];case 1:return[2,r.sent()]}})})},t.d=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.FetchEquipments,a.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.j=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetEquipmentDetails,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.e=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.GetAllCoolingAndHeatingEquipmentsList,a.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.f=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.GetAllEquipmentExceptCoolingAndHeatingList,a.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.g=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.GetAllEquipmentsList,a.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.k=function(){return r(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,Object(i.e)({},i.a.EQUIPMENT.GetEquipmentTypeList,a.b.EQUIP)];case 1:return[2,e.sent()]}})})},t.m=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({typeName:e,distance:t},i.a.EQUIPMENT.GetSubClassTypeListForEquipment,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.h=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({typeName:e,distance:t},i.a.EQUIPMENT.GetComponentTypesList,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.c=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.FetchEquipmentExportData,a.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.i=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetComponents,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.l=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetFixtures,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.n=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetTypeByEquipmentName,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.b=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.FetchPowerSource,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.FetchPlugLoad,a.b.EQUIP)];case 1:return[2,n.sent()]}})})};var a=n(7),o=n(6),i=n(5),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(r,c)}s((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}},792:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(108)),i=n(8),r=n(40),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),s=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(r,c)}s((a=a.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={virtualBIM:"",cadBIM:"",showCA:!1,showECM:!1,showRCX:!1,ECMCompleted:!1,RCXCompleted:!1,CACompleted:!1,workFlowSpaceList:[]},n.updateInspectionButtonsVisibility=n.updateInspectionButtonsVisibility.bind(n),n}return c(t,e),t.prototype.componentWillReceiveProps=function(e){return s(this,void 0,void 0,function(){var t,n=this;return l(this,function(a){return"Equip"!=e.tabName&&"Space"!=e.tabName||(t=[],e.workFlowSpaceList&&e.workFlowSpaceList.length&&(t=e.workFlowSpaceList),this.setState({workFlowSpaceList:t},function(){return s(n,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.updateInspectionButtonsVisibility()];case 1:return e.sent(),[2]}})})})),[2]})})},t.prototype.componentDidMount=function(){return s(this,void 0,void 0,function(){var e,t=this;return l(this,function(n){return"Equip"!=this.props.tabName&&"Space"!=this.props.tabName||(e=[],this.props.workFlowSpaceList&&this.props.workFlowSpaceList.length&&(e=this.props.workFlowSpaceList),this.setState({workFlowSpaceList:e},function(){return s(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.updateInspectionButtonsVisibility()];case 1:return e.sent(),[2]}})})})),[2]})})},t.prototype.updateInspectionButtonsVisibility=function(){return s(this,void 0,void 0,function(){var e,t,n,a;return l(this,function(o){switch(o.label){case 0:return this.props.inspectionOntology?(e=this.state.workFlowSpaceList,t=localStorage.getItem("spaceOntology"),n=localStorage.getItem("equipmentType"),[4,Object(r.d)(this.props.tabName,t,n,e,this.props.itemName,this.props.inspectionOntology)]):[3,2];case 1:a=o.sent(),this.setState({showRCX:a.showRCX,showECM:a.showECM,showCA:a.showCA,RCXCompleted:a.RCXCompleted,ECMCompleted:a.ECMCompleted,CACompleted:a.CACompleted}),o.label=2;case 2:return[2]}})})},t.prototype.getBIM_Links=function(){return s(this,void 0,void 0,function(){var e=this;return l(this,function(t){switch(t.label){case 0:return[4,Object(o.d)(this.props.buildingName,this.props.itemName,this.props.tabName).then(function(t){if(t){var n=Object(i.g)(t.virtualBIM),a=Object(i.g)(t.cadBIM);e.setState({virtualBIM:n,cadBIM:a})}})];case 1:return t.sent(),[2]}})})},t.prototype.render=function(){var e=this.props,t=e.instance,n=e.buildingName,o=e.tabName,i=e.itemName,r=e.showDevicesButton,c=void 0!==r&&r,s=e.showComponentButton,l=void 0!==s&&s,u=e.showAuditTypes,m=void 0!==u&&u,p=e.showBIMButtons,d=void 0!==p&&p,f=this.state,h=f.virtualBIM,b=f.cadBIM,v=f.showCA,E=f.showECM,y=f.showRCX,C=f.ECMCompleted,g=f.RCXCompleted,N=f.CACompleted,w=window.location.hash;return a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 no-padding"},a.createElement("div",{className:"btn-group",id:"tabbtn"},a.createElement("a",{className:"btn "+(w.indexOf("/Profile")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+t+"/"+n+"/"+o+"/Profile/"+i},"Profile"),c&&a.createElement("a",{className:"btn "+(w.indexOf("/Devices")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+t+"/"+n+"/"+o+"/Devices/"+i},"Devices"),l&&a.createElement("a",{className:"btn "+(w.indexOf("/Components")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+t+"/"+n+"/"+o+"/Components/"+i},"Components"),a.createElement("a",{className:"btn "+(w.indexOf("/Related")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+t+"/"+n+"/"+o+"/Related/"+i},"Related"),a.createElement("a",{className:"btn "+(w.indexOf("/Documents")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+t+"/"+n+"/"+o+"/Documents/"+i},"Docs"),a.createElement("a",{className:"btn "+(w.indexOf("/SupplyChain")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+t+"/"+n+"/"+o+"/SupplyChain/"+i},"Supply"),m&&a.createElement("a",{className:"btn "+(w.indexOf("/P/")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",title:"Points",href:"#"+t+"/"+n+"/"+o+"/P/"+i},"P"),"Space"==this.props.tabName&&a.createElement("a",{className:"btn "+(w.indexOf("/SpaceSchedule")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+t+"/"+n+"/"+o+"/SpaceSchedule/"+i},"Schedule"),a.createElement("span",{className:"hidden-xs hidden-sm spacebtn"}),m&&a.createElement("span",null,E&&a.createElement("a",{className:"btn "+(w.indexOf("/ECM")>0?"btn-fill":"")+" btn-dark",title:"Energy Conservation Measures",href:"#"+t+"/"+n+"/"+o+"/ECM/"+i},"ECM",C&&a.createElement("i",{className:"fa fa-check inspection-completed"})),y&&a.createElement("a",{className:"btn "+(w.indexOf("/RCX")>0?"btn-fill":"")+" btn-dark",title:"Retro-Commissioning",href:"#"+t+"/"+n+"/"+o+"/RCX/"+i},"RCX",g&&a.createElement("i",{className:"fa fa-check inspection-completed"})),v&&a.createElement("a",{className:"btn "+(w.indexOf("/CA")>0?"btn-fill":"")+" btn-dark",title:"Condition Assessment",href:"#"+t+"/"+n+"/"+o+"/CA/"+i},"CA",N&&a.createElement("i",{className:"fa fa-check inspection-completed"}))),a.createElement("span",{className:"hidden-xs hidden-sm spacebtn"}),d&&a.createElement("span",null,a.createElement("a",{className:"btn btn-success",href:h&&h.indexOf("ttp")>0?h:"http://"+h,target:"_blank",title:h},"Virtual BIM"),a.createElement("a",{className:"btn btn-success",href:b&&b.indexOf("ttp")>0?b:"http://"+b,target:"_blank",title:b},"Digital Twin")))))))},t}(a.Component);t.a=u}});