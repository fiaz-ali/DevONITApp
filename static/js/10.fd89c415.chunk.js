webpackJsonp([10,76,78],{1012:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=(n.n(a),n(595)),s=n(87),c=n(745),o=n(17),r=n(573),l=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,s){function c(e){try{r(a.next(e))}catch(e){s(e)}}function o(e){try{r(a.throw(e))}catch(e){s(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,o)}r((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,a=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){c.label=s[1];break}if(6===s[0]&&c.label<i[1]){c.label=i[1],i=s;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(s);break}i[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],a=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={checklist:[],selectedChecklist:Object()},n.sortCheckList=n.sortCheckList.bind(n),n._fetchChecklistList=n._fetchChecklistList.bind(n),n._deleteChecklistTemplate=n._deleteChecklistTemplate.bind(n),n}return l(t,e),t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchChecklistList()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.componentWillReceiveProps=function(e){e.selectedChecklist&&this.setState({selectedChecklist:e.selectedChecklist})},t.prototype._fetchChecklistList=function(){return u(this,void 0,void 0,function(){var e,t=this;return d(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,[4,Object(c.g)(e).then(function(e){""==Object(o.g)(e[0].ontology)&&(e=[]),t.setState({checklist:e,selectedChecklist:Object()})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},t.prototype.sortCheckList=function(e){},t.prototype._deleteChecklistTemplate=function(e){return u(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return e?(Object(s.a)(!0),[4,Object(c.c)(e,this.props.buildingName).then(function(e){}).catch(function(e){return e})]):[3,2];case 1:t.sent(),this._fetchChecklistList(),Object(s.a)(!1),t.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,s=t.buildingName,c=t.isSelectionlist,l=this.state,u=l.checklist,d=l.selectedChecklist;return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},!c&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 "},a.createElement("div",{className:"padding-5"},a.createElement(i.a,{filename:"checkList",data:[],ElementID:"CheckList"}),a.createElement("button",{type:"button",className:"btn btn-dark pull-right margin-left-right-5",onClick:function(){window.location.hash=n+"/"+s+"/NewChecklist"}},a.createElement("i",{className:"fa fa-plus"}),a.createElement("span",null,"New CheckList")),a.createElement("button",{className:"btn btn-secondary btn-fill pull-left margin-left-right-5",onClick:function(){window.location.hash=n+"/"+s+"/Tasks"}},a.createElement("i",{className:"fa fa-angle-double-left"}),"  Back ")))),a.createElement("div",{className:"card padding-10",id:"CheckList"},a.createElement("div",{className:"content",style:{paddingTop:"0px"}},a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"row hidden-xs no-padding"},a.createElement("div",{className:(c?"col-sm-11":"col-sm-10")+" no-padding"},a.createElement("div",{className:"col-sm-2 small grid-header-left",onClick:function(){return e.sortCheckList("Module")}},"Module Use"),a.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortCheckList("Name")}},"Checklist Name"),a.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortCheckList("Equipment")}},"Equipment"),a.createElement("div",{className:"col-sm-1 small headingText grid-header",onClick:function(){return e.sortCheckList("Space")}},"Space"),a.createElement("div",{className:"col-sm-2 small headingText grid-header",onClick:function(){return e.sortCheckList("LastDate")}},"Last Date of Use"),a.createElement("div",{className:"col-sm-2 small headingText grid-header",onClick:function(){return e.sortCheckList("DataEntry")}},"Checklist/Data Entry"),a.createElement("div",{className:"col-sm-1 small headingText grid-header",onClick:function(){return e.sortCheckList("Uses")}},"Uses")),!c&&a.createElement("div",{className:"col-sm-2"})),u.map(function(t,i){return a.createElement("div",{key:i,className:"row no-padding"},a.createElement("div",{className:(c?"col-sm-11":"col-sm-10")+" no-padding ",style:{cursor:"pointer"},onClick:function(){c?(e.props.handleSelection(t),e.setState({selectedChecklist:t})):event.preventDefault()}},a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Module Use"),""),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:Object(o.g)(t.rdfsLabel)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Checklist Name"),Object(o.g)(t.rdfsLabel)),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:"Equip"==Object(o.g)(t.assetType)?""+Object(o.g)(t.assetLabel):""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Equipment"),"Equip"==Object(o.g)(t.assetType)?""+Object(o.g)(t.assetLabel):""),a.createElement("div",{className:"col-md-1 col-sm-12  padding-10 trim-data",title:"Space"==Object(o.g)(t.assetType)?""+Object(o.g)(t.assetLabel):""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Space"),"Space"==Object(o.g)(t.assetType)?""+Object(o.g)(t.assetLabel):""),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""!=Object(o.g)(t.lastUsed)?new Date(Object(o.g)(t.lastUsed)).ToEasternDateTime():""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Last Date of Use"),""!=Object(o.g)(t.lastUsed)?new Date(Object(o.g)(t.lastUsed)).ToEasternDateTime():""),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Checklist/Data Entry"),""),a.createElement("div",{className:"col-md-1 col-sm-12  padding-10 trim-data",title:Object(o.g)(t.uses)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Uses"),Object(o.g)(t.uses))),c&&a.createElement("div",{className:"col-sm-1 padding-10  trim-data"},Object(o.g)(t.ontology)==Object(o.g)(d.ontology)&&a.createElement("i",{style:{fontSize:"18px"},className:"fa fa-check"})),!c&&a.createElement("div",{className:"col-sm-1 no-padding"},a.createElement("button",{className:"btn-xs btn-danger btn-fill",title:"Delete Checklist",onClick:function(e){document.getElementById("deleteChecklistTempBtn").click()}},a.createElement("i",{className:"fa fa-trash"})),a.createElement("button",{className:"btn-xs btn-success btn-fill",title:"Edit Checklist",onClick:function(e){window.location.hash=n+"/"+s+"/NewChecklist/"+Object(o.g)(t.ontology)}},a.createElement("i",{className:"fa fa-edit"})),a.createElement("button",{id:"deleteChecklistTempBtn",style:{display:"none"},"data-toggle":"modal","data-target":"#deleteChecklist"},"."),a.createElement(r.a,{instance:e.props.instance,id:"deleteChecklist",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to remove Checklist Template?",heading:"Confirm...",onConfirmButtonClick:function(){e._deleteChecklistTemplate(t)}})))}))))))))},t}(a.Component);t.default=m},1013:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=(n.n(a),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={videoLink:n.props.videoLink},n}return i(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({videoLink:e.videoLink})},t.prototype.componentDidMount=function(){this.setState({videoLink:this.props.videoLink})},t.prototype.render=function(){this.props;var e=this.state.videoLink;return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"card no-padding no-margin"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 no-padding"},a.createElement("div",{className:"img-fluid"},a.createElement("video",{autoPlay:!0,id:"myVideo",muted:!0,loop:!0,controls:!0,src:e}))))))))},t}(a.Component);t.default=s},1509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=n(3),c=(n.n(s),n(89)),o=n(573),r=n(87),l=n(628),u=n(17),d=n(585),m=n(1510),p=(n.n(m),n(1512)),h=n(578),f=n(568),b=n(1514),g=n(745),v=n(1013),k=n(1056),T=n(14),O=n(18),y=n(658),N=n(92),E=n(608),w=n(90),j=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),S=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,s){function c(e){try{r(a.next(e))}catch(e){s(e)}}function o(e){try{r(a.throw(e))}catch(e){s(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,o)}r((a=a.apply(e,t||[])).next())})},C=this&&this.__generator||function(e,t){var n,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,a=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){c.label=s[1];break}if(6===s[0]&&c.label<i[1]){c.label=i[1],i=s;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(s);break}i[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],a=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},D=function(e){function t(t){var n=e.call(this,t)||this;return n.formatTime=function(e){var t=e/36e5,n=Math.floor(t),a=n>9?n:"0"+n,i=60*(t-n),s=Math.floor(i),c=s>9?s:"0"+s,o=60*(i-s),r=Math.floor(o),l=r>9?r:"0"+r;return a+("00"==a?"":"h")+":"+c+("00"==c?"":"m")+":"+l+("00"==l?"":"s")},n.state={_tasks:[],sortOrder:1,taskToDelete:Object(),doNowbtn:!1,doIfbtn:!1,doNextbtn:!1,donebtn:!1,completeTasks:[],doIfTasks:[],doNextTasks:[],doNowTasks:[],managerTasks:[],recurredTasks:[],showScreenSaver:!1,videofile:Object(),showHideHeader:!0,showStartedTask:!0,Search:"",people:[],dependencies:[],isTimedIn:!1,lastClockIn:{},timer:"00:00:00"},a=n,n.onDeleteTask=n.onDeleteTask.bind(n),n.deleteTask=n.deleteTask.bind(n),n._fetchTasks=n._fetchTasks.bind(n),n.setCollapseIcon=n.setCollapseIcon.bind(n),n.setCollapseIcondoNowbtn=n.setCollapseIcondoNowbtn.bind(n),n.setCollapseIcondoIfbtn=n.setCollapseIcondoIfbtn.bind(n),n.setCollapseIcondoNextbtn=n.setCollapseIcondoNextbtn.bind(n),n.setCollapseIcondoDonebtn=n.setCollapseIcondoDonebtn.bind(n),n.setWorkingStatus=n.setWorkingStatus.bind(n),n.getWorkingStatus=n.getWorkingStatus.bind(n),n.updateWorkingStatus=n.updateWorkingStatus.bind(n),n.manageTasksLists=n.manageTasksLists.bind(n),n.handleScreenSaver=n.handleScreenSaver.bind(n),n.handleVideofile=n.handleVideofile.bind(n),n.handleStopWork=n.handleStopWork.bind(n),n.updateRecentPerformance=n.updateRecentPerformance.bind(n),n.showStartedTaskHandler=n.showStartedTaskHandler.bind(n),n.search_filter=n.search_filter.bind(n),n._fetchPeople=n._fetchPeople.bind(n),n._fetchDependencies=n._fetchDependencies.bind(n),n.formatTime=n.formatTime.bind(n),n.setTimerInterval=n.setTimerInterval.bind(n),n.clockTimeInHandler=n.clockTimeInHandler.bind(n),n.clockTimeOutHandler=n.clockTimeOutHandler.bind(n),n.handleUserWorkingStatus=n.handleUserWorkingStatus.bind(n),n.handlingTimeInOut=n.handlingTimeInOut.bind(n),n}return j(t,e),t.prototype.componentWillUnmount=function(){return S(this,void 0,void 0,function(){return C(this,function(e){return this.setState({isTimedIn:!1}),clearInterval(i),[2]})})},t.prototype.componentDidMount=function(){return S(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return this.handlingTimeInOut(),this.props.buildingName?[4,this._fetchPeople()]:[3,4];case 1:return e.sent(),[4,this._fetchTasks()];case 2:return e.sent(),[4,this._fetchDependencies()];case 3:e.sent(),e.label=4;case 4:return[2]}})})},t.prototype.handlingTimeInOut=function(){return S(this,void 0,void 0,function(){var e,t,n,a;return C(this,function(i){switch(i.label){case 0:return Object(r.a)(!0),e=this.context,[4,Object(h.d)("",e.authenticatedUser.contact)];case 1:return(t=i.sent())||0!=t.length||t!=[]||this.setState({isTimedIn:!1}),(n=t[t.length-1])&&n.clockIn&&void 0!=n.clockIn&&null==n.clockOut?(this.setState({isTimedIn:!0,lastClockIn:t[t.length-1]}),a=new Date(this.state.lastClockIn.clockIn).getTime(),this.setTimerInterval(e,a),this.handleUserWorkingStatus("Clocked In")):(this.setState({isTimedIn:!1,timer:"00:00:00"}),this.handleUserWorkingStatus("Clocked Out")),Object(r.a)(!1),[2]}})})},t.prototype.setTimerInterval=function(e,t){var n=this;i=setInterval(function(){var e=(new Date).getTime()-t,a=n.formatTime(e.toString());n.setState({timer:a})},1e3)},t.prototype.clockTimeInHandler=function(e){return S(this,void 0,void 0,function(){var t,n,a;return C(this,function(s){switch(s.label){case 0:return Object(r.a)(!0),(t=Object()).contactOntology=e.authenticatedUser.contact,t.contactName=e.authenticatedUser.name,[4,Object(h.t)(t)];case 1:return s.sent(),[4,Object(h.d)("",e.authenticatedUser.contact)];case 2:return n=s.sent(),a=new Date(n[n.length-1].clockIn).getTime(),this.setTimerInterval(e,a),this.setState({isTimedIn:!0,lastClockIn:n[n.length-1]}),this.handleUserWorkingStatus("Clocked In"),clearInterval(i),Object(N.e)(),Object(r.a)(!1),[2]}})})},t.prototype.clockTimeOutHandler=function(e){return S(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return Object(r.a)(!0),[4,Object(h.t)(this.state.lastClockIn)];case 1:return e.sent(),this.setState({isTimedIn:!1,timer:"00:00:00"}),this.handleUserWorkingStatus("Clocked Out"),Object(N.e)(),clearInterval(i),Object(r.a)(!1),[2]}})})},t.prototype.handleUserWorkingStatus=function(e){return S(this,void 0,void 0,function(){var t;return C(this,function(n){return(t=JSON.parse(T.a.getItem("user"))).workingStatus=e,T.a.setItem("user",JSON.stringify(t)),[2]})})},t.prototype._fetchPeople=function(){return S(this,void 0,void 0,function(){var e;return C(this,function(t){switch(t.label){case 0:return[4,Object(h.n)()];case 1:return e=t.sent(),this.setState({people:e}),[2]}})})},t.prototype._fetchDependencies=function(){return S(this,void 0,void 0,function(){var e,t;return C(this,function(n){switch(n.label){case 0:return[4,Object(E.a)(this.props.buildingName)];case 1:return e=n.sent(),t=[],e.length&&e.forEach(function(e){var n=Object();n.ontology=Object(u.g)(e.ontology),n.dependent=Object(u.g)(e.dependent),n.dependentTaskName=Object(u.g)(e.dependentTaskName),n.taskCondition=Object(u.g)(e.taskCondition),n.conditionalTasks=Object(u.g)(e.conditionalTasks).split(","),t.push(n)}),this.setState({dependencies:t}),[2]}})})},t.prototype._fetchTasks=function(){return S(this,void 0,void 0,function(){var e,t,n,i;return C(this,function(s){switch(s.label){case 0:return e=[],Object(r.a)(!0),[4,Object(l.i)("","",this.props.isArchived)];case 1:if((t=s.sent())&&t.length>0)for(n=0;n<t.length;n++)i=t[n],Object(u.g)(i.task)&&Object(u.g)(i.description)&&Object(O.u)(Object(u.g)(i.task),Object(u.g)(i.description));return Object(r.a)(!1),e=a.props.equipmentName?t.filter(function(e){return Object(u.g)(e.equipSubject)==a.props.equipmentName||Object(u.g)(e.spaceSubject)==a.props.equipmentName}):t,[4,this.manageTasksLists(e&&e)];case 2:return s.sent(),[2]}})})},t.prototype.manageTasksLists=function(e){return S(this,void 0,void 0,function(){var t,n,a,i,s,c,o,r,l;return C(this,function(d){return t=[],"1"==(n=JSON.parse(T.a.getItem("user"))).role||"2"==n.role?(e||(e=[]),t=e):(e||(e=[]),t=e&&e.length>0&&e.filter(function(e){return(-1!=Object(u.g)(e.assignedTo).split(", ").findIndex(function(e){return e==n.contact})||Object(u.g)(e.enteredBy)==n.contact)&&"true"!=Object(u.g)(e.isSequence)})),e||(e=[]),a=e&&e.length>0&&e.filter(function(e){return-1!=Object(u.g)(e.assignedTo).split(", ").findIndex(function(e){return e==n.contact})}),i=t&&t.length>0&&t.filter(function(e){return e.hasOwnProperty("startTime")&&"Pending"!=Object(u.g)(e.status)&&"Completed"!=e.status.value}),s=t&&t.length>0&&t.filter(function(e){return e.hasOwnProperty("startTime")&&"Completed"==Object(u.g)(e.status)}),c=t&&t.length>0&&t.filter(function(e){return e.hasOwnProperty("startTime")&&"true"==Object(u.g)(e.isRecurring)}),o=t&&t.length>0&&t.filter(function(e){return(e.hasOwnProperty("startTime")||""!=Object(u.g)(e.conditionalTasks))&&"Pending"==Object(u.g)(e.status)}).sort(function(e,t){return Math.abs(new Date(Object(u.g)(e.startTime)))-Math.abs(new Date(Object(u.g)(t.startTime)))}),r=t&&t.length>0&&t.filter(function(e){return!e.hasOwnProperty("startTime")&&"true"==Object(u.g)(e.acknowledged)&&(!Object(u.g)(e.conditionalTasks)||""==Object(u.g)(e.conditionalTasks))}).sort(function(e,t){return parseInt(Object(u.g)(e.criticality))-parseInt(Object(u.g)(t.criticality))}),i.length>0&&i[0].description||(i=[]),o.length>0&&o[0].description||(o=[]),r.length>0&&r[0].description||(r=[]),i&&0==i.length&&r&&r.length>0&&(l=r.splice(0,1)[0])&&(l.startTime={type:"",value:(new Date).toString()},l.status={type:"",value:"Assigned"},i.push(l)),this.setState({_tasks:e,managerTasks:a,completeTasks:s,doNowTasks:i,doIfTasks:o,doNextTasks:r,recurredTasks:c}),[2]})})},t.prototype.updateWorkingStatus=function(){if("Working"==JSON.parse(T.a.getItem("user")).workingStatus){var e=this.getWorkingStatus();this.setWorkingStatus(e)}},t.prototype.getWorkingStatus=function(){var e=this.state._tasks,t="Doing Nothing",n=JSON.parse(T.a.getItem("user")),a=[],i=(a=n.group.split(",").find(function(e){return"Admin"==e||"Manager"==e})?e:e.length>0&&e.filter(function(e){return-1!=Object(u.g)(e.assignedTo).split(", ").findIndex(function(e){return e==n.contact})||Object(u.g)(e.enteredBy)==n.contact})).length>0&&a.filter(function(e){return e.hasOwnProperty("startTime")&&"Pending"!=e.status.value&&"Completed"!=Object(u.g)(e.status)&&"true"==Object(u.g)(e.acknowledged)}),s=a.length>0&&a.filter(function(e){return"Completed"!=Object(u.g)(e.status)}),c=i.length>0&&i.filter(function(e){return"Started"==Object(u.g)(e.status)}),o=i.length>0&&i.filter(function(e){return"Paused"==Object(u.g)(e.status)});if(s&&s.length<1)t="Doing Nothing";else if(c.length>0)t="ONIT";else if(o.length>0){var r=o[0];t=1==Object(u.g)(r.pauseNote).includes("lunch")?"Lunch":1==Object(u.g)(r.pauseNote).includes("break")?"Break":"Other"}return t},t.prototype.setWorkingStatus=function(e){return S(this,void 0,void 0,function(){var t;return C(this,function(n){switch(n.label){case 0:return t=JSON.parse(T.a.getItem("user")),[4,Object(h.u)(t.contact,e)];case 1:return n.sent(),[2]}})})},t.prototype.handleScreenSaver=function(e){Object(O.t)(!1),this.setState({showScreenSaver:e,videofile:"assets/img/screensaver.mp4"})},t.prototype.handleVideofile=function(e){var t=URL.createObjectURL(e.target.files[0]);this.setState({videofile:t},function(){document.getElementById("videoLinkDailogebtn").click()})},t.prototype.setCollapseIcon=function(e){var t=e.target.className;e.target.className="fa fa-plus"==t?"fa fa-minus":"fa fa-plus"},t.prototype.setCollapseIcondoDonebtn=function(){this.setState({donebtn:!this.state.donebtn})},t.prototype.setCollapseIcondoNowbtn=function(){this.setState({doNowbtn:!this.state.doNowbtn})},t.prototype.setCollapseIcondoIfbtn=function(){this.setState({doIfbtn:!this.state.doIfbtn})},t.prototype.setCollapseIcondoNextbtn=function(){this.setState({doNextbtn:!this.state.doNextbtn})},t.prototype.showStartedTaskHandler=function(){this.setState({showStartedTask:!this.state.showStartedTask})},t.prototype.onDeleteTask=function(e){return S(this,void 0,void 0,function(){return C(this,function(t){return this.setState({taskToDelete:e}),document.getElementById("btnConfirm").click(),[2]})})},t.prototype.deleteTask=function(){return S(this,void 0,void 0,function(){var e,t,n;return C(this,function(a){switch(a.label){case 0:if(e=this.state.taskToDelete,Object(r.a)(!0),!e||""==Object(u.g)(e.subTasks))return[3,4];t=[],t=Object(u.g)(e.subTasks).split(", "),n=0,a.label=1;case 1:return n<t.length?[4,Object(l.s)(t[n],!0).then(function(e){}).catch(function(e){return e})]:[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return""==Object(u.g)(e.checklistID)?[3,6]:[4,Object(g.b)(Object(u.g)(e.checklistID),this.props.buildingName).then(function(e){}).catch(function(e){return e})];case 5:a.sent(),a.label=6;case 6:return[4,Object(l.s)(Object(u.g)(e.task),!0)];case 7:return a.sent(),[4,this._fetchTasks()];case 8:return a.sent(),setTimeout(function(){Object(N.c)()},2e3),Object(r.a)(!1),[2]}})})},t.prototype.updateCrewPerformance=function(e){return S(this,void 0,void 0,function(){return C(this,function(t){return Object(y.c)(e).then(function(e){}).catch(function(e){return e}),[2]})})},t.prototype.handleStopWork=function(e){return S(this,void 0,void 0,function(){var t,n;return C(this,function(a){switch(a.label){case 0:return[4,this.updateRecentPerformance()];case 1:return a.sent(),t=JSON.parse(T.a.getItem("user")),n={contact:t.contact,contactName:t.name,status:"Off",taskOntology:"",taskDescription:"",startDate:new Date,endDate:new Date,building:this.props.buildingName,entryTimestamp:new Date,floorOntology:"",floorDescription:"",assetOntology:"",assetDescription:"",spaceOntology:"",spaceDescription:"",workOrder:"wo-55555",stageOntologyReference:""},[4,this.updateCrewPerformance(n)];case 2:return a.sent(),t.workingStatus="Not Working",T.a.setItem("user",JSON.stringify(t)),[4,Object(h.u)(t.contact,"Not Working").then(function(){e.logout()})];case 3:return a.sent(),[2]}})})},t.prototype.updateRecentPerformance=function(){return S(this,void 0,void 0,function(){var e,t,n=this;return C(this,function(a){switch(a.label){case 0:return e=this.props.buildingName,t=JSON.parse(T.a.getItem("user")),[4,Object(y.b)(e,t.contact).then(function(e){if(null!=e&&""!=e._id){var t={_id:e._id,contact:e.contact,contactName:e.contactName,status:e.status,taskOntology:e.taskOntology,taskDescription:e.taskDescription,startDate:e.startDate,endDate:new Date,building:e.building,entryTimestamp:e.entryTimestamp,floorOntology:e.floorOntology,floorDescription:e.floorDescription,assetOntology:e.assetOntology,assetDescription:e.assetDescription,spaceOntology:e.spaceOntology,spaceDescription:e.spaceDescriptionres,workOrder:e.workOrder,stageOntologyReference:e.stageOntologyReference};n.updateCrewPerformance(t)}})];case 1:return a.sent(),[2]}})})},t.prototype.search_filter=function(e){return S(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return[4,this.setState({Search:e.target.value})];case 1:return t.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.managerTasks,a=t.completeTasks,r=t.doNowTasks,l=t.doIfTasks,m=t.doNextTasks,h=t.showScreenSaver,g=t.videofile,O=t._tasks,y=t.showHideHeader,N=t.showStartedTask,E=t.Search,j=t.people,D=t.dependencies,I=this.props,x=I.instance,_=I.buildingName,A=I.isArchived,L=JSON.parse(T.a.getItem("user")),B=Object(d.b)(L,"task-ticket","write"),P="2"==L.role,R="1"==L.role||"2"==L.role;h?document.getElementById("halfsidebar")&&document.getElementById("halfsidebar").style&&(document.getElementById("halfsidebar").style.overflow="hidden"):document.getElementById("halfsidebar")&&document.getElementById("halfsidebar").style&&(document.getElementById("halfsidebar").style.display="block");var M=r&&r.filter(function(e){return e.description.value.toLowerCase().includes(E.toLowerCase().trim())||e.buildingName.value.toLowerCase().includes(E.toLowerCase().trim())||e.assignedToName.value.toLowerCase().includes(E.toLowerCase().trim())||e.equipRdfsLabel.value.toLowerCase().includes(E.toLowerCase().trim())}),W=l&&l.filter(function(e){return e.description.value.toLowerCase().includes(E.toLowerCase().trim())||e.buildingName.value.toLowerCase().includes(E.toLowerCase().trim())||e.assignedToName.value.toLowerCase().includes(E.toLowerCase().trim())||e.equipRdfsLabel.value.toLowerCase().includes(E.toLowerCase().trim())}),U=m&&m.filter(function(e){return e.description.value.toLowerCase().includes(E.toLowerCase().trim())||e.buildingName.value.toLowerCase().includes(E.toLowerCase().trim())||e.assignedToName.value.toLowerCase().includes(E.toLowerCase().trim())||e.equipRdfsLabel.value.toLowerCase().includes(E.toLowerCase().trim())}),q=a&&a.filter(function(e){return e.description.value.toLowerCase().includes(E.toLowerCase().trim())||e.buildingName.value.toLowerCase().includes(E.toLowerCase().trim())||e.assignedToName.value.toLowerCase().includes(E.toLowerCase().trim())||e.equipRdfsLabel.value.toLowerCase().includes(E.toLowerCase().trim())});return s.createElement(c.a.Consumer,null,function(t){return s.createElement("div",null,s.createElement("div",{className:"content",id:""},s.createElement("div",{className:"container-fluid"},!A&&s.createElement("div",{className:"row padding-10 "},s.createElement("a",{className:"btn-sm btn-success pull-left custom-icon-btn",title:"Archived Tasks",style:{marginTop:"0px"},onClick:function(e){window.location.hash=x+"/"+_+"/ArchivedTasks"}},s.createElement("img",{className:"icon-img",style:{backgroundColor:"#B3A2C7"},src:"assets/img/archive.png"})),B&&R&&s.createElement(s.Fragment,null,s.createElement("button",{disabled:!e.state.isTimedIn,style:{opacity:e.state.isTimedIn?1:.5},type:"button",className:"btn-sm btn btn-warning active pull-right margin-left-right-5",onClick:function(){e.handleScreenSaver(!0)}},s.createElement("i",{className:"fa fa-desktop"}),s.createElement("span",null)),s.createElement("button",{disabled:!e.state.isTimedIn,style:{opacity:e.state.isTimedIn?1:.5},type:"button",className:"btn-sm btn btn-dark active pull-right margin-left-right-5",onClick:function(){window.location.hash=x+"/"+_+"/NewTask"}},s.createElement("i",{className:"fa fa-plus"}),s.createElement("span",null,"Task")),s.createElement("button",{disabled:!e.state.isTimedIn,style:{opacity:e.state.isTimedIn?1:.5},type:"button",className:"btn-sm btn btn-success active pull-right margin-left-right-5","data-toggle":"modal","data-target":"#RecurTaskListDailogeBox"},s.createElement("span",{className:"glyphicon glyphicon-time"}),"\xa0\xa0",s.createElement("span",null,"REC Task List")),s.createElement("button",{disabled:!e.state.isTimedIn,style:{opacity:e.state.isTimedIn?1:.5},type:"button",className:"btn-sm btn btn-primary btn-fill pull-right margin-left-right-5",onClick:function(){window.location.hash=x+"/"+_+"/Checklist"}},s.createElement("img",{className:"icn-checklist",src:"assets/img/Checklist1.png"}),"\xa0 \xa0 Checklist Templates List")),s.createElement("button",{type:"button",className:e.state.isTimedIn?"btn-sm btn btn-danger btn-fill pull-right margin-left-right-5":"btn-sm btn btn-success btn-fill pull-right margin-left-right-5",onClick:function(){e.state.isTimedIn?document.getElementById("confirmation").click():e.clockTimeInHandler(t)}},s.createElement("span",{className:"glyphicon glyphicon-time"}),"\xa0\xa0",s.createElement("span",null,e.state.isTimedIn?"Clock Out":"Clock In")),s.createElement("button",{id:"confirmation",style:{display:"none"},"data-target":"#modalconfirmation","data-toggle":"modal"}),s.createElement(f.a,{id:"modalconfirmation",heading:"Confirmation",showSaveButton:!0,saveButtonText:"Yes",disableSaveButton:!1,isFullWidth:!1,onCancelButtonClickActive:!0,onCancelButtonClick:function(){},onSaveButtonClick:function(){return S(e,void 0,void 0,function(){return C(this,function(e){return this.clockTimeOutHandler(t),[2]})})},showCancelButton:!0,cancelButtonText:"No",cancelButtonId:"btnCloseChecklistDialog"},s.createElement("h3",null,"Are you sure you want to Clock Out?")),s.createElement("div",{style:{marginTop:"5px"},className:"pull-right margin-left-right-5 "},s.createElement("span",{className:"text-center"},s.createElement("b",null,e.state.timer))),s.createElement("div",{className:"pull-right margin-left-right-5 "},s.createElement("label",{htmlFor:"Search Filter",style:{lineHeight:"30px"}},"Filter : \xa0 "),s.createElement("input",{disabled:!e.state.isTimedIn,style:{opacity:e.state.isTimedIn?1:.5,width:"200px",height:"34px",outline:"green"},className:"form-control pull-right margin-left-right-5",onChange:function(t){e.search_filter(t)},id:"myInput",type:"text",placeholder:"Search.."})),s.createElement(w.b,{to:"javascript:void(0)",className:"btn-sm btn btn-primary mr-1",onClick:function(e){e.preventDefault(),window.location.origin.indexOf("/localhost")>-1?window.open("http://localhost:3004/#"+x+"/"+_+"/Template/WorkflowTemplateList/","_blank"):window.open("https://projects.onitnetwork.com/#"+x+"/"+_+"/Template/WorkflowTemplateList/","_blank")}},"Template"),s.createElement(w.b,{to:"javascript:void(0)",className:"btn-sm btn btn-primary",onClick:function(e){e.preventDefault(),window.location.origin.indexOf("/localhost")>-1?window.open("http://localhost:3004/#"+x+"/"+_+"/Deploy/WorkflowList/","_blank"):window.open("https://projects.onitnetwork.com/#"+x+"/"+_+"/Deploy/WorkflowList/","_blank")}},"Deployed")),A&&s.createElement("div",{className:"row padding-10 "},s.createElement("button",{type:"button",className:"btn btn-secondary btn-fill pull-left",onClick:function(){window.location.hash=x+"/"+_+"/Tasks"}},s.createElement("i",{className:"fa fa-angle-double-left"})," Back to Tasks")),h&&s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},s.createElement(v.default,{videoLink:g,instance:x,buildingName:_})),s.createElement("div",{className:"col-md-12 text-center"},s.createElement("div",{style:{marginTop:"5px",zIndex:999999999,position:"inherit"}},s.createElement("span",{style:{fontSize:"xx-large"},className:"text-center"},s.createElement("b",null,e.state.timer))),s.createElement("button",{type:"button",className:e.state.isTimedIn?"btn-sm btn btn-danger btn-fill pull-right margin-left-right-5":"btn-sm btn btn-success btn-fill pull-right margin-left-right-5",style:{zIndex:999999999,position:"fixed",top:"15px",left:"60px"},onClick:function(){e.state.isTimedIn?document.getElementById("confirmation").click():e.clockTimeInHandler(t)}},s.createElement("span",{className:"glyphicon glyphicon-time"}),"\xa0\xa0",s.createElement("span",null,e.state.isTimedIn?"Clock Out":"Clock In")),s.createElement("button",{className:"btn btn-warning active selectVideobtn",onClick:function(){document.getElementById("videoLinkDailogebtn").click()}},s.createElement("u",null,"Select a video")),s.createElement("button",{className:"btn btn-warning active closeVideobtn",onClick:function(){e.handleScreenSaver(!1)}},"X")),s.createElement("div",{className:"col-md-12"},s.createElement("a",{className:"btn active menuVideobtn","data-toggle":"collapse",href:"#menuDropdown"}," \u22ee\u22ee\u22ee "),s.createElement("div",{id:"menuDropdown",className:"menuDropdowVideo panel-collapse collapse"},s.createElement("div",{className:"content"},s.createElement("div",{className:"container-fluid"},s.createElement(k.a,{instance:x,buildingName:_,onChangeWorkflow:function(){},isCallfromScreenPage:!0,IsProducionEnv:!1,user:L,repos:Object()}))))),s.createElement("div",{className:"card doNow"},s.createElement("div",{className:"container-fluid"},s.createElement("div",{className:"row"},N&&s.createElement("div",{className:"col-md-12 hidden-xs"},s.createElement("div",{className:"card startedDonowTaskforScreenSaver",onMouseEnter:function(){e.setState({showHideHeader:!1})},onMouseLeave:function(){e.setState({showHideHeader:!0})}},s.createElement(p.a,{isTimedIn:e.state.isTimedIn,isScreenSaverCall:y,_fetchTasks:e._fetchTasks,buildingName:_,instance:x,onDeleteTask:e.onDeleteTask,allTask:O,tasks:r&&r.filter(function(e){return"Started"==Object(u.g)(e.status)}),updateWorkingStatus:e.updateWorkingStatus,people:j,dependencies:D,listType:"DoingNow"}))),s.createElement("div",{className:"col-md-12"},s.createElement("div",{className:"panel panel-default row"},s.createElement("div",{className:"panel-heading"},s.createElement("a",{style:{color:"black"},"data-toggle":"collapse",id:"btn-collapsedoingNow",href:"#collapsedoingNow",onClick:function(){e.showStartedTaskHandler()}},s.createElement("h4",{className:"panel-title",onClick:function(){e.setCollapseIcondoNowbtn()}},s.createElement("i",{className:e.state.doNowbtn?"fa fa-minus":"fa fa-plus"}),s.createElement("label",null,"Doing Now")))),s.createElement("div",{id:"collapsedoingNow",className:"padding-10 panel-collapse collapse"},s.createElement("div",{className:"padding-10"},s.createElement(p.a,{isTimedIn:e.state.isTimedIn,_fetchTasks:e._fetchTasks,buildingName:_,instance:x,onDeleteTask:e.onDeleteTask,people:j,dependencies:D,allTask:O,tasks:""!=E?M:r,updateWorkingStatus:e.updateWorkingStatus,listType:"DoingNow"}))),s.createElement("button",{id:"btnConfirm",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmDeleteDialog"},"."),s.createElement(o.a,{instance:x,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this Task?",heading:"Confirm...",onConfirmButtonClick:function(){e.deleteTask()}}))))))),!h&&s.createElement("div",{className:"panel panel-default row"},s.createElement("div",{className:"panel-heading "},s.createElement("a",{style:{color:"black"},"data-toggle":"collapse",id:"btn-collapsedoingNow",href:"#collapsedoingNow"},s.createElement("h4",{className:"panel-title",onClick:function(){e.setCollapseIcondoNowbtn()}},s.createElement("i",{className:e.state.doNowbtn?"fa fa-minus":"fa fa-plus"}),s.createElement("label",null,"Doing Now")))),s.createElement("div",{id:"collapsedoingNow",className:"padding-10 panel-collapse collapse"},s.createElement("div",{className:"padding-10"},s.createElement(p.a,{isTimedIn:e.state.isTimedIn,_fetchTasks:e._fetchTasks,buildingName:_,instance:x,onDeleteTask:e.onDeleteTask,people:j,dependencies:D,allTask:O,tasks:""!=E?M:r,updateWorkingStatus:e.updateWorkingStatus,listType:"DoingNow"}))),s.createElement("button",{id:"btnConfirm",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmDeleteDialog"},"."),s.createElement(o.a,{instance:x,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this Task?",heading:"Confirm...",onConfirmButtonClick:function(){e.deleteTask()}})),s.createElement("div",{className:"panel panel-default row"},s.createElement("div",{className:"panel-heading"},s.createElement("a",{style:{color:"black"},"data-toggle":"collapse",id:"btn-collapsedoIf",href:"#collapsedoIf"},s.createElement("h4",{className:"panel-title",onClick:function(){e.setCollapseIcondoIfbtn()}},s.createElement("i",{className:e.state.doIfbtn?"fa fa-minus":"fa fa-plus"}),s.createElement("label",null,"Do If  ")))),s.createElement("div",{id:"collapsedoIf",className:"padding-10 panel-collapse collapse "},s.createElement("div",{className:"padding-10"},s.createElement(p.a,{isTimedIn:e.state.isTimedIn,_fetchTasks:e._fetchTasks,buildingName:_,instance:x,onDeleteTask:e.onDeleteTask,people:j,dependencies:D,allTask:O,tasks:""!=E?W:l,updateWorkingStatus:e.updateWorkingStatus,listType:"DoIf"})))),s.createElement("div",{className:"panel panel-default row"},s.createElement("div",{className:"panel-heading"},s.createElement("a",{style:{color:"black"},"data-toggle":"collapse",id:"btn-collapsedoNext",href:"#collapsedoNext"},s.createElement("h4",{className:"panel-title",onClick:function(t){e.setCollapseIcondoNextbtn()}},s.createElement("i",{className:e.state.doNextbtn?"fa fa-minus":"fa fa-plus"}),s.createElement("label",null,"Do Next ")))),s.createElement("div",{id:"collapsedoNext",className:"padding-10 panel-collapse collapse"},s.createElement("div",{className:"padding-10"},s.createElement(p.a,{isTimedIn:e.state.isTimedIn,_fetchTasks:e._fetchTasks,buildingName:_,instance:x,onDeleteTask:e.onDeleteTask,people:j,dependencies:D,allTask:O,tasks:""!=E?U:m,updateWorkingStatus:e.updateWorkingStatus,listType:"DoNext"})))),P&&s.createElement("div",{className:"panel panel-default row"},s.createElement("div",{className:"panel-heading"},s.createElement("h4",{className:"panel-title"},s.createElement("a",{"data-toggle":"collapse",id:"btn-collapsemytask",href:"#collapsemyTask"},s.createElement("i",{className:"fa fa-plus",onClick:function(t){e.setCollapseIcon(t)}})),s.createElement("label",null,"My Task "))),s.createElement("div",{id:"collapsemyTask",className:"padding-10 panel-collapse collapse"},s.createElement("div",{className:"padding-10"},s.createElement(p.a,{isTimedIn:e.state.isTimedIn,_fetchTasks:e._fetchTasks,buildingName:_,instance:x,onDeleteTask:e.onDeleteTask,people:j,dependencies:D,allTask:O,tasks:n,updateWorkingStatus:e.updateWorkingStatus,listType:"MyTask"})))),s.createElement("div",{className:"panel panel-default row"},s.createElement("div",{className:"panel-heading"},s.createElement("a",{"data-toggle":"collapse",id:"btn-collapsedone",href:"#collapsedone",style:{color:"black"}},s.createElement("h4",{className:"panel-title",onClick:function(){e.setCollapseIcondoDonebtn()}},s.createElement("i",{className:e.state.donebtn?"fa fa-minus":"fa fa-plus",onClick:function(t){e.setCollapseIcon(t)}}),s.createElement("label",null,"Done ")))),s.createElement("div",{id:"collapsedone",className:"padding-10 panel-collapse collapse"},s.createElement("div",{className:"padding-10"},s.createElement(p.a,{isTimedIn:e.state.isTimedIn,_fetchTasks:e._fetchTasks,buildingName:_,instance:x,onDeleteTask:e.onDeleteTask,people:j,dependencies:D,allTask:O,tasks:""!=E?q:a,updateWorkingStatus:e.updateWorkingStatus,listType:"Done"})))),s.createElement("button",{type:"button","data-toggle":"modal","data-target":"#RecurTaskListDailogeBox",className:"hidden"},"."),s.createElement(f.a,{id:"RecurTaskListDailogeBox",heading:"Recur Tasks List",saveButtonText:"Done",isEditForm:!0,onSaveButtonClick:function(){},disableSaveButton:!1},s.createElement(b.a,{buildingName:_,instance:x,recurredTasks:e.state.recurredTasks})),s.createElement("button",{id:"videoLinkDailogebtn",type:"button","data-toggle":"modal","data-target":"#videoLinkDailoge",className:"hidden"},"."),s.createElement(f.a,{id:"videoLinkDailoge",heading:"Choose Video file",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1},s.createElement("input",{type:"file",onChange:function(t){e.handleVideofile(t)}})))),s.createElement("button",{type:"button",id:"btnRefreshTasks",className:"hidden",onClick:function(){return e._fetchTasks()}},"."),s.createElement("button",{type:"button",id:"handleClockInOut",className:"hidden",onClick:function(){return e.handlingTimeInOut()}},"."),s.createElement("button",{type:"button",id:"clearInterval",className:"hidden",onClick:function(){return clearInterval(i)}},"."))})},t.contextType=c.a,t}(s.Component);t.default=D},1510:function(e,t,n){var a=n(1511);"string"===typeof a&&(a=[[e.i,a,""]]);var i={hmr:!1,transform:void 0};n(566)(a,i);a.locals&&(e.exports=a.locals)},1511:function(e,t,n){(e.exports=n(565)(!1)).push([e.i,".splitter-layout{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%;height:100%;overflow:hidden}.splitter-layout .layout-pane{position:relative;-ms-flex:0 0 auto;flex:0 0 auto;overflow:auto}.splitter-layout .layout-pane.layout-pane-primary{-ms-flex:1 1 auto;flex:1 1 auto}.splitter-layout>.layout-splitter{-ms-flex:0 0 auto;flex:0 0 auto;width:4px;height:100%;cursor:col-resize;background-color:#ccc}.splitter-layout .layout-splitter:hover{background-color:#bbb}.splitter-layout.layout-changing{cursor:col-resize}.splitter-layout.layout-changing>.layout-splitter{background-color:#aaa}.splitter-layout.splitter-layout-vertical{-ms-flex-direction:column;flex-direction:column}.splitter-layout.splitter-layout-vertical.layout-changing{cursor:row-resize}.splitter-layout.splitter-layout-vertical>.layout-splitter{width:100%;height:4px;cursor:row-resize}",""])},1512:function(e,t,n){"use strict";var a=n(3),i=(n.n(a),n(17)),s=n(89),c=n(585),o=n(87),r=n(628),l=n(568),u=n(578),d=n(695),m=n(573),p=n(18),h=n(1012),f=n(745),b=n(1513),g=n(14),v=n(93),k=n(658),T=n(877),O=n.n(T),y=n(92),N=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),E=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,s){function c(e){try{r(a.next(e))}catch(e){s(e)}}function o(e){try{r(a.throw(e))}catch(e){s(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,o)}r((a=a.apply(e,t||[])).next())})},w=this&&this.__generator||function(e,t){var n,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,a=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){c.label=s[1];break}if(6===s[0]&&c.label<i[1]){c.label=i[1],i=s;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(s);break}i[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],a=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},j=new d.a,S=function(e){function t(t){var n=e.call(this,t)||this;return n.state={taskID:"",_tasks:n.props.tasks,sortOrder:1,pauseNote:"",why:"",note:"",showStopWorkConfirmation:!1,selectedChecklistTask:"",checklist:[],selectedChecklist:Object(),checklistBoard:Object(),isQrCameraMode:!1,qrValdiationTask:Object()},n.setRowColor=n.setRowColor.bind(n),n.sortTasks=n.sortTasks.bind(n),n.updateTaskStatus=n.updateTaskStatus.bind(n),n.archiveTask=n.archiveTask.bind(n),n.handleNotesChange=n.handleNotesChange.bind(n),n.saveNote=n.saveNote.bind(n),n.filterAssignee=n.filterAssignee.bind(n),n.handleFileAttachment=n.handleFileAttachment.bind(n),n.getNextTask=n.getNextTask.bind(n),n.sendSms=n.sendSms.bind(n),n.sendMail=n.sendMail.bind(n),n.toggleStopWorkButton=n.toggleStopWorkButton.bind(n),n.handleStopWork=n.handleStopWork.bind(n),n.handleChecklistSelection=n.handleChecklistSelection.bind(n),n.handleChecklistAssignment=n.handleChecklistAssignment.bind(n),n.getChecklistBoard=n.getChecklistBoard.bind(n),n._deleteChecklist=n._deleteChecklist.bind(n),n._unassignChecklist=n._unassignChecklist.bind(n),n.updateChecklist=n.updateChecklist.bind(n),n.handleChecklistBoard=n.handleChecklistBoard.bind(n),n.updateCrewPerformance=n.updateCrewPerformance.bind(n),n.updateRecentPerformance=n.updateRecentPerformance.bind(n),n.handleScan=n.handleScan.bind(n),n.checkDependency=n.checkDependency.bind(n),n.getWorkflowTypePrefix=n.getWorkflowTypePrefix.bind(n),n.triggerDoIfTasks=n.triggerDoIfTasks.bind(n),n}return N(t,e),t.prototype.setRowColor=function(e){var t=Object(i.g)(e.status),n=Object(i.g)(e.criticality);return"Pending"==t?"pending-row-"+n:"Started"==t?"status-row-start":"Paused"==t?"status-row-pause":"Completed"==t?"status-row-complete":"Cancelled"==t?"status-row-cancel":""},t.prototype.triggerDoIfTasks=function(){return E(this,void 0,void 0,function(){return w(this,function(e){switch(e.label){case 0:return[4,Object(r.p)(this.props.buildingName)];case 1:return e.sent(),this.props._fetchTasks(),[2]}})})},t.prototype.handleChecklistSelection=function(e){this.setState({selectedChecklist:e})},t.prototype.updateTaskStatus=function(e,t){return E(this,void 0,void 0,function(){var n,a,s,c,l,u,d,m,p,h=this;return w(this,function(f){switch(f.label){case 0:return"Started"==t?(n=document.getElementById("myVideo")&&document.getElementById("myVideo"))&&n.pause():(n=document.getElementById("myVideo")&&document.getElementById("myVideo"))&&n.play(),Object(o.a)(!0),a=!1,!1,s=[],c=this.state._tasks,l=c&&c.find(function(t){return Object(i.g)(t.task)==e}),"Completed"!=t?[3,2]:[4,this.getChecklistBoard(Object(i.g)(l&&l.checklistID))];case 1:f.sent(),(u=this.state.checklistBoard)&&u.activities&&u.activities.length>0&&(a=u.activities.filter(function(e){return"Pending"==e.status}).length>0),f.label=2;case 2:return 0!=a?[3,8]:[4,Object(r.u)(e,t).then(function(){return E(h,void 0,void 0,function(){return w(this,function(e){return[2]})})}).catch(function(e){return e})];case 3:return f.sent(),[4,Object(r.i)("","",!1)];case 4:if(d=f.sent(),l=Object(),!((l=d&&d.find(function(t){return Object(i.g)(t.task)==e}))&&Object(i.g)(l.parentTask).length>0))return[3,7];for(m=0;m<d.length;m++)d[m].parentTask&&Object(i.g)(d[m].parentTask)==Object(i.g)(l.parentTask)&&s&&s.push(d[m]);return s&&s.length>0?1!=(s.length==s.filter(function(e){return"Completed"==Object(i.g)(e&&e.status)}).length)?[3,6]:[4,Object(r.u)(Object(i.g)(l.parentTask),"Completed").then(function(){return E(h,void 0,void 0,function(){return w(this,function(e){return[2]})})}).catch(function(e){return e})]:[3,6];case 5:f.sent(),p=d.find(function(e){return Object(i.g)(e.task)==Object(i.g)(l.parentTask)}),"Contract"==Object(i.g)(p.workflowType)&&this.sendStageCompletionMail(p),f.label=6;case 6:return[3,7];case 7:return this.props._fetchTasks(),setTimeout(function(){return E(h,void 0,void 0,function(){return w(this,function(e){switch(e.label){case 0:return[4,this.props.updateWorkingStatus()];case 1:return e.sent(),[2]}})})},3e3),Object(o.a)(!1),[3,9];case 8:document.getElementById("statusDailogebtn").click(),f.label=9;case 9:return[2]}})})},t.prototype.checkDependency=function(e,t){return E(this,void 0,void 0,function(){return w(this,function(e){return[2]})})},t.prototype.sendStageCompletionMail=function(e){return E(this,void 0,void 0,function(){var t,n,a,s;return w(this,function(c){return t=this.props.people,n=Object(i.g)(e.description)+" (Stage) has been completed.",(a=t.find(function(t){return Object(i.g)(t.contact)==Object(i.g)(e.enteredBy)}))&&Object(i.g)(a.email).length>0&&"Not Working"!=Object(i.g)(a.status)&&((s=Object()).subject="Notification Stage Completed",s.to=Object(i.g)(a.email),s.text=n,Object(v.a)(s)),[2]})})},t.prototype.archiveTask=function(e,t){return E(this,void 0,void 0,function(){var n=this;return w(this,function(a){switch(a.label){case 0:return Object(o.a)(!0),[4,Object(r.d)(e,t).then(function(){n.props._fetchTasks()}).catch(function(e){return e})];case 1:return a.sent(),Object(o.a)(!1),[2]}})})},t.prototype.componentDidMount=function(){return E(this,void 0,void 0,function(){return w(this,function(e){return this.props.tasks&&this.setState({_tasks:this.props.tasks}),[2]})})},t.prototype.componentWillReceiveProps=function(e){e.tasks!==this.state._tasks&&this.setState({_tasks:e.tasks})},t.prototype.sortTasks=function(e,t){var n=this.state._tasks,a=this.state.sortOrder,i=n.sort(function(n,i){if(n&&i){var s="",c="";switch(e){case"Criticality":n.criticality&&i.criticality&&(s=n.criticality.value,c=i.criticality.value,a=t||1);break;case"Issue":s=n.description.value,c=i.description.value;break;case"Description":n.description&&i.description&&(s=n.description.value,c=i.description.value);break;case"Start_Time":n.startTime&&i.startTime&&(s=n.startTime.value,c=i.startTime.value);break;case"Acknowledged":n.equipRdfsLabel&&i.equipRdfsLabel&&(s=n.acknowledged.value,c=i.acknowledged.value);break;case"Assigned_By":n.assignedToName&&i.assignedToName&&(s=n.assignedToName.value,c=i.assignedToName.value);break;case"Asset":n.equipRdfsLabel&&i.equipRdfsLabel&&(s=n.equipRdfsLabel.value,c=i.equipRdfsLabel.value);break;case"Building":n.buildingName&&i.buildingName&&(s=n.buildingName.value,c=i.buildingName.value)}var o=0;if("Completed By"==e||"Entry Date"==e){var r=s?parseInt(new Date(s).YYMMDDHHMM()):0,l=c?parseInt(new Date(c).YYMMDDHHMM()):0;r<l&&(o=-1),r>l&&(o=1)}else s.toLocaleLowerCase()<c.toLocaleLowerCase()?o=-1:s.toLocaleLowerCase()>c.toLocaleLowerCase()&&(o=1);return o*a}});this.setState({_tasks:i,sortOrder:-1*a})},t.prototype.toggleStopWorkButton=function(e){this.setState({showStopWorkConfirmation:e})},t.prototype.handleStopWork=function(e){return E(this,void 0,void 0,function(){var t;return w(this,function(n){switch(n.label){case 0:return(t=JSON.parse(g.a.getItem("user"))).workingStatus="Not Working",g.a.setItem("user",JSON.stringify(t)),[4,Object(u.u)(t.contact,"Not Working").then(function(){e.logout()})];case 1:return n.sent(),[2]}})})},t.prototype.handleNotesChange=function(e){this.setState({note:e})},t.prototype.saveNote=function(e){return E(this,void 0,void 0,function(){var t,n=this;return w(this,function(a){switch(a.label){case 0:return t=this.state.note,Object(o.a)(!0),[4,Object(r.b)(e,t).then(function(){n.props._fetchTasks()})];case 1:return a.sent(),Object(o.a)(!1),[2]}})})},t.prototype.filterAssignee=function(e){if("ALL"==e)this.setState({_tasks:this.props.tasks});else{var t=this.props.tasks.filter(function(t){return t.assignedTo.value.includes(e)||t.assignedToName.value.includes(e)});this.setState({_tasks:t})}},t.prototype.getNextTask=function(){return E(this,void 0,void 0,function(){var e,t;return w(this,function(n){switch(n.label){case 0:return Object(o.a)(!0),t=JSON.parse(g.a.getItem("user")),[4,Object(r.i)(this.props.buildingName).then(function(n){var a=(t.group.split(",").find(function(e){return"Admin"==e||"Manager"==e})?n:n.filter(function(e){return-1!=Object(i.g)(e.assignedTo).split(", ").findIndex(function(e){return e==t.contact})||Object(i.g)(e.enteredBy)==t.contact})).filter(function(e){return!e.hasOwnProperty("startTime")}).sort(function(e,t){return parseInt(e.criticality.value)-parseInt(t.criticality.value)});e=a[0]}).catch(function(e){return e})];case 1:return n.sent(),Object(o.a)(!1),[2,e]}})})},t.prototype.sendSms=function(e){return E(this,void 0,void 0,function(){var t,n,a,s;return w(this,function(c){return this.state,t=this.props,n=t.instance,a=t.buildingName,s=t.people,(e.assignedTo.value.indexOf(",")>0?e.assignedTo.value.split(", "):[e.assignedTo.value]).map(function(t){var c=s.find(function(e){return Object(i.g)(e.contact)==t});c&&Object(p.q)(Object(i.g)(c.smsSchedule))&&c&&Object(i.g)(c.phone).length>0&&j.SendSMS(Object(i.g)(c.phone),"Task Description: "+Object(i.g)(e.description)+" ,  Assigned On : "+new Date(Object(i.g)(e.entryTimeStamp).ToEasternDateTime())+", To view the Task: "+window.location.origin+"/#"+n+"/"+a+"/Tasks} , Are you on it?",n,function(e){})}),[2]})})},t.prototype.sendMail=function(e){return E(this,void 0,void 0,function(){var t,n,a,s,c,o,r;return w(this,function(l){return this.state,t=this.props,n=t.instance,a=t.buildingName,s=t.people,c="Task Description: "+Object(i.g)(e.description)+" ,  Assigned On : "+new Date(Object(i.g)(e.entryTimeStamp).ToEasternDateTime())+", To view the Task: "+window.location.origin+"/#"+n+"/"+a+"/Tasks} , Are you on it?",(o=s.find(function(t){return Object(i.g)(t.contact)==Object(i.g)(e.enteredBy)}))&&Object(i.g)(o.email).length>0&&"Not Working"!=Object(i.g)(o.status)&&((r=Object()).subject="Notification Task",r.to=Object(i.g)(o.email),r.text=c,Object(v.a)(r)),[2]})})},t.prototype.handleFileAttachment=function(e){},t.prototype.handleChecklistAssignment=function(){return E(this,void 0,void 0,function(){var e,t,n,a,s,c,o,l,u,d,m,h=this;return w(this,function(b){switch(b.label){case 0:return e=this.state,t=e.selectedChecklist,n=e.selectedChecklistTask,a=this.props.buildingName,(s=Object()).ontology=Object(p.l)(6),s.asset=Object(i.g)(t.asset),c=Object(i.g)(t.templateID),o=""!=Object(i.g)(t.uses)?(parseInt(Object(i.g)(t.uses))+1).toString():"1",s.checklistID=c+"-"+o,s.assetType=Object(i.g)(t.assetType),s.rdfsLabel=Object(i.g)(t.rdfsLabel),s.activities=[],l=Object(i.g)(t.activities).split(","),[4,Object(f.e)(a,l)];case 1:for(u=b.sent(),d=0;d<u.length;d++)(m=Object()).ontology=Object(p.l)(6),m.action=Object(i.g)(u[d].action),m.point=Object(i.g)(u[d].point),m.pointTag=Object(i.g)(u[d].pointTag),m.reading=Object(i.g)(u[d].reading),m.unit=Object(i.g)(u[d].unit),m.notes=Object(i.g)(u[d].notes),m.status="Pending",s.activities.push(m);return[4,Object(f.h)(s,a,!1).then(function(){return E(h,void 0,void 0,function(){return w(this,function(e){switch(e.label){case 0:return[4,Object(f.j)(a,Object(i.g)(t.ontology),o)];case 1:return e.sent(),[4,Object(r.e)(n,s.ontology)];case 2:return e.sent(),[2]}})})})];case 2:return b.sent(),t=Object(),this.setState({selectedChecklist:t},function(){h.props._fetchTasks()}),[2]}})})},t.prototype.getChecklistBoard=function(e){return E(this,void 0,void 0,function(){var t,n=this;return w(this,function(a){switch(a.label){case 0:return t=this.props.buildingName,e&&""!=e?[4,Object(f.f)(t,e).then(function(e){return E(n,void 0,void 0,function(){var n,a,s,c,o,r;return w(this,function(l){switch(l.label){case 0:return n=e[0],(a=Object()).ontology=Object(i.g)(n.ontology),a.checklistID=Object(i.g)(n.checklistID),a.asset=Object(i.g)(n.asset),a.assetLabel=Object(i.g)(n.assetLabel),a.assetType=Object(i.g)(n.assetType),a.rdfsLabel=Object(i.g)(n.rdfsLabel),a.activities=[],s=Object(i.g)(n.activities).split(","),[4,Object(f.d)(t,s)];case 1:for(c=l.sent(),o=0;o<c.length;o++)(r=Object()).ontology=Object(i.g)(c[o].ontology),r.action=Object(i.g)(c[o].action),r.point=Object(i.g)(c[o].point),r.pointLabel=Object(i.g)(c[o].pointLabel),r.pointTag=Object(i.g)(c[o].pointTag),r.reading=Object(i.g)(c[o].reading),r.unit=Object(i.g)(c[o].unit),r.notes=Object(i.g)(c[o].notes),r.status=Object(i.g)(c[o].status),r.upload=Object(i.g)(c[o].upload),r.isVerified="true"==Object(i.g)(c[o].isVerified),r.completedOn=Object(i.g)(c[o].completedOn),a.activities.push(r);return this.setState({checklistBoard:a}),[2]}})})})]:[3,2];case 1:return a.sent(),[3,3];case 2:this.setState({checklistBoard:Object()}),a.label=3;case 3:return[2]}})})},t.prototype._unassignChecklist=function(e){return E(this,void 0,void 0,function(){return w(this,function(t){switch(t.label){case 0:return e?(Object(o.a)(!0),[4,Object(f.a)(e,this.props.buildingName).then(function(e){}).catch(function(e){return e})]):[3,2];case 1:t.sent(),Object(o.a)(!1),t.label=2;case 2:return[2]}})})},t.prototype.handleChecklistBoard=function(e){this.setState({checklistBoard:e})},t.prototype.updateChecklist=function(){return E(this,void 0,void 0,function(){var e,t;return w(this,function(n){switch(n.label){case 0:return e=this.state.checklistBoard,t=this.props.buildingName,Object(o.a)(!0),[4,Object(f.h)(e,t,!0)];case 1:return n.sent(),Object(o.a)(!1),console.log(e),[2]}})})},t.prototype._deleteChecklist=function(e){return E(this,void 0,void 0,function(){return w(this,function(t){switch(t.label){case 0:return e&&e.checklistID?(Object(o.a)(!0),[4,Object(f.b)(Object(i.g)(e.checklistID),this.props.buildingName).then(function(e){}).catch(function(e){return e})]):[3,3];case 1:return t.sent(),[4,this._unassignChecklist(Object(i.g)(e.task)).then(function(e){}).catch(function(e){return e})];case 2:t.sent(),this.props._fetchTasks(),Object(o.a)(!1),t.label=3;case 3:return[2]}})})},t.prototype.updateRecentPerformance=function(){return E(this,void 0,void 0,function(){var e,t,n=this;return w(this,function(a){switch(a.label){case 0:return e=this.props.buildingName,t=JSON.parse(g.a.getItem("user")),[4,Object(k.b)(e,t.contact).then(function(e){if(null!=e&&""!=e._id){var t={_id:e._id,contact:e.contact,contactName:e.contactName,status:e.status,taskOntology:e.taskOntology,taskDescription:e.taskDescription,startDate:e.startDate,endDate:new Date,building:e.building,entryTimestamp:e.entryTimestamp,floorOntology:e.floorOntology,floorDescription:e.floorDescription,assetOntology:e.assetOntology,assetDescription:e.assetDescription,spaceOntology:e.spaceOntology,spaceDescription:e.spaceDescriptionres,workOrder:e.workOrder,stageOntologyReference:e.stageOntologyReference};n.updateCrewPerformance(t)}})];case 1:return a.sent(),[2]}})})},t.prototype.updateCrewPerformance=function(e){return E(this,void 0,void 0,function(){return w(this,function(t){return Object(k.c)(e).then(function(e){}).catch(function(e){return e}),[2]})})},t.prototype.handleScan=function(e){var t=this.state.qrValdiationTask,n=JSON.parse(g.a.getItem("user"));if(null!==e)if(Object(i.g)(t.QRTag).includes(e.toString().trim())){Object(o.a)(!0),document.getElementById("qrDailogeClose").click(),this.updateTaskStatus(Object(i.g)(t.task),"Completed"),this.updateRecentPerformance();var a={contact:n.contact,contactName:n.name,status:"Completed",taskOntology:Object(i.g)(t.task),taskDescription:Object(i.g)(t.description),startDate:new Date,endDate:new Date,building:this.props.buildingName,entryTimestamp:new Date,floorOntology:Object(i.g)(t.floor),floorDescription:Object(i.g)(t.floorRdfsLabel),assetOntology:Object(i.g)(t.equipSubject),assetDescription:Object(i.g)(t.equipRdfsLabel),spaceOntology:Object(i.g)(t.spaceSubject),spaceDescription:Object(i.g)(t.spaceRdfsLabel),workOrder:""!=Object(i.g)(t.workOrder)?Object(i.g)(t.workOrder):"wo-55555",stageOntologyReference:Object(i.g)(t.task)?Object(i.g)(t.task):""};this.updateCrewPerformance(a),this.setState({isQrCameraMode:!1}),Object(o.a)(!1)}else alert("QR code dosenot Match...")},t.prototype.getWorkflowTypePrefix=function(e){var t="";switch(e){case"Contract":t="Con";break;case"Job":t="Job";break;case"Inspection":t="Insp";break;case"Measure":t="Meas";break;case"IPMVP":t="IPMVP";break;case"LOTO":t="LOTO";break;default:t=""}return t},t.prototype.render=function(){var e=this,t=JSON.parse(g.a.getItem("user")),n=Object(c.b)(t,"task-ticket","write"),u="1"==t.role||"2"==t.role,d=this.props,p=d.instance,f=d.buildingName,v=d.listType,k=d.isScreenSaverCall,T=d.people,N=this.state,j=N.pauseNote,S=N.why,C=N.showStopWorkConfirmation,D=N.selectedChecklist,I=N.checklistBoard;return a.createElement(s.a.Consumer,null,function(s){return a.createElement("div",{className:"card"},a.createElement("div",{className:"content",style:{paddingTop:"0px"}},a.createElement("div",{className:"dataCard"},!k&&a.createElement("div",{className:"row hidden-xs no-padding"},a.createElement("div",{className:"col-sm-12 no-padding"},a.createElement("div",{className:"col-sm-3 small grid-header-left",onClick:function(){return e.sortTasks("Issue")}},a.createElement("i",{className:"fa fas fa-sort"}),"Issue"),a.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortTasks("Asset")}},a.createElement("i",{className:"fa fas fa-sort"}),"Asset"),"DoNext"!=v&&a.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortTasks("Start_Time")}},a.createElement("i",{className:"fa fas fa-sort"}),"Start Time"),u&&a.createElement("div",{className:"col-sm-2 small grid-header"},a.createElement("div",{className:"dropdown"},a.createElement("div",{className:"dropdown-toggle","data-toggle":"dropdown"},a.createElement("i",{className:"fa fas fa-sort "}),"Assigned To",a.createElement("ul",{className:"dropdown-menu"},a.createElement("li",{key:"1"},a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.filterAssignee("ALL")}},"ALL")),T&&T.length>0&&T.map(function(t,n){return a.createElement("li",{key:n},a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.filterAssignee((Object(i.g)(t.name).length,Object(i.g)(t.name)))}},(Object(i.g)(t.name).length,Object(i.g)(t.name))))}))))),!u&&a.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortTasks("Assigned_By")}},a.createElement("i",{className:"fa fas fa-sort"}),"Assigned By"),a.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortTasks("Building")}},a.createElement("i",{className:"fa fas fa-sort"}),"Building"),v&&"DoIf"==v&&u&&a.createElement("div",{className:"col-sm-1 small headingText grid-header",onClick:function(){return e.sortTasks("Acknowledged")}},a.createElement("i",{className:"fa fas fa-sort"}),"Acknowledge"))),e.state._tasks&&e.state._tasks.map(function(c,d){var g=e.setRowColor(c),k=!1;Object(i.g)(c.assignedTo)==t.contact&&(k=!0);var N=!(!c.parentTask||""==c.parentTask.value),x="true"==Object(i.g)(c.isSequence),_="true"==Object(i.g)(c.isRecurring),A=""!=Object(i.g)(c.checklistID),L="true"==Object(i.g)(c.isStage)&&""!=Object(i.g)(c.workflowType);if("Started"==Object(i.g)(c.status)){var B=document.getElementById("myVideo")&&document.getElementById("myVideo");B&&B.pause()}return a.createElement("div",{key:d,className:"row "+g},a.createElement("div",{className:"col-sm-12 no-padding"},a.createElement("div",{className:"col-sm-3 small trim-data",title:Object(i.g)(c.description)},A&&a.createElement("span",{className:"pull-left"},a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5,marginRight:5},type:"button",className:"btn-xs btn-primary btn-fill","data-target":"#ActivitiesDialog"+(Object(i.g)(c.task)+d),"data-toggle":"modal",onClick:function(){e.getChecklistBoard(Object(i.g)(c.checklistID))}},a.createElement("i",{className:"fa fa-check"})),a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5,display:"none"},type:"button",id:"1btnOpenBoard",className:"btn-xs","data-target":"#ActivitiesDialog"+(Object(i.g)(c.task)+d),"data-toggle":"modal"},"     "),a.createElement(l.a,{id:"ActivitiesDialog"+(Object(i.g)(c.task)+d),showSaveButton:!0,saveButtonText:"Update",onSaveButtonClick:function(){return E(e,void 0,void 0,function(){return w(this,function(e){return this.updateChecklist(),[2]})})},isEditForm:!0,showCancelButton:!0,cancelButtonText:"cancel",cancelButtonId:"btnCloseActDialog"},a.createElement(b.a,{buildingName:f,instance:p,checklist:I,handleChecklistBoard:e.handleChecklistBoard}))),a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Issue"),x&&a.createElement("span",{className:"pull-left"},a.createElement("i",{className:"fa fa-list"})),_&&a.createElement("span",{className:"pull-left"},a.createElement("b",null,"REC: ")),L&&a.createElement("span",{className:"pull-left"},a.createElement("b",null," ",e.getWorkflowTypePrefix(Object(i.g)(c.workflowType)),":")),a.createElement("a",{style:{color:"black"},href:N?"#"+p+"/"+f+"/SubTask/"+Object(i.g)(c.task):" #"+p+"/"+f+"/NewTask/"+Object(i.g)(c.task)},Object(i.g)(c.description))),a.createElement("div",{className:"col-sm-2 small trim-data",title:Object(i.g)(c.equipRdfsLabel)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Asset"),Object(i.g)(c.equipRdfsLabel)),"DoNext"!=v&&a.createElement("div",{className:"col-sm-2 small trim-data",title:c.startTime?new Date(c.startTime.value).ToEasternDateTime():""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Start Time"),c.startTime?new Date(c.startTime.value).ToEasternDateTime():"",a.createElement("br",null)),u&&a.createElement("div",{className:"col-sm-2 small trim-data",title:Object(i.g)(c.assignedToName)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Assigned To"),Object(i.g)(c.assignedToName).length>0?Object(i.g)(c.assignedToName):Object(i.g)(c.assignedTo)),!u&&a.createElement("div",{className:"col-sm-2 small trim-data",title:Object(i.g)(c.enteredByName)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Assigned By"),Object(i.g)(c.enteredByName).length>0?Object(i.g)(c.enteredByName):Object(i.g)(c.enteredBy)),a.createElement("div",{className:"col-sm-2 small trim-data",title:Object(i.g)(c.buildingName)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Building"),Object(i.g)(c.buildingName)),v&&"DoIf"==v&&""==Object(i.g)(c.isForcePush)&&u&&a.createElement("div",{className:"col-sm-1 dv-acknowlege"},a.createElement("div",{className:"row"},a.createElement("div",{className:"switch-container pull-right"},a.createElement("label",null,a.createElement("input",{disabled:!e.props.isTimedIn,checked:"true"==Object(i.g)(c.acknowledged),onChange:function(t){return E(e,void 0,void 0,function(){var e=this;return w(this,function(n){switch(n.label){case 0:return Object(o.a)(!0),[4,Object(r.a)(Object(i.g)(c.task),t.target.checked).then(function(){return E(e,void 0,void 0,function(){return w(this,function(e){return[2]})})})];case 1:return n.sent(),Object(o.a)(!1),[4,this.props._fetchTasks()];case 2:return n.sent(),[2]}})})},className:"switch",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null)))))),v&&"DoIf"==v&&"true"==Object(i.g)(c.isForcePush)&&u&&a.createElement("div",{className:"col-sm-2 small trim-data",title:Object(i.g)(c.assignedToName)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Assigned To"),a.createElement("span",{className:"lblForcePush"},"1"==Object(i.g)(c.criticality)||"2"==Object(i.g)(c.criticality)?"Do Now":"Do Next"))),n&&a.createElement("div",{className:"col-sm-12 col-xs-12"},a.createElement("label",{className:"pause-note"},c.pauseNote&&c.pauseNote.value),(!u||k)&&"Completed"!=c.status.value&&"Assigned"!=c.status.value&&"DoIf"!=v&&"true"!=Object(i.g)(c.isSequence)&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-complete btn-fill pull-right",title:"Complete Task",onClick:function(n){return E(e,void 0,void 0,function(){var e,n=this;return w(this,function(a){switch(a.label){case 0:return this.getNextTask().then(function(e){e&&e.description&&("true"==Object(i.g)(e.notifyViaEmail)?n.sendMail(e):"true"==Object(i.g)(e.notifyViaSMS)&&n.sendSms(e))}),Object(o.a)(!0),this.updateTaskStatus(c.task.value,"Completed"),[4,this.updateRecentPerformance()];case 1:return a.sent(),e={contact:t.contact,contactName:t.name,status:"Completed",taskOntology:Object(i.g)(c.task),taskDescription:Object(i.g)(c.description),startDate:new Date,endDate:new Date,building:f,entryTimestamp:new Date,floorOntology:Object(i.g)(c.floor),floorDescription:Object(i.g)(c.floorRdfsLabel),assetOntology:Object(i.g)(c.equipSubject),assetDescription:Object(i.g)(c.equipRdfsLabel),spaceOntology:Object(i.g)(c.spaceSubject),spaceDescription:Object(i.g)(c.spaceRdfsLabel),workOrder:""!=Object(i.g)(c.workOrder)?Object(i.g)(c.workOrder):"wo-55555",stageOntologyReference:Object(i.g)(c.task)?Object(i.g)(c.task):""},this.updateCrewPerformance(e),"Contract"!=Object(i.g)(c.workflowType)?[3,4]:""==Object(i.g)(c.contractFileName)?[3,3]:[4,Object(r.n)(Object(i.g)(c.contractFileName))];case 2:a.sent(),a.label=3;case 3:Object(o.a)(!1),a.label=4;case 4:return this.checkDependency(c.task.value,"Completed"),setTimeout(function(){return E(n,void 0,void 0,function(){return w(this,function(e){switch(e.label){case 0:return[4,this.triggerDoIfTasks()];case 1:return e.sent(),[2]}})})},1e3),setTimeout(function(){Object(y.c)()},2e3),Object(o.a)(!1),[2]}})})}},a.createElement("i",{className:"fa fa-check"})),u&&!N&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-danger btn-fill pull-right",title:"Delete Task",onClick:function(t){e.props.onDeleteTask(c)}},a.createElement("i",{className:"fa fa-trash"})),u&&!N&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-object-form-view btn-fill pull-right",title:"Matter Port",onClick:function(e){window.location.hash=p+"/"+f+"/MatterPort/"+Object(i.g)(c.spaceSubject)+"/"+Object(i.g)(c.floor)+"/"+Object(i.g)(c.building)+"/"+Object(i.g)(c.task)}},a.createElement("img",{style:{width:20,height:17},src:"assets/img/virtual-bim.png"})),u&&!N&&"Done"!=v&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-success btn-fill pull-right",title:"Edit Task",onClick:function(e){window.location.hash=p+"/"+f+"/NewTask/"+Object(i.g)(c.task)}},a.createElement("i",{className:"fa fa-pencil"})),u&&c.archived&&"false"==c.archived.value&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-dark btn-fill pull-right",title:"Archive Task",onClick:function(e){document.getElementById("btnConfirmAllow"+d.toString()+Object(i.g)(c.task)).click()}},a.createElement("i",{className:"fa fa-archive"})),u&&"Done"!=v&&a.createElement(a.Fragment,null,!A&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-primary btn-fill pull-right",title:"Assign Checklist","data-target":"#CheckDialog"+Object(i.g)(c.task),"data-toggle":"modal",onClick:function(){e.setState({selectedChecklistTask:Object(i.g)(c.task),selectedChecklist:Object()})}},a.createElement("img",{className:"icn-checklist",src:"assets/img/Checklist.png"})),A&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-danger btn-fill pull-right",title:"Unassign Checklist","data-target":"#confirmModel"+Object(i.g)(c.task),"data-toggle":"modal",onClick:function(){document.getElementById("confirmModelBtn"+Object(i.g)(c.task))}},a.createElement("img",{className:"icn-checklist",src:"assets/img/Checklist.png"})),a.createElement(l.a,{id:"CheckDialog"+Object(i.g)(c.task),heading:"Checklist Templates",showSaveButton:!0,saveButtonText:"Assign",disableSaveButton:!D.ontology,onSaveButtonClick:function(){return E(e,void 0,void 0,function(){return w(this,function(e){return this.handleChecklistAssignment(),[2]})})},isEditForm:!0,showCancelButton:!0,cancelButtonText:"cancel",cancelButtonId:"btnCloseChecklistDialog"},a.createElement(h.default,{buildingName:f,selectedChecklist:D,instance:p,isSelectionlist:!0,handleSelection:e.handleChecklistSelection})),a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5,display:"none"},id:"confirmModelBtn"+Object(i.g)(c.task),"data-toggle":"modal","data-target":"#confirmModel"+Object(i.g)(c.task)},"."),a.createElement(m.a,{instance:e.props.instance,id:"confirmModel"+Object(i.g)(c.task),showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to Unassign Checklist?",heading:"Confirm...",onConfirmButtonClick:function(){e._deleteChecklist(c)}})),(!u||k)&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-primary btn-fill pull-right","data-toggle":"modal","data-target":"#NotesDialog"+Object(i.g)(c.task),title:"Add Notes",onClick:function(t){e.setState({note:""})}},a.createElement("i",{className:"fa fa-sticky-note"})),a.createElement(l.a,{id:"NotesDialog"+Object(i.g)(c.task),heading:"",showSaveButton:!0,saveButtonText:"Submit",onSaveButtonClick:function(){return E(e,void 0,void 0,function(){return w(this,function(e){return this.saveNote(c.task.value),[2]})})},isEditForm:!1,showCancelButton:!0,cancelButtonText:"cancel",cancelButtonId:"btnCloseNotesDialog"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-3"},a.createElement("label",{htmlFor:"notes"},"Notes:")),a.createElement("div",{className:"col-md-9"},a.createElement("textarea",{id:"notes",className:"form-control",value:c.note&&c.note.value,onChange:function(t){return e.handleNotesChange(t.target.value)}})))),a.createElement("div",{className:"row padding-10"})),a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5,display:"none"},id:"btnConfirmAllow"+d.toString()+Object(i.g)(c.task),"data-toggle":"modal","data-target":"#ConfirmAllowDialog"+d.toString()+Object(i.g)(c.task)},"."),a.createElement(m.a,{instance:e.props.instance,id:"ConfirmAllowDialog"+d.toString()+Object(i.g)(c.task),showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to move Archived Tasks?",heading:"Confirm...",onConfirmButtonClick:function(){e.archiveTask(c.task.value,!0)}}),(!u||k)&&("Paused"==c.status.value||"Pending"==c.status.value||"Assigned"==c.status.value)&&"DoIf"!=v&&(""==Object(i.g)(c.isQRTask)||"false"==Object(i.g)(c.isQRTask))&&"true"!=Object(i.g)(c.isSequence)&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-start btn-fill pull-right",title:"Start Task",onClick:function(n){return E(e,void 0,void 0,function(){var e,n,a,s,l,u=this;return w(this,function(d){switch(d.label){case 0:return Object(o.a)(!0),[4,this.updateTaskStatus(c.task.value,"Started")];case 1:return d.sent(),!c.startTime||c.startTime&&!c.startTime.type?[4,Object(r.t)(Object(i.g)(c.task),(new Date).toString())]:[3,3];case 2:return d.sent(),[3,5];case 3:return[4,Object(r.g)(c.task.value)];case 4:d.sent(),d.label=5;case 5:return c.workflowType&&c.contractFileName&&"Contract"==Object(i.g)(c.workflowType)&&""!==Object(i.g)(c.contractFileName)?(Object(o.a)(!0),e=T.find(function(e){return Object(i.g)(e.contact)==Object(i.g)(c.assignedTo)}),n="",e&&""!=Object(i.g)(e.email)&&(n=Object(i.g)(e.email)),a=Object(i.g)(c.contractFileName),s=Object(i.g)(n),[4,Object(r.r)([s],["write"],a).then(function(e){if(e.link){var t=e.link[0].link.webUrl;window.open(t,"_blank")}Object(o.a)(!1)})]):[3,7];case 6:d.sent(),Object(o.a)(!1),d.label=7;case 7:return[4,this.updateRecentPerformance()];case 8:return d.sent(),l={contact:t.contact,contactName:t.name,status:"Started",taskOntology:Object(i.g)(c.task),taskDescription:Object(i.g)(c.description),startDate:new Date,endDate:new Date,building:f,entryTimestamp:new Date,floorOntology:Object(i.g)(c.floor),floorDescription:Object(i.g)(c.floorRdfsLabel),assetOntology:Object(i.g)(c.equipSubject),assetDescription:Object(i.g)(c.equipRdfsLabel),spaceOntology:Object(i.g)(c.spaceSubject),spaceDescription:Object(i.g)(c.spaceRdfsLabel),workOrder:""!=Object(i.g)(c.workOrder)?Object(i.g)(c.workOrder):"wo-55555",stageOntologyReference:Object(i.g)(c.task)?Object(i.g)(c.task):""},this.updateCrewPerformance(l),this.checkDependency(c.task.value,"Started"),setTimeout(function(){u.triggerDoIfTasks(),Object(y.c)()},1e3),this.props._fetchTasks(),Object(o.a)(!1),[2]}})})}},a.createElement("i",{className:"fa fa-play"})),""!==Object(i.g)(c.checklistID)&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},onClick:function(){window.location.hash=p+"/"+f+"/ObjectFormView/"+Object(i.g)(c.task)},className:"btn-xs btn-object-form-view btn-fill pull-right"},a.createElement("i",{className:"fa fa-map"})),(!u||k)&&""!=Object(i.g)(c.QRTag)&&"true"==Object(i.g)(c.isQRTask)&&"DoingNow"==v&&a.createElement(a.Fragment,null,a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-secondary btn-fill pull-right",title:"Scan Qr Code",onClick:function(t){return E(e,void 0,void 0,function(){return w(this,function(e){return this.setState({isQrCameraMode:!0,qrValdiationTask:c},function(){document.getElementById("qrDailogebtn").click()}),[2]})})}},a.createElement("i",{className:"fa fa-qrcode"})),a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},id:"qrDailogebtn",type:"button","data-toggle":"modal","data-target":"#qrDailoge",className:"hidden"},"."),a.createElement(l.a,{id:"qrDailoge",closeButtonId:"qrDailogeClose",heading:"Scan QR",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1,showSaveButton:!1},e.state.isQrCameraMode&&a.createElement("div",null,a.createElement("div",{className:"Qr-close-btn",onClick:function(){e.setState({isQrCameraMode:!e.state.isQrCameraMode})}},"X"),a.createElement(O.a,{delay:500,onError:function(e){console.log(e)},onScan:e.handleScan,style:{width:"100%"}})))),(!u||k)&&""!=Object(i.g)(c.contractFileUrl)&&a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-"+("Started"==Object(i.g)(c.status)?"active":"start")+" btn-fill pull-right",title:"Open Contract",onClick:function(t){return E(e,void 0,void 0,function(){return w(this,function(e){return window.open(Object(i.g)(c.contractFileUrl),"_blank"),[2]})})}},a.createElement("i",{className:"fa fa-paperclip"})),(!u||k)&&"Started"==c.status.value&&"DoIf"!=v&&"true"!=Object(i.g)(c.isSequence)&&a.createElement(a.Fragment,null,a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},className:"btn-xs btn-pause btn-fill pull-right","data-toggle":"modal","data-target":"#PauseDialog",title:"Pause Task",onClick:function(e){}},a.createElement("i",{className:"fa fa-pause"})),a.createElement(l.a,{id:"PauseDialog",heading:"",showSaveButton:!0,saveButtonText:"Submit",onSaveButtonClick:function(){return E(e,void 0,void 0,function(){var e;return w(this,function(n){switch(n.label){case 0:return"other"==S?[3,3]:[4,Object(r.c)(c.task.value,S)];case 1:return n.sent(),[4,this.updateTaskStatus(c.task.value,"Paused")];case 2:return n.sent(),[3,6];case 3:return[4,Object(r.c)(c.task.value,j)];case 4:return n.sent(),[4,this.updateTaskStatus(c.task.value,"Paused")];case 5:n.sent(),n.label=6;case 6:return[4,this.updateRecentPerformance()];case 7:return n.sent(),e={contact:t.contact,contactName:t.name,status:"Paused",taskOntology:Object(i.g)(c.task),taskDescription:Object(i.g)(c.description),startDate:new Date,endDate:new Date,building:f,entryTimestamp:new Date,floorOntology:Object(i.g)(c.floor),floorDescription:Object(i.g)(c.floorRdfsLabel),assetOntology:Object(i.g)(c.equipSubject),assetDescription:Object(i.g)(c.equipRdfsLabel),spaceOntology:Object(i.g)(c.spaceSubject),spaceDescription:Object(i.g)(c.spaceRdfsLabel),workOrder:""!=Object(i.g)(c.workOrder)?Object(i.g)(c.workOrder):"wo-55555",stageOntologyReference:Object(i.g)(c.task)?Object(i.g)(c.task):""},this.updateCrewPerformance(e),Object(y.c)(),"Contract"!=Object(i.g)(c.workflowType)?[3,9]:[4,Object(r.n)(Object(i.g)(c.contractFileName))];case 8:n.sent(),n.label=9;case 9:return[2]}})})},isEditForm:!1,showCancelButton:!0,cancelButtonText:"cancel",cancelButtonId:"btnCloseDoIfDialog"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"reason"},"why? "))),a.createElement("div",{className:"col-md-8"},a.createElement("div",{className:"form-group"},a.createElement("select",{id:"reason",className:"form-control col-md-6",onChange:function(t){e.setState({why:t.target.value})},value:S},a.createElement("option",{value:""},"Select Reason"),a.createElement("option",{value:"taking a break",key:-1},"Break"),a.createElement("option",{value:"taking lunch",key:-2},"Lunch"),a.createElement("option",{value:"other",key:-3},"Other"))))),"other"==S&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"pauseNote"},"Reason "))),a.createElement("div",{className:"col-md-8"},a.createElement("div",{className:"form-group"},a.createElement("input",{className:"form-control",type:"text",id:"pauseNote",value:j,onChange:function(t){e.setState({pauseNote:t.target.value})}})))),C&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-8"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"pauseNote"},"You are Signing out of work, Correct?"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},type:"button",className:"btn btn-primary btn-fill",onClick:function(){return E(e,void 0,void 0,function(){var e;return w(this,function(n){switch(n.label){case 0:return[4,this.updateTaskStatus(c.task.value,"Paused")];case 1:return n.sent(),[4,this.updateRecentPerformance()];case 2:return n.sent(),e={contact:t.contact,contactName:t.name,status:"Off",taskOntology:"",taskDescription:"",startDate:new Date,endDate:new Date,building:f,entryTimestamp:new Date,floorOntology:"",floorDescription:"",assetOntology:"",assetDescription:"",spaceOntology:"",spaceDescription:"",workOrder:"wo-00000",stageOntologyReference:""},[4,this.updateCrewPerformance(e)];case 3:return n.sent(),[4,this.handleStopWork(s)];case 4:return n.sent(),[2]}})})}},"Yes"),a.createElement("button",{disabled:!e.props.isTimedIn,style:{opacity:e.props.isTimedIn?1:.5},type:"button",className:"btn btn-danger btn-fill",onClick:function(){e.toggleStopWorkButton(!1)}},"No")))),!C&&a.createElement("button",{type:"button",className:"btn btn-primary btn-fill",onClick:function(){e.toggleStopWorkButton(!0)}},"Stop Work For Day")),a.createElement("button",{id:"statusDailogebtn",type:"button","data-toggle":"modal","data-target":"#statusDailoge",className:"hidden"},"."),a.createElement(l.a,{id:"statusDailoge",heading:"Cannot Complete Task",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1,showSaveButton:!1},a.createElement("div",{className:"card padding-10 no-margin"},a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("h6",{className:"center padding-10 no-margin"},"You still have activities to complete"))))))))))}))))})},t}(a.Component);t.a=S},1513:function(e,t,n){"use strict";var a=n(3),i=(n.n(a),n(657)),s=n(26),c=n(45),o=n(877),r=n.n(o),l=n(18),u=n(628),d=n(17),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),p=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,s){function c(e){try{r(a.next(e))}catch(e){s(e)}}function o(e){try{r(a.throw(e))}catch(e){s(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,o)}r((a=a.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,a=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){c.label=s[1];break}if(6===s[0]&&c.label<i[1]){c.label=i[1],i=s;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(s);break}i[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],a=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={checklistObj:Object(),isQrCameraMode:!1,validateTag:"",validateTagIndex:-1,bypassTag:""},n.handleActivityStatus=n.handleActivityStatus.bind(n),n.handleReadingChange=n.handleReadingChange.bind(n),n.handleNotesChange=n.handleNotesChange.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n.handleScan=n.handleScan.bind(n),n.handleOverrideTag=n.handleOverrideTag.bind(n),n}return m(t,e),t.prototype.componentDidMount=function(){return p(this,void 0,void 0,function(){return h(this,function(e){return this.props.buildingName,[2]})})},t.prototype.componentWillReceiveProps=function(e){this.setState({checklistObj:e.checklist})},t.prototype.handleReadingChange=function(e,t){var n=this.state.checklistObj;n.activities[t].reading=e,this.setState({checklistObj:n}),this.props.handleChecklistBoard(n)},t.prototype.handleNotesChange=function(e,t){var n=this.state.checklistObj;n.activities[t].notes=e,this.setState({checklistObj:n}),this.props.handleChecklistBoard(n)},t.prototype.handleActivityStatus=function(e,t){var n=this.state.checklistObj;1==e?""!=n.activities[t].pointTag&&0==n.activities[t].isVerified?alert("Please Validate Point Tag First"):(n.activities[t].status="Completed",n.activities[t].completedOn=new Date(Date.now()).toString()):(n.activities[t].status="Pending",n.activities[t].completedOn=""),this.setState({checklistObj:n}),this.props.handleChecklistBoard(n)},t.prototype.handleOverrideTag=function(){return p(this,void 0,void 0,function(){var e,t,n,a,i,s,c,o,r,m=this;return h(this,function(p){switch(p.label){case 0:return e=this.state,t=e.bypassTag,n=e.validateTagIndex,a=e.validateTag,i=e.checklistObj,t.trim().toLowerCase()!=a.trim().toLowerCase()?[3,2]:[4,Object(u.k)("",i.ontology)];case 1:return s=p.sent(),c=s[0],Object(d.g)(c.task)&&(i.activities[n].isVerified=!0,o=Object(),r=Object(l.l)(7),o.task=r,o.taskNumber=Object(l.k)(6).toString(),o.criticality="3",o.enteredBy=Object(d.g)(c.enteredBy),o.startTime=new Date(Date.now()).toString(),o.startTaskCondition="daytime",o.description=Object(d.g)(c.taskNumber)+"-"+Object(d.g)(c.description)+" (No Tag Found)",o.status="Assigned",o.acknowledged=!0,o.isSequence=!1,o.archived=!1,o.isDeleted=!1,o.assignedTo="true"==Object(d.g)(c.isSequence)?[{label:Object(d.g)(c.assignedToName),value:Object(d.g)(c.assignedTo)}]:[{label:Object(d.g)(c.enteredBy),value:Object(d.g)(c.enteredBy)}],o.spaceSubject="",o.floorRdfsLabel="",o.equipSubject=[],o.isForcePush=!1,o.recurringSchedule="week",o.hasChat=!1,o.subTasks=[],o.building=Object(d.g)(c.building),Object(u.o)(this.props.buildingName,o,!1).then(function(){m.setState({checklistObj:i,bypassTag:"",isQrCameraMode:!1})})),[3,3];case 2:alert("Tags don't match"),p.label=3;case 3:return[2]}})})},t.prototype.handlefileAttached=function(e,t){var n=this.state.checklistObj;if(e.length>0){n.activities[t].upload=e&&e[0].name,Object(s.g)(e),this.setState({checklistObj:n}),this.props.handleChecklistBoard(n);var a=new c.b,i=Object(s.d)();if(i&&i.length)for(var o=0;o<i.length;o++){var r=i[o];a.UploadFile(c.a.DOCUMENT,n.activities[t].upload,r)}}},t.prototype.handleScan=function(e){var t=this,n=this.state.validateTag,a=this.state.validateTagIndex,i=this.state.checklistObj;e&&n&&e.toString().trim()==n&&(i.activities[a].isVerified=!0,this.setState({isQrCameraMode:!1,checklistObj:i},function(){t.props.handleChecklistBoard(i)}))},t.prototype.render=function(){var e=this,t=this.state,n=t.checklistObj,s=t.isQrCameraMode,c=t.bypassTag,o="None"!=n.assetType;return a.createElement("div",{className:"content no-padding"},a.createElement("div",{className:"card padding-10 no-margin",title:""},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row no-padding"},a.createElement("div",{className:"col-md-6 no-padding"},a.createElement("div",{className:"card padding-10",style:{marginBottom:"10px"}},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 padding-10"},a.createElement("h4",{className:"padding-5 trim-data no-margin",title:n.checklistID},"Checklist # ",n.checklistID),a.createElement("p",{className:"padding-5 trim-data no-margin",title:n.rdfsLabel},"Title: ",n.rdfsLabel),a.createElement("p",{className:"padding-5 trim-data",title:n.assetLabel},o?"Space"==n.assetType?"Space:":"Equipment:":""," ",n.assetLabel)))))),a.createElement("div",{className:"col-md-1 no-padding"},"  "),a.createElement("div",{className:"col-md-4 col-xs-12 no-padding"},s&&a.createElement("div",null,a.createElement("div",{className:"Qr-close-btn",onClick:function(){e.setState({isQrCameraMode:!e.state.isQrCameraMode})}},"X"),a.createElement(r.a,{delay:300,onError:function(e){console.log(e)},onScan:this.handleScan,style:{width:"100%"}}),a.createElement("label",{style:{fontSize:12,whiteSpace:"pre-line",color:"red"}},"Override Tag in case no tag found. Task will be created for manager to fix issue"),a.createElement("div",{className:"col-md-8 no-padding"},a.createElement("input",{type:"text",className:"form-control",value:c,onChange:function(t){e.setState({bypassTag:t.target.value})}})),a.createElement("div",{className:"col-md-4"},a.createElement("button",{className:"btn btn-primary btn-fill",onClick:function(){e.handleOverrideTag()}},"Override Tag"))),a.createElement("br",null),a.createElement("div",{className:"col-md-12 text-danger"},a.createElement("p",{id:"notMatchQR",className:"text-danger"}))),a.createElement("div",{className:"col-md-1 no-padding"})),a.createElement("div",{className:"row no-padding"},a.createElement("div",{className:"col-md-12 no-padding hidden-xs"},a.createElement("div",{className:"col-md-1 col-sm-1 small grid-header"},"Status"),a.createElement("div",{className:"col-md-2 col-sm-2 small grid-header"},"Action"),o&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-2 col-sm-2 small grid-header"},"Point"),a.createElement("div",{className:"col-md-1 col-sm-1 small grid-header"},"Tag"),a.createElement("div",{className:"col-md-2 col-sm-2 small grid-header"},"Reading"),a.createElement("div",{className:"col-md-1 col-sm-1 small grid-header"},"Units")),a.createElement("div",{className:"col-md-"+(o?"2":"8")+" col-sm-"+(o?"2":"8")+" small grid-header"},"Data Entry"),a.createElement("div",{className:"col-md-1 col-sm-1 small grid-header"}," \xa0 "))),n.activities&&n.activities.map(function(t,n){return a.createElement("div",{className:"row no-padding"},a.createElement("div",{className:"col-md-12 col-sm-12 padding-5 "+("Pending"!=t.status?"activity-complete":"")},a.createElement("div",{className:"col-md-1 col-sm-1 center",style:{paddingTop:"7px"}},a.createElement("input",{type:"checkbox",className:"form-control",checked:"Pending"!=t.status,onChange:function(t){e.handleActivityStatus(t.target.checked,n)}})),a.createElement("div",{className:"col-md-2 col-sm-2 trim-data padding-10",title:t.action},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Action"),"   ",t.action),o&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-2 col-sm-2 trim-data padding-10",title:t.pointLabel},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Point"),"   ",t.pointLabel),a.createElement("div",{className:"col-md-1 col-sm-1 padding-10 trim-data clickable",title:t.pointTag},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Tag"),a.createElement("span",{onClick:function(){e.setState({isQrCameraMode:!e.state.isQrCameraMode,validateTag:t.pointTag,validateTagIndex:n})},className:1==t.isVerified?"verifiedQR":""}," ",1==t.isVerified&&a.createElement("span",null,"\u2713  \xa0")," ",t.pointTag)),a.createElement("div",{className:"col-md-2 col-sm-2",title:t.reading},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Reading"),a.createElement("input",{type:"text",className:"form-control",value:t.reading,onChange:function(t){e.handleReadingChange(t.target.value,n)}})),a.createElement("div",{className:"col-md-1 col-sm-1 padding-10 trim-data",title:t.unit},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Unit")," ",t.unit)),a.createElement("div",{className:"col-md-"+(o?"2":"8")+" col-sm-"+(o?"2":"8")+" small grid-header"},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Data Entry"),a.createElement("input",{type:"text",className:"form-control",value:t.notes,onChange:function(t){e.handleNotesChange(t.target.value,n)}})),a.createElement("div",{className:"col-md-1 col-sm-1  padding-5 center"},(!t.upload||""==t.upload)&&a.createElement(a.Fragment,null,a.createElement("button",{className:"btn-sm btn-primary btn-fill",onClick:function(){document.getElementById("dropzone"+n).click()},title:"upload"}," ",a.createElement("i",{className:"fa fa-upload"})),a.createElement("div",{className:"hidden"}," ",a.createElement(i.a,{dialogID:"dropzone"+n,single:!0,handleAttachedFile:function(t){e.handlefileAttached(t,n)},files:[]}))))))})))))))},t}(a.Component);t.a=f},1514:function(e,t,n){"use strict";var a=n(3),i=(n.n(a),n(17)),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.recurredTasks,n=e.buildingName,s=e.instance;this.state;return a.createElement("div",{className:"container-fluid no-padding"},a.createElement("div",{className:"content"},a.createElement("div",{className:"card padding-10"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"row col-md-12 hidden-xs hidden-sm"},a.createElement("div",{className:"col-md-2 small grid-header-left"},"Task "),a.createElement("div",{className:"col-md-2 small grid-header"},"Space "),a.createElement("div",{className:"col-md-2 small grid-header"},"Device "),a.createElement("div",{className:"col-md-2 small grid-header"},"Recurrence"),a.createElement("div",{className:"col-md-2 small grid-header"},"Next Recur time "),a.createElement("div",{className:"col-md-1 small grid-header"},"Ends "),a.createElement("div",{className:"col-md-1 small"}," ")),t&&t.map(function(e,t){return a.createElement("div",{className:"row col-md-12"},a.createElement("div",{className:"col-sm-2 small trim-data",title:Object(i.g)(e.description)},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Task"),Object(i.g)(e.description)),a.createElement("div",{className:"col-sm-2 small trim-data",title:Object(i.g)(e.spaceRdfsLabel)},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Space"),Object(i.g)(e.spaceRdfsLabel)),a.createElement("div",{className:"col-sm-2 small trim-data",title:Object(i.g)(e.equipRdfsLabel)},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Device"),Object(i.g)(e.equipRdfsLabel)),a.createElement("div",{className:"col-sm-2 small trim-data",title:Object(i.g)(e.recurringSchedule)},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Recurrence"),Object(i.g)(e.recurringSchedule)),a.createElement("div",{className:"col-sm-2 small trim-data",title:e.startTime?new Date(e.startTime.value).ToEasternDateTime():""},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Next Recur Time"),e.startTime?new Date(e.startTime.value).ToEasternDateTime():""),a.createElement("div",{className:"col-sm-1 small trim-data",title:e.endingDaysCount?Object(i.g)(e.endingDaysCount):"Never"},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Ends"),e.endingDaysCount?Object(i.g)(e.endingDaysCount)+" Days":"Never"),a.createElement("div",{className:"col-sm-1 small trim-data"},a.createElement("button",{className:"btn-xs btn-success btn-fill pull-right",title:"Edit Task","data-toggle":"modal","data-target":"#RecurTaskListDailogeBox",onClick:function(t){document.getElementById("RecurTaskListDailogeBox").click(),window.location.hash=s+"/"+n+"/NewTask/"+Object(i.g)(e.task)}},a.createElement("i",{className:"fa fa-pencil"}))))}),a.createElement("div",{className:"row col-md-12 hidden-xs hidden-sm"},a.createElement("div",{className:"col-md-2 small grid-header-left"},"Task "),a.createElement("div",{className:"col-md-2 small grid-header"},"Space "),a.createElement("div",{className:"col-md-2 small grid-header"},"Device "),a.createElement("div",{className:"col-md-2 small grid-header"},"Recurrence"),a.createElement("div",{className:"col-md-2 small grid-header"},"Next Recur time "),a.createElement("div",{className:"col-md-1 small grid-header"},"Ends "),a.createElement("div",{className:"col-md-1 small"}," "))))))))},t}(a.Component);t.a=c},608:function(e,t,n){"use strict";t.e=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({buildingName:e,ontology:t,uses:n},a.a.TASKTEMPLATE.UPDATESTAGETEMPLATEUSES,i.b.TASK).then(function(){Object(s.b)('Stage Template Uses "Updated"  Successfully.')}).catch(function(e){Object(s.a)("Error occured while saving Stage Template Uses.")})];case 1:return[2,c.sent()]}})})},t.d=function(e,t,n,r){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({buildingName:e,model:t,isEdit:n,saveStages:r},a.a.TASKTEMPLATE.SAVEPHASE,i.b.TASK).then(function(){Object(s.b)("Workflow "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(s.a)("Error occured while saving Workflow.")})];case 1:return[2,c.sent()]}})})},t.b=function(e,t,n){void 0===n&&(n=!0);return c(this,void 0,void 0,function(){return o(this,function(s){switch(s.label){case 0:return[4,Object(a.e)({buildingName:e,ontology:t},a.a.TASKTEMPLATE.GETPHASEDETAILLIST,i.b.TASK,n)];case 1:return[2,s.sent()]}})})},t.c=function(e,t,n){void 0===n&&(n=!0);return c(this,void 0,void 0,function(){return o(this,function(s){switch(s.label){case 0:return[4,Object(a.e)({buildingName:e,ontology:t},a.a.TASKTEMPLATE.GETPHASETEMPLATEDETAIL,i.b.TASK,n)];case 1:return[2,s.sent()]}})})},t.f=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({taskID:e,status:t},a.a.TASKTEMPLATE.UPDATETASKORSTAGESTATUS,i.b.TASK).then(function(){n||Object(s.b)("Status Updated Successfully.")}).catch(function(e){Object(s.a)("Error occured while update Status.")})];case 1:return[2,c.sent()]}})})},t.a=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,ontology:t},a.a.DEPENDENCY.GETDEPENDENCY,i.b.TASK,!0)];case 1:return[2,n.sent()]}})})};var a=n(19),i=n(26),s=n(44),c=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,s){function c(e){try{r(a.next(e))}catch(e){s(e)}}function o(e){try{r(a.throw(e))}catch(e){s(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,o)}r((a=a.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,a=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){c.label=s[1];break}if(6===s[0]&&c.label<i[1]){c.label=i[1],i=s;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(s);break}i[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],a=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}},628:function(e,t,n){"use strict";t.l=function(){return c(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Object(s.e)({},s.a.TASKS.GetTaskTypeList,a.b.TASK)];case 1:return[2,e.sent()]}})})},t.m=function(){return c(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Object(s.e)({},s.a.TASKS.GetWorkTypeList,a.b.TASK)];case 1:return[2,e.sent()]}})})},t.h=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.e)({buildingName:e,getArchivedOnly:t},s.a.CHATS.GetChats,a.b.TASK)];case 1:return[2,n.sent()]}})})},t.f=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.f)({taskID:e,chatName:t},s.a.CHATS.DeleteChat,a.b.TASK).then(function(){Object(i.b)("Chat Deleted Successfully.")}).catch(function(e){Object(i.a)("Error occured while deleting Chat.")})];case 1:return[2,n.sent()]}})})},t.q=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.f)({taskID:e,chatName:t},s.a.TASKS.UpdateLastMessageOn,a.b.CHAT)];case 1:return[2,n.sent()]}})})},t.v=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(s.f)({chatName:e},s.a.TASKS.UpdateUnreadCount,a.b.TASK)];case 1:return[2,t.sent()]}})})},t.o=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(s.f)({buildingName:e,model:t,isEdit:n},s.a.TASKS.UpdateRootTask,a.b.TASK).then(function(){Object(i.b)("Task "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Task.")})];case 1:return[2,c.sent()]}})})},t.i=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return[4,Object(s.e)({buildingName:e,taskNumber:t,isArchived:n},s.a.TASKS.GETTASKS,a.b.TASK,!0)];case 1:return[2,i.sent()]}})})},t.j=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return[4,Object(s.e)({buildingName:e,parentTask:t,subTaskNumber:n},s.a.TASKS.GetSubTask,a.b.TASK)];case 1:return[2,i.sent()]}})})},t.s=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.f)({taskID:e,isDeleted:t},s.a.TASKS.UpdateRootTaskDeleteStatus,a.b.TASK).then(function(){Object(i.b)("Task Deleted Successfully.")}).catch(function(e){Object(i.a)("Error occured while deleting Task.")})];case 1:return[2,n.sent()]}})})},t.u=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(s.f)({taskID:e,status:t},s.a.TASKS.UpdateTaskStatus,a.b.TASK).then(function(){n||Object(i.b)("Status Updated Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Task.")})];case 1:return[2,c.sent()]}})})},t.t=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.f)({taskID:e,startTime:t},s.a.TASKS.UpdateTaskStartTime,a.b.TASK).then(function(){Object(i.b)("Start Time Updated Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Task.")})];case 1:return[2,n.sent()]}})})},t.d=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.f)({taskID:e,isArchived:t},s.a.TASKS.ArchiveTask,a.b.TASK).then(function(){Object(i.b)((t?"Archived":"Unarchived")+" Successfully.")}).catch(function(e){Object(i.a)("Error occured while Archiving Task.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.f)({taskID:e,note:t},s.a.TASKS.AddPauseNote,a.b.TASK).then(function(){}).catch(function(e){Object(i.a)("Error occured while saving Task.")})];case 1:return[2,n.sent()]}})})},t.g=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(s.f)({taskID:e},s.a.TASKS.DeletePauseNote,a.b.TASK).then(function(){}).catch(function(e){Object(i.a)("Error occured while saving Task.")})];case 1:return[2,t.sent()]}})})},t.b=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.f)({taskID:e,note:t},s.a.TASKS.AddNote,a.b.TASK).then(function(){Object(i.b)("Note Added Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Task.")})];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.f)({taskID:e,isAcknowledged:t},s.a.TASKS.AcknowledgeRootTask,a.b.TASK).then(function(){Object(i.b)(t?"Acknowledged Successfully.":"Unacknowledged Successfully.")}).catch(function(e){Object(i.a)("Error occured while Acknowledging.")})];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.f)({taskID:e,checklistID:t},s.a.TASKS.AssignChecklist,a.b.TASK).then(function(){Object(i.b)("Checklist Assigned Successfully.")}).catch(function(e){Object(i.a)("Error occured while Assigning Checklist.")})];case 1:return[2,n.sent()]}})})},t.r=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(s.f)({email:e,roles:t,fileName:n},s.a.ONEDRIVE.UPDATEPERMISSION,a.b.TASK,"",!0).then(function(e){return e}).catch(function(e){Object(i.a)("Error occured while update Permission.")})];case 1:return[2,c.sent()]}})})},t.n=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(s.f)({fileName:e},s.a.ONEDRIVE.REMOVEPERMISSION,a.b.TASK,"",!0).then(function(e){return e}).catch(function(e){Object(i.a)("Error occured while removing Permission.")})];case 1:return[2,t.sent()]}})})},t.k=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(s.e)({buildingName:e,checklistID:t},s.a.TASKS.GetTaskHavingChecklist,a.b.TASK,!0)];case 1:return[2,n.sent()]}})})},t.p=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(s.f)({buildingName:e},s.a.TASKS.TriggerTaskManagement,a.b.TASK,"").then(function(e){return e}).catch(function(e){Object(i.a)("Error occured while triggering task automation.")})];case 1:return[2,t.sent()]}})})};var a=n(26),i=n(44),s=n(19),c=(n(14),this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,s){function c(e){try{r(a.next(e))}catch(e){s(e)}}function o(e){try{r(a.throw(e))}catch(e){s(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,o)}r((a=a.apply(e,t||[])).next())})}),o=this&&this.__generator||function(e,t){var n,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,a=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){c.label=s[1];break}if(6===s[0]&&c.label<i[1]){c.label=i[1],i=s;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(s);break}i[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],a=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}},695:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(17),i=n(19),s=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,s){function c(e){try{r(a.next(e))}catch(e){s(e)}}function o(e){try{r(a.throw(e))}catch(e){s(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,o)}r((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,a=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){c.label=s[1];break}if(6===s[0]&&c.label<i[1]){c.label=i[1],i=s;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(s);break}i[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],a=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},o=function(){function e(){}return e.prototype.SendSMS=function(e,t,n,o){return s(this,void 0,void 0,function(){var s;return c(this,function(c){switch(c.label){case 0:return t+=", To Unsubscribe SMS Alerts: "+window.location.origin+"/#"+n+"/UnsubscribeSMSAlerts/FullScreen",s={to:e,body:t},[4,fetch(i.g+"SendSMS",{mode:"cors",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/sparql-results+json"},body:Object(a.i)(s)})];case 1:return[2,c.sent()]}})})},e.prototype.SendSMS_Multiple=function(e,t,n,o,r){return s(this,void 0,void 0,function(){var s;return c(this,function(c){switch(c.label){case 0:return o&&(t+=", To Unsubscribe SMS Alerts: "+window.location.origin+"/#"+n+"/UnsubscribeSMSAlerts/FullScreen"),s={to:e,body:t},[4,fetch(i.g+"SendMultipleSMS",{mode:"cors",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/sparql-results+json"},body:Object(a.i)(s)})];case 1:return[2,c.sent()]}})})},e}()}});