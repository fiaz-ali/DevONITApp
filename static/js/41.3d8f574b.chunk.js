webpackJsonp([41],{1024:function(e,t,n){"use strict";t.d=function(e,t,n,i){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(a.f)({buildingName:e,model:t,isEdit:n,saveStages:i},a.a.TASKTEMPLATE.SAVEPHASE,l.b.TASK).then(function(){Object(o.b)("Workflow "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Workflow.")})];case 1:return[2,r.sent()]}})})},t.b=function(e,t,n){void 0===n&&(n=!0);return r(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(a.e)({buildingName:e,ontology:t},a.a.TASKTEMPLATE.GETPHASEDETAILLIST,l.b.TASK,n)];case 1:return[2,o.sent()]}})})},t.c=function(e,t,n){void 0===n&&(n=!0);return r(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(a.e)({buildingName:e,ontology:t},a.a.TASKTEMPLATE.GETPHASETEMPLATEDETAIL,l.b.TASK,n)];case 1:return[2,o.sent()]}})})},t.a=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,ontology:t},a.a.DEPENDENCY.GETDEPENDENCY,l.b.TASK,!0)];case 1:return[2,n.sent()]}})})};var a=n(9),l=n(10),o=n(8),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(l,o){function r(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){e.done?l(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,c)}i((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(l=2&o[0]?a.return:o[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,o[1])).done)return l;switch(a=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,a=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],a=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}},991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),l=(n.n(a),n(13)),o=n(1024),r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(l,o){function r(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){e.done?l(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,c)}i((a=a.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,a,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(l=2&o[0]?a.return:o[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,o[1])).done)return l;switch(a=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,a=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],a=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={objectEntryData:{ontology:Object(l.k)(7),rdfsLabel:"",workflowOntology:"",objectTemplateActions:[],workflow:Object()},workflows:[]},n._getPhaseDetails=n._getPhaseDetails.bind(n),n.handleWorkflowChange=n.handleWorkflowChange.bind(n),n}return r(t,e),t.prototype.componentDidMount=function(){return c(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._getPhaseDetails()];case 1:return e.sent(),[2]}})})},t.prototype._getPhaseDetails=function(){return c(this,void 0,void 0,function(){var e=this;return i(this,function(t){switch(t.label){case 0:return[4,Object(o.c)(this.props.buildingName).then(function(t){t.length>0&&t[0].ontology?e.setState({workflows:t}):e.setState({workflows:[]})})];case 1:return t.sent(),[2]}})})},t.prototype.handleWorkflowChange=function(e){var t=this.state,n=t.objectEntryData,a=t.workflows.find(function(t){return t.ontology==e});n.workflow=a,n.objectTemplateActions=[];for(var o=0;o<a.stageTemplates.length;o++){var r={ontology:Object(l.k)(7),directive:"",directiveType:"",assetType:"",assetLabel:"",assetOntology:"",dataEntry:"",rdfsLabel:"",unit:"",taskTemplateOntology:""};n.objectTemplateActions.push(r)}this.setState({objectEntryData:n})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,l=t.buildingName,o=this.state,r=o.objectEntryData,c=o.workflows;return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid small"},a.createElement("div",{className:"card no-margin",style:{minHeight:"100vh"}},a.createElement("div",{className:"row no-margin padding-10"},a.createElement("div",{className:"col-md-8"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row p-5"},a.createElement("div",{className:"col-md-12 headingText center"},a.createElement("h3",{className:"no-margin"},"Object Form Template"))),a.createElement("div",{className:"row no-margin my-2"},a.createElement("div",{className:"col-md-12 no-padding"},a.createElement("div",{className:"col-md-4 px-2 py-4 headingText"},"Object Form Template Name: "),a.createElement("div",{className:"col-md-6 px-2 py-2"},a.createElement("input",{type:"text",className:"form-control",value:r.rdfsLabel}))),a.createElement("div",{className:"col-md-12 no-padding"},a.createElement("div",{className:"col-md-4 px-2 py-4 headingText"},"ONIT Work Flow Template : "),a.createElement("div",{className:"col-md-6 px-2 py-2"},a.createElement("select",{className:"form-control",onChange:function(t){e.handleWorkflowChange(t.target.value)}},a.createElement("option",{value:""},"Select Work Flow"),c&&c.length>0&&c.map(function(e){return a.createElement("option",{value:e&&e.ontology},e&&e.description)}))))))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{style:{margin:6}},a.createElement("span",{className:"circle",style:{backgroundColor:"#A9CEF4",width:30,height:30,padding:"2px 8px",margin:10}}),"Visible"),a.createElement("div",{style:{margin:6}},a.createElement("span",{className:"circle",style:{backgroundColor:"black",width:30,height:30,padding:"2px 8px",margin:10}}),"Not Visible "),a.createElement("div",{style:{margin:6}}," ",a.createElement("span",{className:"circle",style:{backgroundColor:"red",width:30,height:30,padding:"2px 8px",margin:10}}),"Current Stage "),a.createElement("div",{style:{margin:6}}," ",a.createElement("span",{className:"circle",style:{backgroundColor:"gray",width:30,height:30,padding:"2px 8px",margin:10}}),"Disable "))))),a.createElement("div",{className:"col-md-12 p-2"},a.createElement("div",{className:"col-md-8"},a.createElement("div",{className:"row mx-1 p-2"},a.createElement("div",{className:"col-md-12 no-padding b-row-background"},a.createElement("div",{className:"col-md-3 py-3 grid-header"},"Directive "),a.createElement("div",{className:"col-md-2 py-3 grid-header"},"Directive Type"),a.createElement("div",{className:"col-md-3 py-3 grid-header"},"Asset Type"),a.createElement("div",{className:"col-md-2 py-3 grid-header"},"Asset"),a.createElement("div",{className:"col-md-2 py-3 grid-header"},"Unit")),r.objectTemplateActions&&r.objectTemplateActions.map(function(e){return a.createElement("div",{className:"col-md-12 no-padding"},a.createElement("div",{className:"col-md-3 p-1"},a.createElement("input",{type:"text",className:"form-control",value:e.directive,placeholder:"Action..."})),a.createElement("div",{className:"col-md-2 p-1"},a.createElement("select",{className:"form-control",value:e.directiveType},a.createElement("option",{value:""},"Select Action Type"),a.createElement("option",{value:""},"Scan QR"),a.createElement("option",{value:""},"Enter Data"),a.createElement("option",{value:""},"Upload Attachment"),a.createElement("option",{value:""},"Send Email"))),a.createElement("div",{className:"col-md-3 p-1"},a.createElement("select",{className:"form-control",value:e.assetType},a.createElement("option",{value:""},"Select Asset Type"),a.createElement("option",{value:""},"Equipment"),a.createElement("option",{value:""},"Space"),a.createElement("option",{value:""},"Zone"),a.createElement("option",{value:""},"Point"))),a.createElement("div",{className:"col-md-2 p-1"},a.createElement("select",{className:"form-control",value:e.assetOntology},a.createElement("option",{value:""},"Radiator"),a.createElement("option",{value:""},"AHU"))),a.createElement("div",{className:"col-md-2 p-1"},a.createElement("select",{className:"form-control",value:e.assetOntology},a.createElement("option",{value:""},"PSI"),a.createElement("option",{value:""},"KG"))))}))),a.createElement("div",{className:"col-md-4"},r.workflow&&r.workflow.stageTemplates&&r.workflow.stageTemplates.length&&a.createElement("div",{className:"row mx-1 p-2"},a.createElement("div",{className:"col-md-12 px-0 b-row-background"},a.createElement("div",{className:"col-md-12 p-1 no-padding",style:{display:"block"}},r.workflow&&r.workflow.stageTemplates&&r.workflow.stageTemplates.map(function(e,t){return a.createElement("div",{className:"col-md-3 center grid-header py-3"}," ",t+1," ")}))),r.workflow&&r.workflow.stageTemplates&&r.workflow.stageTemplates.map(function(e,t){return a.createElement("div",{className:"col-md-12 p-1"},a.createElement("div",{className:"col-md-12 no-padding"},r.workflow&&r.workflow.stageTemplates&&r.workflow.stageTemplates.map(function(e,n){return a.createElement("div",{className:"col-md-3 py-3"},t==n&&a.createElement("span",{className:"circle",style:{backgroundColor:"red",width:30,height:30,padding:"2px 8px",margin:10}}),n<t&&a.createElement("span",{className:"circle",style:{backgroundColor:"#A9CEF4",width:30,height:30,padding:"2px 8px",margin:10}}),n>t&&a.createElement("span",{className:"circle",style:{backgroundColor:"gray",width:30,height:30,padding:"2px 8px",margin:10}}))})))})))))),a.createElement("br",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 inline-block"},a.createElement("button",{className:"btn btn-primary btn-fill",type:"button",onClick:function(){}},a.createElement("i",{className:"fa fa-save"})," Save"),a.createElement("button",{className:"btn btn-secondary btn-fill",onClick:function(){window.location.hash=n+"/"+l+"/Tickets"}},a.createElement("i",{className:"fa fa-angle-double-left"}),"  Back to ONIT Tickets")))))},t}(a.Component);t.default=s}});