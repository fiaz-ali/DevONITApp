webpackJsonp([58],{3223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=(n.n(a),n(927)),l=n(11),s=n(57),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,l){function s(e){try{r(a.next(e))}catch(e){l(e)}}function c(e){try{r(a.throw(e))}catch(e){l(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,c)}r((a=a.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,a,i,l,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],a=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={activityList:[]},n.fetchActivitiesList=n.fetchActivitiesList.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this.fetchActivitiesList()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.fetchActivitiesList=function(){return r(this,void 0,void 0,function(){var e,t,n=this;return o(this,function(a){switch(a.label){case 0:return e=this.props.pointId,t=[],this.props.buildingName?[4,Object(i.d)(this.props.buildingName).then(function(a){if(a&&a.length>0){for(var i=0;i<a.length;i++){var s=Object();s.action=Object(l.g)(a[i].action),s.notes=Object(l.g)(a[i].notes),s.ontology=Object(l.g)(a[i].ontology),s.pointLabel=Object(l.g)(a[i].pointLabel),s.point=Object(l.g)(a[i].point),s.pointTag=Object(l.g)(a[i].pointTag),s.reading=Object(l.g)(a[i].reading),s.status=Object(l.g)(a[i].status),s.unit=Object(l.g)(a[i].unit),s.completedOn=Object(l.g)(a[i].completedOn),s.upload=Object(l.g)(a[i].upload),t.push(s)}e&&(t=t.filter(function(t){return t.point==e&&"Pending"!=t.status})),n.setState({activityList:t})}})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this.props,t=e.instance,n=e.buildingName,i=this.state.activityList,l=new s.b;return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:""},a.createElement("div",{className:"row no-padding"},a.createElement("div",{className:"col-md-12"},a.createElement("button",{className:"btn btn-secondary btn-fill pull-left margin-left-right-5",onClick:function(){window.location.hash=t+"/"+n+"/Insights/EquipmentInsights"}},a.createElement("i",{className:"fa fa-angle-double-left"}),"  Back"))),a.createElement("br",null),a.createElement("div",{className:"card padding-10"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"row no-padding  hidden-xs hidden-sm"},a.createElement("div",{className:"col-md-3 small grid-header"},"Action"),a.createElement("div",{className:"col-md-2 small grid-header"},"Tag"),a.createElement("div",{className:"col-md-2 small grid-header"},"Reading"),a.createElement("div",{className:"col-md-2 small grid-header"},"Notes"),a.createElement("div",{className:"col-md-2 small grid-header"},"Date"),a.createElement("div",{className:"col-md-1 small grid-header"},"Attachment")),i&&i.map(function(e,t){return a.createElement("div",{className:"row no-padding",key:t},a.createElement("div",{className:"col-md-3 padding-10 small trim-data"},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Action"),e.action),a.createElement("div",{className:"col-md-2 padding-10 small trim-data"},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Tag"),e.pointTag),a.createElement("div",{className:"col-md-2 padding-10 small trim-data"},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Reading"),e.reading),a.createElement("div",{className:"col-md-2 padding-10 small trim-data"},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Notes"),e.notes),a.createElement("div",{className:"col-md-2 padding-10 small trim-data"},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Date"),new Date(e.completedOn).ToEasternDateTime()),a.createElement("div",{className:"col-md-1 padding-10 small center trim-data"},a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Attachment"),""!=e.upload?a.createElement("a",{href:l.GetSignedURL(s.a.DOCUMENT(),encodeURIComponent(e.upload)),target:"_blank"},a.createElement("i",{className:"fa fa-download"})):""))})))))))},t}(a.Component);t.default=d}});