webpackJsonp([42],{631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ZonesForm",function(){return w});var i,r=n(2),a=(n.n(r),n(952)),o=n(17),c=n(112),s=n(739),l=n(788),u=n(8),d=n(802),h=n(60),p=n(13),f=n(115),m=n(793),b=n(11),v=n(794),E=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,c)}s((i=i.apply(e,t||[])).next())})},S=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},w=function(e){function t(t){var n=e.call(this,t)||this;return n.state={Zone:Object(),_spaceList:[],_zoneTypes:[],spaceDropDownList:[],deviceList:[],_serviceProvidersList:[],isEdit:!1,devicesOriginalList:[],relayDevices:[]},i=n,n.handleZoneTypeChange=n.handleZoneTypeChange.bind(n),n.handleServiceProviderChange=n.handleServiceProviderChange.bind(n),n.handleServiceTypeChange=n.handleServiceTypeChange.bind(n),n.handleSubServiceProviderChange=n.handleSubServiceProviderChange.bind(n),n.handleMonconChange=n.handleMonconChange.bind(n),n.handleMonConDeviceTypeChange=n.handleMonConDeviceTypeChange.bind(n),n.handleDeviceList=n.handleDeviceList.bind(n),n.handleRelayDevices=n.handleRelayDevices.bind(n),n.onZoneChange=n.onZoneChange.bind(n),n.handleMultiSubServiceProviderChange=n.handleMultiSubServiceProviderChange.bind(n),n._fetchZone=n._fetchZone.bind(n),n.getMultiSelectDropDownLabel=n.getMultiSelectDropDownLabel.bind(n),n._fetchServiceProvidersList=n._fetchServiceProvidersList.bind(n),n.handleControllerEndPointChange=n.handleControllerEndPointChange.bind(n),n.fetchDevicesList=n.fetchDevicesList.bind(n),n._getSpacesList=n._getSpacesList.bind(n),n}return E(t,e),t.prototype.componentWillMount=function(){return g(this,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._getSpacesList()]:[3,4];case 1:return e.sent(),[4,this._getZoneTypesList()];case 2:return e.sent(),[4,this.fetchDevicesList()];case 3:e.sent(),e.label=4;case 4:return[2]}})})},t.prototype.componentDidMount=function(){return g(this,void 0,void 0,function(){var e,t,n=this;return S(this,function(i){return this.props.buildingName&&((e=this.props.zoneName)&&e.length>0?setTimeout(function(){return g(n,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return[4,this._fetchZone()];case 1:return e.sent(),[2]}})})},1e3):this.setState({Zone:Object(),isEdit:!1}),t=this.state._spaceList.map(function(e){return{value:Object(u.g)(e.ontology),label:Object(u.g)(e.rdfsLabel)}}),this.setState({spaceDropDownList:t})),[2]})})},t.prototype.fetchDevicesList=function(){return g(this,void 0,void 0,function(){var e,t;return S(this,function(n){switch(n.label){case 0:return[4,Object(m.e)(this.props.buildingName,!0)];case 1:return e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(u.g)(e.moncondevice),label:Object(u.g)(e.rdfsLabel)}}),this.setState({deviceList:t,devicesOriginalList:e}),[2]}})})},t.prototype._fetchZone=function(){return g(this,void 0,void 0,function(){var e=this;return S(this,function(t){switch(t.label){case 0:return[4,Object(l.a)(this.props.buildingName,this.props.zoneName).then(function(t){return g(e,void 0,void 0,function(){var e,n,r,a,o=this;return S(this,function(c){switch(c.label){case 0:return e=t[0],n=this.state.Zone,t.length>0?(r=[],e.controllerendpoint&&Object(u.g)(e.controllerendpoint)&&(r=Object(u.g)(e.controllerendpoint).indexOf(",")>0?Object(u.g)(e.controllerendpoint).split(","):[Object(u.g)(e.controllerendpoint)],n.controllerEndPoint=r.map(function(e,t){return{label:o.getMultiSelectDropDownLabel(e,o.state.deviceList),value:e}})),n.name=Object(u.g)(e.zone),n.rdfsLabel=Object(u.g)(e.rdfsLabel),n.type=Object(u.g)(e.type),n.zoneNo=Object(u.g)(e.zoneNo),[4,i._fetchServiceProvidersList(n.type)]):[3,4];case 1:return c.sent(),n.serviceType=Object(u.g)(e.servicetype),a=[],e.serviceprovider&&Object(u.g)(e.serviceprovider)&&(a=Object(u.g)(e.serviceprovider).indexOf(",")>0?Object(u.g)(e.serviceprovider).split(","):[Object(u.g)(e.serviceprovider)],n.serviceProvider=a.map(function(e,t){return{label:o.getMultiSelectDropDownLabel(e,o.state._serviceProvidersList),value:e}})),n.subServiceProvider=Object(u.g)(e.subserviceprovider),n.serviceType=Object(u.g)(e.servicetype),n.notes=Object(u.g)(e.notes),e.relayDevice&&Object(u.g)(e.relayDevice)?[4,this.fetchRelayControlSettings(n.controllerEndPoint[0].value).then(function(){var t=o.state.relayDevices;if(t){var i=Object(u.g)(e.relayDevice).indexOf(",")>0?Object(u.g)(e.relayDevice).split(","):[Object(u.g)(e.relayDevice)];n.relayDevice=[];for(var r=function(e){var r=i[e],a=t.find(function(e){return e.value==r});a&&n.relayDevice.push(a)},a=0;a<i.length;a++)r(a)}})]:[3,3];case 2:c.sent(),c.label=3;case 3:return e.selectedSpaces&&(n.selectedSpaces=e.selectedSpaces?Object(u.g)(e.selectedSpaces).split(",").map(function(e){return{label:o.getMultiSelectDropDownLabel(e,o.state.spaceDropDownList),value:e}}):[]),this.setState({Zone:n,isEdit:!this.props.isView&&!0}),[3,5];case 4:this.setState({Zone:Object(),isEdit:!1}),c.label=5;case 5:return[2]}})})}).catch(function(e){return e})];case 1:return t.sent(),[2]}})})},t.prototype.getMultiSelectDropDownLabel=function(e,t){var n=t,i=Object();return(i=n&&n.find(function(t){return t.value==e}))&&i.label},t.prototype._fetchServiceProvidersList=function(e){return g(this,void 0,void 0,function(){var t;return S(this,function(n){switch(n.label){case 0:return t=[],Object(c.a)(!0),"zoneHeat"==e&&(e="both"),[4,Object(l.g)(this.props.buildingName,e).then(function(e){for(var n=0;n<e.length;n++){var r={value:Object(u.g)(e[n].ontology),label:Object(u.g)(e[n].rdfsLabel)};t&&t.push(r)}i.setState({_serviceProvidersList:t})}).catch(function(e){return e})];case 1:return n.sent(),Object(c.a)(!1),[2]}})})},t.prototype.fetchRelayControlSettings=function(e){return g(this,void 0,void 0,function(){var t,n,i,r,a,o,c,s;return S(this,function(l){switch(l.label){case 0:return t=this.state.Zone,n=this.state.relayDevices,n=[],t.controllerEndPoint||t.controllerEndPoint[0]?(e||(e=t.controllerEndPoint[0].value),[4,Object(v.w)(e)]):[2];case 1:return(i=l.sent())[0]?(r=i[0],a=Object(u.g)(r.relayNames),o=a.split(","),n=o.map(function(e){return{value:e,label:e}}),[3,4]):[3,2];case 2:return c=this.props.buildingName,[4,Object(m.d)(e,c)];case 3:(s=l.sent())&&s.monitoringControlDeviceType&&-1==s.monitoringControlDeviceType.indexOf("OneRelay")?(n.push({label:"Relay 1",value:"Relay 1"}),n.push({label:"Relay 2",value:"Relay 2"}),n.push({label:"Relay 3",value:"Relay 3"}),n.push({label:"Relay 4",value:"Relay 4"})):n.push({label:"Relay",value:"Relay"}),l.label=4;case 4:return this.setState({relayDevices:n}),[2]}})})},t.prototype._getSpacesList=function(){return g(this,void 0,void 0,function(){var e,t=this;return S(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,[4,Object(s.b)(e).then(function(e){var n=e.map(function(e){return{value:Object(u.g)(e.ontology),label:Object(u.g)(e.rdfsLabel)}});t.setState({_spaceList:e,spaceDropDownList:n})})];case 1:return n.sent(),[2]}})})},t.prototype._getZoneTypesList=function(){return g(this,void 0,void 0,function(){var e,t=this;return S(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,[4,Object(l.h)(e).then(function(e){t.setState({_zoneTypes:e})})];case 1:return n.sent(),[2]}})})},t.prototype.handleDeviceList=function(){var e,t=this.state,n=t.Zone,i=t.devicesOriginalList;e=-1!=n.type.toLowerCase().indexOf("light")?i&&i.length>0&&i.filter(function(e){return-1!=Object(u.g)(e.moncontype).toLowerCase().indexOf("relay")}).map(function(e){return{value:Object(u.g)(e.moncondevice),label:Object(u.g)(e.rdfsLabel)}}):i&&i.length>0&&i.map(function(e){return{value:Object(u.g)(e.moncondevice),label:Object(u.g)(e.rdfsLabel)}}),n.controllerEndPoint=[],this.setState({deviceList:e})},t.prototype.handleRelayDevices=function(e){if(!this.props.isView){var t=this.state.Zone;t.relayDevice=e,this.setState({Zone:t})}},t.prototype.handleNameChange=function(e){if(!this.props.isView){var t=this.state.Zone;t.rdfsLabel=e,this.setState({Zone:t})}},t.prototype.handleZoneNoChange=function(e){if(!this.props.isView){var t=this.state.Zone;t.zoneNo=e,this.setState({Zone:t})}},t.prototype.handleZoneTypeChange=function(e){var t=this;if(!this.props.isView){var n=this.state.Zone;n.type=e,this.setState({Zone:n},function(){t._fetchServiceProvidersList(e)}),this.handleDeviceList()}},t.prototype.handleMonConDeviceTypeChange=function(e){if(!this.props.isView){var t=this.state.Zone;t.monitoringControlDeviceType=e,this.setState({Zone:t})}},t.prototype.handleServiceProviderChange=function(e){if(!this.props.isView){var t=this.state.Zone;t.serviceProvider=e,this.setState({Zone:t})}},t.prototype.handleControllerEndPointChange=function(e){var t=this;if(!this.props.isView){var n=this.state.Zone;n.controllerEndPoint=[],n.controllerEndPoint.push(e),this.setState({Zone:n},function(){t.fetchRelayControlSettings()})}},t.prototype.handleServiceTypeChange=function(e){if(!this.props.isView){var t=this.state.Zone;t.serviceType=e,this.setState({Zone:t})}},t.prototype.handleSubServiceProviderChange=function(e){if(!this.props.isView){var t=this.state.Zone;t.subServiceProvider=e,this.setState({Zone:t})}},t.prototype.handleMultiSubServiceProviderChange=function(e){if(!this.props.isView){var t=this.state.Zone;t.selectedSpaces=e,this.setState({Zone:t})}},t.prototype.handleMonconChange=function(e){if(!this.props.isView){var t=this.state.Zone;t.moncon=e,this.setState({Zone:t})}},t.prototype.onZoneChange=function(e){this.props.isView||this.setState({Zone:e})},t.prototype.handleNotesChange=function(e){if(!this.props.isView){var t=this.state.Zone;t.notes=e,this.setState({Zone:t})}},t.prototype.saveZone=function(e){return g(this,void 0,void 0,function(){var e,t,n,i;return S(this,function(r){switch(r.label){case 0:return e=this.props,t=e.instance,n=e.buildingName,i=this.state.Zone,this.state.isEdit?(Object(c.a)(!0),[4,Object(l.d)(n,i.name)]):[3,2];case 1:r.sent(),Object(c.a)(!1),r.label=2;case 2:return[4,Object(l.c)(i,n)];case 3:return r.sent(),window.location.hash=t+"/"+n+"/Zones",[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.isView,i=void 0!==n&&n,c=t.instance,s=t.buildingName,l=t.zoneName,u=this.state,m=u.Zone,v=u._zoneTypes,E=u._serviceProvidersList,g=u.deviceList,S=u.spaceDropDownList,w=u.relayDevices,O=JSON.parse(b.a.getItem("user")),y=Object(h.b)(O,"info-zone","write"),N=m&&m.rdfsLabel&&m.type&&!0,C=m.type&&"Floor"==m.type;return r.createElement(o.AppContext.Consumer,null,function(t){return r.createElement("div",{className:"content"},r.createElement("div",{className:"container-fluid"},i&&r.createElement(r.Fragment,null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12"},r.createElement(d.a,{workFlowSpaceList:e.props.workFlowSpaceList,inspectionOntology:"",instance:c,buildingName:s,tabName:"Zone",itemName:l}),y&&r.createElement("button",{className:"btn-sm btn-success btn-fill pull-right",onClick:function(e){setTimeout(function(){l&&m.rdfsLabel&&Object(p.p)(l,m.rdfsLabel),window.location.hash=c+"/"+s+"/EditZone/"+l},200)}},r.createElement("i",{className:"fa fa-edit"})," Edit "))),r.createElement("br",null)),r.createElement("div",{className:"card"},r.createElement("div",{className:"container-fluid padding-10"},r.createElement("div",{className:"row padding-10"},r.createElement("div",{className:"col-md-12"},r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"zonename"},C?"Floor":"Zone"," Name"))),r.createElement("div",{className:"col-md-4"},r.createElement("input",{type:"text",disabled:i,id:"zonename",className:"form-control",value:m.rdfsLabel,onChange:function(t){return e.handleNameChange(t.target.value)}})),!C&&r.createElement(r.Fragment,null,r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"zonetype"},"Zone Type"))),r.createElement("div",{className:"col-md-4"},r.createElement("div",{className:"dropdown"},r.createElement("button",{className:"btn btn-default btn-block dropdown-toggle",disabled:e.state.isEdit||i,type:"button","data-toggle":"dropdown"},m.type&&v&&v.find(function(e){return-1!==e.z.value.indexOf(m.type.substring(3))})?v.find(function(e){return-1!==e.z.value.indexOf(m.type.substring(3))}).zone.value:"Select Zone Type",r.createElement("span",{className:"caret"})),r.createElement("ul",{className:"dropdown-menu"},r.createElement("li",{className:"dropdown-header"},r.createElement("h5",null,r.createElement("b",null,"Space Group"))),v.filter(function(e){return"Space Group"==e.yname.value}).map(function(t,n){return r.createElement("li",{key:n},r.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.handleZoneTypeChange(t.z.value)}},t.zone.value))}),r.createElement("li",{className:"dropdown-header"},r.createElement("h5",null,r.createElement("b",null,"Service Zone"))),v.filter(function(e){return"Service Zone"==e.yname.value}).map(function(t,n){return r.createElement("li",{key:n},r.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.handleZoneTypeChange(t.z.value)}},t.zone.value))}))))))),!C&&r.createElement(r.Fragment,null,r.createElement("div",{className:"row padding-10"},r.createElement("div",{className:"col-md-12"},r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"serviceprovider"},"Service Provider"))),r.createElement("div",{className:"col-md-4"},r.createElement("div",null,r.createElement(f.a,{isDisabled:i,closeMenuOnSelect:!1,isMulti:!0,value:m.serviceProvider,onChange:e.handleServiceProviderChange,placeholder:"Service Provider",options:E}))),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"servicetype"},"Service Type"))),r.createElement("div",{className:"col-md-4"},r.createElement("select",{className:"form-control",id:"servicetype",disabled:i,onChange:function(t){return e.handleServiceTypeChange(t.target.value)}},r.createElement("option",{value:""},"Select Service Type"),a.b.map(function(e,t){return e.predicate===m.serviceType?r.createElement("option",{key:t,selected:!0,value:e.predicate},e.name):r.createElement("option",{key:t,value:e.predicate},e.name)}))))),r.createElement("div",{className:"row padding-10"},r.createElement("div",{className:"col-md-12"},r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"controllerendname"},"Controller EndName"))),r.createElement("div",{className:"col-md-4"},r.createElement("div",null,r.createElement(f.a,{isDisabled:i,closeMenuOnSelect:!1,isMulti:!1,value:m.controllerEndPoint,onChange:e.handleControllerEndPointChange,placeholder:"Select Devices",options:g}))),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"controllerendname"},"Spaces"))),r.createElement("div",{className:"col-md-4"},r.createElement("div",null,r.createElement(f.a,{isDisabled:i,closeMenuOnSelect:!1,isMulti:!0,value:m.selectedSpaces,onChange:e.handleMultiSubServiceProviderChange,placeholder:"Select Spaces",options:S}))))),r.createElement("div",{className:"row padding-10"},r.createElement("div",{className:"col-md-12"},m.type&&-1!=m.type.toLowerCase().indexOf("light")&&r.createElement(r.Fragment,null,r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"controllerendname"},"Relay"))),r.createElement("div",{className:"col-md-4"},r.createElement("div",null,r.createElement(f.a,{isDisabled:i,closeMenuOnSelect:!1,isMulti:!0,value:m.relayDevice,onChange:e.handleRelayDevices,placeholder:"Select Relay",options:w})))),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"zoneNo"},C?"Floor":"Zone"," Zone No."))),r.createElement("div",{className:"col-md-4"},r.createElement("input",{type:"number",disabled:i,id:"zoneNo",className:"form-control",value:m.zoneNo,onChange:function(t){return e.handleZoneNoChange(t.target.value)}})))),r.createElement("div",{className:"row padding-10"},r.createElement("div",{className:"col-md-12"},r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"notes"},"Notes"))),r.createElement("div",{className:"col-md-10"},r.createElement("input",{type:"text",id:"notes",className:"form-control",disabled:i,value:m.notes,onChange:function(t){return e.handleNotesChange(t.target.value)}}))))),!i&&r.createElement("div",{className:"row"},r.createElement("br",null),r.createElement("br",null),r.createElement("div",{className:"col-md-12 inline-block"},r.createElement("button",{className:"btn btn-primary btn-fill",disabled:!N,onClick:function(){t.onChangeZone(Object()),e.saveZone(t.selectedBuilding)}},r.createElement("i",{className:"fa fa-save"})," Save"),r.createElement("button",{className:"btn btn-secondary btn-fill",onClick:function(){window.location.hash=c+"/"+s+"/Zones"}},r.createElement("i",{className:"fa fa-window-close"})," Cancel")))))))})},t}(r.Component);t.default=w},726:function(e,t,n){"use strict";t.p=function(e,t,n,s){return o(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(a.f)({buildingName:e,equipment:t,isEdit:n},a.a.EQUIPMENT.SaveEquipment,i.b.EQUIP).then(function(){1==s||Object(r.b)("Equipment "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Equipment.")})];case 1:return[2,o.sent()]}})})},t.o=function(e,t,n,s){return o(this,void 0,void 0,function(){var o;return c(this,function(c){switch(c.label){case 0:return o=!!n.name,[4,Object(a.f)({buildingName:e,equipmentName:t,component:n,counter:s},a.a.EQUIPMENT.SaveComponent,i.b.EQUIP).then(function(){Object(r.b)("Component(s) "+(o?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Component(s).")})];case 1:return[2,c.sent()]}})})},t.q=function(e,t,n,s){return o(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(a.f)({isEdit:e,buildingName:t,equipmentName:n,lightingInformation:s},a.a.EQUIPMENT.SaveLightingInformation,i.b.EQUIP).then(function(){Object(r.b)("Lighting Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Lighting Info.")})];case 1:return[2,o.sent()]}})})},t.r=function(e,t,n,s,l){return o(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(a.f)({isEdit:e,buildingName:t,equipmentName:n,plugLoadModel:s,isCustom:l},a.a.EQUIPMENT.SavePlugLoadModel,i.b.EQUIP).then(function(){Object(r.b)("Plugload Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Plugload Info.")})];case 1:return[2,o.sent()]}})})},t.d=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.FetchEquipments,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.j=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetEquipmentDetails,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.e=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.GetAllCoolingAndHeatingEquipmentsList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.f=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.GetAllEquipmentExceptCoolingAndHeatingList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.g=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.GetAllEquipmentsList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.k=function(){return o(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,Object(a.e)({},a.a.EQUIPMENT.GetEquipmentTypeList,i.b.EQUIP)];case 1:return[2,e.sent()]}})})},t.m=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({typeName:e,distance:t},a.a.EQUIPMENT.GetSubClassTypeListForEquipment,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.h=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({typeName:e,distance:t},a.a.EQUIPMENT.GetComponentTypesList,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.c=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.FetchEquipmentExportData,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.i=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetComponents,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.l=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetFixtures,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.n=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetTypeByEquipmentName,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.b=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.FetchPowerSource,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.FetchPlugLoad,i.b.EQUIP)];case 1:return[2,n.sent()]}})})};var i=n(7),r=n(6),a=n(5),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,c)}s((i=i.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}},739:function(e,t,n){"use strict";t.g=function(e,t,n,r){return o(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(a.e)({buildingName:e,spaceName:t,spaceWithCalendar:n},a.a.SPACES.GETSPACES,i.b.SPACE,r)];case 1:return[2,o.sent()]}})})},t.c=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(a.e)({floor:e,buildingName:t},a.a.SPACES.GetLocationsList,i.b.SPACE,n)];case 1:return[2,r.sent()]}})})},t.d=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({zone:e,buildingName:t},a.a.SPACES.getLocationsListSpacesByZones,i.b.SPACE)];case 1:return[2,n.sent()]}})})},t.b=function(e,t,n){void 0===n&&(n=!0);return o(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(a.e)({buildingName:e,type:t},a.a.SPACES.GetAllLocationsList,i.b.SPACE,n)];case 1:return[2,r.sent()]}})})},t.a=function(e,t,n,s,l){return o(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(a.f)({buildingName:e,model:t,floor:n,isEdit:s,spacetoUpdate:l},a.a.SPACES.SAVESPACE,i.b.SPACE).then(function(){Object(r.b)("Space "+(s?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Space.")})];case 1:return[2,o.sent()]}})})},t.f=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.SPACES.GetSpaceTypesList,i.b.SPACE)];case 1:return[2,t.sent()]}})})},t.e=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({spaceName:e},a.a.SPACES.GetSpaceOptimalInfo,i.b.SPACE)];case 1:return[2,t.sent()]}})})},t.h=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({spaceToUpdate:e},a.a.SPACES.UpdateSpaceOptimalInfo,i.b.SPACE).then(function(){Object(r.b)("Space Updated Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Space.")})];case 1:return[2,t.sent()]}})})};var i=n(7),r=n(6),a=n(5),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,c)}s((i=i.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}},772:function(e,t){e.exports={APIKey:"f51abd3013784ac6a0985f87f5ecbf03",Version:"3.2"}},788:function(e,t,n){"use strict";t.a=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(a.e)({buildingName:e,zoneName:t,bimSid:n},a.a.ZONES.GETZONES,i.b.ZONE)];case 1:return[2,r.sent()]}})})},t.b=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({buildingName:e,floor:t},a.a.ZONES.SAVEFLOOR,i.b.ZONE).then(function(){Object(r.b)("Floor Added Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Floor.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({model:e,buildingName:t},a.a.ZONES.SAVEZONE,i.b.ZONE).then(function(){Object(r.b)("Zone Added Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Zone.")})];case 1:return[2,n.sent()]}})})},t.f=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.ZONES.GETFLOORLIST,i.b.ZONE)];case 1:return[2,t.sent()]}})})},t.g=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentType:t},a.a.ZONES.GETSERVICEPROVIDERSLIST,i.b.ZONE)];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,excludeFloors:t},a.a.ZONES.GetAllZonesList,i.b.ZONE)];case 1:return[2,n.sent()]}})})},t.h=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.ZONES.GetZoneTypesList,i.b.ZONE)];case 1:return[2,t.sent()]}})})},t.d=function(e,t){return o(this,void 0,void 0,function(){var n=this;return c(this,function(s){switch(s.label){case 0:return[4,Object(a.f)({buildingName:e,zoneName:t},a.a.ZONES.DELETEZONE,i.b.ZONE).then(function(){return o(n,void 0,void 0,function(){return c(this,function(e){return Object(r.b)("Zone Deleted Successfully."),[2]})})}).catch(function(e){Object(r.a)("Error occured while deleting.")})];case 1:return[2,s.sent()]}})})};var i=n(7),r=n(6),a=n(5),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,c)}s((i=i.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}},791:function(e,t,n){"use strict";var i=n(2),r=(n.n(i),n(38)),a=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={sdk:Object(),isStarted:!1,selectedSteps:n.props.sweeps,modelDetails:Object(),spaceDetails:[],currentSweep:Object(),matterTags:[],floorDetails:Object(),logMessage:"",sdkReady:!1,hasStartSweep:!1,startSweep:Object(),isViewForm:n.props.isViewForm,prevSweepIndex:0,onPropsReceivedStateChanged:!1,linkBimism:n.props.bimURL,destinationSweeps:n.props.sweeps,addCurrentSweep:!1,sweepPosition:Object()},n.loadSDK=n.loadSDK.bind(n),n.loadFrame=n.loadFrame.bind(n),n.toggleTourStartStop=n.toggleTourStartStop.bind(n),n.toggleTourSweepsStartStop=n.toggleTourSweepsStartStop.bind(n),n.addCurrentSweep=n.addCurrentSweep.bind(n),n.toggleAddingSweep=n.toggleAddingSweep.bind(n),n.removeSweep=n.removeSweep.bind(n),n.setDialogState=n.setDialogState.bind(n),n.onSaveHandle=n.onSaveHandle.bind(n),n}return a(t,e),t.prototype.componentWillReceiveProps=function(e){(0==this.state.selectedSteps.length&&e.sweeps.length>0||e.isSweepChangeable)&&(this.setState({selectedSteps:e.sweeps,hasStartSweep:!0,startSweep:e.sweeps[0],onPropsReceivedStateChanged:!0}),e.isSweepChangeable&&this.props.onSweepChangeable(e.isSweepChangeable)),e.bimURL&&this.setState({linkBimism:e.bimURL}),e.sweeps&&this.setState({destinationSweeps:e.sweeps}),this.setState({addCurrentSweep:e.addCurrentSweep})},t.prototype.componentDidUpdate=function(){this.state.onPropsReceivedStateChanged&&this.setState({onPropsReceivedStateChanged:!1})},t.prototype.onSaveHandle=function(){var e=this.state.selectedSteps,t=this.state.sweepPosition;this.props.onSaveClickButton(e,t)},t.prototype.toggleAddingSweep=function(){window.toggleStartStopAddingSweep()},t.prototype.toggleTourStartStop=function(){window.toggleTourSelectedSweep()},t.prototype.toggleTourSweepsStartStop=function(e){window.toggleTourSweepsSelectedSweep(e)},t.prototype.addCurrentSweep=function(){window.addCurrentSweep()},t.prototype.removeSweep=function(e){window.removeSweep(e)},t.prototype.setDialogState=function(e,t,n,i,r,a,o,c,s,l){null!=e&&this.setState({isStarted:e}),null!=t&&this.setState({isTourSelected:t}),null!=n&&this.setState({selectedSteps:n}),null!=i&&this.setState({modelDetails:i}),null!=r&&this.setState({currentSweep:r}),null!=a&&this.setState({logMessage:a}),null!=c&&this.setState({prevSweepIndex:c}),null!=s&&this.setState({sweepPosition:s}),null!=o&&this.setState({sdkReady:o}),null!=l&&(this.setState({sdk:l}),this.loadFrame(l,this.setDialogState,this.state))},t.prototype.loadSDK=function(e,t){var i=n(772),r=i.APIKey,a=i.Version,o=document.getElementById("showcase");window.MP_SDK.connect(o,r,a).then(function(t){console.log("SDK Connected!"),e(null,null,null,null,null,null,null,null,null,t)}).catch(function(e){console.log("Error while connecting with Matterport SDK")})},t.prototype.loadFrame=function(e,t,n){var i=this.state,r=i.modelDetails,a=i.currentSweep,o=i.isStarted,c=i.isTourSelected,s=i.selectedSteps,l=i.sdkReady,u=i.startSweep,d=i.hasStartSweep,h=i.isViewForm,p=i.prevSweepIndex,f=i.addCurrentSweep;function m(e){if(s.length>0){var t=s.find(function(t){return t.uuid==e});if(null!=t||""+t!="undefined"){var n="Sweep "+t.uuid+" of index "+t.uuidIndex+" is already added in the current list";return console.log(n),!0}}return!1}l||e.App.state.subscribe(function(n){n.phase===e.App.Phase.LOADING&&console.log("The app has started loading!"),n.phase===e.App.Phase.STARTING&&console.log("The transition into the start location begins!"),n.phase===e.App.Phase.PLAYING&&(console.log("The app is ready to take user input now!"),l=!0,t(null,null,null,null,null,null,!0),d&&window.goToSweep(u.uuid),f&&(s=[],window.setTimeout(function(){window.addCurrentSweep()},2e3)))}),e.Model.getData().then(function(e){console.log("Model data loaded for sid:",e.sid),t(null,null,null,r=e)}),window.addSweep=function(e){var n=r.sweeps.find(function(t){return t.uuid==e});t(null,null,null,null,a=n);var i=r.sweeps.indexOf(n);if(!m(a.uuid)){s.push({uuid:a.uuid,uuidIndex:i,stepNo:s.length});var o="Sweep "+a.uuid+" of index "+i+" is added in the current list";console.log(o)}},window.addCurrentSweep=function(){e.Camera.getPose().then(function(e){var n=r.sweeps.find(function(t){return t.uuid==e.sweep});t(null,null,null,null,a=n);var i=r.sweeps.indexOf(n);if(!m(a.uuid)){s.push({uuid:a.uuid,uuidIndex:i,stepNo:s.length});var o=e.position;t(null,null,s,null,null,null,null,null,o);var c="Sweep "+a.uuid+" of index "+i+" is added in the current list";console.log(c)}})},window.removeSweep=function(e){var n=s.find(function(t){return t.uuid==e}),i=s.indexOf(n);if(i>-1){s.splice(i,1),t(null,null,s);var r="Sweep "+n.uuid+" of index "+n.uuidIndex+" is removed from the current list";console.log(r)}},window.goToSweep=function(t){console.log("Will move to "+t),e.Sweep.moveTo(t,{transition:e.Sweep.Transition.FLY}).then(function(e){var n="Moved to sweep "+t;console.log(n)}).catch(function(e){console.log("Error: "+JSON.stringify(e))})},e.on(e.Sweep.Event.ENTER,function(){if(c)return!1;e.Camera.getPose().then(function(e){if("mode.inside"==e.mode||"mode.outside"==e.mode)if(h&&s.length>0){var n=s.find(function(t){return t.uuid==e.sweep});if(null!=n&&""+n!="undefined"){var i="Moved to sweep "+n.uuid;console.log(i),p=s.indexOf(n),t(null,null,null,null,null,null,null,p)}else{i="Not allowed in the current step ";console.log(i),window.goToSweep(s[p].uuid)}}else console.log("Current Sweep is: "+JSON.stringify(e.sweep)),o&&0==s.length&&window.addCurrentSweep()})})},t.prototype.render=function(){var e=this;this.props.isRefreshDialog&&(this.setState({isStarted:!1,isTourSelected:!1,selectedSteps:[],modelDetails:Object(),spaceDetails:[],currentSweep:Object(),matterTags:[],floorDetails:Object(),logMessage:"",sdkReady:!1,hasStartSweep:!1,startSweep:Object(),isViewForm:this.props.isViewForm,prevSweepIndex:0,onPropsReceivedStateChanged:!1,linkBimism:this.props.bimURL,destinationSweeps:[]}),this.props.onRefreshMatterport(!1));var t=this.props,n=t.id,a=t.heading,o=t.isViewForm,c=t.showSaveButton,s=this.state,l=s.isStarted,u=s.selectedSteps,d=s.logMessage,h=s.sdkReady,p=0,f=this.state.linkBimism;f&&!f.includes("&utm_source=sdkdebug&play=0&tourcta=0")&&(f+="&utm_source=sdkdebug&play=0&tourcta=0");var m=!1;return m=!h||(u.length>0||l),i.createElement(r.a,{id:n,saveButtonText:"Save",heading:a,isEditForm:!0,showSaveButton:c,showCancelButton:o,onSaveButtonClick:function(){e.onSaveHandle()}},i.createElement("div",{className:""},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("iframe",{id:"showcase",src:f,onLoad:function(){e.loadSDK(e.setDialogState,e.state)},width:"100%",height:"400",frameBorder:"0",allowFullScreen:!0}))),!o&&i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-7 col-xs-12"},i.createElement("button",{type:"button",id:"btnAddCurrentStep",disabled:m,title:"Add current step",className:"btn btn-primary btn-fill matterport-dialog-btn-tour-margin",onClick:this.addCurrentSweep},i.createElement("i",{className:"fa fa-thumb-tack"})),i.createElement("br",null),i.createElement("br",null),i.createElement("span",{className:"small-font-list"},d)),i.createElement("div",{className:"col-md-5 col-xs-12"},i.createElement("table",null,i.createElement("tr",null,i.createElement("th",null,"Step"),i.createElement("th",null)),u&&u.map(function(t){return p+=1,i.createElement("tr",null,i.createElement("td",{className:"link",onClick:function(){h&&window.goToSweep(t.uuid)}},"Step ",p,": ",i.createElement("input",{type:"checkbox",disabled:!0,checked:!0,style:{cursor:"pointer"}})),i.createElement("td",null,!o&&h&&i.createElement("button",{type:"button",title:"Remove step",onClick:function(){e.removeSweep(t.uuid)},className:"btn btn-light matterport-dialog-btn-no-border"},i.createElement("i",{className:"fa fa-times"}))))})))))))},t}(i.Component);t.a=o},793:function(e,t,n){"use strict";t.b=function(e,t,n){return c(this,void 0,void 0,function(){return s(this,function(o){switch(o.label){case 0:return[4,Object(a.f)({model:e,buildingName:t,isEdit:n},a.a.DEVICES.UPDATEDEVICE,i.b.POINT).then(function(){Object(r.b)("Device "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Device.")})];case 1:return[2,o.sent()]}})})},t.e=function(e,t){return c(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.DEVICES.GETDEVICEDETAIL,i.b.POINT,t)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return c(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({DeviceID:e,buildingName:t},a.a.DEVICES.CheckDeviceID,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.f=function(){return c(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,Object(a.e)({},a.a.DEVICES.GETDEVICETYPELIST,i.b.POINT)];case 1:return[2,e.sent()]}})})},t.g=function(e,t){return c(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({newEquipmentType:e,buildingName:t},a.a.DEVICES.SaveEquipmentType,i.b.POINT).then(function(){Object(r.b)("New Equipment Type Added Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving New Equipment type.")})];case 1:return[2,n.sent()]}})})},t.d=function(e,t){return c(this,void 0,void 0,function(){var n,r,l,u,d,h;return s(this,function(p){switch(p.label){case 0:return t?[4,function(e,t,n){return c(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,Object(a.e)({buildingName:e,pointName:t,deviceName:n},a.a.DEVICES.GETDEVICEDETAIL,i.b.POINT)];case 1:return[2,r.sent()]}})})}(t,null,e)]:[2];case 1:return n=p.sent(),r=Object(),n&&n.length>0&&(l=n[0],r.monitoringControl=Object(o.g)(l.moncondevice),r.monitoringControlDeviceType=Object(o.g)(l.moncontype),r.deviceName=Object(o.g)(l.moncondevice),r.deviceID=Object(o.g)(l.deviceID),r.rdfsLabel=Object(o.g)(l.rdfsLabel),r.manufacturer=Object(o.g)(l.manufacturer),r.model=Object(o.g)(l.model),r.graphURL=Object(o.g)(l.graphURL),r.location=Object(o.g)(l.location),r.floor=Object(o.g)(l.floor),r.connectionType=Object(o.g)(l.connectiontype),r.notes=Object(o.g)(l.notes),r.setpointRangeFrom=Object(o.g)(l.setpointRangeFrom),r.setpointRangeTo=Object(o.g)(l.setpointRangeTo),r.createdby=Object(o.g)(l.createdby),r.adminPassword=Object(o.g)(l.adminPassword),r.onitUrlLink=Object(o.g)(l.onitUrlLink),r.relayLightingType=Object(o.g)(l.relayLightingType),r.boardAddress=Object(o.g)(l.boardAddress),u=[],l.relatedEquipment&&l.relatedEquipment.value&&(u=l.relatedEquipment.value.indexOf(",")>0?l.relatedEquipment.value.split(","):[l.relatedEquipment.value]),r.relatedEquipment=u.map(function(e,t){return{label:e,value:e}}),d=[],l.strategy&&l.strategy.value&&(d=l.strategy.value.indexOf(",")>0?l.strategy.value.split(","):[l.strategy.value]),r.strategy=d.map(function(e,t){return{label:e,value:e}}),h=[],l.sensors&&l.sensors.value&&(h=l.sensors.value.indexOf(",")>0?l.sensors.value.split(","):[l.sensors.value]),r.sensors=h.map(function(e,t){return{label:e,value:e}}),r.isExisting="false"!=Object(o.g)(l.isExisting),r.wirelessConfig={ipAddress:Object(o.g)(l.ipaddress),controllerIPAddress:Object(o.g)(l.controllerIPAddress),thermostatMacAddress:Object(o.g)(l.macaddress),ssid:Object(o.g)(l.ssid),password:Object(o.g)(l.password)},r.isSchedule="true"==Object(o.g)(l.isSchedule)),[2,r]}})})},t.c=function(e){return c(this,void 0,void 0,function(){var t,n,i,r;return s(this,function(a){if(t=[],e.length>0)for(n=0;n<e.length;n++)i=Object(),r=e[n],i.aa_DeviceName=r.moncontype,i.ab_DeviceID=r.deviceID,i.ac_Manufacturer=r.manufacturer,i.ad_Model=r.model,i.ba_Floor=r.rdfsLabelFloor,i.bb_FloorCode=r.floor,i.bc_Space=r.rdfsLabelLocation,i.bd_SpaceCode=r.location,i.ca_Equipment=r.rdfsLabel,i.cb_Equipmentcode=r.moncondevice,i.cc_Connection=r.connectiontype,i.cd_OnitUrlLink=r.onitUrlLink,t.push(i);return[2,t]})})};var i=n(7),r=n(6),a=n(5),o=n(8),c=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,c)}s((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}},794:function(e,t,n){"use strict";t.t=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.FetchInsights_Export,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.s=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.FetchInsights,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.p=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.FetchInsightExportData,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.q=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchInsightInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.E=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({Moncon:e,InsightInfo:t,Old_InsightInfo:n},r.a.DEVICES.PostInsightChanges,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.r=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.e)({buildingName:e,insightName:t,isBuilding:n},r.a.DEVICES.FetchInsightSchedule,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.K=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({model:e,buildingName:t,isBuilding:n},r.a.DEVICES.SaveInsightSchedule,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.J=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({model:e,buildingName:t,isBuilding:n},r.a.DEVICES.ResetInsightSchedule,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.l=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchCeilingSensorBoardInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.B=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({Moncon:e,ceilingSensorBoardInfo:t,Old_CeilingSensorBoardInfo:n},r.a.DEVICES.PostCeilingSensorBoardChanges,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.h=function(e,t,n,a){return o(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(r.f)({model:e,buildingName:t,insightName:n,spaceName:a},r.a.DEVICES.SaveADP,i.b.POINT)];case 1:return[2,o.sent()]}})})},t.j=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.DEVICES.SaveRelayADP,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.b=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({building:e,device:t},r.a.DEVICES.GetRelayADP,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.u=function(e){return o(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return[4,Object(r.d)(r.a.DEVICES.GetIntesisHomeConfig,"buildingName="+e)];case 1:return(t=n.sent())&&t[0]?[2,t[0]]:[2,void 0]}})})},t.F=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({DeviceID:e,serviceName:t,serviceValue:n},r.a.DEVICES.PostIntesisChanges,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.A=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({buildingName:e,DeviceID:t,services:n},r.a.DEVICES.GetIntesisData,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.d=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.GetIntesisHomeCredentials,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.i=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({buildingName:e,clientID:t,clientSecret:n},r.a.DEVICES.SaveIntesisHomeCredentials,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.N=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({InsightName:e,isSchedule:t},r.a.DEVICES.SaveScheduleSelected,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.c=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({deviceID:e,from:t,to:n},r.a.DEVICES.GetIntesisGraphData,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.f=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({deviceName:e,from:t,to:n},r.a.DEVICES.GetRelayV4GraphData,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.e=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({deviceName:e,from:t,to:n},r.a.DEVICES.GetRelayI1GraphData,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.m=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({InsightName:e},r.a.DEVICES.GetDeviceADP,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.x=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({spaceName:e},r.a.DEVICES.GetSpaceADP,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.y=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchV4RelayBoardInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.I=function(e,t,n,a){return o(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(r.f)({Moncon:e,isSetAll:t,isSetOn:n,relayNo:a},r.a.DEVICES.PostV4RelayBoardChanges,i.b.POINT)];case 1:return[2,o.sent()]}})})},t.n=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchI1RelayBoardInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.C=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({Moncon:e,isSetOn:t},r.a.DEVICES.PostI1RelayBoardChanges,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.o=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchI4RelayBoardInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.D=function(e,t,n,a){return o(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,Object(r.f)({Moncon:e,isSetAll:t,isSetOn:n,relayNo:a},r.a.DEVICES.PostI4RelayBoardChanges,i.b.POINT)];case 1:return[2,o.sent()]}})})},t.v=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({building:e,device:t},r.a.DEVICES.FetchRelayCensorStatus,i.b.POINT,!0)];case 1:return[2,n.sent()]}})})},t.H=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.DEVICES.PostRelayBoardOptimizeSettings,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.L=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({building:e,relayCensorStatus:t},r.a.DEVICES.SaveRelayCensorStatus,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.w=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({device:e},r.a.DEVICES.FetchRelayControlSettings,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.M=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.DEVICES.SaveRelayControlSettings,i.b.POINT).then(function(){Object(a.b)("Relay control settings saved successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Relay Control Settings.")})];case 1:return[2,t.sent()]}})})},t.k=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({timeIntervalLog:e},r.a.DEVICES.SaveTimeIntervalLog,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.g=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.GetTimeIntervalLog,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.G=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.DEVICES.PostRelayBoardControlSettings,i.b.POINT).catch(function(t){Object(a.a)("Error occured while posting Relay "+e.relaynum+" Control Settings.")})];case 1:return[2,t.sent()]}})})},t.z=function(e){var t=Object();t.activestage=0,t.availablemodes=0,t.away=0,t.cooltemp=0,t.cooltempmax=0,t.cooltempmin=0,t.fan=0,t.fanstate=0,t.heattemp=0,t.heattempmax=0,t.heattempmin=0,t.mode=0,t.schedule=0,t.schedulepart=0,t.spacetemp=0,t.state=0,t.tempunits=0,t.name="";for(var n=0;n<e.length;n++){var i=e[n];t.cooltemp+=i.cooltemp?i.cooltemp:0,t.cooltempmax+=i.cooltempmax?i.cooltempmax:0,t.cooltempmin+=i.cooltempmin?i.cooltempmin:0,t.fan+=i.fan?i.fan:0,t.fanstate+=i.fanstate?i.fanstate:0,t.heattemp+=i.heattemp?i.heattemp:0,t.heattempmax+=i.heattempmax?i.heattempmax:0,t.heattempmin+=i.heattempmin?i.heattempmin:0,t.mode+=i.mode?i.mode:0,t.schedule+=i.schedule?i.schedule:0,t.schedulepart+=i.schedulepart?i.schedulepart:0,t.spacetemp+=i.spacetemp?i.spacetemp:0,t.activestage+=i.activestage?i.activestage:0,t.availablemodes+=i.availablemodes?i.availablemodes:0,t.away+=i.away?i.away:0,t.state+=i.state?i.state:0,t.tempunits+=i.tempunits?i.tempunits:0,"THERMOSTAT"==i.name&&(t.name=i.name?i.name:"")}var r=e.length;return t.cooltemp=t.cooltemp/r,t.cooltempmax=t.cooltempmax/r,t.cooltempmin=t.cooltempmin/r,t.fan=t.fan/r,t.fanstate=t.fanstate/r,t.heattemp=t.heattemp/r,t.heattempmax=t.heattempmax/r,t.heattempmin=t.heattempmin/r,t.mode=t.mode/r,t.schedule=t.schedule/r,t.schedulepart=t.schedulepart/r,t.spacetemp=t.spacetemp/r,t.activestage=t.activestage/r,t.availablemodes=t.availablemodes/r,t.away=t.away/r,t.state=t.state/r,t.tempunits=t.tempunits/r,t},t.a=function(e){var t="",n=e;if(0==n)return"0";for(;n>0;)t=n%2==0?"0"+t:"1"+t,n=Math.floor(n/2);return t};var i=n(7),r=n(5),a=n(6),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,c)}s((i=i.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}},802:function(e,t,n){"use strict";var i=n(2),r=(n.n(i),n(116)),a=n(8),o=n(40),c=n(726),s=n(791),l=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,c)}s((i=i.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={virtualBIM:"",cadBIM:"",showCA:!1,showECM:!1,showRCX:!1,ECMCompleted:!1,RCXCompleted:!1,CACompleted:!1,workFlowSpaceList:[],equipmentSweeps:[],addCurrentSweep:!1,selectedVirtualBIM:""},n.updateInspectionButtonsVisibility=n.updateInspectionButtonsVisibility.bind(n),n}return l(t,e),t.prototype.componentWillReceiveProps=function(e){return u(this,void 0,void 0,function(){var t,n=this;return d(this,function(i){return"Equip"!=e.tabName&&"Space"!=e.tabName||(t=[],e.workFlowSpaceList&&e.workFlowSpaceList.length&&(t=e.workFlowSpaceList),this.setState({workFlowSpaceList:t},function(){return u(n,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,this.updateInspectionButtonsVisibility()];case 1:return e.sent(),[4,this.getBIM_Links()];case 2:return e.sent(),[2]}})})})),[2]})})},t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){var e,t=this;return d(this,function(n){return"Equip"!=this.props.tabName&&"Space"!=this.props.tabName||(e=[],this.props.workFlowSpaceList&&this.props.workFlowSpaceList.length&&(e=this.props.workFlowSpaceList),this.setState({workFlowSpaceList:e},function(){return u(t,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,this.updateInspectionButtonsVisibility()];case 1:return e.sent(),[2]}})})})),[2]})})},t.prototype.updateInspectionButtonsVisibility=function(){return u(this,void 0,void 0,function(){var e,t,n,i;return d(this,function(r){switch(r.label){case 0:return this.props.inspectionOntology?(e=this.state.workFlowSpaceList,t=localStorage.getItem("spaceOntology"),n=localStorage.getItem("equipmentType"),[4,Object(o.d)(this.props.tabName,t,n,e,this.props.itemName,this.props.inspectionOntology)]):[3,2];case 1:i=r.sent(),this.setState({showRCX:i.showRCX,showECM:i.showECM,showCA:i.showCA,RCXCompleted:i.RCXCompleted,ECMCompleted:i.ECMCompleted,CACompleted:i.CACompleted}),r.label=2;case 2:return[2]}})})},t.prototype.getBIM_Links=function(){return u(this,void 0,void 0,function(){var e=this;return d(this,function(t){switch(t.label){case 0:return[4,Object(r.d)(this.props.buildingName,this.props.itemName,this.props.tabName).then(function(t){if(t){var n=Object(a.g)(t.virtualBIM),i=Object(a.g)(t.cadBIM);e.setState({virtualBIM:n,cadBIM:i})}})];case 1:return t.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,r=t.buildingName,o=t.tabName,l=t.itemName,u=t.showDevicesButton,d=void 0!==u&&u,h=t.showComponentButton,p=void 0!==h&&h,f=t.showAuditTypes,m=void 0!==f&&f,b=t.showBIMButtons,v=void 0!==b&&b,E=this.state,g=E.virtualBIM,S=E.cadBIM,w=E.showCA,O=E.showECM,y=E.showRCX,N=E.ECMCompleted,C=E.RCXCompleted,I=E.CACompleted,P=E.equipmentSweeps,T=E.addCurrentSweep,D=E.selectedVirtualBIM,j=window.location.hash;return i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"content"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 col-sm-12 no-padding"},i.createElement("div",{className:"btn-group",id:"tabbtn"},i.createElement("a",{className:"btn "+(j.indexOf("/Profile")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+r+"/"+o+"/Profile/"+l},"Profile"),d&&i.createElement("a",{className:"btn "+(j.indexOf("/Devices")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+r+"/"+o+"/Devices/"+l},"Devices"),p&&i.createElement("a",{className:"btn "+(j.indexOf("/Components")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+r+"/"+o+"/Components/"+l},"Components"),i.createElement("a",{className:"btn "+(j.indexOf("/Related")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+r+"/"+o+"/Related/"+l},"Related"),i.createElement("a",{className:"btn "+(j.indexOf("/Documents")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+r+"/"+o+"/Documents/"+l},"Docs"),i.createElement("a",{className:"btn "+(j.indexOf("/SupplyChain")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+r+"/"+o+"/SupplyChain/"+l},"Supply"),m&&i.createElement("a",{className:"btn "+(j.indexOf("/P/")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",title:"Points",href:"#"+n+"/"+r+"/"+o+"/P/"+l},"Points"),"Space"==this.props.tabName&&i.createElement("a",{className:"btn "+(j.indexOf("/SpaceSchedule")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+r+"/"+o+"/SpaceSchedule/"+l},"Schedule"),i.createElement("span",{className:"hidden-xs hidden-sm spacebtn"}),m&&i.createElement("span",null,O&&i.createElement("a",{className:"btn "+(j.indexOf("/ECM")>0?"btn-fill":"")+" btn-dark",title:"Energy Conservation Measures",href:"#"+n+"/"+r+"/"+o+"/ECM/"+l},"ECM",N&&i.createElement("i",{className:"fa fa-check inspection-completed"})),y&&i.createElement("a",{className:"btn "+(j.indexOf("/RCX")>0?"btn-fill":"")+" btn-dark",title:"Retro-Commissioning",href:"#"+n+"/"+r+"/"+o+"/RCX/"+l},"RCX",C&&i.createElement("i",{className:"fa fa-check inspection-completed"})),w&&i.createElement("a",{className:"btn "+(j.indexOf("/CA")>0?"btn-fill":"")+" btn-dark",title:"Condition Assessment",href:"#"+n+"/"+r+"/"+o+"/CA/"+l},"CA",I&&i.createElement("i",{className:"fa fa-check inspection-completed"}))),i.createElement("span",{className:"hidden-xs hidden-sm spacebtn"}),v&&i.createElement("span",null,g&&"Equip"!=this.props.tabName&&i.createElement("a",{className:"btn btn-success",href:g&&g.indexOf("ttp")>0?g:"http://"+g,target:"_blank",title:g},"Virtual BIM"),g&&"Equip"==this.props.tabName&&i.createElement("button",{className:"btn btn-success",title:"Virtual BIM",onClick:function(){Object(c.j)(r,e.props.itemName).then(function(t){if(t.length>0){var n=t[0],i=Object(a.g)(n.sweep);if(i){var r=[],o=Object();o.uuid=i,r.push(o);var c=!(r.length>0)&&(g&&g.includes("camera_position")),s=g;e.setState({equipmentSweeps:r,addCurrentSweep:c,selectedVirtualBIM:s})}}document.getElementById("btnVirtualBIMDialog").click()})}},"Virtual BIM"),S&&i.createElement("button",{className:"btn btn-success",onClick:function(){window.open(S&&S.indexOf("ttp")>0?S:"http://"+S,"_blank")},title:S},"Digital Twin")))),v&&g&&i.createElement(i.Fragment,null,i.createElement("button",{id:"btnVirtualBIMDialog",className:"hidden","data-toggle":"modal","data-target":"#virtualBIMDialog",title:"Add"},". "),i.createElement(s.a,{id:"virtualBIMDialog",heading:"Virtual BIM Equipment View",showSaveButton:!1,sweeps:P,bimURL:D,isViewForm:!0,addCurrentSweep:T,buildingName:this.props.buildingName,isRefreshDialog:!1,isSweepChangeable:!1})," "))))},t}(i.Component);t.a=h},952:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var i=[{id:0,name:"Automated Alarm Required investigation"},{id:1,name:"Safety Issue with life and health impacts"},{id:2,name:"Critical Loss of Space based on complaint or equipment failure"},{id:3,name:"Uncomfortable situation or equipment issues- both time sensitive"},{id:4,name:"Uncomfortable situation or inefficient performance"},{id:5,name:"Aesthetic complaint or predictive/preventative maintenance - recurring"}],r=[{predicate:"deliversData",name:"Data"},{predicate:"deliversAir",name:"Air"},{predicate:"deliversCoolant",name:"Coolant"},{predicate:"deliversElectric",name:"Electric"},{predicate:"deliversGas",name:"Gas"},{predicate:"deliversHotWater",name:"HotWater"},{predicate:"deliversOil",name:"Oil"},{predicate:"deliversPOE",name:"POE"},{predicate:"deliversSteam",name:"Steam"}],a=[{id:1,name:" MISCELLANEOUS"},{id:2,name:"MISCELLANEOUS"},{id:3,name:"FRYER"},{id:4,name:"HOT CABINET"},{id:5,name:"SPLIT AC UNIT 20,000"},{id:6,name:"WALL AIR COND 20,000 BTU"},{id:7,name:"VENDING MACHINE BEV"},{id:8,name:"FREEZER COMMERICAL"},{id:9,name:"MISCELLANEOUS"},{id:10,name:"REFRIGERATOR, COMM"},{id:11,name:"VISI-COOLER DISPLAY CASE"},{id:12,name:"SPLIT AC UNIT 10,000"},{id:13,name:"WINDOW AIR COND 10,000BTU"},{id:14,name:"KILN"},{id:15,name:"DRYING OVEN OR STEAM INCUBATOR"},{id:16,name:"WATER FOUNTAIN"},{id:17,name:"STANDARD ELECT HEATER"},{id:18,name:"LED DISPLAY SIGN"},{id:19,name:"VENDING MACHINE SNACK"},{id:20,name:"MISCELLANEOUS"},{id:21,name:"ICE MAKER"},{id:22,name:"AIR CLEANER"},{id:23,name:"SPLIT AC UNIT 15,000"},{id:24,name:"WINDOW AIR 5,000 BTU"},{id:25,name:"EXTERNAL DRIVE"},{id:26,name:"REFRIGERATOR LARGE"},{id:27,name:"BOOKSHELVES MOBILE"},{id:28,name:"SMALL ELECTRIC HEATER"},{id:29,name:"COFFEE MAKER COMM"},{id:30,name:"MISCELLANEOUS"},{id:31,name:"STERILZER, HOT BEAD"},{id:32,name:"ROUTER"},{id:33,name:"CHARGER, DEFIBLATOR"},{id:34,name:'CEILING FAN - 30"-48"'},{id:35,name:"VIDEO PROCESSOR, RACK MOUNT"},{id:36,name:"REFRIGERATOR, MEDIUM"},{id:37,name:"DESKTOP"},{id:38,name:"WIDE FORMAT PRINTER "},{id:39,name:"PROJECTOR COMPUTER"},{id:40,name:"COFFEE MAKER LARGE"},{id:41,name:"LASER PRINTER "},{id:42,name:"COFFEE POT"},{id:43,name:"THIN CLIENT"},{id:44,name:"VITAL SIGNS MONITOR"},{id:45,name:"EXAM TABLE HEATED DRAWER"},{id:46,name:"COMPUTER SPEAKERS"},{id:47,name:"REFRIGERATOR, SMALL"},{id:48,name:"CRT"},{id:49,name:"PROJECTOR OVERHEAD"},{id:50,name:"MICROWAVE"},{id:51,name:"INCAND DESK LAMP 75W"},{id:52,name:"SPEAKERS"},{id:53,name:"SHREDDER"},{id:54,name:"LCD"},{id:55,name:"VCR"},{id:56,name:'FAN, MEDIUM 8"-16"'},{id:57,name:"ADDING MACHINE"},{id:58,name:"TV"},{id:59,name:"NOTEBOOK"},{id:60,name:"PHONE, POWERED"},{id:61,name:"CHARGER, OTO-OPTHAMOSCOPE"},{id:62,name:"EXTERNAL HD"},{id:63,name:"UPS"},{id:64,name:"ETHERNET/USB HUB"},{id:65,name:"UNDERCABINET LAMP"},{id:66,name:"PORTABLE LIGHTING"},{id:67,name:"EXAM LIGHT"},{id:68,name:"SWITCH, ETHERNET"},{id:69,name:"HUB, ETHERNET"},{id:70,name:"POWER STRIP"},{id:71,name:"None"}]}});