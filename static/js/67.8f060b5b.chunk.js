webpackJsonp([67],{695:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=(n.n(i),n(829)),c=n(8),r=n(39),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function r(e){try{l(i.next(e))}catch(e){c(e)}}function s(e){try{l(i.throw(e))}catch(e){c(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,s)}l((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,a,c,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(6===c[0]&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={activityList:[]},n.fetchActivitiesList=n.fetchActivitiesList.bind(n),n}return s(t,e),t.prototype.componentDidMount=function(){return l(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this.fetchActivitiesList()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.fetchActivitiesList=function(){return l(this,void 0,void 0,function(){var e,t,n=this;return o(this,function(i){switch(i.label){case 0:return e=this.props.pointId,t=[],this.props.buildingName?[4,Object(a.d)(this.props.buildingName).then(function(i){if(i&&i.length>0){for(var a=0;a<i.length;a++){var r=Object();r.action=Object(c.g)(i[a].action),r.notes=Object(c.g)(i[a].notes),r.ontology=Object(c.g)(i[a].ontology),r.pointLabel=Object(c.g)(i[a].pointLabel),r.point=Object(c.g)(i[a].point),r.pointTag=Object(c.g)(i[a].pointTag),r.reading=Object(c.g)(i[a].reading),r.status=Object(c.g)(i[a].status),r.unit=Object(c.g)(i[a].unit),r.completedOn=Object(c.g)(i[a].completedOn),r.upload=Object(c.g)(i[a].upload),t.push(r)}e&&(t=t.filter(function(t){return t.point==e&&"Pending"!=t.status})),n.setState({activityList:t})}})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this.props,t=e.instance,n=e.buildingName,a=this.state.activityList;return i.createElement("div",{className:"content"},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:""},i.createElement("div",{className:"row no-padding"},i.createElement("div",{className:"col-md-12"},i.createElement("button",{className:"btn btn-secondary btn-fill pull-left margin-left-right-5",onClick:function(){window.location.hash=t+"/"+n+"/Insights/EquipmentInsights"}},i.createElement("i",{className:"fa fa-angle-double-left"}),"  Back"))),i.createElement("br",null),i.createElement("div",{className:"card padding-10"},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"dataCard"},i.createElement("div",{className:"row no-padding  hidden-xs hidden-sm"},i.createElement("div",{className:"col-md-3 small grid-header"},"Action"),i.createElement("div",{className:"col-md-2 small grid-header"},"Tag"),i.createElement("div",{className:"col-md-2 small grid-header"},"Reading"),i.createElement("div",{className:"col-md-2 small grid-header"},"Notes"),i.createElement("div",{className:"col-md-2 small grid-header"},"Date"),i.createElement("div",{className:"col-md-1 small grid-header"},"Attachment")),a&&a.map(function(e,t){return i.createElement("div",{className:"row no-padding",key:t},i.createElement("div",{className:"col-md-3 padding-10 small trim-data"},i.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Action"),e.action),i.createElement("div",{className:"col-md-2 padding-10 small trim-data"},i.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Tag"),e.pointTag),i.createElement("div",{className:"col-md-2 padding-10 small trim-data"},i.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Reading"),e.reading),i.createElement("div",{className:"col-md-2 padding-10 small trim-data"},i.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Notes"),e.notes),i.createElement("div",{className:"col-md-2 padding-10 small trim-data"},i.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Date"),new Date(e.completedOn).ToEasternDateTime()),i.createElement("div",{className:"col-md-1 padding-10 small center trim-data"},i.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Attachment"),""!=e.upload?i.createElement("a",{href:r.c+"/"+r.a.DOCUMENT+"/"+encodeURIComponent(e.upload),target:"_blank"},i.createElement("i",{className:"fa fa-download"})):""))})))))))},t}(i.Component);t.default=u},829:function(e,t,n){"use strict";t.i=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({model:e,buildingName:t,isEdit:n},i.a.CHECKLIST.UPDATECHECKLISTTEMPLATE,a.b.CHECKLIST).then(function(){Object(c.b)("Checklist "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Checklist.")})];case 1:return[2,r.sent()]}})})},t.h=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({model:e,buildingName:t,isEdit:n},i.a.CHECKLIST.UPDATECHECKLIST,a.b.CHECKLIST).then(function(){Object(c.b)("Checklist "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Checklist.")})];case 1:return[2,r.sent()]}})})},t.g=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,checklist:t},i.a.CHECKLIST.GETCHECKLISTTEMPLATES,a.b.CHECKLIST)];case 1:return[2,n.sent()]}})})},t.f=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,checklist:t},i.a.CHECKLIST.GETCHECKLIST,a.b.CHECKLIST)];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,activity:t},i.a.CHECKLIST.GETCHECKLISTTEMPLATEACTIVITIES,a.b.CHECKLIST)];case 1:return[2,n.sent()]}})})},t.d=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,activity:t},i.a.CHECKLIST.GETCHECKLISTACTIVITIES,a.b.CHECKLIST)];case 1:return[2,n.sent()]}})})},t.j=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({buildingName:e,templateID:t,uses:n},i.a.CHECKLIST.UPDATECHECKLISTTEMPLATEUSES,a.b.CHECKLIST).then(function(){}).catch(function(e){Object(c.a)("Error occured while saving Checklist Uses.")})];case 1:return[2,r.sent()]}})})},t.b=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({id:e,buildingName:t},i.a.CHECKLIST.DELETECHECKLIST,a.b.CHECKLIST).then(function(){Object(c.b)(" Deleted Successfully.")}).catch(function(e){Object(c.a)("Error occured while deleting.")})];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({taskID:e,buildingName:t},i.a.CHECKLIST.UNASSIGNCHECKLIST,a.b.CHECKLIST).then(function(){Object(c.b)(" Unassign Checklist Successfully.")}).catch(function(e){Object(c.a)("Error occured while Unassign Checklist.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({model:e,buildingName:t},i.a.CHECKLIST.DELETECHECKLISTTEMPLATE,a.b.CHECKLIST).then(function(){Object(c.b)(" Deleted Successfully.")}).catch(function(e){Object(c.a)("Error occured while deleting.")})];case 1:return[2,n.sent()]}})})};var i=n(5),a=n(7),c=n(6),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function r(e){try{l(i.next(e))}catch(e){c(e)}}function s(e){try{l(i.throw(e))}catch(e){c(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,s)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,a,c,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(6===c[0]&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}}});