webpackJsonp([50],{1236:function(e,t,n){"use strict";t.f=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,Object(a.f)({model:e,isEdit:t,itemToUpdate:n},a.a.DOCUMENTS.SaveDocument,i.b.DOCS).then(function(){Object(c.b)("Document "+(t?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Document.")})];case 1:return[2,r.sent()]}})})},t.d=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.e)({buildingName:e,infoEntity:t,entityName:n},a.a.DOCUMENTS.GetDocuments,i.b.DOCS)];case 1:return[2,c.sent()]}})})},t.e=function(e,t,n,s){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,Object(a.f)({buildingName:e,model:t,isEdit:n,itemToUpdate:s},a.a.DOCUMENTS.SaveCommunityDoc,i.b.DOCS).then(function(){Object(c.b)("Community Document "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Community Document.")})];case 1:return[2,r.sent()]}})})},t.b=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.DOCUMENTS.GetCommunityDocs,i.b.DOCS)];case 1:return[2,t.sent()]}})})},t.c=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({fileName:e},a.a.DOCUMENTS.GetDocumentFilesList,i.b.DOCS)];case 1:return[2,t.sent()]}})})},t.a=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.e)({buildingName:e,infoEntity:t,entityName:n},a.a.DOCUMENTS.getAttachments,i.b.DOCS)];case 1:return[2,c.sent()]}})})};var i=n(7),c=n(6),a=n(5),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(c,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?c(e.value):new n(function(t){t(e.value)}).then(r,o)}s((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,c,a,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(c=2&a[0]?i.return:a[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,a[1])).done)return c;switch(i=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(c=(c=r.trys).length>0&&c[c.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){r.label=a[1];break}if(6===a[0]&&r.label<c[1]){r.label=c[1],c=a;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(a);break}c[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}},1237:function(e,t,n){"use strict";var i=n(2),c=(n.n(i),n(7)),a=n(113),r=n(116),o=n(727),s=n(776),u=n(118),l=n(13),d=n(740),m=n(39),f=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(c,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?c(e.value):new n(function(t){t(e.value)}).then(r,o)}s((i=i.apply(e,t||[])).next())})},b=this&&this.__generator||function(e,t){var n,i,c,a,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(c=2&a[0]?i.return:a[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,a[1])).done)return c;switch(i=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(c=(c=r.trys).length>0&&c[c.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){r.label=a[1];break}if(6===a[0]&&r.label<c[1]){r.label=c[1],c=a;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(a);break}c[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={documentObject:n.props.documentObject,_infoEntityItems:[],DropDownList:[],isEdit:n.props.isEdit,documentTypes:c.a,files:[],oldS3File:[],fileName:n.props.fileName?n.props.fileName:""},n.handleFormChange=n.handleFormChange.bind(n),n.handleMultiInfoEntityChange=n.handleMultiInfoEntityChange.bind(n),n._fetchItems=n._fetchItems.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n}return f(t,e),t.prototype.componentDidMount=function(){return h(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return this.props.infoEntity?[4,this._fetchItems()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.props.isEdit&&this.setState({documentObject:this.props.documentObject,isEdit:this.props.isEdit,oldS3File:this.props.documentObject.s3FileName}),[2]}})})},t.prototype.componentWillReceiveProps=function(e){this.setState({isEdit:e.isEdit,documentObject:e.documentObject,files:e.files,oldS3File:e.documentObject.s3FileName})},t.prototype._fetchItems=function(){return h(this,void 0,void 0,function(){var e,t,n;return b(this,function(i){switch(i.label){case 0:if(Object(a.a)(!0),!(e=this.props.infoEntity))return[2];switch(t=[],e){case"Equip":return[3,1];case"Space":return[3,3];case"Zone":return[3,5];case"Point":return[3,7]}return[3,8];case 1:return[4,Object(o.g)(this.props.buildingName)];case 2:return t=i.sent(),[3,8];case 3:return[4,Object(d.b)(this.props.buildingName)];case 4:return t=i.sent(),[3,8];case 5:return[4,Object(s.e)(this.props.buildingName)];case 6:return t=i.sent(),[3,8];case 7:return[3,8];case 8:return n=t.map(function(e){return{value:e.ontology.value,label:e.rdfsLabel.value}}),this.setState({_infoEntityItems:t,DropDownList:n}),Object(a.a)(!1),[2]}})})},t.prototype.handleMultiInfoEntityChange=function(e){var t=this.state,n=t.documentObject,i=t.files;n.infoEntity=e,this.setState({documentObject:n}),this.props.handleDocument(n,i)},t.prototype.handleFormChange=function(e){var t=this,n=this.state,i=n.documentObject,c=n.files,a=e.target.name;i[""+a]=e.target.value,this.setState({documentObject:i},function(){t.props.handleDocument(i,c),t.setState({files:[],documentObject:Object()})})},t.prototype.handleDueDateChange=function(e){var t=this.state.documentObject;t.date=e.toString(),this.setState({documentObject:t})},t.prototype.handlefileAttached=function(e){var t=this;if(e.length>0){for(var n=this.state.documentObject,i=0;i<e.length;i++){var a=e[i].name.split(".").pop(),r=this.props.buildingName+"_"+Object(l.j)(15)+"."+a;this.props.isCommunityDoc||(n.rdfsLabel=e[i].name),n.s3FileName[i]=this.state.fileName+"-"+r}var o=n,s=e;Object(c.g)(e),this.setState({files:[],documentObject:Object()},function(){t.props.handleDocument(o,s)})}},t.prototype.render=function(){var e=this,t=this.state,n=t.documentObject,c=t.DropDownList,a=t.isEdit,o=t.documentTypes,s=t.oldS3File,l=m.c+"/"+m.a.DOCUMENT+"/"+s;return i.createElement("div",{className:"content"},!this.props.isCommunityDoc&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"infoEntity"},this.props.infoEntity,":")),i.createElement("div",{className:"col-md-9"},a&&n&&n.infoEntity&&i.createElement("input",{id:"item",name:"item",disabled:!0,className:"form-control",value:n.infoEntity[0].label}),!a&&i.createElement(r.a,{id:"infoEntity",name:"infoEntity",closeMenuOnSelect:!1,isMulti:!0,value:n.infoEntity,onChange:this.handleMultiInfoEntityChange,placeholder:"Select "+this.props.infoEntity,options:c})))),this.props.isCommunityDoc&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"name"},"Document Name:")),i.createElement("div",{className:"col-md-9"},i.createElement("input",{id:"name",name:"rdfsLabel",disabled:a,className:"form-control",value:n.rdfsLabel,onChange:function(t){return e.handleFormChange(t)}})))),!this.props.isCommunityDoc&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"filename"},"File Name:")),i.createElement("div",{className:"col-md-9"},i.createElement("input",{id:"filename",name:"filename",disabled:a,className:"form-control",value:this.state.fileName,onChange:function(t){return e.setState({fileName:t.target.value.replace(new RegExp(" ","g"),"")})}})))),i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},"\xa0"),i.createElement("div",{className:"col-md-9"},i.createElement(u.a,{handleAttachedFile:this.handlefileAttached,files:this.state.files,isEdit:this.state.isEdit,single:!1})))),s&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},"\xa0"),i.createElement("div",{className:"col-md-9"},s.map(function(e,t){-1!=e.toLowerCase().indexOf(".pdf")||-1!=e.toLowerCase().indexOf(".txt")&&i.createElement("a",{className:"file-attachment",href:m.c+"/"+m.a.DOCUMENT+"/"+s[t],target:"_blank"},"ATTACHED FILE"),-1!=e.toLowerCase().indexOf(".mp4")&&i.createElement("video",{height:"150",width:"200",controls:!0},i.createElement("source",{src:l,type:"video/mp4"})),(-1!=e.toLowerCase().indexOf(".jpg")||-1!=e.toLowerCase().indexOf(".jpeg")||-1!=e.toLowerCase().indexOf(".png"))&&i.createElement("img",{height:"150",width:"245",src:m.c+"/"+m.a.DOCUMENT+"/"+s[t]})})))),i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"linkToDocument"},"Document Link:")),i.createElement("div",{className:"col-md-9"},i.createElement("input",{id:"linkToDocument",name:"linkToDocument",className:"form-control",value:n.linkToDocument,onChange:function(t){return e.handleFormChange(t)}})))),!this.props.isCommunityDoc&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"documentType"},"Document Type:")),i.createElement("div",{className:"col-md-9"},i.createElement("select",{className:"form-control",id:"documentType",name:"documentType",onChange:function(t){return e.handleFormChange(t)},value:n.documentType},i.createElement("option",{value:"-1"},"Select Document Type"),o.map(function(e,t){return e.value===n.documentType?i.createElement("option",{key:t,selected:!0,value:e.value},e.label):i.createElement("option",{key:t,value:e.value},e.label)}))))))},t}(i.Component);t.a=p},653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,c=n(2),a=(n.n(c),n(17)),r=n(26),o=n(7),s=n(113),u=n(1236),l=n(8),d=n(13),m=n(59),f=n(39),h=n(1237),b=n(122),p=n(11),E=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),v=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(c,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?c(e.value):new n(function(t){t(e.value)}).then(r,o)}s((i=i.apply(e,t||[])).next())})},y=this&&this.__generator||function(e,t){var n,i,c,a,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(c=2&a[0]?i.return:a[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,a[1])).done)return c;switch(i=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(c=(c=r.trys).length>0&&c[c.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){r.label=a[1];break}if(6===a[0]&&r.label<c[1]){r.label=c[1],c=a;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(a);break}c[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},N=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isEdit:!1,documentObject:{infoEntity:[],enteredBy:"",documentType:"",date:"",documentName:"",rdfsLabel:"",enteredByName:"",s3FileName:[],linkToDocument:""},Documents:[],DocumentTypes:b.a,itemToDelete:Object(),files:[]},i=n,n.handleTypeFilters=n.handleTypeFilters.bind(n),n.handleDocumentForm=n.handleDocumentForm.bind(n),n.saveDocument=n.saveDocument.bind(n),n.fetchDocuments=n.fetchDocuments.bind(n),n.onDeleteDocument=n.onDeleteDocument.bind(n),n.deleteDocument=n.deleteDocument.bind(n),n}return E(t,e),t.prototype.componentDidMount=function(){return v(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this.fetchDocuments()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.fetchDocuments=function(){return v(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,Object(u.b)(this.props.buildingName).then(function(e){i.setState({Documents:e})})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.handleTypeFilters=function(e){var t=e.target.checked,n=this.state.DocumentTypes;n[n.findIndex(function(t){return t.Type===e.target.value})].visible=t,this.setState({DocumentTypes:n});for(var i=[],c=b.b,a=0;a<c.length;a++)for(var r=0;r<n.length;r++)n[r].Type==c[a].Type&&1==n[r].visible&&i.push(c[a]);this.setState({Documents:i})},t.prototype.saveDocument=function(){return v(this,void 0,void 0,function(){var e,t,n,c,a,r,l,d,m,h=this;return y(this,function(b){switch(b.label){case 0:return e=this.state,t=e.documentObject,n=e.isEdit,c=e.itemToDelete,t&&t.infoEntity?(Object(s.a)(!0),1!=n?[3,2]:[4,Object(u.e)(this.props.buildingName,t,this.state.isEdit,c)]):[3,5];case 1:return b.sent(),[3,4];case 2:return a=JSON.parse(p.a.getItem("user")),t.enteredBy=a.contact,[4,Object(u.e)(this.props.buildingName,t,this.state.isEdit)];case 3:b.sent(),b.label=4;case 4:if(r=new f.b,(l=Object(o.d)())&&l.length)for(d=0;d<l.length;d++)(m=l[d])||(m=l[d].file),m&&r.UploadFile(f.a.COMMUNITYDOCS,t.s3FileName[d],m,function(e,t){e?console.log(e):console.log(t)});this.setState({documentObject:{infoEntity:[],enteredBy:"",documentType:"",date:"",documentName:"",rdfsLabel:"",enteredByName:"",s3FileName:[],linkToDocument:""},files:[],isEdit:!1},function(){return v(h,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return[4,i.fetchDocuments()];case 1:return e.sent(),[2]}})})}),Object(s.a)(!1),b.label=5;case 5:return[2]}})})},t.prototype.onDeleteDocument=function(e){return v(this,void 0,void 0,function(){return y(this,function(t){return this.setState({itemToDelete:e}),[2]})})},t.prototype.deleteDocument=function(){return v(this,void 0,void 0,function(){var e;return y(this,function(t){switch(t.label){case 0:return(e=this.state.itemToDelete).documentName.value?[4,Object(d.d)(e.documentName.value,o.b.DOCS)]:[3,3];case 1:return t.sent(),[4,this.fetchDocuments()];case 2:t.sent(),Object(u.c)(e.rdfsLabel.value).then(function(t){t&&0==t.length&&(new f.b).DeleteFile(f.a.COMMUNITYDOCS,e.rdfsLabel.value)}),t.label=3;case 3:return[2]}})})},t.prototype.onEditDocument=function(e){return v(this,void 0,void 0,function(){var t;return y(this,function(n){return(t=this.state.documentObject).infoEntity=[],t.documentType=e.documentType&&e.documentType.value,t.rdfsLabel=e.rdfsLabel&&e.rdfsLabel.value,t.documentName=e.documentName&&e.documentName.value,t.enteredBy=e.enteredBy&&e.enteredBy.value,t.enteredByName=e.enteredByName&&e.enteredByName.value,this.setState({documentObject:t,isEdit:!0,itemToDelete:e}),document.getElementById("btnDocumentForm").click(),[2]})})},t.prototype.handleDocumentForm=function(e,t){this.setState({documentObject:e,files:t})},t.prototype.render=function(){var e=this,t=this.state,n=t.Documents,i=t.DocumentTypes,s=t.isEdit,u=t.documentObject,d=(this.props,Object(o.c)()),b=u.rdfsLabel&&(u.s3FileName&&d||u.linkToDocument)&&!0;return c.createElement("div",{className:"content"},c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-12"},c.createElement(r.a,{id:"filterDocumentsModal",heading:"Filter Documents",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1},i&&i.length>0&&i.map(function(t,n){return!0===t.visible?c.createElement("div",{key:t+"-"+n},c.createElement("input",{checked:!0,type:"checkbox",value:t.Type,onChange:e.handleTypeFilters})," ",c.createElement("label",null,t.Type)):c.createElement("div",null,c.createElement("input",{type:"checkbox",value:t.Type,onChange:e.handleTypeFilters})," ",c.createElement("label",null,t.Type))})),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-12"},c.createElement("button",{type:"button",className:"btn btn-dark pull-right","data-toggle":"modal","data-target":"#documentFormDialog",onClick:function(){e.setState({isEdit:!1,files:[],documentObject:{infoEntity:[],enteredBy:"",documentType:"",date:"",documentName:"",rdfsLabel:"",enteredByName:"",s3FileName:[],linkToDocument:""}})}},c.createElement("i",{className:"fa fa-plus"})," Add "))),c.createElement("br",null),c.createElement("div",{className:"card padding-10"},c.createElement("div",{className:""},c.createElement("h4",{className:"title"},"Community Documents")),c.createElement("div",{className:"content"},c.createElement(a.AppContext.Consumer,null,function(t){return c.createElement("div",{className:"dataCard"},c.createElement("div",{className:"row hidden-xs no-padding"},c.createElement("div",{className:"col-md-10 col-sm-12  no-padding dataCard"},c.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small grid-header-left"},"Name"),c.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small grid-header"},"Link"),c.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small grid-header"},"Date"),c.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small grid-header"},"Entered By")),c.createElement("div",{className:"col-md-1 col-sm-12 headingText"})),n&&n.length>0&&n.map(function(t,n){var i=Object(l.g)(t.linkToDocument);return i=i?i.indexOf("ttp")>0?i:"http://"+i:"",c.createElement("div",{key:t.documentName+"-"+n,className:"row no-padding"},""!=Object(l.g)(t.rdfsLabel)&&c.createElement("div",{className:"no-padding"},c.createElement("div",{className:"col-md-10 col-sm-12  no-padding"},c.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small trim-data",title:Object(l.g)(t.rdfsLabel)},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Name"),c.createElement("a",{href:f.c+"/"+f.a.COMMUNITYDOCS+"/"+encodeURIComponent(Object(l.g)(t.s3FileName?t.s3FileName:t.rdfsLabel)),target:"_blank"},Object(l.g)(t.rdfsLabel))),c.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small trim-data",title:Object(l.g)(t.linkToDocument)},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Link"),c.createElement("a",{href:i,target:"_blank"},i)),c.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small trim-data",title:Object(l.g)(t.date)?new Date(Object(l.g)(t.date)).YYMMDDHHMM():""},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Date"),Object(l.g)(t.date)?new Date(Object(l.g)(t.date)).YYMMDDHHMM():""),c.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small trim-data",title:Object(l.g)(t.enteredByName)},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Entered By"),Object(l.g)(t.enteredByName))),c.createElement("div",{className:"col-md-2 col-sm-12 col-xs-12",style:{paddingTop:"3px"}},c.createElement("button",{className:"btn-sm btn-danger active pull-right","data-toggle":"modal","data-target":"#ConfirmDeleteDialog",onClick:function(n){e.onDeleteDocument(t)}},c.createElement("i",{className:"fa fa-trash"})," Delete "))))}),c.createElement("button",{type:"button",id:"btnDocumentForm",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#documentFormDialog"}," ."),c.createElement(r.a,{id:"documentFormDialog",onSaveButtonClick:function(){e.saveDocument()},saveButtonText:"Save",disableSaveButton:!b},c.createElement(h.a,{instance:e.props.instance,isEdit:s,infoEntity:"CommunityDocs",buildingName:e.props.buildingName,documentObject:u,handleDocument:e.handleDocumentForm,isCommunityDoc:!0,files:e.state.files})),c.createElement(m.a,{instance:e.props.instance,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this item?",heading:"Confirm...",onConfirmButtonClick:function(){e.deleteDocument()}}))})))))))},t}(c.Component);t.default=N},727:function(e,t,n){"use strict";t.s=function(e,t,n,s){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,Object(a.f)({buildingName:e,equipment:t,isEdit:n},a.a.EQUIPMENT.SaveEquipment,i.b.EQUIP).then(function(){1==s||Object(c.b)("Equipment "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Equipment.")})];case 1:return[2,r.sent()]}})})},t.q=function(e,t,n,s){return r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return r=!!n.name,[4,Object(a.f)({buildingName:e,equipmentName:t,component:n,counter:s},a.a.EQUIPMENT.SaveComponent,i.b.EQUIP).then(function(){Object(c.b)("Component(s) "+(r?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Component(s).")})];case 1:return[2,o.sent()]}})})},t.t=function(e,t,n,s){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,Object(a.f)({isEdit:e,buildingName:t,equipmentName:n,lightingInformation:s},a.a.EQUIPMENT.SaveLightingInformation,i.b.EQUIP).then(function(){Object(c.b)("Lighting Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Lighting Info.")})];case 1:return[2,r.sent()]}})})},t.u=function(e,t,n,s,u){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,Object(a.f)({isEdit:e,buildingName:t,equipmentName:n,plugLoadModel:s,isCustom:u},a.a.EQUIPMENT.SavePlugLoadModel,i.b.EQUIP).then(function(){Object(c.b)("Plugload Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Plugload Info.")})];case 1:return[2,r.sent()]}})})},t.d=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.FetchEquipments,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.l=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetEquipmentDetails,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.e=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.GetAllCoolingAndHeatingEquipmentsList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.f=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.GetAllEquipmentExceptCoolingAndHeatingList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.g=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.GetAllEquipmentsList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.m=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Object(a.e)({},a.a.EQUIPMENT.GetEquipmentTypeList,i.b.EQUIP)];case 1:return[2,e.sent()]}})})},t.o=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({typeName:e,distance:t},a.a.EQUIPMENT.GetSubClassTypeListForEquipment,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.j=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({typeName:e,distance:t},a.a.EQUIPMENT.GetComponentTypesList,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.i=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Object(a.e)({},a.a.EQUIPMENT.GetComponentSubclassList,i.b.EQUIP)];case 1:return[2,e.sent()]}})})},t.r=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({componentType:e},a.a.EQUIPMENT.SaveComponentSubClass,i.b.EQUIP).then(function(){Object(c.b)("Component Type Added Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Component Type.")})];case 1:return[2,t.sent()]}})})},t.c=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.FetchEquipmentExportData,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.k=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetComponents,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.h=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,component:t},a.a.EQUIPMENT.GetComponentPoints,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.n=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetFixtures,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.p=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetTypeByEquipmentName,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.b=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.FetchPowerSource,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.FetchPlugLoad,i.b.EQUIP)];case 1:return[2,n.sent()]}})})};var i=n(7),c=n(6),a=n(5),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(c,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?c(e.value):new n(function(t){t(e.value)}).then(r,o)}s((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,c,a,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(c=2&a[0]?i.return:a[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,a[1])).done)return c;switch(i=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(c=(c=r.trys).length>0&&c[c.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){r.label=a[1];break}if(6===a[0]&&r.label<c[1]){r.label=c[1],c=a;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(a);break}c[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}},740:function(e,t,n){"use strict";t.g=function(e,t,n,c){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,Object(a.e)({buildingName:e,spaceName:t,spaceWithCalendar:n},a.a.SPACES.GETSPACES,i.b.SPACE,c)];case 1:return[2,r.sent()]}})})},t.c=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.e)({floor:e,buildingName:t},a.a.SPACES.GetLocationsList,i.b.SPACE,n)];case 1:return[2,c.sent()]}})})},t.d=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({zone:e,buildingName:t},a.a.SPACES.getLocationsListSpacesByZones,i.b.SPACE)];case 1:return[2,n.sent()]}})})},t.b=function(e,t,n){void 0===n&&(n=!0);return r(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.e)({buildingName:e,type:t},a.a.SPACES.GetAllLocationsList,i.b.SPACE,n)];case 1:return[2,c.sent()]}})})},t.a=function(e,t,n,s,u){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,Object(a.f)({buildingName:e,model:t,floor:n,isEdit:s,spacetoUpdate:u},a.a.SPACES.SAVESPACE,i.b.SPACE).then(function(){Object(c.b)("Space "+(s?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Space.")})];case 1:return[2,r.sent()]}})})},t.f=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.SPACES.GetSpaceTypesList,i.b.SPACE)];case 1:return[2,t.sent()]}})})},t.e=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({spaceName:e},a.a.SPACES.GetSpaceOptimalInfo,i.b.SPACE)];case 1:return[2,t.sent()]}})})},t.h=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({spaceToUpdate:e},a.a.SPACES.UpdateSpaceOptimalInfo,i.b.SPACE).then(function(){Object(c.b)("Space Updated Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Space.")})];case 1:return[2,t.sent()]}})})};var i=n(7),c=n(6),a=n(5),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(c,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?c(e.value):new n(function(t){t(e.value)}).then(r,o)}s((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,c,a,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(c=2&a[0]?i.return:a[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,a[1])).done)return c;switch(i=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(c=(c=r.trys).length>0&&c[c.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){r.label=a[1];break}if(6===a[0]&&r.label<c[1]){r.label=c[1],c=a;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(a);break}c[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}},776:function(e,t,n){"use strict";t.a=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.e)({buildingName:e,zoneName:t,bimSid:n},a.a.ZONES.GETZONES,i.b.ZONE)];case 1:return[2,c.sent()]}})})},t.b=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({buildingName:e,floor:t},a.a.ZONES.SAVEFLOOR,i.b.ZONE).then(function(){Object(c.b)("Floor Added Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Floor.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({model:e,buildingName:t},a.a.ZONES.SAVEZONE,i.b.ZONE).then(function(){Object(c.b)("Zone Added Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Zone.")})];case 1:return[2,n.sent()]}})})},t.f=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.ZONES.GETFLOORLIST,i.b.ZONE)];case 1:return[2,t.sent()]}})})},t.g=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentType:t},a.a.ZONES.GETSERVICEPROVIDERSLIST,i.b.ZONE)];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,excludeFloors:t},a.a.ZONES.GetAllZonesList,i.b.ZONE)];case 1:return[2,n.sent()]}})})},t.h=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.ZONES.GetZoneTypesList,i.b.ZONE)];case 1:return[2,t.sent()]}})})},t.d=function(e,t){return r(this,void 0,void 0,function(){var n=this;return o(this,function(s){switch(s.label){case 0:return[4,Object(a.f)({buildingName:e,zoneName:t},a.a.ZONES.DELETEZONE,i.b.ZONE).then(function(){return r(n,void 0,void 0,function(){return o(this,function(e){return Object(c.b)("Zone Deleted Successfully."),[2]})})}).catch(function(e){Object(c.a)("Error occured while deleting.")})];case 1:return[2,s.sent()]}})})};var i=n(7),c=n(6),a=n(5),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(c,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?c(e.value):new n(function(t){t(e.value)}).then(r,o)}s((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,c,a,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(c=2&a[0]?i.return:a[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,a[1])).done)return c;switch(i=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(c=(c=r.trys).length>0&&c[c.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){r.label=a[1];break}if(6===a[0]&&r.label<c[1]){r.label=c[1],c=a;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(a);break}c[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}}});