webpackJsonp([14],{3229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(11)),i=n(782),s=n(3230),l=n(122),r=n(709),c=n(3231),m=n(704),d=n(706),p=n(3232),u=n(738),h=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),f=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function s(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,l)}r((a=a.apply(e,t||[])).next())})},g=this&&this.__generator||function(e,t){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},b=new Date,y=new Date,v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isView:!!n.props.view&&n.props.view,workflow:Object(),isSpaces:!0,isEquipment:!1,_spaces:[],workFlowSpaceList:[],_equipments:[],AllOtherCompletionListOfSpace:[],AllOtherCompletionListOfEquipments:[],isCollapse:!0,ColorForSpace:Object(),ColorForEquip:Object()},n.fetchWorkflow=n.fetchWorkflow.bind(n),n.fetchSpaces=n.fetchSpaces.bind(n),n.populateInspectionsList=n.populateInspectionsList.bind(n),n.unpopulateInspectionsList=n.unpopulateInspectionsList.bind(n),n.handleWorkFlowChange=n.handleWorkFlowChange.bind(n),n._fetchEquipments=n._fetchEquipments.bind(n),n.populateInspectionsEquipmentList=n.populateInspectionsEquipmentList.bind(n),n.unpopulateInspectionsEquipmentList=n.unpopulateInspectionsEquipmentList.bind(n),n.handleCollapse=n.handleCollapse.bind(n),n.getDetailInspectionDataEquipment=n.getDetailInspectionDataEquipment.bind(n),n.getDetailInspectionDataSpace=n.getDetailInspectionDataSpace.bind(n),n._fetchAllOtherCompletionOfEquipment=n._fetchAllOtherCompletionOfEquipment.bind(n),n._fetchAllOtherCompletionOfSpace=n._fetchAllOtherCompletionOfSpace.bind(n),n}return h(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){return f(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.props.ontology==e.ontology?[3,4]:[4,this.fetchSpaces()];case 1:return t.sent(),[4,this._fetchEquipments()];case 2:return t.sent(),[4,this.handleWorkFlowChange(e.ontology)];case 3:t.sent(),t.label=4;case 4:return[2]}})})},t.prototype.UNSAFE_componentWillMount=function(){return f(this,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.ontology?(Object(l.a)(!0),[4,this._fetchEquipments()]):[3,3];case 1:return e.sent(),[4,this.fetchSpaces()];case 2:e.sent(),Object(l.a)(!1),e.label=3;case 3:return[2]}})})},t.prototype.componentDidMount=function(){return f(this,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.ontology?(Object(l.a)(!0),[4,this.fetchWorkflow()]):[3,3];case 1:return e.sent(),[4,this.handleWorkFlowChange(this.props.ontology)];case 2:e.sent(),Object(l.a)(!1),e.label=3;case 3:return[2]}})})},t.prototype.handleWorkFlowChange=function(e){return f(this,void 0,void 0,function(){var t,n,a,s,l=this;return g(this,function(r){switch(r.label){case 0:return[4,Object(i.m)(e)];case 1:for(t=r.sent(),n=[],a=function(e){var a=t[e],i=Object(o.g)(a.space);if(-1==n.findIndex(function(e){return e.space==i})){var s=Object();s.ca=Object(),s.ca.ontology=Object(o.g)(a.CAOntology),s.ca.cooling="true"==Object(o.g)(a.CAcooling),s.ca.heating="true"==Object(o.g)(a.CAheating),s.ca.lighting="true"==Object(o.g)(a.CAlighting),s.ca.miscellaneous="true"==Object(o.g)(a.CAmiscellaneous),s.ca.space_compliance="true"==Object(o.g)(a.CAspace_compliance),s.ca.space_condition="true"==Object(o.g)(a.CAspace_condition),s.ca.space_safety="true"==Object(o.g)(a.CAspace_safety),s.ecm=Object(),s.ecm.ontology=Object(o.g)(a.ECMOntology),s.ecm.cooling="true"==Object(o.g)(a.ECMcooling),s.ecm.heating="true"==Object(o.g)(a.ECMheating),s.ecm.lighting="true"==Object(o.g)(a.ECMlighting),s.ecm.miscellaneous="true"==Object(o.g)(a.ECMmiscellaneous),s.other=Object(),s.other.ontology=Object(o.g)(a.OtherOntology),s.other.other="true"==Object(o.g)(a.OTHERother),s.rcx=Object(),s.rcx.ontology=Object(o.g)(a.RCXOntology),s.rcx.cooling="true"==Object(o.g)(a.RCXcooling),s.rcx.heating="true"==Object(o.g)(a.RCXheating),s.rcx.lighting="true"==Object(o.g)(a.RCXlighting),s.rcx.miscellaneous="true"==Object(o.g)(a.RCXmiscellaneous),s.ontology=Object(o.g)(a.workflowOntology),s.space=i,n.push.apply(n,[s])}},s=0;s<t.length;s++)a(s);return this.setState({workFlowSpaceList:n},function(){n&&n.length?(l.populateInspectionsList(),l.populateInspectionsEquipmentList()):(l.unpopulateInspectionsList(),l.unpopulateInspectionsEquipmentList())}),[2]}})})},t.prototype.fetchSpaces=function(){return f(this,void 0,void 0,function(){var e,t,n,a,o,s=this;return g(this,function(l){switch(l.label){case 0:return e=this.props,t=e.buildingName,n=e.ontology,a=e.instance,o=this,[4,Object(r.i)(this.props.buildingName).then(function(e){return f(s,void 0,void 0,function(){var s,l=this;return g(this,function(r){switch(r.label){case 0:return[4,Object(i.b)(e,t,a,n,"Space")];case 1:return s=r.sent(),this.setState({_spaces:s},function(){return f(l,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:return[4,o._fetchAllOtherCompletionOfSpace()];case 1:return e.sent(),[2]}})})}),[2]}})})}).catch(function(e){return e})];case 1:return l.sent(),[2]}})})},t.prototype.getDetailInspectionDataSpace=function(e){return f(this,void 0,void 0,function(){var t,n,a,o,s,l;return g(this,function(r){switch(r.label){case 0:return t=this.props,n=t.buildingName,a=t.ontology,o=t.instance,s=this.state._spaces,[4,Object(i.b)(s,n,o,a,e)];case 1:return l=r.sent(),this.setState({_spaces:l}),[2]}})})},t.prototype.populateInspectionsList=function(){return f(this,void 0,void 0,function(){var e,t,n,a,o,s,l,c,m,d,p;return g(this,function(u){switch(u.label){case 0:return[4,Object(r.i)(this.props.buildingName)];case 1:return e=u.sent(),t=this.state,n=t.workFlowSpaceList,a=t.ColorForSpace,o=this.state._spaces,console.log(o),s=0,l=0,c=0,m=0,[4,Object(i.e)(n,e,this.props.ontology)];case 2:if((d=u.sent())&&d.length>0){for(p=0;p<d.length;p++)d[p].inspectionVisibility&&(d[p].inspectionVisibility.ECMCompleted&&1==d[p].inspectionVisibility.ECMCompleted&&s++,d[p].inspectionVisibility.RCXCompleted&&1==d[p].inspectionVisibility.RCXCompleted&&l++,d[p].inspectionVisibility.CACompleted&&1==d[p].inspectionVisibility.CACompleted&&c++,d[p].inspectionVisibility.OtherCompleted&&1==d[p].inspectionVisibility.OtherCompleted&&m++);s==d.filter(function(e){return e.inspectionVisibility.showECM}).length?a.ecm="#00008B":a.ecm=0==s?"#B9BFFF":"#6495ED",l==d.filter(function(e){return e.inspectionVisibility.showRCX}).length?a.rcx="#00008B":a.rcx=0==l?"#B9BFFF":"#6495ED",c==d.filter(function(e){return e.inspectionVisibility.showCA}).length?a.ca="#00008B":a.ca=0==c?"#B9BFFF":"#6495ED",m==d.filter(function(e){return e.inspectionVisibility.showOther}).length?a.other="#00008B":a.other=0==m?"#B9BFFF":"#6495ED",s==d.filter(function(e){return e.inspectionVisibility.showECM}).length&&l==d.filter(function(e){return e.inspectionVisibility.showRCX}).length&&c==d.filter(function(e){return e.inspectionVisibility.showCA}).length&&m==d.filter(function(e){return e.inspectionVisibility.showOther}).length?a.all="#00008B":a.all=0==s&&0==l&&0==c&&0==m?"#B9BFFF":"#6495ED"}return this.setState({_spaces:d,ColorForSpace:a},function(){}),[2]}})})},t.prototype.unpopulateInspectionsList=function(){return f(this,void 0,void 0,function(){var e,t;return g(this,function(n){for(e=this.state._spaces,t=0;t<e.length;t++)e[t].inspectionVisibility={CACompleted:!1,ECMCompleted:!1,RCXCompleted:!1,showCA:!1,showECM:!1,showRCX:!1};return this.setState({_spaces:e}),[2]})})},t.prototype.fetchWorkflow=function(){return f(this,void 0,void 0,function(){var e,t,n,a,s=this;return g(this,function(l){switch(l.label){case 0:return e=this.props,t=e.buildingName,n=e.ontology,(a=this.state.workflow).dateOfStart=b.toString(),a.finishDate=y.toString(),t&&n?[4,Object(i.k)(t,n).then(function(e){return f(s,void 0,void 0,function(){var t,s,l,r,c,m,d,p;return g(this,function(u){switch(u.label){case 0:return e&&e.length&&Object(o.g)(e[0].ontology)?(t=e[0],s=Object(o.g)(t.dateOfStart),l=Object(o.g)(t.finishDate),a.ca="true"==Object(o.g)(t.ca),a.ecm="true"==Object(o.g)(t.ecm),a.rcx="true"==Object(o.g)(t.rcx),a.other="true"==Object(o.g)(t.other),a.dateOfStart=s,b=s?new Date(s):new Date,a.description=Object(o.g)(t.description),a.finishDate=l,y=l?new Date(l):new Date,a.lead=Object(o.g)(t.lead),a.ontology=Object(o.g)(t.ontology),a.otherName=Object(o.g)(t.otherName),[4,Object(i.l)(n)]):[3,2];case 1:for(r=u.sent(),c=0;c<r.length;c++)m=r[c],(d=Object()).done="true"==Object(o.g)(m.done),d.fileName=Object(o.g)(m.fileName),d.number=Object(o.g)(m.number),d.ontology=Object(o.g)(m.ontology),d.title=Object(o.g)(m.title),d.workFlowDescription=Object(o.g)(m.workFlowDescription),a.workFlowDescription||(a.workFlowDescription=[]),(p=a.workFlowDescription).push.apply(p,[d]);u.label=2;case 2:return[2]}})})})]:[3,2];case 1:l.sent(),l.label=2;case 2:return this.setState({workflow:a}),[2]}})})},t.prototype._fetchEquipments=function(){return f(this,void 0,void 0,function(){var e,t=this;return g(this,function(n){switch(n.label){case 0:return e=this,[4,Object(m.i)(this.props.buildingName).then(function(n){n&&n.length>0&&t.setState({_equipments:n},function(){return f(t,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,e.getDetailInspectionDataEquipment("Equip")];case 1:return t.sent(),[4,e._fetchAllOtherCompletionOfEquipment()];case 2:return t.sent(),[2]}})})})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},t.prototype._fetchAllOtherCompletionOfSpace=function(){return f(this,void 0,void 0,function(){var e,t,n,a,i,s,l,r;return g(this,function(c){switch(c.label){case 0:if(e=[],t=[],!((n=this.state._spaces)&&n.length>0))return[3,3];for(a=0;a<n.length;a++)i=n[a],e&&e.push(Object(o.g)(i.space));return e&&e.length>0?[4,Object(u.a)(e)]:[3,2];case 1:if((s=c.sent())&&s.length>0)for(l=function(e){var n=s[e],a=Object(),i=Object(o.g)(n.inspectionOntology);!!i.split(",").find(function(e){return e==i})&&(a.inspectionOntology=Object(o.g)(n.inspectionOntology),a.otherCompleted="true"==Object(o.g)(n.otherCompleted),a.otherNotes=Object(o.g)(n.otherNotes),a.entityName=Object(o.g)(n.entityName)),t&&t.push(a)},r=0;r<s.length;r++)l(r);c.label=2;case 2:this.setState({AllOtherCompletionListOfSpace:t}),c.label=3;case 3:return[2]}})})},t.prototype._fetchAllOtherCompletionOfEquipment=function(){return f(this,void 0,void 0,function(){var e,t,n,a,i,s,l,r;return g(this,function(c){switch(c.label){case 0:for(e=this.state._equipments,t=[],n=[],a=0;a<e.length;a++)i=e[a],t&&t.push(Object(o.g)(i.equip));return t&&t.length>0?[4,Object(u.a)(t)]:[3,2];case 1:if((s=c.sent())&&s.length>0){for(l=function(e){var t=s[e],a=Object(),i=Object(o.g)(t.inspectionOntology);!!i.split(",").find(function(e){return e==i})&&(a.inspectionOntology=Object(o.g)(t.inspectionOntology),a.otherCompleted="true"==Object(o.g)(t.otherCompleted),a.otherNotes=Object(o.g)(t.otherNotes),a.entityName=Object(o.g)(t.entityName)),n&&n.push(a)},r=0;r<s.length;r++)l(r);this.setState({AllOtherCompletionListOfEquipments:n})}c.label=2;case 2:return[2]}})})},t.prototype.populateInspectionsEquipmentList=function(){return f(this,void 0,void 0,function(){var e,t,n,a,o,s,l,r,c,m;return g(this,function(d){switch(d.label){case 0:return e=this.state,t=e.workFlowSpaceList,n=e.ColorForEquip,a=this.state._equipments,o=0,s=0,l=0,r=0,[4,Object(i.c)(t,a,this.props.ontology)];case 1:if((c=d.sent())&&c.length>0){for(m=0;m<c.length;m++)c[m].inspectionVisibility&&(c[m].inspectionVisibility.ECMCompleted&&1==c[m].inspectionVisibility.ECMCompleted&&o++,c[m].inspectionVisibility.RCXCompleted&&1==c[m].inspectionVisibility.RCXCompleted&&s++,c[m].inspectionVisibility.CACompleted&&1==c[m].inspectionVisibility.CACompleted&&l++,c[m].inspectionVisibility.showOther&&c[m].inspectionVisibility.OtherCompleted&&1==c[m].inspectionVisibility.OtherCompleted&&r++);o==c.filter(function(e){return e.inspectionVisibility.showECM}).length?n.ecm="#00008B":n.ecm=0==o?"#B9BFFF":"#6495ED",s==c.filter(function(e){return e.inspectionVisibility.showRCX}).length?n.rcx="#00008B":n.rcx=0==s?"#B9BFFF":"#6495ED",l==c.filter(function(e){return e.inspectionVisibility.showCA}).length?n.ca="#00008B":n.ca=0==l?"#B9BFFF":"#6495ED",r==c.filter(function(e){return e.inspectionVisibility.showOther}).length?n.other="#00008B":n.other=0==r?"#B9BFFF":"#6495ED",o==c.filter(function(e){return e.inspectionVisibility.showECM}).length&&s==c.filter(function(e){return e.inspectionVisibility.showRCX}).length&&l==c.filter(function(e){return e.inspectionVisibility.showCA}).length&&r==c.filter(function(e){return e.inspectionVisibility.showOther}).length?n.all="#00008B":n.all=0==o&&0==s&&0==l&&0==r?"#B9BFFF":"#6495ED"}return this.setState({_equipments:c,ColorForEquip:n},function(){}),[2]}})})},t.prototype.getDetailInspectionDataEquipment=function(e){return f(this,void 0,void 0,function(){var t,n,a,o,s,l;return g(this,function(r){switch(r.label){case 0:return t=this.props,n=t.buildingName,a=t.ontology,o=t.instance,s=this.state._equipments,[4,Object(i.a)(s,n,o,a,e)];case 1:return l=r.sent(),this.setState({_equipments:l}),[2]}})})},t.prototype.handleCollapse=function(){this.setState({isCollapse:!this.state.isCollapse})},t.prototype.unpopulateInspectionsEquipmentList=function(){return f(this,void 0,void 0,function(){var e,t;return g(this,function(n){for(e=this.state._equipments,t=0;t<e.length;t++)e[t].inspectionVisibility={CACompleted:!1,ECMCompleted:!1,RCXCompleted:!1,showCA:!1,showECM:!1,showRCX:!1,ECMinspectionOntology:!1,RCXinspectionOntology:!1,CAinspectionOntology:!1};return this.setState({_equipments:e}),[2]})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,i=t.buildingName,l=t.ontology,r=this.state,m=r.isView,u=r.workflow,h=r.isSpaces,f=r.isEquipment,g=r._spaces,v=r._equipments,E=r.ColorForSpace,C=r.ColorForEquip,x=r.AllOtherCompletionListOfEquipments,N=r.AllOtherCompletionListOfSpace;return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 "},m&&a.createElement("div",{className:"dropdown pull-right"},a.createElement(d.a,{filename:"InspectionReport",data:u,ElementID:"inspectionReport",showCSV:!1})))),a.createElement("br",null),a.createElement("div",{className:"card",id:"inspectionReport"},a.createElement("div",{className:"content"},a.createElement("div",{className:"dataCard"},a.createElement(s.a,{instance:n,buildingName:i,workflowData:u,view:m,dateOfStartLocal:b,finishDateLocal:y}),a.createElement("br",null),a.createElement("div",{className:"row padding-5"},a.createElement("div",{className:"col-md-12 btn-group"},a.createElement("button",{className:"btn btn-dark pull-left "+(h?"btn-fill":""),onClick:function(){e.setState({isSpaces:!0,isEquipment:!1})}},"Spaces"),a.createElement("button",{className:"btn btn-dark pull-left "+(f?"btn-fill":""),onClick:function(){e.setState({isSpaces:!1,isEquipment:!0})}},"Equipment"))),h&&a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-1 col-xs-2  headingText"},"Spaces"),a.createElement("div",{className:"col-md-1 col-xs-3 headingText"},a.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:E.all}})),a.createElement("div",{className:"col-md-4 col-xs-3 headingText"}),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ECM "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," RCX "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," CA "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ",u.otherName," "))),a.createElement("div",{className:"row padding-10",style:{marginTop:"20px"}},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-2 headingText"}),a.createElement("div",{className:"col-md-4 headingText"},a.createElement("span",{style:{marginLeft:"15px"}},"Space")),a.createElement("div",{className:"col-md-5 headingText"},a.createElement("span",{style:{marginLeft:"15px"}},"Floor"))),a.createElement("div",{className:"col-md-6",style:{marginTop:"2px"}},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ",a.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:E.ecm,marginLeft:"5px",display:"inline-block"}})," "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ",a.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:E.rcx,marginLeft:"5px",display:"inline-block"}})," "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ",a.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:E.ca,marginLeft:"5px",display:"inline-block"}})," "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ",a.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:E.other,marginLeft:"20px",display:"inline-block"}})," "))))),g&&g.length>0&&g.map(function(t,s){return a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-sm-1 col-xs-12 padding-10"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-2 headingText"}),a.createElement("a",{"data-toggle":"collapse",id:"btn-detailSpace"+s.toString(),href:"#detailSpace"+s.toString(),"aria-expanded":"false",onClick:function(){e.handleCollapse()}},a.createElement("div",{className:"col-md-4 headingText trim-data",style:{color:"grey",marginLeft:"15px"}},t.rdfsLabel&&t.rdfsLabel.value)),a.createElement("div",{className:"col-md-5 headingText trim-data",style:{color:"grey"}},t.floorLabel&&t.floorLabel.value)),a.createElement(c.a,{AllOtherCompletionListOfSpace:N,isFromReport:!0,inspectionVisibility:t.inspectionVisibility,entityName:Object(o.g)(t.space),workflow:u,inspectionOntology:l,isView:m})),a.createElement("div",{id:"detailSpace"+s.toString(),className:"panel-collapse collapse padding-10",style:{paddingTop:"20px",paddingBottom:"50px"}},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-sm-1 col-xs-12 padding-10"},a.createElement("div",{className:"col-md-2 headingText"}),a.createElement("div",{className:"col-md-4 headingText trim-data",style:{color:"grey",marginLeft:"15px"}},"Type: \xa0",t.type&&t.type.value),a.createElement("div",{className:"col-md-4 headingText trim-data",style:{color:"grey",marginLeft:"15px"}},"Zone: \xa0",t.zoneLabel&&t.zoneLabel.value))),a.createElement(p.a,{instance:n,inspectionOntology:l,buildingName:i,entityName:Object(o.g)(t.space),caObj:t.caObj,rcxObj:t.rcxObj,other:t.other,ecm:t.ecm,isFromReport:!0,inspectionVisibility:t.inspectionVisibility,infoEntity:"Space"})))})))),f&&a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-1 col-xs-2  headingText"},"Equipment"),a.createElement("div",{className:"col-md-1 col-xs-3 headingText"},a.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:C.all}})),a.createElement("div",{className:"col-md-4 col-xs-3 headingText"}),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ECM "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," RCX "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," CA "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ",u.otherName," "))),a.createElement("div",{className:"row padding-10",style:{marginTop:"20px"}},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-2 headingText"}),a.createElement("div",{className:"col-md-5 headingText"},a.createElement("span",{style:{marginLeft:"15px"}},"Equipment")),a.createElement("div",{className:"col-md-4 headingText"},a.createElement("span",{style:{marginLeft:"15px"}},"Equipment Type"))),a.createElement("div",{className:"col-md-6",style:{marginTop:"2px"}},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ",a.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:C.ecm,marginLeft:"5px",display:"inline-block"}})," "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ",a.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:C.rcx,marginLeft:"5px",display:"inline-block"}})," "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ",a.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:C.ca,marginLeft:"5px",display:"inline-block"}})," "),a.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:m?"20px":""}}," ",a.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:C.other,marginLeft:"20px",display:"inline-block"}})," "))))),v&&v.length>0&&v.map(function(t,s){return a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-sm-1 col-xs-12 padding-10"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-2 headingText"}),a.createElement("a",{"data-toggle":"collapse",id:"btn-detailEquip"+s.toString(),href:"#detailEquip"+s.toString(),"aria-expanded":"false",onClick:function(){e.handleCollapse()}},a.createElement("div",{className:"col-md-5 headingText",style:{color:"grey",marginLeft:"15px"}},Object(o.g)(t.equipRdfsLabel))),a.createElement("div",{className:"col-md-4 headingText",style:{color:"grey"}},Object(o.g)(t.type).replace(new RegExp("MiscAndProcess","g"),"Misc & Process"))),a.createElement(c.a,{AllOtherCompletionListOfSpace:x,isFromReport:!0,inspectionVisibility:t.inspectionVisibility,entityName:Object(o.g)(t.equip),workflow:u,inspectionOntology:l,isView:m})),a.createElement("div",{id:"detailEquip"+s.toString(),className:"panel-collapse collapse padding-10"},a.createElement("div",{className:"row padding-10",style:{marginTop:"20px"}},a.createElement("div",{className:"col-md-12 col-sm-1 col-xs-12 padding-10"},a.createElement("div",{className:"col-md-2 headingText"}),a.createElement("div",{className:"col-md-4 headingText trim-data",style:{color:"grey",marginLeft:"15px"}},"Floor: \xa0",t.floorRdfsLabel&&t.floorRdfsLabel.value),a.createElement("div",{className:"col-md-4 headingText trim-data",style:{color:"grey",marginLeft:"15px"}},"Space: \xa0",t.spaceRdfsLabel&&t.spaceRdfsLabel.value))),a.createElement(p.a,{isFromReport:!0,inspectionVisibility:t.inspectionVisibility,instance:n,inspectionOntology:l,buildingName:i,entityName:Object(o.g)(t.equip),caObj:t.caObj,rcxObj:t.rcxObj,other:t.other,ecm:t.ecm,infoEntity:"Equip"})))})))))))))))},t}(a.Component);t.default=v},3230:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(698)),i=n(707),s=n.n(i),l=n(57),r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={workflow:Object(),isView:!1},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.buildingName,n=e.workflowData,a=e.view;t&&n&&this.setState({workflow:n,isView:a})},t.prototype.render=function(){var e=this.props,t=e.dateOfStartLocal,n=e.finishDateLocal,i=this.state,r=i.workflow,c=i.isView,m=new l.b;return a.createElement(a.Fragment,null,a.createElement("div",{className:"container-fluid no-padding"},a.createElement("div",{className:"content",style:{paddingTop:"0px",paddingBottom:"0px"}},a.createElement("div",{className:""},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 descriptionStyle"},a.createElement("div",{className:""},a.createElement("div",{className:"row padding-5"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-3 headingText padding-10"}," Description: "),a.createElement("div",{className:"col-md-9 headingText"},a.createElement("input",{type:"text",name:"description",disabled:c,className:"form-control",style:{border:"1px solid gray"},value:r.description}))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-3 headingText padding-10"}," Lead: "),a.createElement("div",{className:"col-md-9 headingText"},a.createElement("input",{type:"text",disabled:c,name:"lead",className:"form-control",style:{border:"1px solid gray"},value:r.lead})))),a.createElement("div",{className:"row padding-5"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-3 headingText padding-10"}," Date of Start: "),a.createElement("div",{className:"col-md-9 headingText"},a.createElement(s.a,{id:"dateOfStart",className:"form-control",disabled:c,selected:t,onChange:function(e){},dateFormat:"MMMM d, yyyy",customInput:a.createElement("input",{type:"text",className:"form-control",placeholder:"Date of Start","aria-label":"","aria-describedby":"button-addon4",value:r.dateOfStart})}))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-3 headingText padding-10"}," Finish Date: "),a.createElement("div",{className:"col-md-9 headingText"},a.createElement(s.a,{id:"finishDate",className:"form-control",disabled:c,selected:n,onChange:function(e){},dateFormat:"MMMM d, yyyy",customInput:a.createElement("input",{type:"text",className:"form-control",placeholder:"Finish Date","aria-label":"","aria-describedby":"button-addon4",value:r.finishDate})})))),a.createElement("div",{className:"row padding-5"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row img-thumbnail no-margin"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-xs-3 headingText padding-10"}," To Do: "),a.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10",style:{marginLeft:"5px"}}," ECM "),a.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10"}," RCX "),a.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10"}," CA "),a.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10"}," Other ")),a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-xs-3 headingText"}," "),a.createElement("div",{className:"col-md-2 col-xs-2",style:{marginTop:"7px"}}," \xa0 ",a.createElement("input",{name:"ecm",disabled:c,checked:r.ecm,type:"checkbox"})," "),a.createElement("div",{className:"col-md-2 col-xs-2",style:{marginTop:"7px"}}," \xa0 ",a.createElement("input",{name:"rcx",disabled:c,checked:r.rcx,type:"checkbox"})," "),a.createElement("div",{className:"col-md-2 col-xs-2",style:{marginTop:"7px"}}," \xa0 ",a.createElement("input",{name:"ca",disabled:c,checked:r.ca,type:"checkbox"})," "),a.createElement("div",{className:"col-md-2 col-xs-2",style:{marginTop:"7px"}}," \xa0 ",a.createElement("input",{name:"other",disabled:c,checked:r.other,type:"checkbox"})," ")))),r.other&&a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-3 col-xs-12 headingText padding-10"}," Other Name:"),a.createElement("div",{className:"col-md-9 col-xs-12"},"  ",a.createElement("input",{name:"otherName",className:"form-control",placeholder:"Enter Other Name",disabled:c,value:r.otherName,type:"text"})," "))),a.createElement("br",null),a.createElement("div",{className:"card no-margin small"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"content no-padding"},a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"row no-padding"},a.createElement("div",{className:"col-md-12 no-padding"},a.createElement("div",{className:"col-md-2 col-xs-2 grid-header"},"Item"),a.createElement("div",{className:"col-md-2 col-xs-2 grid-header"},a.createElement("i",{className:"fa fa-download",style:{marginTop:"4px",marginRight:"5px"}})," File Download"),a.createElement("div",{className:"col-md-2 col-xs-2 grid-header"},a.createElement("i",{className:"fa fa-upload",style:{marginTop:"4px",marginRight:"5px"}})," File Upload"),a.createElement("div",{className:"col-md-1 col-xs-2 grid-header"},"Done"),a.createElement("div",{className:"col-md-1 col-xs-2 grid-header"},"Number"),a.createElement("div",{className:"col-md-4 col-xs-4 grid-header hidden-xs d-sm-none"},"Description - State of Capture"))),r.workFlowDescription&&r.workFlowDescription.map(function(e,t){var n=m.GetSignedURL(l.a.DOCUMENT(),e.fileName);return a.createElement("div",{key:t,className:" row no-padding"},a.createElement("div",{className:"col-md-12 col-xs-12 no-padding"},a.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10"},e.title),a.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10"},a.createElement("a",{className:"text-primary trim-data",href:n},e.fileName)),a.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-5",style:{display:"inline-flex"}},a.createElement("div",{style:{background:e.fileName?"green":"lightgray",border:"1px solid gray",width:"30px",marginRight:"5px",height:"30px",borderRadius:"5px"}}),"\xa0",!c&&a.createElement("button",{type:"button",className:"btn btn-xs btn-dark btn-fill",onClick:function(){},disabled:c,"data-toggle":"modal","data-target":"#fileUpload"+t},a.createElement("span",{className:"hidden-xs"},a.createElement("i",{className:"fa fa-eye",style:{marginTop:"4px",marginRight:"5px"}}),"View File"))),a.createElement("div",{className:"col-md-1 col-xs-2 headingText padding-5"},a.createElement("input",{style:{border:"1px solid gray"},name:"done",type:"checkbox",className:"custom-control",disabled:c,checked:!!e.done})),a.createElement("div",{className:"col-md-1 col-xs-2 headingText padding-5"},a.createElement("input",{type:"text",name:"number",disabled:c,value:e.number,className:"custom-control",style:{border:"1px solid gray",width:"80%"}})),a.createElement("div",{className:"col-md-3 col-xs-2 headingText padding-5"},a.createElement("input",{type:"text",name:"workFlowDescription",disabled:c,value:e.workFlowDescription,className:"custom-control",placeholder:"Enter Description"})),a.createElement("div",{className:"col-md-1 col-xs-2 padding-5"},!c&&a.createElement("button",{className:"btn btn-xs active btn-danger",disabled:c},a.createElement("i",{className:"fa fa-trash"})))),a.createElement(o.a,{id:"fileUpload"+t,heading:"Workflow Description",saveButtonText:"Done",onSaveButtonClick:function(){document.getElementById("fileUpload"+t).click()},disableSaveButton:!1},a.createElement("div",{className:"content"},a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 center"},a.createElement("img",{src:n,alt:e.fileName})))))))}))))))))))))},t}(a.Component);t.a=c},3231:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function s(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,l)}r((a=a.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={inspectionVisibility:n.props.inspectionVisibility?n.props.inspectionVisibility:Object(),otherNotes:"",otherCompleted:!1,otherInspectionOntology:[],otherInspectionOntologies:"",entityName:n.props.entityName?n.props.entityName:""},n.getOtherCompletion=n.getOtherCompletion.bind(n),n}return o(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){return i(this,void 0,void 0,function(){var t=this;return s(this,function(n){return this.props.inspectionVisibility==e.inspectionVisibility&&this.props.entityName==e.entityName||this.setState({inspectionVisibility:e.inspectionVisibility,entityName:e.entityName},function(){return i(t,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.getOtherCompletion()];case 1:return e.sent(),[2]}})})}),[2]})})},t.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.props.inspectionVisibility&&this.props.entityName?[4,this.getOtherCompletion()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.getOtherCompletion=function(){return i(this,void 0,void 0,function(){var e,t,n,a,o,i,l,r=this;return s(this,function(s){return e=this.state,t=e.inspectionVisibility,n=e.otherInspectionOntologies,a=e.otherCompleted,o=e.otherNotes,i=e.otherInspectionOntology,this.props.entityName&&this.props.inspectionOntology&&(l=this.props.AllOtherCompletionListOfSpace.find(function(e){return e.entityName==r.state.entityName}))&&(a=l.otherCompleted,o=l.otherNotes,n=l.inspectionOntology,i=n.split(","),t.OtherCompleted=l.otherCompleted,t.OtherinspectionOntology=!!i.find(function(e){return e==r.props.inspectionOntology}),this.setState({otherInspectionOntologies:n,otherCompleted:a,otherNotes:o,otherInspectionOntology:i,inspectionVisibility:t})),[2]})})},t.prototype.render=function(){var e=this.props,t=e.workflow,n=e.isView,o=e.isFromReport,i=this.state.inspectionVisibility;return a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-1 col-xs-2 headingText"},!o&&t.ecm&&i&&a.createElement("div",{className:"switch-container pull-right"},a.createElement("label",null,a.createElement("input",{disabled:n,checked:i.showECM,onChange:function(e){},className:"switch",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("div",{className:"col-md-1 col-xs-2 headingText"},t.ecm&&i&&i.showECM&&a.createElement("div",{className:"switch-container pull-right"},n&&a.createElement("label",null,a.createElement("input",{disabled:n,checked:i.ECMCompleted,onChange:function(e){},className:"switch1",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("div",{className:"col-md-1 col-xs-2 col-md-offset-1 headingText"},!o&&t.rcx&&i&&a.createElement("div",{className:"switch-container pull-right"},a.createElement("label",null,a.createElement("input",{disabled:n,checked:i.showRCX,onChange:function(e){},className:"switch",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("div",{className:"col-md-1 col-xs-2 headingText"},t.rcx&&i&&i.showRCX&&a.createElement("div",{className:"switch-container pull-right"},n&&a.createElement("label",null,a.createElement("input",{disabled:n,checked:i.RCXCompleted,onChange:function(e){},className:"switch1",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("div",{className:"col-md-1 col-xs-2 col-md-offset-1 headingText"},!o&&t.ca&&i&&a.createElement("div",{className:"switch-container pull-right"},a.createElement("label",null,a.createElement("input",{disabled:n,checked:i.showCA,onChange:function(e){},className:"switch",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("div",{className:"col-md-1 col-xs-2 headingText"},t.ca&&i&&i.showCA&&a.createElement("div",{className:"switch-container pull-right"},n&&a.createElement("label",null,a.createElement("input",{disabled:n,checked:i.CACompleted,onChange:function(e){},className:"switch1",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("div",{className:"col-md-1 col-xs-2 col-md-offset-1 headingText"},!o&&t.other&&a.createElement("div",{className:"switch-container pull-right"},a.createElement("label",null,a.createElement("input",{disabled:n,checked:i.showOther,onChange:function(e){},className:"switch",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("div",{className:"col-md-1 col-xs-2 headingText"},t.other&&i&&i.showOther&&a.createElement("div",{className:"switch-container pull-right"},n&&a.createElement("label",null,a.createElement("input",{disabled:n,checked:i.OtherCompleted,onChange:function(e){},className:"switch1",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null)))))))},t}(a.Component);t.a=l},3232:function(e,t,n){"use strict";var a,o=n(2),i=(n.n(o),n(704)),s=n(11),l=n(912),r=n(910),c=n(911),m=n(913),d=n(20),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function s(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,l)}r((a=a.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},f=["Appropriate Schedule","Sensors or Actuators Calibrated","Equal Load Distribution Across Equipment","Ventilation Rates are Appropriate","Automatic Reset Functioning","Adjustments Made to Compensate for Oversized/Undersized Equip","No Unintended Simultaneous Cooling/Heating Occurs","Economizer Controls Functioning Properly","Air/Water Distribution Balanced","Light Levels are Appropriate","Light Sensors and Controls are Function Properly","DHW Temp. Settings are Correct","Water Pumps Properly Functioning","There Are No Water/Air Leaks"],g=["Vents/Ducts/Coils Are Clean","Filters/Steam Traps are Clean","Components in Good Condition (belts, bearings, pulleys, etc.)","Proper Insulation/Sealant Where Required"],b=["Fan","Compressor","Motor","Pump","Ballast","Lamp","Other"],y=["VFD","Dimmer","Occ. Sensor","Controls","Other"],v="Condition",E="Compliance",C="Safety",x="CA_Note",N=function(e){function t(t){var n=e.call(this,t)||this;return n.state={ecm:n.props.ecm?n.props.ecm:{ecmItems:[],item:n.props.entityName,notes:"",proposeSchedule:[]},replacementEquipmentList:[],inspectionOntology:n.props.inspectionOntology?n.props.inspectionOntology:"",rcxObj:n.props.rcxObj?n.props.rcxObj:{currentSchedule:[],adjustedSchedule:[],currentConditionsCleanliness:[],currentConditionsInspections:[],rcxtasksCleanliness:[],rcxtasksInspections:[]},caObj:n.props.caObj?n.props.caObj:{caAssessments:[]},equipLabels:[],conditionsLabels:[],complianceLabels:[],safetyLabels:[],other:n.props.other?n.props.other:Object()},a=n,n.getEquipmentType=n.getEquipmentType.bind(n),n.setupDropdownLists=n.setupDropdownLists.bind(n),n}return p(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.inspectionOntology!=e.inspectionOntology&&this.setState({inspectionOntology:e.inspectionOntology,ecm:e.ecm,rcxObj:e.rcxObj,caObj:e.caObj,other:e.other})},t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){return h(this,function(e){return this.props.inspectionOntology&&this.setupDropdownLists(),[2]})})},t.prototype.getEquipmentType=function(){return u(this,void 0,void 0,function(){var e,t,n,o=this;return h(this,function(l){return e=this.props,t=e.buildingName,n=e.entityName,Object(i.x)(t,n).then(function(e){return u(o,void 0,void 0,function(){return h(this,function(t){return Object(i.w)(Object(s.g)(e[0]),2).then(function(e){var t=e.map(function(e){return Object(s.g)(e)});a.setState({replacementEquipmentList:t})}),[2]})})}),[2]})})},t.prototype.setupDropdownLists=function(){return u(this,void 0,void 0,function(){var e,t,n,a,o;return h(this,function(i){return e=this.state,t=e.equipLabels,n=e.conditionsLabels,a=e.complianceLabels,o=e.safetyLabels,t=["Cleanliness","Debris","Insulation/Sealing","Rust/Chipped Paint","Loose Connections","Pad/Support/Dunnage","Ventilation","General Notes"],0==n.length&&n.push.apply(n,["Access","Ceiling","Egress","Fenestration","Flooring","Foundation","Frame","Roof","Walls","Curb","Landscaping","Pad","ParkingLot","ParkingSpace","Paving","StructuralElement"]),0==a.length&&a.push.apply(a,["ADA","HIPAA","PCI"]),0==o.length&&o.push.apply(o,["AED","AlarmSystem","FireExtinguisher","Sprinkler"]),this.setState({equipLabels:t,conditionsLabels:n,complianceLabels:a,safetyLabels:o}),[2]})})},t.prototype.render=function(){var e=this.props,t=e.inspectionVisibility,n=e.buildingName,a=e.instance,i=e.infoEntity,s=e.ecm,p=e.rcxObj,u=e.caObj,h=e.other,N=e.entityName,w=this.state,O=w.replacementEquipmentList,L=w.equipLabels,I=w.conditionsLabels,A=w.complianceLabels,S=w.safetyLabels,k=s&&s.ecmItems?s.ecmItems.filter(function(e){return"hasECMRComp"==e.type}):[],F=s&&s.ecmItems?s.ecmItems.filter(function(e){return"hasECMNComp"==e.type}):[],_=s&&s.ecmItems?s.ecmItems.filter(function(e){return"hasECMREquip"==e.type}):[],T=u&&u.caAssessments?u.caAssessments.filter(function(e){return e.type==x}):[],j=u&&u.caAssessments?u.caAssessments.filter(function(e){return e.type==v}):[],D=u&&u.caAssessments?u.caAssessments.filter(function(e){return e.type==E}):[],R=u&&u.caAssessments?u.caAssessments.filter(function(e){return e.type==C}):[];return o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},t&&t.ECMCompleted&&o.createElement("div",{className:"col-md-offset-2 col-md-10"},o.createElement("div",{className:"col-md-12",style:{paddingTop:"20px"}},o.createElement("div",{className:"col-md-2 headingText trim-data",style:{color:"grey"}},"ECM:"),o.createElement("div",{className:"col-md-10"},o.createElement("div",{className:"col-md-12"},k&&k.length>0&&o.createElement(l.a,{instance:a,buildingName:n,dropDownLabel:"Replacement Component",dropDownList:b,isFromReport:!0,typePredicate:"hasECMRComp",items:k,hideAddButton:!0,isView:!0})),o.createElement("div",{className:"col-md-12"},F&&F.length>0&&o.createElement(l.a,{instance:a,buildingName:n,dropDownLabel:"New Component",isFromReport:!0,dropDownList:y,typePredicate:"hasECMNComp",items:F,hideAddButton:!0,isView:!0})),o.createElement("div",{className:"col-md-12"},_&&_.length>0&&o.createElement(l.a,{instance:a,buildingName:n,dropDownLabel:"Replacement Equipment",isFromReport:!0,dropDownList:O,typePredicate:"hasECMREquip",items:_,hideAddButton:!0,isView:!0})),o.createElement("div",{className:"col-md-10"},o.createElement("div",{className:"form-group"},o.createElement("div",{className:"col-md-2"},"Notes"),o.createElement("div",{className:"col-md-10"},o.createElement("textarea",{className:"form-control",value:Object(d.L)(s&&s.notes,!1),rows:3,disabled:!0}))))))),t&&t.RCXCompleted&&o.createElement("div",{className:"col-md-offset-2 col-md-10"},o.createElement("div",{className:"col-md-12",style:{paddingTop:"20px"}},o.createElement("div",{className:"col-md-2 headingText trim-data",style:{color:"grey"}},"RCX:"),o.createElement("div",{className:"col-md-10"},o.createElement("div",{className:"col-md-12 headingText trim-data",style:{color:"grey"}},"Current Conditions:"),o.createElement("div",{className:"col-md-12 padding-10 "},o.createElement("h4",{className:"title"},"Inspections"),o.createElement("div",{className:"padding-10"},o.createElement(r.a,{isFromReport:!0,isInspectionOrCleanliness:"inspection",buildingName:n,instance:a,hideAddButton:!0,rcxOf:i,currentConditions:p&&p.currentConditionsInspections?p.currentConditionsInspections:[],labels:f,isView:!0,entityName:N,infoEntity:i}))),o.createElement("div",{className:"col-md-12 padding-10 "},o.createElement("h4",{className:"title"},"Cleanliness"),o.createElement("div",{className:"padding-10"},o.createElement(r.a,{isFromReport:!0,hideAddButton:!0,isInspectionOrCleanliness:"cleanliness",buildingName:n,instance:a,rcxOf:i,currentConditions:p&&p.currentConditionsCleanliness?p.currentConditionsCleanliness:[],labels:g,isView:!0,entityName:N,infoEntity:i}))),o.createElement("div",{className:"col-md-12 headingText trim-data",style:{color:"grey"}},"RCX Task CheckList:"),o.createElement("div",{className:"col-md-12 padding-10 "},o.createElement("h4",{className:"title"},"Inspections"),o.createElement("div",{className:"padding-10"},o.createElement(c.a,{isFromReport:!0,hideAddButton:!0,buildingName:n,instance:a,rcxOf:i,rcxItems:p&&p.rcxtasksInspections?p.rcxtasksInspections:[],isView:!0,isInspectionOrCleanliness:"Inspection",entityName:N,infoEntity:i}))),o.createElement("div",{className:"col-md-12 padding-10 "},o.createElement("h4",{className:"title"},"Cleanliness"),o.createElement("div",{className:"padding-10"},o.createElement(c.a,{isFromReport:!0,hideAddButton:!0,buildingName:n,instance:a,rcxOf:i,rcxItems:p&&p.rcxtasksCleanliness?p.rcxtasksCleanliness:[],isView:!0,isInspectionOrCleanliness:"Cleanliness",entityName:N,infoEntity:i})))))),t&&t.CACompleted&&o.createElement("div",{className:"col-md-offset-2 col-md-10"},o.createElement("div",{className:"col-md-12",style:{paddingTop:"20px"}},o.createElement("div",{className:"col-md-2 headingText trim-data",style:{color:"grey"}},"CA:"),o.createElement("div",{className:"col-md-10"},o.createElement("div",{className:"col-md-12 headingText trim-data",style:{color:"grey"}},"Condition Assessment:"),"Equip"==i&&L.length>0&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-12"},o.createElement(m.a,{isFromReport:!0,instance:a,buildingName:n,caOf:i,items:T,hideAddButton:!0,type:x,labels:L,isView:!0,entityName:N,infoEntity:i}))),"Space"==i&&o.createElement(o.Fragment,null,I.length>0&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-12"},o.createElement("h4",null,v," Assessments"),o.createElement(m.a,{isFromReport:!0,instance:a,buildingName:n,caOf:i,items:j,hideAddButton:!0,type:v,labels:I,isView:!0,entityName:N,infoEntity:i})),o.createElement("br",null),o.createElement("br",null)),A.length>0&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-12"},o.createElement("h4",null,E," Assessments"),o.createElement(m.a,{instance:a,buildingName:n,caOf:i,items:D,hideAddButton:!0,type:E,labels:A,isView:!0,entityName:N,infoEntity:i})),o.createElement("br",null),o.createElement("br",null)),S.length>0&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-12"},o.createElement("h4",null,C," Assessments"),o.createElement(m.a,{instance:a,buildingName:n,caOf:i,items:R,hideAddButton:!0,type:C,labels:S,isView:!0,entityName:N,infoEntity:i})),o.createElement("br",null),o.createElement("br",null)))))),t&&t.OtherCompleted&&o.createElement("div",{className:"col-md-offset-2 col-md-10"},o.createElement("div",{className:"col-md-12",style:{paddingTop:"20px"}},o.createElement("div",{className:"col-md-2 headingText trim-data",style:{color:"grey"}},"Other:"),o.createElement("div",{className:"col-md-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"form-group"},o.createElement("div",{className:"col-md-2"},"Notes"),o.createElement("div",{className:"col-md-10"},o.createElement("textarea",{className:"form-control",value:Object(d.L)(h&&h.otherNotes,!1),rows:3,disabled:!0})))))))))},t}(o.Component);t.a=N},910:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(698)),i=n(703),s=n(57),l=n(20),r=n(743),c=n(8),m=n(737),d=n(21),p=n(701),u=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),h=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function s(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,l)}r((a=a.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},g=function(e){function t(t){var n=e.call(this,t)||this;return n.textareas=[],n.state={currentConditions:[],ccLabel:[],labelsDropDownList:[],selectedAttachment:void 0,onPageTextChanged:!1,newCCLabel:""},n.addItem=n.addItem.bind(n),n.handleItemChange=n.handleItemChange.bind(n),n.handleCurrentConditionLabelChange=n.handleCurrentConditionLabelChange.bind(n),n.handleCCLabelChange=n.handleCCLabelChange.bind(n),n.removeItem=n.removeItem.bind(n),n.handleFileAttachment=n.handleFileAttachment.bind(n),n.setImageURL_ForItems=n.setImageURL_ForItems.bind(n),n}return u(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){return h(this,void 0,void 0,function(){var t,n,a=this;return f(this,function(o){return e.buildingName&&e.instance&&(t=JSON.stringify(this.state.currentConditions),n=JSON.stringify(e.currentConditions),(!this.state.onPageTextChanged&&!this.props.isFromReport&&t!=n||this.props.isFromReport&&t!=n)&&this.setState({currentConditions:e.currentConditions},function(){a.textareas.map(function(e){Object(l.h)(e)}),a.setImageURL_ForItems(e.currentConditions)})),[2]})})},t.prototype.componentDidMount=function(){return h(this,void 0,void 0,function(){var e,t=this;return f(this,function(n){return e=this.state.labelsDropDownList,this.props.labels&&this.props.labels.length>0&&(e=this.props.labels.map(function(e){return{value:e,label:e}}),this.setState({labelsDropDownList:e})),this.props.buildingName&&this.props.instance&&this.setState({currentConditions:this.props.currentConditions},function(){t.setImageURL_ForItems(t.props.currentConditions),t.state.onPageTextChanged||t.textareas.map(function(e){Object(l.h)(e)})}),[2]})})},t.prototype.setImageURL_ForItems=function(e){return h(this,void 0,void 0,function(){var t,n,a;return f(this,function(o){for(t=0;t<e.length;t++)n="",a=new s.b,e[t].photo&&(e[t].photo.toLowerCase().indexOf(".mp4")>0&&(n="assets/img/video-file-icon.png"),e[t].photo.toLowerCase().indexOf(".mov")>0&&(n="assets/img/video-file-icon.png"),e[t].photo.toLowerCase().indexOf(".pdf")>0&&(n="assets/img/pdf-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".xls")>0||e[t].photo.toLowerCase().indexOf(".csv")>0)&&(n="assets/img/excel-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".xlsx")>0||e[t].photo.toLowerCase().indexOf(".csv")>0)&&(n="assets/img/excel-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".docx")>0||e[t].photo.toLowerCase().indexOf(".txt")>0)&&(n="assets/img/doc-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".doc")>0||e[t].photo.toLowerCase().indexOf(".txt")>0)&&(n="assets/img/doc-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".ppt")>0||e[t].photo.toLowerCase().indexOf(".txt")>0)&&(n="assets/img/ppt-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".pptx")>0||e[t].photo.toLowerCase().indexOf(".txt")>0)&&(n="assets/img/ppt-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".png")>0||e[t].photo.toLowerCase().indexOf(".jpeg")>0||e[t].photo.toLowerCase().indexOf(".jpg")>0||e[t].photo.toLowerCase().indexOf(".webp")>0||e[t].photo.toLowerCase().indexOf(".tiff")>0)&&(n=a.GetSignedURL(s.a.DOCUMENT(),e[t].photo,6e5))),e[t].imageurl=n;return this.setState({currentConditions:e}),[2]})})},t.prototype.addItem=function(){return h(this,void 0,void 0,function(){var e,t,n,a,o=this;return f(this,function(i){return e=this.state,t=e.currentConditions,n=e.ccLabel,a=e.newCCLabel,n.map(function(e){var n={preRCXName:Object(l.E)(8),ccBoolean:!1,ccLabel:"Other"==e.value?a:e.value,proposedRCX:"",photo:"",entryTimeStamp:void 0};t||(t=[]);var o=t.filter(function(e){return-1!=e.ccLabel.indexOf(n.ccLabel)}).length;o>0&&(n.ccLabel=n.ccLabel+" - "+(o+1)),t.push.apply(t,[n])}),t=t.sort(function(e,t){return e.ccLabel>t.ccLabel?1:-1}),this.setState({currentConditions:t,ccLabel:[]},function(){return h(o,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,this.props.handleAdder(t,this.props.isInspectionOrCleanliness)];case 1:return e.sent(),[2]}})})}),setTimeout(function(){o.textareas.map(function(e){Object(l.h)(e)})},1e3),[2]})})},t.prototype.removeItem=function(e){var t=this.state.currentConditions;t.splice(e,1),this.setState({currentConditions:t}),this.props.handleAdder(t,this.props.isInspectionOrCleanliness)},t.prototype.removeAttachment=function(e){var t=this.state.currentConditions;t[e].imageurl="",t[e].photo="",this.setState({currentConditions:t}),this.props.handleAdder(t,this.props.isInspectionOrCleanliness)},t.prototype.handleCurrentConditionLabelChange=function(e){var t=this.state.ccLabel;t=e,this.setState({ccLabel:t})},t.prototype.handleCCLabelChange=function(e){var t=this.state,n=t.labelsDropDownList,a=t.newCCLabel;-1!=e.findIndex(function(e){return"Other"==e.value})||(a=""),this.setState({ccLabel:e,labelsDropDownList:n,newCCLabel:a})},t.prototype.handleItemChange=function(e,t){var n=this,a=this.state.currentConditions,o=t.target.name,i=a&&a[e];i[""+o]="ccBoolean"==o?t.target.checked:t.target.value,this.setState({currentConditions:a,onPageTextChanged:!0},function(){"ccBoolean"!=o&&document.getElementById(n.props.isInspectionOrCleanliness+"rcxCC"+e).focus()}),this.props.handleAdder(a,this.props.isInspectionOrCleanliness)},t.prototype.handleFileAttachment=function(e,t){return h(this,void 0,void 0,function(){var n,a,o,i,r,p,u,h,g,b,y,v=this;return f(this,function(f){switch(f.label){case 0:n=this.props,a=n.buildingName,o=n.entityName,i=n.infoEntity,r=JSON.parse(c.a.getItem("user")),p=this.state.currentConditions,u=p[t],f.label=1;case 1:return f.trys.push([1,4,,5]),e&&e.name&&(e.file||e.length>0)&&u?(h=this.props.buildingName+"-_-"+Object(l.E)(10),g="",b=void 0,y=e.name.substring(e.name.indexOf(".")),g=""+h+y,b=e,p[t].photo=g,[4,(new s.b).UploadFile(s.a.DOCUMENT(),g,b,function(t,n){if(t)Object(d.a)("Attachment failed to upload");else{var s={building:a,docOntology:Object(l.E)(12),documentType:"InspectionDoc",documentSubtype:"InspectionDoc",enteredBy:r.contact,enteredByName:r.name,entityOntology:[{label:"",value:o}],entityType:i,rdfsLabel:e.name,s3FileName:g,entryTimeStamp:(new Date).toString(),linkToDocument:g};Object(m.f)(s).then(function(){})}})]):[3,3];case 2:f.sent(),this.setState({currentConditions:p,selectedAttachment:e},function(){v.props.handleAdder(p,v.props.isInspectionOrCleanliness),document.getElementById("uploadImageClose"+v.props.isInspectionOrCleanliness+t).click(),setTimeout(function(){v.setImageURL_ForItems(p)},1e3)}),f.label=3;case 3:return[3,5];case 4:return f.sent(),[3,5];case 5:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.currentConditions,c=t.ccLabel,m=t.labelsDropDownList,d=t.newCCLabel,u=this.props,g=u.hideAddButton,b=u.isView,y=u.isFromReport,v=new s.b;return a.createElement(a.Fragment,null,n&&n.map(function(t,n){var i="";return t.photo&&(i=v.GetSignedURL(s.a.DOCUMENT(),t.photo)),a.createElement("div",{key:n,className:"row padding-5",style:{borderBottom:"1px solid rgb(0 0 0 / 22%)",marginBottom:"5px",paddingBottom:"15px",minHeight:"100px"}},a.createElement("div",{className:"col-md-3"},a.createElement("label",{htmlFor:"ccBoolean"+n},t.ccLabel)),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"col-md-4"},a.createElement("label",{className:"pull-right",htmlFor:t.proposedRCX},"Describe Proposed RCX:")),a.createElement("div",{className:"col-md-8"},a.createElement("textarea",{disabled:b,id:e.props.isInspectionOrCleanliness+"rcxCC"+n,className:"form-control notInPDF",value:t.proposedRCX,name:"proposedRCX",ref:function(t){return e.textareas.push(t)},onChange:function(t){return h(e,void 0,void 0,function(){return f(this,function(e){return this.handleItemChange(n,t),Object(l.h)(t.target),[2]})})},style:{width:"100%",height:"content",minHeight:"60px",overflow:"hidden",resize:"none",wordWrap:"break-word"}}),a.createElement("span",{className:"inPDF",style:{display:"none"}},t.proposedRCX))),!y&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-1"},!(t.photo&&t.photo.length>0)&&a.createElement("button",{type:"button",disabled:b||y,className:"btn btn-dark padding-5","data-toggle":"modal","data-target":"#uploadImage"+e.props.isInspectionOrCleanliness+n,title:"Upload Attachment",onClick:function(){e.setState({selectedAttachment:void 0})}},a.createElement("i",{className:"fa fa-paperclip"})),t.photo&&t.photo.length>0&&a.createElement("img",{crossOrigin:"anonymous",src:t.imageurl,style:{width:"100%"}}),a.createElement(o.a,{id:"uploadImage"+e.props.isInspectionOrCleanliness+n,onSaveButtonClick:function(){},saveButtonText:"Close",closeButtonId:"uploadImageClose"+e.props.isInspectionOrCleanliness+n,isEditForm:!1,showCancelButton:!1,cancelButtonText:"Cancel",heading:e.props.isInspectionOrCleanliness},a.createElement(r.a,{handleAttachedFile:function(t){t&&t[0]&&e.handleFileAttachment(t[0],n)},files:e.state.selectedAttachment?[e.state.selectedAttachment]:[],single:!0}))),a.createElement("div",{className:"col-md-2 btn-group"},t.photo&&t.photo.length>0&&a.createElement(a.Fragment,null,a.createElement("button",{type:"button",disabled:b||y,className:"btn btn-dark padding-5","data-toggle":"modal","data-target":"#uploadImage"+e.props.isInspectionOrCleanliness+n,title:"Replace Attachment",onClick:function(){e.setState({selectedAttachment:void 0})}},a.createElement("i",{className:"fa fa-paperclip"})),i&&a.createElement("a",{className:"btn padding-5",title:"Download Attachment",href:i},a.createElement("i",{className:"fa fa-download"})),a.createElement("button",{disabled:b,type:"button",className:"btn btn-danger padding-5",title:"Remove Attachment",onClick:function(){return document.getElementById("removedPropsedRCXAttacment"+t.preRCXName).click()}},a.createElement("i",{className:"fa fa-trash"})),a.createElement("button",{style:{display:"none"},id:"removedPropsedRCXAttacment"+t.preRCXName,"data-toggle":"modal","data-target":"#removedDialogPropsedRCXAttacment"+t.preRCXName},"."),a.createElement(p.a,{instance:e.props.instance,id:"removedDialogPropsedRCXAttacment"+t.preRCXName,showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure you want to delete this attachment for proposed RCX ?",heading:"Alert",onConfirmButtonClick:function(){return e.removeAttachment(n)}})),a.createElement("button",{disabled:b,type:"button",className:"btn ml-5 padding-5",title:"Remove Item",style:{color:"#f00"},onClick:function(){return document.getElementById("removeProposedRCX"+t.preRCXName).click()}},a.createElement("i",{className:"fa fa-remove"})),a.createElement("button",{style:{display:"none"},id:"removeProposedRCX"+t.preRCXName,"data-toggle":"modal","data-target":"#removeProposedRCXDialog"+t.preRCXName},"."),a.createElement(p.a,{instance:e.props.instance,id:"removeProposedRCXDialog"+t.preRCXName,showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure you want to delete this proposed RCX?",heading:"Alert",onConfirmButtonClick:function(){return e.removeItem(n)}}))),y&&t.photo&&t.imageurl&&t.photo.length>0&&a.createElement("div",{className:"col-md-4"},a.createElement("img",{crossOrigin:"anonymous",src:t.imageurl,className:"inspection-image-preview"})))}),!g&&!y&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-1"},a.createElement("label",null,"Add:")),a.createElement("div",{className:"col-md-11 col-xs-11"},a.createElement("button",{type:"button",className:"btn btn-dark btn-fill btn-sm","data-toggle":"modal","data-target":"#AddLabelDialog_"+this.props.isInspectionOrCleanliness,onClick:function(){e.setState({newCCLabel:""})}},a.createElement("i",{className:"fa fa-plus"}))),a.createElement(o.a,{disableSaveButton:!c||-1!=c.findIndex(function(e){return"Other"==e.value})&&!d,id:"AddLabelDialog_"+this.props.isInspectionOrCleanliness,onSaveButtonClick:function(){e.addItem()},saveButtonText:"Ok",isEditForm:!1,showCancelButton:!0,cancelButtonText:"Cancel",heading:"Inspection and Testing"},m&&m.length>0&&a.createElement("div",{className:"form-group"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(i.a,{id:"lbl",isMulti:!0,closeMenuOnSelect:!1,onChange:this.handleCCLabelChange,placeholder:this.props.isInspectionOrCleanliness+" labels",options:m,value:c}))),a.createElement("div",{className:"row"},c&&-1!=c.findIndex(function(e){return"Other"==e.value})&&a.createElement("div",{className:"col-md-12",style:{paddingTop:10}},a.createElement("input",{type:"text",className:"form-control",value:d,placeholder:'Enter title for option "Other"',onChange:function(t){e.setState({newCCLabel:t.target.value})}})))))))},t}(a.Component);t.a=g},911:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(698)),i=n(57),s=n(20),l=n(743),r=n(8),c=n(737),m=n(21),d=n(701),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function s(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,l)}r((a=a.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},f=!1,g=function(e){function t(t){var n=e.call(this,t)||this;return n.textareas=[],n.textareas2=[],n.state={rcxItems:[],selectedAttachment:void 0,newCCLabel:""},n.handleNotesChange=n.handleNotesChange.bind(n),n.handleFileAttachment=n.handleFileAttachment.bind(n),n.UNSAFE_componentWillReceiveProps=n.UNSAFE_componentWillReceiveProps.bind(n),n}return p(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){return u(this,void 0,void 0,function(){var t,n,a=this;return h(this,function(o){return t=JSON.stringify(this.state.rcxItems),n=JSON.stringify(e.rcxItems),(!this.props.isFromReport||e.isFromReport&&t!=n)&&this.setState({rcxItems:e.rcxItems},function(){a.setImageURL_ForItems(e.rcxItems),f||(a.textareas.map(function(e){Object(s.h)(e)}),a.textareas2.map(function(e){Object(s.h)(e)}))}),[2]})})},t.prototype.setImageURL_ForItems=function(e){return u(this,void 0,void 0,function(){var t,n,a;return h(this,function(o){for(t=0;t<e.length;t++)n="",a=new i.b,e[t].photo&&(e[t].photo.toLowerCase().indexOf(".mp4")>0&&(n="assets/img/video-file-icon.png"),e[t].photo.toLowerCase().indexOf(".mov")>0&&(n="assets/img/video-file-icon.png"),e[t].photo.toLowerCase().indexOf(".pdf")>0&&(n="assets/img/pdf-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".xls")>0||e[t].photo.toLowerCase().indexOf(".csv")>0)&&(n="assets/img/excel-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".xlsx")>0||e[t].photo.toLowerCase().indexOf(".csv")>0)&&(n="assets/img/excel-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".docx")>0||e[t].photo.toLowerCase().indexOf(".txt")>0)&&(n="assets/img/doc-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".doc")>0||e[t].photo.toLowerCase().indexOf(".txt")>0)&&(n="assets/img/doc-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".ppt")>0||e[t].photo.toLowerCase().indexOf(".txt")>0)&&(n="assets/img/ppt-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".pptx")>0||e[t].photo.toLowerCase().indexOf(".txt")>0)&&(n="assets/img/ppt-file-icon.png"),(e[t].photo.toLowerCase().indexOf(".png")>0||e[t].photo.toLowerCase().indexOf(".jpeg")>0||e[t].photo.toLowerCase().indexOf(".jpg")>0||e[t].photo.toLowerCase().indexOf(".webp")>0||e[t].photo.toLowerCase().indexOf(".tiff")>0)&&(n=a.GetSignedURL(i.a.DOCUMENT(),e[t].photo,6e5))),e[t].imageurl=n;return this.setState({rcxItems:e}),[2]})})},t.prototype.addItem=function(){var e=this,t=this.state.newCCLabel;this.props.handleAddNewCCNote(t,this.props.isInspectionOrCleanliness),setTimeout(function(){e.textareas.map(function(e){Object(s.h)(e)}),e.textareas2.map(function(e){Object(s.h)(e)})},1e3)},t.prototype.handleNotesChange=function(e,t){var n=this,a=this.state.rcxItems;a[e].notesMeasurement=t.target.value,f=!0,this.setState({rcxItems:a},function(){document.getElementById(n.props.isInspectionOrCleanliness+"rcxTask"+e).focus(),n.props.handleAdder(a,n.props.isInspectionOrCleanliness)})},t.prototype.handleToggleChange=function(e,t){var n=this,a=this.state.rcxItems;a[e].ccBoolean=t.target.checked,this.setState({rcxItems:a},function(){n.props.handleAdder(a,n.props.isInspectionOrCleanliness)})},t.prototype.removeAttachment=function(e){var t=this,n=this.state.rcxItems;n[e].imageurl="",n[e].photo="",this.setState({rcxItems:n},function(){t.props.handleAdder(n,t.props.isInspectionOrCleanliness)})},t.prototype.handleFileAttachment=function(e,t){return u(this,void 0,void 0,function(){var n,a,o,l,d,p,u,f,g,b,y,v,E=this;return h(this,function(h){switch(h.label){case 0:n=this.state.rcxItems,a=this.props,o=a.buildingName,l=a.entityName,d=a.infoEntity,p=JSON.parse(r.a.getItem("user")),u=n[t],f=new i.b,h.label=1;case 1:return h.trys.push([1,4,,5]),e&&(e.file||e.length>0)&&u?(g=this.props.buildingName+"-_-"+Object(s.E)(10),b="",y=void 0,v=e.name.substring(e.name.indexOf(".")),b=""+g+v,y=e,n[t].photo=b,[4,f.UploadFile(i.a.DOCUMENT(),b,y,function(t,n){if(t)Object(m.a)("Attachment failed to upload");else{var a={building:o,docOntology:Object(s.E)(12),documentType:"InspectionDoc",documentSubtype:"InspectionDoc",enteredBy:p.contact,enteredByName:p.name,entityOntology:[{label:"",value:l}],entityType:d,rdfsLabel:e.name,s3FileName:b,entryTimeStamp:(new Date).toString(),linkToDocument:b};Object(c.f)(a).then(function(){})}})]):[3,3];case 2:h.sent(),this.setState({rcxItems:n,selectedAttachment:e},function(){E.props.handleAdder(n,E.props.isInspectionOrCleanliness),document.getElementById("uploadImageClose"+E.props.isInspectionOrCleanliness+t).click(),setTimeout(function(){E.setImageURL_ForItems(n)},1e3)}),h.label=3;case 3:return[3,5];case 4:return h.sent(),[3,5];case 5:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.rcxItems,r=t.newCCLabel,c=this.props,m=c.isView,p=c.isFromReport,u=c.hideAddButton,h=new i.b;return a.createElement(a.Fragment,null,n&&n.map(function(t,n){var r="";return t.photo&&(r=h.GetSignedURL(i.a.DOCUMENT(),t.photo)),a.createElement("div",{key:n,className:"row padding-5",style:{borderBottom:"1px solid rgb(0 0 0 / 22%)",marginBottom:"5px",paddingBottom:"5px"}},a.createElement("div",{className:"col-md-3"},a.createElement("textarea",{disabled:!0,className:"form-control notInPDF",value:t.ccLabel+": \n"+t.proposedRCX,ref:function(t){return e.textareas.push(t)},onChange:function(e){Object(s.h)(e.target)},style:{width:"100%",height:"content",minHeight:"60px",overflow:"hidden",wordWrap:"break-word"}}),a.createElement("span",{className:"inPDF",style:{display:"none"}},t.ccLabel+": \n"+t.proposedRCX)),a.createElement("div",{className:"col-md-2"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("label",{htmlFor:"ccBoolean"+n},"Inspection - Acceptable")),a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"switch-container",style:{position:"unset"}},a.createElement("label",{htmlFor:"ccBoolean"+n},"No / Yes"),a.createElement("label",null,a.createElement("input",{id:"ccBoolean"+n,disabled:m,name:"ccBoolean",checked:t.ccBoolean,onChange:function(t){e.handleToggleChange(n,t)},className:"switch",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))))),a.createElement("div",{className:"col-md-5"},a.createElement("textarea",{disabled:m,id:e.props.isInspectionOrCleanliness+"rcxTask"+n,className:"form-control notInPDF",value:t.notesMeasurement,placeholder:"Notes/Measurements",name:"proposedRCX",ref:function(t){return e.textareas2.push(t)},onChange:function(t){e.handleNotesChange(n,t),Object(s.h)(t.target)},style:{width:"100%",height:"content",minHeight:"60px",overflow:"hidden",wordWrap:"break-word"}}),a.createElement("span",{className:"inPDF",style:{display:"none"}},t.notesMeasurement)),!p&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-2"},!(t.photo&&t.photo.length>0)&&a.createElement(a.Fragment,null,a.createElement("button",{disabled:m||p,type:"button",className:"btn btn-dark padding-5","data-toggle":"modal","data-target":"#uploadImage"+e.props.isInspectionOrCleanliness+n,title:"Upload Image",onClick:function(){e.setState({selectedAttachment:void 0})}},a.createElement("i",{className:"fa fa-image"})),a.createElement("button",{disabled:m,type:"button",className:"btn btn-primary padding-5",title:"Video to Notes Converter"},a.createElement("i",{className:"fa fa-video-camera"}))),t.photo&&t.photo.length>0&&a.createElement("img",{crossOrigin:"anonymous",src:r,style:{width:"100%"}}),a.createElement(o.a,{id:"uploadImage"+e.props.isInspectionOrCleanliness+n,onSaveButtonClick:function(){},saveButtonText:"Close",closeButtonId:"uploadImageClose"+e.props.isInspectionOrCleanliness+n,isEditForm:!1,showCancelButton:!1,cancelButtonText:"Cancel",heading:e.props.isInspectionOrCleanliness},a.createElement(l.a,{handleAttachedFile:function(t){t&&t[0]&&e.handleFileAttachment(t[0],n)},files:e.state.selectedAttachment?[e.state.selectedAttachment]:[],single:!0})),a.createElement("div",{className:"btn-group mt-3"},t.photo&&t.photo.length>0&&a.createElement(a.Fragment,null,a.createElement("button",{type:"button",disabled:m||p,className:"btn btn-dark padding-5","data-toggle":"modal","data-target":"#uploadImage"+e.props.isInspectionOrCleanliness+n,title:"Replace Attachment",onClick:function(){e.setState({selectedAttachment:void 0})}},a.createElement("i",{className:"fa fa-image"})),r&&a.createElement("a",{className:"btn padding-5",download:t.photo,title:"Download Attachment",href:r},a.createElement("i",{className:"fa fa-download"})),a.createElement("button",{disabled:m,type:"button",className:"btn btn-danger padding-5",title:"Remove Attachment",onClick:function(){return document.getElementById("removedFindingsRCXAttacment"+t.preRCXName).click()}},a.createElement("i",{className:"fa fa-trash"})),a.createElement("button",{disabled:m,type:"button",className:"btn btn-primary padding-5",title:"Video to Notes Converter"},a.createElement("i",{className:"fa fa-video-camera"})),a.createElement("button",{style:{display:"none"},id:"removedFindingsRCXAttacment"+t.preRCXName,"data-toggle":"modal","data-target":"#removedDialogFindingsRCXAttacment"+t.preRCXName},"."),a.createElement(d.a,{instance:e.props.instance,id:"removedDialogFindingsRCXAttacment"+t.preRCXName,showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure you want to delete this attachment for RCX findings?",heading:"Alert",onConfirmButtonClick:function(){return e.removeAttachment(n)}}))))),p&&t.photo&&t.imageurl&&t.photo.length>0&&a.createElement("div",{className:"col-md-2"}," ",a.createElement("img",{crossOrigin:"anonymous",src:t.imageurl,className:"inspection-image-preview"})))}),!u&&!p&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-1"},a.createElement("label",null,"Add:")),a.createElement("div",{className:"col-md-11 col-xs-11"},a.createElement("button",{type:"button",className:"btn btn-dark btn-fill btn-sm","data-toggle":"modal","data-target":"#AddLabelDialog_"+this.props.isInspectionOrCleanliness+"_Findings",onClick:function(){e.setState({newCCLabel:""})}},a.createElement("i",{className:"fa fa-plus"}))),a.createElement(o.a,{disableSaveButton:!r,id:"AddLabelDialog_"+this.props.isInspectionOrCleanliness+"_Findings",onSaveButtonClick:function(){e.addItem()},saveButtonText:"Ok",isEditForm:!1,showCancelButton:!0,cancelButtonText:"Cancel",heading:"RCX Findings"},a.createElement("div",{className:"form-group"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-12"},a.createElement("input",{type:"text",className:"form-control",value:r,placeholder:"New Label",name:"notes",onChange:function(t){e.setState({newCCLabel:t.target.value})}}))))))))},t}(a.Component);t.a=g},912:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function s(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,l)}r((a=a.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={items:[],dropDownList:n.props.dropDownList},n.addItem=n.addItem.bind(n),n.removeItem=n.removeItem.bind(n),n.handleItemChange=n.handleItemChange.bind(n),n.handleManufacturerChange=n.handleManufacturerChange.bind(n),n.handleModelChange=n.handleModelChange.bind(n),n}return o(t,e),t.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){return s(this,function(e){return this.props.items&&this.setState({items:this.props.items}),[2]})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({dropDownList:e.dropDownList})},t.prototype.addItem=function(){var e={ecmName:"",selectedItem:"",manufacturer:"",model:"",type:this.props.typePredicate},t=this.state.items;t?t.push(e):t=[e],this.setState({items:t}),this.props.handleAdder(t)},t.prototype.removeItem=function(e){var t=this.state.items;t.splice(e,1),this.setState({items:t}),this.props.handleAdder(t)},t.prototype.handleItemChange=function(e,t){var n=this.state.items;n[e].selectedItem=t,this.setState({items:n}),this.props.handleAdder(n)},t.prototype.handleManufacturerChange=function(e,t){var n=this.state.items;n[e].manufacturer=t,this.setState({items:n}),this.props.handleAdder(n)},t.prototype.handleModelChange=function(e,t){var n=this.state.items;n[e].model=t,this.setState({items:n}),this.props.handleAdder(n)},t.prototype.render=function(){var e=this,t=this.props,n=t.isView,o=t.isFromReport,i=t.dropDownLabel,s=this.state,l=s.items,r=s.dropDownList,c=l&&!1===l.map(function(e){return""!==e.selectedItem}).find(function(e){return!1===e}),m=l&&!c||!l,d=this.props.hideAddButton;return a.createElement(a.Fragment,null,l&&l.map(function(t,i){return o&&!t.selectedItem?a.createElement("div",null):a.createElement("div",{key:i,className:"row"},a.createElement("br",null),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"repcmp"},e.props.dropDownLabel),a.createElement("select",{className:"form-control",id:"repcmp",disabled:n,value:t.selectedItem,onChange:function(t){return e.handleItemChange(i,t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Item"),r&&r.map(function(e,t){return a.createElement("option",{key:t,value:e},e)})))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"man"},"Manufacturer"),a.createElement("input",{type:"text ",disabled:n,id:"man",className:"form-control",value:t.manufacturer,onChange:function(t){return e.handleManufacturerChange(i,t.target.value)}}))),a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"model"},"Model"),a.createElement("input",{type:"text ",disabled:n,id:"model",className:"form-control",value:t.model,onChange:function(t){return e.handleModelChange(i,t.target.value)}}))),a.createElement("div",{className:"col-md-1 padding-10"},a.createElement("br",null),i>0&&!o&&a.createElement("button",{type:"button",className:"btn btn-danger btn-xs",title:"Remove Item",onClick:function(){return e.removeItem(i)}},a.createElement("i",{className:"fa fa-remove"}))))}),!d&&!o&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 inline-flex padding-10"},a.createElement("label",null,"Add ",i,":")," \xa0\xa0",a.createElement("button",{type:"button",disabled:!m,className:"btn btn-dark btn-fill btn-sm",title:"Add Item",onClick:this.addItem},a.createElement("i",{className:"fa fa-plus"})))),a.createElement("br",null),a.createElement("br",null))},t}(a.Component);t.a=l},913:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(698)),i=n(703),s=n(57),l=n(20),r=n(743),c=n(13),m=n(737),d=n(8),p=n(21),u=n(701),h=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),f=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function s(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,l)}r((a=a.apply(e,t||[])).next())})},g=this&&this.__generator||function(e,t){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={items:[],caLabel:[],labelsDropDownList:[],files:[],onPageTextChanged:!1},n.addItem=n.addItem.bind(n),n.removeItem=n.removeItem.bind(n),n.handleItemChange=n.handleItemChange.bind(n),n.handleCALabelChange=n.handleCALabelChange.bind(n),n.handleFileAttachment=n.handleFileAttachment.bind(n),n.setImageURL_ForItems=n.setImageURL_ForItems.bind(n),n}return h(t,e),t.prototype.componentDidMount=function(){return f(this,void 0,void 0,function(){var e,t=this;return g(this,function(n){return e=this.state.labelsDropDownList,this.props.labels&&this.props.labels.length>0&&(e=this.props.labels.map(function(e){return{value:e,label:e}}),this.setState({labelsDropDownList:e},function(){t.setImageURL_ForItems(t.props.items)})),[2]})})},t.prototype.setImageURL_ForItems=function(e){return f(this,void 0,void 0,function(){var t,n,a;return g(this,function(o){for(t=new s.b,n=0;n<e.length;n++)a="",e[n]&&e[n].photo&&e[n].photo.length&&e[n].photo[0]&&(e[n].photo[0].toLowerCase().indexOf(".mp4")>0&&(a="assets/img/video-file-icon.png"),e[n].photo[0].toLowerCase().indexOf(".mov")>0&&(a="assets/img/video-file-icon.png"),e[n].photo[0].toLowerCase().indexOf(".pdf")>0&&(a="assets/img/pdf-file-icon.png"),(e[n].photo[0].toLowerCase().indexOf(".xls")>0||e[n].photo[0].toLowerCase().indexOf(".csv")>0)&&(a="assets/img/excel-file-icon.png"),(e[n].photo[0].toLowerCase().indexOf(".xlsx")>0||e[n].photo[0].toLowerCase().indexOf(".csv")>0)&&(a="assets/img/excel-file-icon.png"),(e[n].photo[0].toLowerCase().indexOf(".docx")>0||e[n].photo[0].toLowerCase().indexOf(".txt")>0)&&(a="assets/img/doc-file-icon.png"),(e[n].photo[0].toLowerCase().indexOf(".doc")>0||e[n].photo[0].toLowerCase().indexOf(".txt")>0)&&(a="assets/img/doc-file-icon.png"),(e[n].photo[0].toLowerCase().indexOf(".ppt")>0||e[n].photo[0].toLowerCase().indexOf(".txt")>0)&&(a="assets/img/ppt-file-icon.png"),(e[n].photo[0].toLowerCase().indexOf(".pptx")>0||e[n].photo[0].toLowerCase().indexOf(".txt")>0)&&(a="assets/img/ppt-file-icon.png"),(e[n].photo[0].toLowerCase().indexOf(".png")>0||e[n].photo[0].toLowerCase().indexOf(".jpeg")>0||e[n].photo[0].toLowerCase().indexOf(".jpg")>0||e[n].photo[0].toLowerCase().indexOf(".webp")>0||e[n].photo[0].toLowerCase().indexOf(".tiff")>0)&&(a=t.GetSignedURL(s.a.DOCUMENT(),e[n].photo[0]))),e[n].imageurl=a;return this.setState({items:e}),[2]})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){return f(this,void 0,void 0,function(){var t,n,a=this;return g(this,function(o){return e.buildingName&&e.instance&&(t=JSON.stringify(this.state.items),n=JSON.stringify(e.items),(!this.state.onPageTextChanged&&!this.props.isFromReport&&t!=n||this.props.isFromReport&&t!=n)&&this.setState({items:e.items},function(){a.setImageURL_ForItems(e.items)})),[2]})})},t.prototype.addItem=function(){var e=this,t=this.state,n=t.items;t.caLabel.map(function(t){var a={caName:"",age:"",assessmentLabel:t.value,notes:"",photo:[],repairCost:"",size:"",type:e.props.type,entryTimeStamp:"",typeOf:t.value};n||(n=[]),n.push(a)}),this.setState({items:n,caLabel:[]}),this.props.handleAdder(n,this.props.type)},t.prototype.removeItem=function(e){var t=this.state.items;t.splice(e,1),this.setState({items:t}),this.props.handleAdder(t,this.props.type)},t.prototype.removeAttachment=function(e){var t=this.state.items;t[e].imageurl="",t[e].photo[0]="",this.setState({items:t}),this.props.handleAdder(t,this.props.type)},t.prototype.handleCALabelChange=function(e){this.setState({caLabel:e})},t.prototype.handleItemChange=function(e,t){var n=this.state.items,a=t.target.name;(n&&n[e])[""+a]=t.target.value,this.setState({items:n,onPageTextChanged:!0}),this.props.handleAdder(n,this.props.type)},t.prototype.handleFileAttachment=function(e,t){var n=this,a=this.props,o=a.buildingName,i=a.entityName,r=a.infoEntity,c=a.type,u=JSON.parse(d.a.getItem("user")),h=this.state.items,b=h[t];e&&e.length>0&&e[0].file&&b&&this.setState({items:h,files:e},function(){return f(n,void 0,void 0,function(){var n,a,d,f=this;return g(this,function(b){switch(b.label){case 0:n=function(n){var d,b,y,v,E;return g(this,function(g){switch(g.label){case 0:return d=e[n],b=a.props.buildingName+"-_-"+Object(l.E)(10),y="",v=void 0,E=d.name.substring(d.name.indexOf(".")),y=""+b+E,v=d,h[t].photo[0]=y,a.props.handleAdder(h,a.props.type),[4,(new s.b).UploadFile(s.a.DOCUMENT(),y,v,function(e,t){if(e)Object(p.a)("Attachment failed to upload");else{var n={building:o,docOntology:Object(l.E)(12),documentType:"InspectionDoc",documentSubtype:"InspectionDoc",enteredBy:u.contact,enteredByName:u.name,entityOntology:[{label:"",value:i}],entityType:r,rdfsLabel:d.name,s3FileName:y,entryTimeStamp:(new Date).toString(),linkToDocument:y};Object(m.f)(n).then(function(){})}})];case 1:return g.sent(),a.setState({items:h,files:[d]},function(){f.props.handleAdder(h,c),document.getElementById("uploadImageClose"+f.props.type+t).click(),setTimeout(function(){f.setImageURL_ForItems(h)},1e3)}),[2]}})},a=this,d=0,b.label=1;case 1:return d<e.length?[5,n(d)]:[3,4];case 2:b.sent(),b.label=3;case 3:return d++,[3,1];case 4:return[2]}})})})},t.prototype.handlefileAttached=function(e,t){if(e.length>0){for(var n=this.state.items,a=n[t],o=0;o<e.length;o++){var i=e[o].name.split(".").pop(),r=this.props.buildingName+"_"+Object(l.E)(15)+"."+i.toLowerCase();n[0].photo[o]=r}Object(c.g)(e),this.setState({files:e,items:n},function(){}),this.props.handleAdder(n,this.props.type);var m=new s.b,d=Object(c.d)();if(d&&d.length)for(var u=0;u<d.length;u++){var h=d[u];m.UploadFile(s.a.DOCUMENT(),a.photo[u],h,function(e,t){e?Object(p.a)("Attachment failed to upload"):console.log(t)})}}},t.prototype.render=function(){var e=this,t=this.state,n=t.items,l=t.caLabel,c=t.labelsDropDownList,m=this.props,d=m.caOf,p=m.hideAddButton,h=void 0!==p&&p,f=m.isFromReport,g=new s.b;return a.createElement(a.Fragment,null,n&&n.map(function(t,n){var i="";return t.photo&&(i=g.GetSignedURL(s.a.DOCUMENT(),t.photo[0])),a.createElement("div",{key:n,className:"row"},a.createElement("br",null),a.createElement("div",{className:"form-group"},a.createElement("div",{className:"col-md-2"},a.createElement("label",{htmlFor:t.assessmentLabel},t.assessmentLabel)),"Space"==d&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-1"},a.createElement("input",{type:"text",id:t.age,className:"form-control",value:t.age,placeholder:"Age",name:"age",onChange:function(t){return e.handleItemChange(n,t)}})),a.createElement("div",{className:"col-md-1"},a.createElement("input",{type:"text",id:t.size,className:"form-control",value:t.size,placeholder:"Size",name:"size",onChange:function(t){return e.handleItemChange(n,t)}}))),a.createElement("div",{className:"Space"==d?"col-md-3":"col-md-5"},a.createElement("input",{type:"text",id:t.notes,className:"form-control notInPDF",value:t.notes,placeholder:"Notes",name:"notes",onChange:function(t){return e.handleItemChange(n,t)}}),a.createElement("span",{className:"inPDF",style:{display:"none"}},t.notes)),a.createElement("div",{className:"col-md-2"},a.createElement("input",{type:"text",id:t.repairCost,className:"form-control",value:t.repairCost,placeholder:"Approximate Repair Cost",name:"repairCost",onChange:function(t){return e.handleItemChange(n,t)}})),!f&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-1"},!(t.photo&&t.photo.length>0)&&a.createElement("button",{type:"button",className:"btn btn-dark padding-5","data-toggle":"modal","data-target":"#uploadImage"+e.props.type+n,title:"Upload Attachment",onClick:function(){e.setState({files:[]})}},a.createElement("i",{className:"fa fa-paperclip"})),t.photo&&t.photo.length>0&&a.createElement("img",{crossOrigin:"anonymous",src:t.imageurl,style:{width:"100%"}}),a.createElement(o.a,{id:"uploadImage"+e.props.type+n,onSaveButtonClick:function(){},saveButtonText:"Close",closeButtonId:"uploadImageClose"+e.props.type+n,isEditForm:!1,showCancelButton:!1,cancelButtonText:"Cancel",heading:e.props.type},a.createElement(r.a,{handleAttachedFile:function(t){t&&t[0]&&e.handleFileAttachment(t,n)},files:e.state.files&&e.state.files.length>0?e.state.files:[],single:!0}))),a.createElement("div",{className:"col-md-2 btn-group"},t.photo&&t.photo.length>0&&a.createElement(a.Fragment,null,a.createElement("button",{type:"button",className:"btn btn-dark padding-5","data-toggle":"modal","data-target":"#uploadImage"+e.props.type+n,title:"Replace Attachment",onClick:function(){e.setState({files:[]})}},a.createElement("i",{className:"fa fa-paperclip"})),i&&a.createElement("a",{className:"btn padding-5",title:"Download Attachment",href:i},a.createElement("i",{className:"fa fa-download"})),a.createElement("button",{type:"button",className:"btn btn-danger padding-5",title:"Remove Attachment",onClick:function(){return document.getElementById("removedCAAttacment"+t.caName).click()}},a.createElement("i",{className:"fa fa-trash"})),a.createElement("button",{style:{display:"none"},id:"removedCAAttacment"+t.caName,"data-toggle":"modal","data-target":"#removedDialogCAAttacment"+t.caName},"."),a.createElement(u.a,{instance:e.props.instance,id:"removedDialogCAAttacment"+t.caName,showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure you want to delete this attachment for proposed RCX ?",heading:"Alert",onConfirmButtonClick:function(){return e.removeAttachment(n)}})),a.createElement("button",{type:"button",className:"btn ml-5 padding-5",title:"Remove Item",style:{color:"#f00"},onClick:function(){return document.getElementById("removeCA"+t.caName).click()}},a.createElement("i",{className:"fa fa-remove"})),a.createElement("button",{style:{display:"none"},id:"removeCA"+t.caName,"data-toggle":"modal","data-target":"#removeCADialog"+t.caName},"."),a.createElement(u.a,{instance:e.props.instance,id:"removeCADialog"+t.caName,showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure you want to delete this proposed RCX?",heading:"Alert",onConfirmButtonClick:function(){return e.removeItem(n)}}))),f&&t.photo&&t.photo.length>0&&a.createElement("div",{className:"col-md-2"},a.createElement("img",{crossOrigin:"anonymous",src:t.imageurl,className:"inspection-image-preview"}))))}),!h&&!f&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-11 col-xs-11"},a.createElement("button",{type:"button",className:"btn btn-dark btn-fill btn-sm","data-toggle":"modal","data-target":"#AddLabelDialog"+this.props.type,style:{fontWeight:"bold"}},a.createElement("i",{className:"fa fa-plus"}),"Add ",this.props.type)),a.createElement(o.a,{disableSaveButton:!l,id:"AddLabelDialog"+this.props.type,onSaveButtonClick:function(){e.addItem()},saveButtonText:"Ok",isEditForm:!1,showCancelButton:!0,cancelButtonText:"Cancel",heading:this.props.type},c&&c.length>0&&a.createElement("div",{className:"form-group"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-12"},a.createElement(i.a,{id:"lbl",isMulti:!0,closeMenuOnSelect:!1,onChange:this.handleCALabelChange,placeholder:this.props.type+" Assessment Labels",options:c,value:l}))))))))},t}(a.Component);t.a=b}});