webpackJsonp([45],{1104:function(e,t,n){"use strict";t.g=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.f)(e,c.a.TICKETS.AddNewTicket,i.b.TICKET).then(function(){Object(a.b)("Ticket Added")}).catch(function(e){Object(a.a)("Error occured while saving Ticket.")})];case 1:return[2,t.sent()]}})})},t.h=function(e,t,n){return l(this,void 0,void 0,function(){return o(this,function(l){switch(l.label){case 0:return[4,Object(c.f)({buildingName:e,ticketType:t},c.a.TICKETS.AddNewTicketType,i.b.TICKET).then(function(){Object(a.b)("Ticket Type "+(n?"Updated":"Added"))}).catch(function(e){Object(a.a)("Error occured while saving Ticket Type.")})];case 1:return[2,l.sent()]}})})},t.b=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.f)({ticketTypeOntology:e},c.a.TICKETS.DeleteTicketType,i.b.TICKET).then(function(){Object(a.b)("Ticket Type Deleted")}).catch(function(e){Object(a.a)("Error occured while deleting Ticket Type.")})];case 1:return[2,t.sent()]}})})},t.f=function(){return l(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Object(c.e)({},c.a.TICKETS.GetAllTickets,i.b.TICKET,!0)];case 1:return[2,e.sent()]}})})},t.d=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.TICKETS.GetTicketTypes,i.b.TICKET)];case 1:return[2,t.sent()]}})})},t.c=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({ticketTypeOntology:e},c.a.TICKETS.GetTicketTypeUsingOntology,i.b.TICKET,!0)];case 1:return[2,t.sent()]}})})},t.e=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({ticketOntology:e},c.a.TICKETS.GetTicketUsingOntology,i.b.TICKET,!0)];case 1:return[2,t.sent()]}})})},t.a=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.f)({ticketOntology:e},c.a.TICKETS.DeleteTicket,i.b.TICKET).then(function(){Object(a.b)("Ticket Deleted")}).catch(function(e){Object(a.a)("Error occured while deleting Ticket.")})];case 1:return[2,t.sent()]}})})};var a=n(32),i=n(20),c=n(12),l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,c){function l(e){try{r(a.next(e))}catch(e){c(e)}}function o(e){try{r(a.throw(e))}catch(e){c(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,o)}r((a=a.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,a,i,c,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(c){return function(o){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(i=2&c[0]?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,a=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){l=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){l.label=c[1];break}if(6===c[0]&&l.label<i[1]){l.label=i[1],i=c;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(c);break}i[2]&&l.ops.pop(),l.trys.pop();continue}c=t.call(e,l)}catch(e){c=[6,e],a=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}}},3138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=(n.n(a),n(116)),c=n(10),l=n(672),o=n(1104),r=n(652),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),d=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,c){function l(e){try{r(a.next(e))}catch(e){c(e)}}function o(e){try{r(a.throw(e))}catch(e){c(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,o)}r((a=a.apply(e,t||[])).next())})},m=this&&this.__generator||function(e,t){var n,a,i,c,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(c){return function(o){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(i=2&c[0]?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,a=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){l=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){l.label=c[1];break}if(6===c[0]&&l.label<i[1]){l.label=i[1],i=c;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(c);break}i[2]&&l.ops.pop(),l.trys.pop();continue}c=t.call(e,l)}catch(e){c=[6,e],a=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={ticketData:[],_buildings:[],allTickets:[],selectedBuilding:t.buildingName,search:""},n}return s(t,e),t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){var e,t,n,a=this;return m(this,function(c){switch(c.label){case 0:return Object(i.a)(!0),[4,Object(o.f)()];case 1:return e=c.sent(),[4,Object(l.d)()];case 2:return t=c.sent(),n=e.filter(function(e){return e.buildingOntology==a.state.selectedBuilding}),this.setState({ticketData:n,_buildings:t,allTickets:e}),Object(i.a)(!1),[2]}})})},t.prototype.search_filter=function(e){this.setState({search:e.target.value})},t.prototype.handleBuildingChangeHandler=function(e){var t=this.state.allTickets.filter(function(t){return t.buildingOntology==e});this.setState({ticketData:t,selectedBuilding:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,l=t.buildingName,s=this.state,u=s._buildings,f=s.selectedBuilding,h=s.allTickets,p=s.search,g=h.filter(function(e){return e.ontology.toLowerCase().includes(p.toLowerCase().trim())});return a.createElement(a.Fragment,null," ",a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid p-0"},a.createElement("div",{className:"container-fluid "},a.createElement("div",{className:"content"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12 "},a.createElement("button",{type:"button",className:"btn btn-dark pull-left mx-1",onClick:function(){window.location.hash=n+"/"+l+"/AddTicketType"}},a.createElement("i",{className:"fa fa-plus"}),a.createElement("span",null,"Case Type ")),a.createElement("button",{type:"button",className:"btn btn-dark",style:{marginLeft:"3%"},onClick:function(){window.location.hash=n+"/"+l+"/TicketForm"}},a.createElement("i",{className:"fa fa-plus"}),a.createElement("span",null,"Add Case"))),a.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-1 col-xs-12 px-0 ml-auto"},a.createElement("h6",{style:{marginTop:"15px"}},"Filter :")),a.createElement("div",{className:"col-md-4 col-xs-12"},a.createElement("input",{style:{outline:"green"},className:"form-control pull-right",onChange:function(t){e.search_filter(t)},id:"soultionfilter",type:"text",placeholder:"Search.."})),a.createElement("div",{className:"col-md-5 pull-right col-sm-12 col-xs-12 form-group"},a.createElement("select",{name:"building",id:"building",className:"form-control",value:f,onChange:function(t){e.handleBuildingChangeHandler(t.target.value)}},a.createElement("option",{value:""},"Select Building "),u&&u.length>0&&u.map(function(e,t){return a.createElement("option",{key:t,value:Object(c.g)(e.building)},Object(c.g)(e.rdfsLabel)," ")}))))))),a.createElement("div",{className:"card small"},a.createElement("div",{className:"container-fluid p-2"},a.createElement("div",{className:"content p-0 mt-0"},a.createElement("div",{className:"row no-margin no-padding hidden-sm hidden-xs"},a.createElement("div",{className:"col-md-12 p-1"},a.createElement("div",{className:"col-md-12 no-padding"},a.createElement("div",{className:"col-md-2 px-0 py-2 trim-data grid-header"},a.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," S.No"),a.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},a.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Concern"),a.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},a.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Location"),a.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},a.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Due date"),a.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},a.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Status"),a.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},a.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Equipment"),a.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},a.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Floor"),a.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},a.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Entered By"),a.createElement("div",{className:"col-md-2 px-0 py-2 trim-data grid-header"},a.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Timestamp"),a.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},a.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Action")))),a.createElement("div",{className:"dataCard px-1"},g&&g.length>0&&g.map(function(t,c){if(t.ontology&&t.buildingOntology)return a.createElement("div",{key:c,className:"card no-margin no-padding"},a.createElement("div",{className:"container-fluid  no-padding"},a.createElement("div",{className:"row no-margin no-padding"},a.createElement("div",{className:"col-md-12 no-padding"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 no-padding",onClick:function(){},style:{cursor:"pointer"}},a.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+l+"/TicketForm/"+t.ontology},className:"col-md-2 col-sm-12 col-xs-12 padding-5 no-margin trim-data"}," ",a.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"S.No"),t.ontology),a.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+l+"/TicketForm/"+t.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"}," ",a.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Concern"),t.criticalityOntology,"  "),a.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+l+"/TicketForm/"+t.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",a.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Location"),t.spaceLabel),a.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+l+"/TicketForm/"+t.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",a.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Due Date"),"Not Set ATM"),a.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+l+"/TicketForm/"+t.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",a.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Status"),"Assigned"),a.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+l+"/TicketForm/"+t.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",a.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Equipment"),t.assetLabel),a.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+l+"/TicketForm/"+t.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",a.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Floor"),t.floorLabel),a.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+l+"/TicketForm/"+t.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",a.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Entered By"),t.enteredBy),a.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+l+"/TicketForm/"+t.ontology},className:"col-md-2 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",a.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Timestamp"),t.timeStamp?new Date(t.timeStamp).onitDateFormat():""," "),a.createElement("div",{className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},a.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Action"),a.createElement("button",{className:"btn btn-danger btn-sm",title:"Delete Ticket","data-toggle":"modal","data-target":"#deleteTicket"+c,onClick:function(e){}},a.createElement("i",{className:"fa fa-trash"})),a.createElement(r.a,{instance:e.props.instance,id:"deleteTicket"+c,showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure you want to delete this ticket?",heading:"Confirm...",onConfirmButtonClick:function(){return d(e,void 0,void 0,function(){var e;return m(this,function(n){switch(n.label){case 0:return Object(i.a)(!0),[4,Object(o.a)(t.ontology)];case 1:return n.sent(),[4,Object(o.f)()];case 2:return e=n.sent(),this.setState({ticketData:e}),Object(i.a)(!1),[2]}})})}})))))))}))))))))},t}(a.Component);t.default=u}});