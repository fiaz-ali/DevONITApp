webpackJsonp([64],{650:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),a=(n.n(r),n(16)),c=n(793),o=n(787),s=n(12),u=n(6),l=n(106),d=n(753),h=n(8),f=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m=this&&this.__assign||function(){return(m=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},b=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function c(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(c,o)}s((i=i.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){var n,i,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,i=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={CeilingSensorBoardInfo:Object(),Old_CeilingSensorBoardInfo:Object(),modelChanged:!1,Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",manufacturer:"",model:"",location:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},isSchedule:!1,relatedEquipment:[]},EquipmentList:[],currentChange:"",detailsExpanded:!1,localBTNState:!1,spaces:[]},i=i=n,n._fetchData=n._fetchData.bind(n),n._fetchCeilingSensorBoardInfo=n._fetchCeilingSensorBoardInfo.bind(n),n.cancelSend=n.cancelSend.bind(n),n.resetChanges=n.resetChanges.bind(n),n.applyChanges=n.applyChanges.bind(n),n.handleChange=n.handleChange.bind(n),n.getRelatedEquipmentLabel=n.getRelatedEquipmentLabel.bind(n),n}return f(t,e),t.prototype.componentDidMount=function(){return b(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchData()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.componentWillUnmount=function(){return b(this,void 0,void 0,function(){return p(this,function(e){return clearInterval(void 0),[2]})})},t.prototype._fetchData=function(){return b(this,void 0,void 0,function(){var e,t,n,i,r,a,c,s=this;return p(this,function(u){switch(u.label){case 0:return this.state,e=this.props,t=e.CeilingSensorBoardName,n=e.buildingName,t?(Object(l.a)(!0),[4,Object(d.f)(this.props.buildingName)]):[3,3];case 1:return i=u.sent(),r=i&&i.length>0&&i.map(function(e){return{value:Object(h.g)(e.ontology),label:Object(h.g)(e.rdfsLabel)}}),a=Object(),[4,Object(o.d)(t,n)];case 2:a=u.sent(),localStorage.getItem(a.deviceID)&&localStorage.getItem(a.deviceID).length>0&&(c=JSON.parse(localStorage.getItem(a.deviceID)),this.setState({CeilingSensorBoardInfo:c,Old_CeilingSensorBoardInfo:m({},c),modelChanged:!1,currentChange:""})),this.setState({Moncon:a,EquipmentList:r},function(){return b(s,void 0,void 0,function(){return p(this,function(e){return this._fetchCeilingSensorBoardInfo(),[2]})})}),Object(l.a)(!1),u.label=3;case 3:return[2]}})})},t.prototype._fetchCeilingSensorBoardInfo=function(){return b(this,void 0,void 0,function(){var e,t;return p(this,function(n){switch(n.label){case 0:return Object(l.a)(!0),e=this.state.Moncon,[4,Object(c.h)(e).then(function(t){return!t||t&&t.error?(Object(u.a)("Error occurred while fetching ceiling sensor board info."),Object()):(localStorage.setItem(e.deviceID,JSON.stringify(t)),t)}).catch(function(e){return Object()})];case 1:return t=n.sent(),this.setState({CeilingSensorBoardInfo:t,Old_CeilingSensorBoardInfo:m({},t),modelChanged:!1,currentChange:""}),Object(l.a)(!1),[2]}})})},t.prototype.handleChange=function(e,t){var n=this.state.CeilingSensorBoardInfo;n[e]=t,this.setState({CeilingSensorBoardInfo:n,modelChanged:!0,currentChange:e})},t.prototype.cancelSend=function(){this.setState({modelChanged:!1,currentChange:""})},t.prototype.resetChanges=function(){return b(this,void 0,void 0,function(){var e=this;return p(this,function(t){return this.setState({modelChanged:!1,currentChange:""},function(){return b(e,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,this._fetchCeilingSensorBoardInfo()];case 1:return e.sent(),[2]}})})}),[2]})})},t.prototype.applyChanges=function(e,t){return b(this,void 0,void 0,function(){var n=this;return p(this,function(r){return Object(l.a)(!0),this.setState({modelChanged:!1,currentChange:""},function(){return b(n,void 0,void 0,function(){var n=this;return p(this,function(r){return setTimeout(function(){n.resetChanges()},5e3),Object(c.v)(e,t,this.state.Old_CeilingSensorBoardInfo).then(function(e){e.success?Object(u.b)("Changes applied successfully. "):e.error&&Object(u.a)(e.reason)}).catch(function(e){Object(u.a)("Some error orccured. ")}),setTimeout(function(){i._fetchCeilingSensorBoardInfo()},5e3),Object(l.a)(!1),[2]})})}),[2]})})},t.prototype.getRelatedEquipmentLabel=function(e){var t=this.state.EquipmentList,n=Object();return(n=t&&t.find(function(t){return t.value==e}))&&n.label},t.prototype.render=function(){var e=this,t=this.state,n=t.CeilingSensorBoardInfo,i=t.Moncon,c=t.modelChanged,o=t.currentChange,u=t.detailsExpanded,l=t.localBTNState;return r.createElement(a.AppContext.Consumer,null,function(t){return r.createElement("div",{className:"content"},r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12"},r.createElement("div",{className:"card",id:"InsightsList"},r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"header"},r.createElement("h3",{className:"title"},r.createElement("strong",null,i.rdfsLabel)," "),r.createElement("button",{type:"button",className:"btn btn-fill btn-secondary pull-right",onClick:function(){return e.resetChanges()}},r.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"}),"Refresh"),"\xa0",r.createElement("h4",{className:"title"},r.createElement("strong",null,e.props.type.toUpperCase(),":",i&&i.relatedEquipment.map(function(t,n){return r.createElement("span",{key:n},e.getRelatedEquipmentLabel(t.value),n+1==i.relatedEquipment.length?"":",")}))))),r.createElement("div",{className:"content"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-6 col-xs-12 tempCounter roomTemp"},r.createElement("h4",{className:"padding-5 margin-5"},"Temp: ",r.createElement("b",null,Object(s.a)(n&&n.temp_celsius?n.temp_celsius:0).toFixed(2),"\xb0F")),r.createElement("h4",{className:"padding-5 margin-5"},"CO2: ",r.createElement("b",null,n&&n.equiCO2_ppm?n.equiCO2_ppm+" ppm":"-")),r.createElement("h4",{className:"padding-5 margin-5"},"Altitude: ",r.createElement("b",null,n&&n.altitude_m?n.altitude_m+" m":"-")),r.createElement("h4",{className:"padding-5 margin-5"},"Pressure: ",r.createElement("b",null,n&&n.pressure_hPa?n.pressure_hPa+" hPa":"-")),r.createElement("h4",{className:"padding-5 margin-5"},"Illumiance: ",r.createElement("b",null,n&&n.illuminance_lux?n.illuminance_lux:0," Lumens")),r.createElement("h4",{className:"padding-5 margin-5"},"Gas Resistance: ",r.createElement("b",null,n&&n.gasResistance_kOhm?n.gasResistance_kOhm+" kOhm":"-"))),r.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},r.createElement("h4",{className:"padding-5 margin-5"},"Humidity: ",r.createElement("b",null,n&&n.relhumidity_pct?n.relhumidity_pct+" %":"-")),r.createElement("h4",{className:"padding-5 margin-5"},"TVOC: ",r.createElement("b",null,n&&n.tvoc_ppm?n.tvoc_ppm+" ppm":"-")),r.createElement("h4",{className:"padding-5 margin-5"},"No. of BT Devices: ",r.createElement("b",null,n&&n.num_BTdev?n.num_BTdev:"-")),r.createElement("h4",{className:"padding-5 margin-5"},"Motion Sensed: ",r.createElement("b",null,n&&n.illuminance_lux&&n.motion_sensed>0?"True":"False")),r.createElement("h4",{className:"padding-5 margin-5"},"WIFI Temp: ",r.createElement("b",null,Object(s.a)(n&&n.wifiTemp1_celsius?n.wifiTemp1_celsius:0).toFixed(2),"\xb0F"))),r.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"}),r.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},r.createElement("div",{className:"btn-group"},r.createElement(r.Fragment,null,r.createElement("button",{type:"button",className:"btn btn-success",disabled:""!=o&&"state"!=o,onClick:function(){}},"Local"),r.createElement("button",{type:"button",className:"btn btn-defualt",disabled:""!=o&&"state"!=o,onClick:function(){}},"Remote"),r.createElement("button",{type:"button",className:"btn btn-default ",disabled:""!=o&&"state"!=o||l,onClick:function(){}},"Manual")),r.createElement("button",{type:"button",className:"btn btn-success",disabled:""!=o&&"state"!=o||l,onClick:function(){}},"Schedule"),r.createElement("button",{type:"button",className:"btn btn-fill btn-success",disabled:""!=o&&"state"!=o||l,onClick:function(){}},"Schedule"),r.createElement("button",{type:"button",className:"btn btn-success",disabled:""!=o&&"state"!=o||l,onClick:function(){}},"Optimize")))),r.createElement("div",{className:"row"}),r.createElement("div",{className:"accordion row padding-10",id:"accordionExample",style:{paddingLeft:"30px",border:"1px solid #80808066",margin:"10px",borderRadius:"7px"}},r.createElement("div",{className:"",id:"headingOne"},r.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne",style:{border:0,left:"-25px",position:"relative"},"aria-expanded":"true","aria-controls":"collapseOne",onClick:function(){e.setState({detailsExpanded:!u})}},r.createElement("i",{className:u?"fa fa-minus":"fa fa-plus","aria-hidden":"true"}))),r.createElement("div",{id:"collapseOne",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"},r.createElement("div",{className:"col-md-6 col-xs-12 padding-10"},r.createElement("h5",{className:"title"},r.createElement("strong",null,"IP Address:")," ",i.wirelessConfig&&i.wirelessConfig.ipAddress),r.createElement("h5",{className:"title"},r.createElement("strong",null,"Controller IP Address:")," ",i.wirelessConfig.controllerIPAddress),r.createElement("h5",{className:"title"},r.createElement("strong",null,"Manufacturer:")," ",i.manufacturer),r.createElement("h5",{className:"title"},r.createElement("strong",null,"Model:")," ",i.model),r.createElement("h5",{className:"title"},r.createElement("strong",null,"Device ID:")," ",i.deviceID?i.deviceID:"")))),r.createElement("div",{className:c?"InsightApplyChanges":"hidden"},r.createElement("h4",null,"Do you want to apply these changes?"),r.createElement("div",null,r.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){return e.cancelSend()}},"Cancel"),"\xa0",r.createElement("button",{type:"button",className:"btn btn-fill btn-danger",onClick:function(){return e.resetChanges()}},"Reset"),"\xa0",r.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:function(){return e.applyChanges(i,n)}},"Apply Changes")))))))))})},t}(r.Component);t.default=v},753:function(e,t,n){"use strict";t.p=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({buildingName:e,equipment:t,isEdit:n},a.a.EQUIPMENT.SaveEquipment,i.b.EQUIP).then(function(){Object(r.b)("Equipment "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Equipment.")})];case 1:return[2,c.sent()]}})})},t.o=function(e,t,n,s){return c(this,void 0,void 0,function(){var c;return o(this,function(o){switch(o.label){case 0:return c=!!n.name,[4,Object(a.f)({buildingName:e,equipmentName:t,component:n,counter:s},a.a.EQUIPMENT.SaveComponent,i.b.EQUIP).then(function(){Object(r.b)("Component(s) "+(c?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Component(s).")})];case 1:return[2,o.sent()]}})})},t.q=function(e,t,n,s){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({isEdit:e,buildingName:t,equipmentName:n,lightingInformation:s},a.a.EQUIPMENT.SaveLightingInformation,i.b.EQUIP).then(function(){Object(r.b)("Lighting Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Lighting Info.")})];case 1:return[2,c.sent()]}})})},t.r=function(e,t,n,s,u){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({isEdit:e,buildingName:t,equipmentName:n,plugLoadModel:s,isCustom:u},a.a.EQUIPMENT.SavePlugLoadModel,i.b.EQUIP).then(function(){Object(r.b)("Plugload Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Plugload Info.")})];case 1:return[2,c.sent()]}})})},t.d=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.FetchEquipments,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.j=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetEquipmentDetails,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.e=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.GetAllCoolingAndHeatingEquipmentsList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.f=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.GetAllEquipmentExceptCoolingAndHeatingList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.g=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.GetAllEquipmentsList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.k=function(){return c(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Object(a.e)({},a.a.EQUIPMENT.GetEquipmentTypeList,i.b.EQUIP)];case 1:return[2,e.sent()]}})})},t.m=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({typeName:e,distance:t},a.a.EQUIPMENT.GetSubClassTypeListForEquipment,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.h=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({typeName:e,distance:t},a.a.EQUIPMENT.GetComponentTypesList,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.c=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.EQUIPMENT.FetchEquipmentExportData,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.i=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetComponents,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.l=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetFixtures,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.n=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.GetTypeByEquipmentName,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.b=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.FetchPowerSource,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentName:t},a.a.EQUIPMENT.FetchPlugLoad,i.b.EQUIP)];case 1:return[2,n.sent()]}})})};var i=n(7),r=n(6),a=n(5),c=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function c(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(c,o)}s((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,i=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}},787:function(e,t,n){"use strict";t.b=function(e,t,n){return o(this,void 0,void 0,function(){return s(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({model:e,buildingName:t,isEdit:n},a.a.DEVICES.UPDATEDEVICE,i.b.POINT).then(function(){Object(r.b)("Device "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Device.")})];case 1:return[2,c.sent()]}})})},t.e=function(e,t){return o(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.DEVICES.GETDEVICEDETAIL,i.b.POINT,t)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return o(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({DeviceID:e,buildingName:t},a.a.DEVICES.CheckDeviceID,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.f=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,Object(a.e)({},a.a.DEVICES.GETDEVICETYPELIST,i.b.POINT)];case 1:return[2,e.sent()]}})})},t.g=function(e,t){return o(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({newEquipmentType:e,buildingName:t},a.a.DEVICES.SaveEquipmentType,i.b.POINT).then(function(){Object(r.b)("New Equipment Type Added Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving New Equipment type.")})];case 1:return[2,n.sent()]}})})},t.d=function(e,t){return o(this,void 0,void 0,function(){var n,r,u,l,d,h;return s(this,function(f){switch(f.label){case 0:return t?[4,function(e,t,n){return o(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,Object(a.e)({buildingName:e,pointName:t,deviceName:n},a.a.DEVICES.GETDEVICEDETAIL,i.b.POINT)];case 1:return[2,r.sent()]}})})}(t,null,e)]:[2];case 1:return n=f.sent(),r=Object(),n&&n.length>0&&(u=n[0],r.monitoringControl=Object(c.g)(u.moncondevice),r.monitoringControlDeviceType=Object(c.g)(u.moncontype),r.deviceName=Object(c.g)(u.moncondevice),r.deviceID=Object(c.g)(u.deviceID),r.rdfsLabel=Object(c.g)(u.rdfsLabel),r.manufacturer=Object(c.g)(u.manufacturer),r.model=Object(c.g)(u.model),r.graphURL=Object(c.g)(u.graphURL),r.location=Object(c.g)(u.location),r.floor=Object(c.g)(u.floor),r.connectionType=Object(c.g)(u.connectiontype),r.notes=Object(c.g)(u.notes),r.setpointRangeFrom=Object(c.g)(u.setpointRangeFrom),r.setpointRangeTo=Object(c.g)(u.setpointRangeTo),r.createdby=Object(c.g)(u.createdby),r.adminPassword=Object(c.g)(u.adminPassword),r.onitUrlLink=Object(c.g)(u.onitUrlLink),l=[],u.relatedEquipment&&u.relatedEquipment.value&&(l=u.relatedEquipment.value.indexOf(",")>0?u.relatedEquipment.value.split(","):[u.relatedEquipment.value]),r.relatedEquipment=l.map(function(e,t){return{label:e,value:e}}),d=[],u.strategy&&u.strategy.value&&(d=u.strategy.value.indexOf(",")>0?u.strategy.value.split(","):[u.strategy.value]),r.strategy=d.map(function(e,t){return{label:e,value:e}}),h=[],u.sensors&&u.sensors.value&&(h=u.sensors.value.indexOf(",")>0?u.sensors.value.split(","):[u.sensors.value]),r.sensors=h.map(function(e,t){return{label:e,value:e}}),r.isExisting="false"!=Object(c.g)(u.isExisting),r.wirelessConfig={ipAddress:Object(c.g)(u.ipaddress),controllerIPAddress:Object(c.g)(u.controllerIPAddress),thermostatMacAddress:Object(c.g)(u.macaddress),ssid:Object(c.g)(u.ssid),password:Object(c.g)(u.password)},r.isSchedule="true"==Object(c.g)(u.isSchedule)),[2,r]}})})},t.c=function(e){return o(this,void 0,void 0,function(){var t,n,i,r;return s(this,function(a){if(t=[],e.length>0)for(n=0;n<e.length;n++)i=Object(),r=e[n],i.aa_DeviceName=r.moncontype,i.ab_DeviceID=r.deviceID,i.ac_Manufacturer=r.manufacturer,i.ad_Model=r.model,i.ba_Floor=r.rdfsLabelFloor,i.bb_FloorCode=r.floor,i.bc_Space=r.rdfsLabelLocation,i.bd_SpaceCode=r.location,i.ca_Equipment=r.rdfsLabel,i.cb_Equipmentcode=r.moncondevice,i.cc_Connection=r.connectiontype,i.cd_OnitUrlLink=r.onitUrlLink,t.push(i);return[2,t]})})};var i=n(7),r=n(6),a=n(5),c=n(8),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function c(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(c,o)}s((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,i=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}},793:function(e,t,n){"use strict";t.o=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.FetchInsights_Export,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.n=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.FetchInsights,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.k=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.FetchInsightExportData,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.l=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchInsightInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.x=function(e,t,n){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({Moncon:e,InsightInfo:t,Old_InsightInfo:n},r.a.DEVICES.PostInsightChanges,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.m=function(e,t,n){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.e)({buildingName:e,insightName:t,isBuilding:n},r.a.DEVICES.FetchInsightSchedule,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.C=function(e,t,n){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({model:e,buildingName:t,isBuilding:n},r.a.DEVICES.SaveInsightSchedule,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.B=function(e,t,n){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({model:e,buildingName:t,isBuilding:n},r.a.DEVICES.ResetInsightSchedule,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.h=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchCeilingSensorBoardInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.v=function(e,t,n){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({Moncon:e,ceilingSensorBoardInfo:t,Old_CeilingSensorBoardInfo:n},r.a.DEVICES.PostCeilingSensorBoardChanges,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.e=function(e,t,n,o){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({model:e,buildingName:t,insightName:n,spaceName:o},r.a.DEVICES.SaveADP,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.g=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.DEVICES.SaveRelayADP,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.a=function(e,t){return a(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({building:e,device:t},r.a.DEVICES.GetRelayADP,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.p=function(e){return a(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return[4,Object(r.d)(r.a.DEVICES.GetIntesisHomeConfig,"buildingName="+e)];case 1:return(t=n.sent())&&t[0]?[2,t[0]]:[2,void 0]}})})},t.y=function(e,t,n){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({DeviceID:e,serviceName:t,serviceValue:n},r.a.DEVICES.PostIntesisChanges,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.u=function(e,t,n){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({buildingName:e,DeviceID:t,services:n},r.a.DEVICES.GetIntesisData,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.c=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.GetIntesisHomeCredentials,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.f=function(e,t,n){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({buildingName:e,clientID:t,clientSecret:n},r.a.DEVICES.SaveIntesisHomeCredentials,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.E=function(e,t){return a(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({InsightName:e,isSchedule:t},r.a.DEVICES.SaveScheduleSelected,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.b=function(e,t,n){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({deviceID:e,from:t,to:n},r.a.DEVICES.GetIntesisGraphData,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.d=function(e,t,n){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({deviceName:e,from:t,to:n},r.a.DEVICES.GetRelayGraphData,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.i=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({InsightName:e},r.a.DEVICES.GetDeviceADP,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.r=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({spaceName:e},r.a.DEVICES.GetSpaceADP,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.s=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchV4RelayBoardInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.A=function(e,t,n,o){return a(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({Moncon:e,isSetAll:t,isSetOn:n,relayNo:o},r.a.DEVICES.PostV4RelayBoardChanges,i.b.POINT)];case 1:return[2,a.sent()]}})})},t.j=function(e){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchI1RelayBoardInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.w=function(e,t){return a(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({Moncon:e,isSetOn:t},r.a.DEVICES.PostI1RelayBoardChanges,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.q=function(e,t){return a(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({building:e,device:t},r.a.DEVICES.FetchRelayCensorStatus,i.b.POINT,!0)];case 1:return[2,n.sent()]}})})},t.z=function(e,t){return a(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({Moncon:e,model:t},r.a.DEVICES.PostRelayBoardOptimizeSettings,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.D=function(e,t){return a(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({building:e,relayCensorStatus:t},r.a.DEVICES.SaveRelayCensorStatus,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.t=function(e){var t=Object();t.activestage=0,t.availablemodes=0,t.away=0,t.cooltemp=0,t.cooltempmax=0,t.cooltempmin=0,t.fan=0,t.fanstate=0,t.heattemp=0,t.heattempmax=0,t.heattempmin=0,t.mode=0,t.schedule=0,t.schedulepart=0,t.spacetemp=0,t.state=0,t.tempunits=0,t.name="";for(var n=0;n<e.length;n++){var i=e[n];t.cooltemp+=i.cooltemp?i.cooltemp:0,t.cooltempmax+=i.cooltempmax?i.cooltempmax:0,t.cooltempmin+=i.cooltempmin?i.cooltempmin:0,t.fan+=i.fan?i.fan:0,t.fanstate+=i.fanstate?i.fanstate:0,t.heattemp+=i.heattemp?i.heattemp:0,t.heattempmax+=i.heattempmax?i.heattempmax:0,t.heattempmin+=i.heattempmin?i.heattempmin:0,t.mode+=i.mode?i.mode:0,t.schedule+=i.schedule?i.schedule:0,t.schedulepart+=i.schedulepart?i.schedulepart:0,t.spacetemp+=i.spacetemp?i.spacetemp:0,t.activestage+=i.activestage?i.activestage:0,t.availablemodes+=i.availablemodes?i.availablemodes:0,t.away+=i.away?i.away:0,t.state+=i.state?i.state:0,t.tempunits+=i.tempunits?i.tempunits:0,"THERMOSTAT"==i.name&&(t.name=i.name?i.name:"")}var r=e.length;return t.cooltemp=t.cooltemp/r,t.cooltempmax=t.cooltempmax/r,t.cooltempmin=t.cooltempmin/r,t.fan=t.fan/r,t.fanstate=t.fanstate/r,t.heattemp=t.heattemp/r,t.heattempmax=t.heattempmax/r,t.heattempmin=t.heattempmin/r,t.mode=t.mode/r,t.schedule=t.schedule/r,t.schedulepart=t.schedulepart/r,t.spacetemp=t.spacetemp/r,t.activestage=t.activestage/r,t.availablemodes=t.availablemodes/r,t.away=t.away/r,t.state=t.state/r,t.tempunits=t.tempunits/r,t};var i=n(7),r=n(5),a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function c(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(c,o)}s((i=i.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,i,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,i=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}}});