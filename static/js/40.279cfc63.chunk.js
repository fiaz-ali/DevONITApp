webpackJsonp([40],{1249:function(e,t,n){"use strict";var o=n(2),a=(n.n(o),n(776)),i=n(740),r=n(26),c=n(13),l=n(868),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,c)}l((o=o.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={floorsList:[],locationList:[],newFloor:Object(),newLocation:{ontology:"",buildingName:n.props.buildingName,floor:"",type:"",name:"",rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:""},selectedFloorLocation:{selectedFloor:"",selectedLocation:""}},n._getFloorsList=n._getFloorsList.bind(n),n._getLocationsList=n._getLocationsList.bind(n),n.handleNewFloorChange=n.handleNewFloorChange.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.createFloor=n.createFloor.bind(n),n.updateSpace=n.updateSpace.bind(n),n}return s(t,e),t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,this._getFloorsList()]:[3,3];case 1:return t.sent(),[4,this._getLocationsList(this.state.selectedFloorLocation.selectedFloor)];case 2:t.sent(),(e=this.props.selectedFloorLocation)&&this.setState({selectedFloorLocation:e}),t.label=3;case 3:return[2]}})})},t.prototype.componentWillReceiveProps=function(e){return u(this,void 0,void 0,function(){var t=this;return d(this,function(n){return e.selectedFloorLocation&&this.setState({selectedFloorLocation:e.selectedFloorLocation},function(){t._getFloorsList(),t._getLocationsList(t.state.selectedFloorLocation.selectedFloor)}),[2]})})},t.prototype._getFloorsList=function(){return u(this,void 0,void 0,function(){var e=this;return d(this,function(t){switch(t.label){case 0:return[4,Object(a.f)(this.props.buildingName).then(function(t){e.setState({floorsList:t})})];case 1:return t.sent(),[2]}})})},t.prototype._getLocationsList=function(e){return u(this,void 0,void 0,function(){var t,n=this;return d(this,function(o){switch(o.label){case 0:return t=this.props.buildingName,[4,Object(i.c)(e,t).then(function(e){n.setState({locationList:e})})];case 1:return o.sent(),[2]}})})},t.prototype.handleNewFloorChange=function(e){var t=this.state.newFloor;t.rdfsLabel=e,this.setState({newFloor:t})},t.prototype.handleFloorChange=function(e){return u(this,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:return"newFloor"!==e?[3,1]:(document.getElementById("btnShowFloorForm").click(),[3,4]);case 1:return""===e?[3,4]:(t=this.state.selectedFloorLocation,e===t.selectedFloor?[3,3]:(t.selectedFloor=e,t.selectedLocation="",this.setState({selectedFloorLocation:t}),[4,this._getLocationsList(e)]));case 2:n.sent(),n.label=3;case 3:this.props.onLocationChange(t),n.label=4;case 4:return[2]}})})},t.prototype.handleLocationChange=function(e){return u(this,void 0,void 0,function(){var t;return d(this,function(n){return t=this.state.selectedFloorLocation,"addLocation"===e?(document.getElementById("closeDeviceForm").click(),document.getElementById("btnShowSpaceFormDialog").click()):t.selectedLocation=e,this.setState({selectedFloorLocation:t}),this.props.onLocationChange(t),[2]})})},t.prototype.createFloor=function(){return u(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return(e=this.state.newFloor)&&e.rdfsLabel?(e.floor=e.floor?e.floor:Object(c.j)(7),[4,Object(a.b)(this.props.buildingName,e)]):[3,4];case 1:return t.sent(),[4,this._getFloorsList()];case 2:return t.sent(),[4,this.handleFloorChange(e.floor)];case 3:t.sent(),setTimeout(function(){document.getElementById("btnShowSpaceFormDialog").click()},1e3),t.label=4;case 4:return[2]}})})},t.prototype.updateSpace=function(e){return u(this,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:return[4,this._getLocationsList(e.floor)];case 1:return n.sent(),(t=this.state.selectedFloorLocation).selectedFloor=e.floor,t.selectedLocation=e.name,this.setState({selectedFloorLocation:t}),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.isDisabled,a=t.buildingName,i=t.instance,c=this.state,s=c.selectedFloorLocation,u=c.floorsList,d=c.locationList,m=c.newFloor;return o.createElement("div",{className:"row",style:{paddingTop:"10px"}},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"floor"},"Floor:"))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement("select",{id:"floor",className:"form-control",disabled:n,value:s.selectedFloor,onChange:function(t){return e.handleFloorChange(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Floor"),o.createElement("option",{value:"newFloor",key:-1},"New Floor"),o.createElement("hr",null),u.map(function(e,t){return o.createElement("option",{value:e.ontology.value,key:t},e.rdfsLabel.value," ")})),o.createElement("button",{type:"button",id:"btnShowFloorForm",className:"btn btn-primary btn-fill","data-toggle":"modal","data-target":"#floorFormDialog",style:{display:"none"}},"."),o.createElement(r.a,{id:"floorFormDialog",onSaveButtonClick:function(){e.createFloor()},saveButtonText:"Save and Create Space",disableSaveButton:!1},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 center"},o.createElement("label",{htmlFor:"newfloor"},"Floor:")),o.createElement("div",{className:"col-md-7"},o.createElement("input",{id:"newfloor",type:"text",className:"form-control",value:m.rdfsLabel,onChange:function(t){return e.handleNewFloorChange(t.target.value)}})))))),o.createElement("div",{className:"col-md-1"},o.createElement("label",null,o.createElement("i",{className:"fa fas fa-asterisk"})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"space"},"Space:"))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement("select",{id:"space",className:"form-control",disabled:n,value:s.selectedLocation,onChange:function(t){return e.handleLocationChange(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Location"),o.createElement("option",{value:"addLocation",key:-1},"New Space"),o.createElement("hr",null),d.map(function(e,t){return o.createElement("option",{value:e.ontology.value,key:t},e.rdfsLabel.value," ")})))),o.createElement("div",{className:"col-md-1"},o.createElement("label",null,o.createElement("i",{className:"fa fas fa-asterisk"})))),o.createElement(l.a,{updateSpace:this.updateSpace,closeDailogBtnID:"btnShowSpaceFormDialog",floor:s.selectedFloor,buildingName:a,instance:i}))},t}(o.Component);t.a=m},1250:function(e,t,n){"use strict";var o=n(2),a=(n.n(o),n(26)),i=n(113),r=n(793),c=n(11),l=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,c)}l((o=o.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_monconDeviceTypes:[],newDeviceType:"",Moncon:Object()},n._fetchMonConDeviceTypes=n._fetchMonConDeviceTypes.bind(n),n.saveEquipmentType=n.saveEquipmentType.bind(n),n.onchangeEquipmentType=n.onchangeEquipmentType.bind(n),n.handleMonConDeviceTypeChange=n.handleMonConDeviceTypeChange.bind(n),n}return l(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({Moncon:e.Moncon})},t.prototype.componentDidMount=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchMonConDeviceTypes()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype._fetchMonConDeviceTypes=function(){return s(this,void 0,void 0,function(){var e=this;return u(this,function(t){switch(t.label){case 0:return Object(i.a)(!0),[4,Object(r.f)().then(function(t){e.setState({_monconDeviceTypes:t})}).catch(function(e){return e})];case 1:return t.sent(),Object(i.a)(!1),[2]}})})},t.prototype.onchangeEquipmentType=function(e){var t=e.target.value;this.setState({newDeviceType:t})},t.prototype.saveEquipmentType=function(){return s(this,void 0,void 0,function(){var e,t,n,o=this;return u(this,function(a){switch(a.label){case 0:return e=this.state.Moncon,t=this.state.newDeviceType,n=t.replace(new RegExp(" ","g"),""),t="",Object(i.a)(!0),[4,Object(r.g)(n,this.props.buildingName).then(function(e){}).catch(function(e){return e})];case 1:return a.sent(),e.monitoringControlDeviceType=n,this.setState({Moncon:e,newDeviceType:t},function(){return s(o,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this._fetchMonConDeviceTypes()];case 1:return e.sent(),[2]}})})}),Object(i.a)(!1),this.props.handleMonConDeviceTypeChange(e),[2]}})})},t.prototype.handleMonConDeviceTypeChange=function(e){var t=this.state.Moncon,n=e.target.value;"newDeviceType"==n?document.getElementById("newEquipTypeDailogebtn").click():(t.monitoringControlDeviceType=n,this.props.handleMonConDeviceTypeChange(t)),this.setState({Moncon:t})},t.prototype.render=function(){var e=this,t=this.props.isView,n=this.state,i=n._monconDeviceTypes,r=n.newDeviceType,l=n.Moncon,s=JSON.parse(c.a.getItem("user"));return o.createElement("div",{className:""},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"moncontype"},"Monitoring/Control Device Type"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("select",{className:"form-control",disabled:t,id:"moncontype",value:l.monitoringControlDeviceType,onChange:function(t){return e.handleMonConDeviceTypeChange(t)}},o.createElement("option",{value:"",key:-2},"Select Monitoring"),i&&i.map(function(e,t){return o.createElement("option",{key:t,value:e.moncon.value},e.moncon.value," ")}),"1"==s.role&&o.createElement("option",{value:"newDeviceType"},"Add New Device Type ")))),o.createElement("div",{className:"colmd-12"},o.createElement("button",{id:"newEquipTypeDailogebtn",type:"button","data-toggle":"modal","data-target":"#AddTypeDailogeBox",className:"btn btn-dark hidden"}),o.createElement(a.a,{id:"AddTypeDailogeBox",heading:"Add New Device Type",saveButtonText:"Done",onSaveButtonClick:function(){e.saveEquipmentType()},disableSaveButton:!r},o.createElement("div",{className:"content"},o.createElement("div",{className:"dataCard"},o.createElement("div",null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"New Device Type:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("input",{value:r,onChange:function(t){e.onchangeEquipmentType(t)},type:"text",className:"form-control"})," "))))))))))},t}(o.Component);t.a=d},1251:function(e,t,n){"use strict";var o=n(2),a=(n.n(o),n(26)),i=n(113),r=n(120),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,c)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={intesisHome_Devices:[],filterString:""},n._fetchIntesisInfo=n._fetchIntesisInfo.bind(n),n}return c(t,e),t.prototype._fetchIntesisInfo=function(){return l(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return Object(i.a)(!0),[4,Object(r.u)(this.props.buildingName)];case 1:return(e=t.sent())&&e.devices&&this.setState({intesisHome_Devices:e.devices}),Object(i.a)(!1),[2]}})})},t.prototype.handleFilterStringChange=function(e){this.setState({filterString:e})},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.intesisHome_Devices,i=t.filterString;return o.createElement("div",{className:"col-md-1 col-sm-1 padding-5"},o.createElement("button",{className:"btn btn-xs btn-secondary btn-fill","data-toggle":"modal","data-target":"#IntesisHomeDeviceList",type:"button",title:"View available IntesisHome devices",onClick:function(){return l(e,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this._fetchIntesisInfo()];case 1:return e.sent(),[2]}})})}},o.createElement("i",{className:"fa fa-list"})),o.createElement(a.a,{id:"IntesisHomeDeviceList",heading:"IntesisHome Device List",saveButtonText:"Close",disableSaveButton:!1},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-9"},o.createElement("div",{className:"col-md-3 padding-5"},o.createElement("label",null,"Filters: ")),o.createElement("div",{className:"col-md-9"},o.createElement("input",{className:"form-control",type:"text",name:"filter",id:"filter",value:i,onChange:function(t){return e.handleFilterStringChange(t.target.value)},title:"Search filter..."}))),o.createElement("div",{className:"col-md-3 padding-5"},o.createElement("button",{className:"btn btn-sm btn-secondary btn-fill pull-right",type:"button",title:"Configure available IntesisHome devices to the API Credentials",onClick:function(){return l(e,void 0,void 0,function(){return s(this,function(e){return window.open("https://user.intesishome.com/oauth2/devices?scope=unused&state=asdflkjlaks&redirect_uri=google.com&client_id=my2wy-k2d5b-pmkgp-dbjr6-1ze2j"),[2]})})}},o.createElement("i",{className:"fa fas fa-tasks"})," Configure Devices"))),o.createElement("hr",null),n&&n.filter(function(e){return-1!=e.name.toLowerCase().indexOf(i.toLowerCase())}).map(function(e){return o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-5"},o.createElement("label",{htmlFor:""},"Device Name:"),o.createElement("br",null),o.createElement("b",null,e.name)),o.createElement("div",{className:"col-md-7"},o.createElement("label",{htmlFor:""},"Device ID:"),o.createElement("br",null),o.createElement("b",null,e.device_id)))})))},t}(o.Component);t.a=u},611:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=(n.n(o),n(8)),i=n(17),r=n(1249),c=n(727),l=n(740),s=n(793),u=n(13),d=n(904),m=n(116),p=n(1250),h=n(113),f=n(1251),v=n(11),b=n(120),g=n(131),E=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,c)}l((o=o.apply(e,t||[])).next())})},N=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},w=function(e){function t(t){var n=e.call(this,t)||this;return n.state={Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:Object(u.j)(7),floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""}},_spaces:[],_monconDeviceTypes:[],newLocation:{ontology:"",buildingName:n.props.buildingName,floor:"",type:"",name:"",rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:""},SensorList:[],HVAC_List:[],Equipment_List:[],newEquipmentType:"",EquipmentList:[],ComputingDevice_List:[]},n.getHVAC_List=n.getHVAC_List.bind(n),n.getEquipment_List=n.getEquipment_List.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.handleMonConDeviceTypeChange=n.handleMonConDeviceTypeChange.bind(n),n.handleLightningTypeChange=n.handleLightningTypeChange.bind(n),n.handleManufacturerChange=n.handleManufacturerChange.bind(n),n.handleModelChange=n.handleModelChange.bind(n),n.handleConnectionTypeChange=n.handleConnectionTypeChange.bind(n),n.getComputingDevices=n.getComputingDevices.bind(n),n.handleNotesChange=n.handleNotesChange.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.handleWirelessConfigChange=n.handleWirelessConfigChange.bind(n),n.handleNewLocationChange=n.handleNewLocationChange.bind(n),n.handleMultiSensorChange=n.handleMultiSensorChange.bind(n),n.handleMultiStrategiesChange=n.handleMultiStrategiesChange.bind(n),n.onChangeGraphURL=n.onChangeGraphURL.bind(n),n.handleExistingRadio=n.handleExistingRadio.bind(n),n.verifyDeviceID=n.verifyDeviceID.bind(n),n.checkDeviceID=n.checkDeviceID.bind(n),n.handleDeviceNameChange=n.handleDeviceNameChange.bind(n),n.handleDeviceChange=n.handleDeviceChange.bind(n),n.getDevices=n.getDevices.bind(n),n.handleEquipmentList=n.handleEquipmentList.bind(n),n.onChangeComputingDevice=n.onChangeComputingDevice.bind(n),n.onChangeControllerIpAddress=n.onChangeControllerIpAddress.bind(n),n}return E(t,e),t.prototype.componentDidMount=function(){return y(this,void 0,void 0,function(){var e,t,n,o,a,i,r;return N(this,function(c){switch(c.label){case 0:return Object(h.a)(!0),e=this.props,t=e.deviceName,n=void 0===t?"":t,o=e.buildingName,a=e.isInsight,o?(this.getDevices(),[4,this.getHVAC_List()]):[3,7];case 1:return c.sent(),[4,this.getEquipment_List()];case 2:return c.sent(),[4,this.fetchSpaces()];case 3:return c.sent(),i=this.state.Moncon,a&&(i.monitoringControlDeviceType="Thermostat",i.connectionType="Wireless"),n&&n.length>0?[4,Object(s.d)(n,o)]:[3,5];case 4:return i=c.sent(),[3,6];case 5:r=JSON.parse(v.a.getItem("user")),i.createdby=r.name,c.label=6;case 6:i&&-1!=i.rdfsLabel.toLowerCase().indexOf(i.deviceID)&&(i.rdfsLabel=i.rdfsLabel.split("-").length>0?i.rdfsLabel.split("-")[1]:i.rdfsLabel),this.setState({Moncon:i},function(){}),c.label=7;case 7:return this.getComputingDevices(),[4,this.verifyDeviceID()];case 8:return c.sent(),Object(h.a)(!1),[2]}})})},t.prototype.getDevices=function(){return y(this,void 0,void 0,function(){var e,t,n,o;return N(this,function(i){switch(i.label){case 0:return e=this.props.buildingName,t=[],e?[4,Object(b.s)(e)]:[3,2];case 1:(n=i.sent())&&n.length>0&&(o=Object(),n.map(function(e){o={value:Object(a.g)(e.moncondevice),label:Object(a.g)(e.rdfsLabel)},t.push(o)})),i.label=2;case 2:return this.setState({SensorList:t}),[2]}})})},t.prototype.verifyDeviceID=function(){return y(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return""!=(e=this.state.Moncon).deviceID&&e.deviceID?[3,2]:[4,this.checkDeviceID()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.checkDeviceID=function(){return y(this,void 0,void 0,function(){var e,t,n=this;return N(this,function(o){switch(o.label){case 0:return e=this.state.Moncon,t=Object(u.i)(6).toString(),this.props.buildingName?[4,Object(s.a)(t,this.props.buildingName).then(function(n){n&&n[0]?e.deviceID="":e.deviceID=t}).catch(function(e){return e})]:[3,2];case 1:o.sent(),this.setState({Moncon:e},function(){return y(n,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this.verifyDeviceID()];case 1:return e.sent(),[2]}})})}),o.label=2;case 2:return[2]}})})},t.prototype.getHVAC_List=function(){return y(this,void 0,void 0,function(){var e=this;return N(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,Object(c.e)(this.props.buildingName).then(function(t){for(var n=0;n<t.length;n++){var o=t[n];Object(a.g)(o.ontology)&&Object(a.g)(o.rdfsLabel)&&Object(u.p)(Object(a.g)(o.ontology),Object(a.g)(o.rdfsLabel))}e.setState({HVAC_List:t})})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.getEquipment_List=function(){return y(this,void 0,void 0,function(){var e,t;return N(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(c.f)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(a.g)(e.ontology),label:Object(a.g)(e.rdfsLabel)}}),this.setState({EquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.fetchSpaces=function(){return y(this,void 0,void 0,function(){var e=this;return N(this,function(t){return Object(l.g)(this.props.buildingName).then(function(t){e.setState({_spaces:t})}).catch(function(e){return e}),[2]})})},t.prototype.handleNewLocationChange=function(e){this.setState({newLocation:e})},t.prototype.handleMonConDeviceTypeChange=function(e){this.setState({Moncon:e})},t.prototype.handleDeviceNameChange=function(e){var t=this.state.Moncon;t.rdfsLabel=e,this.setState({Moncon:t})},t.prototype.handleEquipmentList=function(e){if(!this.props.isView){var t=this.state.Moncon;t.relatedEquipment=e,this.setState({Moncon:t})}},t.prototype.handleDeviceChange=function(e){var t=this.state.Moncon;t[e.target.name]=e.target.value,this.setState({Moncon:t})},t.prototype.handleDeviceIDChange=function(e){var t=this.state.Moncon;t.deviceID=e,this.setState({Moncon:t})},t.prototype.handleManufacturerChange=function(e){var t=this.state.Moncon;t.manufacturer=e,this.setState({Moncon:t})},t.prototype.handleModelChange=function(e){var t=this.state.Moncon;t.model=e,this.setState({Moncon:t})},t.prototype.handleBoardAddressChange=function(e){var t=this.state.Moncon;t.boardAddress=e,this.setState({Moncon:t})},t.prototype.handleLocationChange=function(e){var t=this.state.Moncon;t.location=e.selectedLocation,t.floor=e.selectedFloor},t.prototype.handleLightningTypeChange=function(e){var t=this.state.Moncon;t.relayLightingType=e,this.setState({Moncon:t})},t.prototype.handleConnectionTypeChange=function(e){var t=this.state.Moncon;t.connectionType=e,this.setState({Moncon:t})},t.prototype.onChangeComputingDevice=function(e){var t=this,n=this.state.Moncon;n.computingDevice=e.target.value,this.setState({Moncon:n},function(){t.onChangeControllerIpAddress()})},t.prototype.onChangeControllerIpAddress=function(){var e=this.state,t=e.Moncon,n=e.ComputingDevice_List.find(function(e){return Object(a.g)(e.ontology)==t.computingDevice}).controllerIpAddress;t.wirelessConfig.controllerIPAddress=Object(a.g)(n),this.setState({Moncon:t})},t.prototype.getComputingDevices=function(){return y(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return[4,Object(g.b)()];case 1:return e=t.sent(),this.setState({ComputingDevice_List:e}),[2]}})})},t.prototype.handleNotesChange=function(e){var t=this.state.Moncon;t.notes=e,this.setState({Moncon:t})},t.prototype.handleWirelessConfigChange=function(e){var t=this.state.Moncon,n=e.target.name;t.wirelessConfig[""+n]=e.target.value,this.setState({Moncon:t})},t.prototype._saveMoncon=function(){return y(this,void 0,void 0,function(){var e,t,n,o,a;return N(this,function(i){switch(i.label){case 0:return e=this.state.Moncon,t=this.props,n=t.instance,o=t.buildingName,a=JSON.parse(v.a.getItem("user")),e?(e.createdby||(e.createdby=a.name),Object(h.a)(!0),e.deviceName?e.onitUrlLink=window.location.origin+"/#"+n+"/"+o+"/Point/EditDevice/"+e.deviceName:e.onitUrlLink=window.location.origin+"/#"+n+"/"+o+"/Point/EditDevice/",console.log("Moncon Device"),console.log(e),-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("ceiling")&&-1==e.rdfsLabel.toLowerCase().indexOf(e.deviceID)&&(e.rdfsLabel=e.deviceID+"-"+e.rdfsLabel),[4,Object(s.b)(e,o,this.props.isEdit)]):[3,2];case 1:i.sent(),this.props.getNewDeviceLabel&&this.props.getNewDeviceLabel(e.deviceName),Object(u.p)(e.deviceName,e.rdfsLabel),Object(h.a)(!1),i.label=2;case 2:return document.getElementById("AddDeviceDailogeButton")?document.getElementById("AddDeviceDailogeButton").click():window.history.back(),[2]}})})},t.prototype.handleMultiSensorChange=function(e){var t=this.state.Moncon;t.sensors=e,this.setState({Moncon:t})},t.prototype.handleMultiStrategiesChange=function(e){var t=this.state.Moncon;t.strategy=e,this.setState({Moncon:t})},t.prototype.onChangeGraphURL=function(e){var t=this.state.Moncon;t.graphURL=e,this.setState({Moncon:t})},t.prototype.handleExistingRadio=function(e){var t=this.state.Moncon;t.isExisting=e,this.setState({Moncon:t})},t.prototype.render=function(){var e=this,t=this.state,n=t.Moncon,c=t.SensorList,l=t.EquipmentList,s=t.ComputingDevice_List,u=this.props,h=u.isFromPoint,b=void 0!==h&&h,g=u.instance,E=this.props,y=E.isInsight,N=E.buildingName,w=E.isView,C=E.isEdit,L=JSON.parse(v.a.getItem("user")),O=n.floor&&n.location&&n.rdfsLabel&&!0,T=n&&n.monitoringControlDeviceType&&-1!=n.monitoringControlDeviceType.toLowerCase().indexOf("intesis");return o.createElement(i.AppContext.Consumer,null,function(t){return o.createElement("div",{className:"content"},o.createElement("div",{className:"card"},o.createElement("div",{className:"container-fluid padding-10"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"devicename"},y?"Insight":"Device"," Name"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"devicename",disabled:w,className:"form-control",value:n.rdfsLabel,onChange:function(t){return e.handleDeviceNameChange(t.target.value)}}))),o.createElement("div",{className:"col-md-1 col-sm-3"},o.createElement("label",null,o.createElement("i",{className:"fa fas fa-asterisk"}))))),(L&&"1"==L.role||L.name==n.createdby)&&o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"adminPassword"},y?"Insight":"Device"," Admin Password"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text",id:"adminPassword",disabled:w,className:"form-control",value:n.adminPassword,name:"adminPassword",onChange:function(t){return e.handleDeviceChange(t)}}))),o.createElement("div",{className:"col-md-1 col-sm-3"},o.createElement("label",null,o.createElement("i",{className:"fa fas fa-asterisk"}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"deviceID"},y?"Insight":"Device"," ID"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"deviceID",disabled:!T,className:"form-control",value:n.deviceID,onChange:function(t){return e.handleDeviceIDChange(t.target.value)}}))),T&&o.createElement(f.a,{buildingName:N}))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"connectiontype"},"Computing Device "))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("select",{className:"form-control",id:"computingdevice",disabled:w,value:n.computingDevice,onChange:function(t){e.onChangeComputingDevice(t)}},o.createElement("option",{value:"",key:-2},"Select Computing Device"),s&&s.map(function(e,t){return o.createElement("option",{value:Object(a.g)(e.ontology)},Object(a.g)(e.name))})))))),o.createElement("div",{className:"col-md-12 no-padding"},o.createElement(p.a,{buildingName:N,Moncon:n,isEdit:C,isView:w,handleMonConDeviceTypeChange:e.handleMonConDeviceTypeChange}),o.createElement("div",{className:"col-md-1 col-sm-3"},o.createElement("label",null,o.createElement("i",{className:"fa fas fa-asterisk"})))),n.monitoringControlDeviceType&&(-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("relay")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ceiling"))&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"boardAddress"},"Board Address"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"boardAddress",className:"form-control",value:n.boardAddress,onChange:function(t){return e.handleBoardAddressChange(t.target.value)}})))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"Manufacturer"},"Manufacturer"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"Manufacturer",disabled:w,className:"form-control",value:n.manufacturer,onChange:function(t){return e.handleManufacturerChange(t.target.value)}}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"Model"},"Model"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"Model",disabled:w,className:"form-control",value:n.model,onChange:function(t){return e.handleModelChange(t.target.value)}}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"hvac"},"Related Equipment:"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement(m.a,{isDisabled:w,closeMenuOnSelect:!1,isMulti:!0,value:n.relatedEquipment,onChange:e.handleEquipmentList,placeholder:"Select Equipment",options:l})))),o.createElement(r.a,{instance:e.props.instance,buildingName:N,isDisabled:w,selectedFloorLocation:{selectedFloor:n.floor,selectedLocation:n.location},onLocationChange:e.handleLocationChange}),(L&&"1"==L.role||L.name==n.createdby)&&o.createElement("div",null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"connectiontype"},"Connection Type"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("select",{className:"form-control",id:"connectiontype",disabled:w,value:n.connectionType,onChange:function(t){return e.handleConnectionTypeChange(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Connection Type"),o.createElement("option",{value:"Physical"},"Physical"),o.createElement("option",{value:"Wireless"},"Wireless")))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"cadBIM"},"ONIT URL Link:"))),o.createElement("div",{className:"col-md-8 col-sm-8"},o.createElement("div",{className:"form-group"},o.createElement("div",{className:"form-control",id:"onitUrlLink"},n.onitUrlLink?n.onitUrlLink:""))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"ipaddress"},"IP Address"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"ipaddress",className:"form-control",disabled:w,value:n.wirelessConfig&&n.wirelessConfig.ipAddress,name:"ipAddress",onChange:function(t){return e.handleWirelessConfigChange(t)}}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"controllerIPAddress"},"Controller IP Address"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"controllerIPAddress",className:"form-control",disabled:w,value:n.wirelessConfig&&n.wirelessConfig.controllerIPAddress,name:"controllerIPAddress"}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"thermostatMacAddress"},"MAC Address"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"thermostatMacAddress",className:"form-control",disabled:w,value:n.wirelessConfig&&n.wirelessConfig.thermostatMacAddress,name:"thermostatMacAddress",onChange:function(t){return e.handleWirelessConfigChange(t)}}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"ssid"},"SSID (Wireless Network)"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"ssid",className:"form-control",disabled:w,value:n.wirelessConfig&&n.wirelessConfig.ssid,name:"ssid",onChange:function(t){return e.handleWirelessConfigChange(t)}}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"password"},"Password (Wireless Network)"))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"password",className:"form-control",disabled:w,value:n.wirelessConfig&&n.wirelessConfig.password,name:"password",onChange:function(t){return e.handleWirelessConfigChange(t)}})))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"graphURLs"},"Existing/Planned"))),o.createElement("div",{className:"col-md-8 col-sm-8"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"radio",id:"existing",disabled:w,checked:0!=n.isExisting,onChange:function(){e.handleExistingRadio(!0)}}),o.createElement("label",{htmlFor:"existing"},"Existing"),o.createElement("br",null),o.createElement("input",{type:"radio",id:"planned",disabled:w,checked:0==n.isExisting,onChange:function(){e.handleExistingRadio(!1)}}),o.createElement("label",{htmlFor:"planned"},"Planned"))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"graphURLs"},"Graph URL"))),o.createElement("div",{className:"col-md-8 col-sm-8"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text",disabled:w,id:"graphURL",className:"form-control",value:n.graphURL,onChange:function(t){return e.onChangeGraphURL(t.target.value)}}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"connectiontype"},"Strategy "))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",null,o.createElement(m.a,{isDisabled:!1,closeMenuOnSelect:!1,isMulti:!0,value:n.strategy,onChange:e.handleMultiStrategiesChange,placeholder:"T-Stat Strategies",options:d.f}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"connectiontype"},"Sensors "))),o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("div",null,o.createElement(m.a,{isDisabled:!1,closeMenuOnSelect:!1,isMulti:!0,value:n.sensors,onChange:e.handleMultiSensorChange,placeholder:"Sensors for Optimization Strategies",options:c}))))),o.createElement("div",{className:"row",style:{paddingTop:"10px"}},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"thermostatMacAddress"},"Setpoint Range"))),o.createElement("div",{className:"col-md-2 col-sm-2"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"number",id:"setpointRangeFrom",className:"form-control",disabled:w,value:n.setpointRangeFrom,name:"setpointRangeFrom",onChange:function(t){return e.handleDeviceChange(t)}}))),o.createElement("div",{className:"col-md-1 col-sm-1 padding-10 center"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"To"},"To"))),o.createElement("div",{className:"col-md-2 col-sm-2"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"number",id:"setpointRangeTo",className:"form-control",disabled:w,value:n.setpointRangeTo,name:"setpointRangeTo",onChange:function(t){return e.handleDeviceChange(t)}}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"notes"},"Notes"))),o.createElement("div",{className:"col-md-6 col-sm-3"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",id:"notes",className:"form-control",disabled:w,value:n.notes,onChange:function(t){return e.handleNotesChange(t.target.value)}}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12 inline-block"},!w&&o.createElement("button",{className:"btn btn-primary btn-fill",type:"button",disabled:!O,onClick:function(){e._saveMoncon()}},o.createElement("i",{className:"fa fa-save"})," Save"),o.createElement("button",{id:"btnbackPointList",className:"btn btn-secondary btn-fill",onClick:function(){var e=t.breadCrumbsLevels;b=b,g=g;var n=e.slice(-1).pop();window.location.hash=n.link}},o.createElement("i",{className:"fa fa-angle-double-left"}),"  Back")))))))})},t}(o.Component);t.default=w},727:function(e,t,n){"use strict";t.s=function(e,t,n,l){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({buildingName:e,equipment:t,isEdit:n},i.a.EQUIPMENT.SaveEquipment,o.b.EQUIP).then(function(){1==l||Object(a.b)("Equipment "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Equipment.")})];case 1:return[2,r.sent()]}})})},t.q=function(e,t,n,l){return r(this,void 0,void 0,function(){var r;return c(this,function(c){switch(c.label){case 0:return r=!!n.name,[4,Object(i.f)({buildingName:e,equipmentName:t,component:n,counter:l},i.a.EQUIPMENT.SaveComponent,o.b.EQUIP).then(function(){Object(a.b)("Component(s) "+(r?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Component(s).")})];case 1:return[2,c.sent()]}})})},t.t=function(e,t,n,l){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({isEdit:e,buildingName:t,equipmentName:n,lightingInformation:l},i.a.EQUIPMENT.SaveLightingInformation,o.b.EQUIP).then(function(){Object(a.b)("Lighting Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Lighting Info.")})];case 1:return[2,r.sent()]}})})},t.u=function(e,t,n,l,s){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({isEdit:e,buildingName:t,equipmentName:n,plugLoadModel:l,isCustom:s},i.a.EQUIPMENT.SavePlugLoadModel,o.b.EQUIP).then(function(){Object(a.b)("Plugload Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Plugload Info.")})];case 1:return[2,r.sent()]}})})},t.d=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.FetchEquipments,o.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.l=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetEquipmentDetails,o.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.e=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.GetAllCoolingAndHeatingEquipmentsList,o.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.f=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.GetAllEquipmentExceptCoolingAndHeatingList,o.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.g=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.GetAllEquipmentsList,o.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.m=function(){return r(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,Object(i.e)({},i.a.EQUIPMENT.GetEquipmentTypeList,o.b.EQUIP)];case 1:return[2,e.sent()]}})})},t.o=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({typeName:e,distance:t},i.a.EQUIPMENT.GetSubClassTypeListForEquipment,o.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.j=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({typeName:e,distance:t},i.a.EQUIPMENT.GetComponentTypesList,o.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.i=function(){return r(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,Object(i.e)({},i.a.EQUIPMENT.GetComponentSubclassList,o.b.EQUIP)];case 1:return[2,e.sent()]}})})},t.r=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.f)({componentType:e},i.a.EQUIPMENT.SaveComponentSubClass,o.b.EQUIP).then(function(){Object(a.b)("Component Type Added Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Component Type.")})];case 1:return[2,t.sent()]}})})},t.c=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.FetchEquipmentExportData,o.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.k=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetComponents,o.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.h=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,component:t},i.a.EQUIPMENT.GetComponentPoints,o.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.n=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetFixtures,o.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.p=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetTypeByEquipmentName,o.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.b=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.FetchPowerSource,o.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.FetchPlugLoad,o.b.EQUIP)];case 1:return[2,n.sent()]}})})};var o=n(7),a=n(6),i=n(5),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,c)}l((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}},740:function(e,t,n){"use strict";t.g=function(e,t,n,a){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.e)({buildingName:e,spaceName:t,spaceWithCalendar:n},i.a.SPACES.GETSPACES,o.b.SPACE,a)];case 1:return[2,r.sent()]}})})},t.c=function(e,t,n){return r(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(i.e)({floor:e,buildingName:t},i.a.SPACES.GetLocationsList,o.b.SPACE,n)];case 1:return[2,a.sent()]}})})},t.d=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({zone:e,buildingName:t},i.a.SPACES.getLocationsListSpacesByZones,o.b.SPACE)];case 1:return[2,n.sent()]}})})},t.b=function(e,t,n){void 0===n&&(n=!0);return r(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(i.e)({buildingName:e,type:t},i.a.SPACES.GetAllLocationsList,o.b.SPACE,n)];case 1:return[2,a.sent()]}})})},t.a=function(e,t,n,l,s){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({buildingName:e,model:t,floor:n,isEdit:l,spacetoUpdate:s},i.a.SPACES.SAVESPACE,o.b.SPACE).then(function(){Object(a.b)("Space "+(l?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Space.")})];case 1:return[2,r.sent()]}})})},t.f=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.SPACES.GetSpaceTypesList,o.b.SPACE)];case 1:return[2,t.sent()]}})})},t.e=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({spaceName:e},i.a.SPACES.GetSpaceOptimalInfo,o.b.SPACE)];case 1:return[2,t.sent()]}})})},t.h=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.f)({spaceToUpdate:e},i.a.SPACES.UpdateSpaceOptimalInfo,o.b.SPACE).then(function(){Object(a.b)("Space Updated Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Space.")})];case 1:return[2,t.sent()]}})})};var o=n(7),a=n(6),i=n(5),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,c)}l((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}},776:function(e,t,n){"use strict";t.a=function(e,t,n){return r(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(i.e)({buildingName:e,zoneName:t,bimSid:n},i.a.ZONES.GETZONES,o.b.ZONE)];case 1:return[2,a.sent()]}})})},t.b=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({buildingName:e,floor:t},i.a.ZONES.SAVEFLOOR,o.b.ZONE).then(function(){Object(a.b)("Floor Added Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Floor.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({model:e,buildingName:t},i.a.ZONES.SAVEZONE,o.b.ZONE).then(function(){Object(a.b)("Zone Added Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Zone.")})];case 1:return[2,n.sent()]}})})},t.f=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.ZONES.GETFLOORLIST,o.b.ZONE)];case 1:return[2,t.sent()]}})})},t.g=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentType:t},i.a.ZONES.GETSERVICEPROVIDERSLIST,o.b.ZONE)];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,excludeFloors:t},i.a.ZONES.GetAllZonesList,o.b.ZONE)];case 1:return[2,n.sent()]}})})},t.h=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.ZONES.GetZoneTypesList,o.b.ZONE)];case 1:return[2,t.sent()]}})})},t.d=function(e,t){return r(this,void 0,void 0,function(){var n=this;return c(this,function(l){switch(l.label){case 0:return[4,Object(i.f)({buildingName:e,zoneName:t},i.a.ZONES.DELETEZONE,o.b.ZONE).then(function(){return r(n,void 0,void 0,function(){return c(this,function(e){return Object(a.b)("Zone Deleted Successfully."),[2]})})}).catch(function(e){Object(a.a)("Error occured while deleting.")})];case 1:return[2,l.sent()]}})})};var o=n(7),a=n(6),i=n(5),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,c)}l((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}},793:function(e,t,n){"use strict";t.b=function(e,t,n){return c(this,void 0,void 0,function(){return l(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({model:e,buildingName:t,isEdit:n},i.a.DEVICES.UPDATEDEVICE,o.b.POINT).then(function(){Object(a.b)("Device "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Device.")})];case 1:return[2,r.sent()]}})})},t.e=function(e,t){return c(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.DEVICES.GETDEVICEDETAIL,o.b.POINT,t)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return c(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({DeviceID:e,buildingName:t},i.a.DEVICES.CheckDeviceID,o.b.POINT)];case 1:return[2,n.sent()]}})})},t.f=function(){return c(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,Object(i.e)({},i.a.DEVICES.GETDEVICETYPELIST,o.b.POINT)];case 1:return[2,e.sent()]}})})},t.g=function(e,t){return c(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({newEquipmentType:e,buildingName:t},i.a.DEVICES.SaveEquipmentType,o.b.POINT).then(function(){Object(a.b)("New Equipment Type Added Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving New Equipment type.")})];case 1:return[2,n.sent()]}})})},t.d=function(e,t){return c(this,void 0,void 0,function(){var n,a,s,u,d,m;return l(this,function(p){switch(p.label){case 0:return t?[4,function(e,t,n){return c(this,void 0,void 0,function(){return l(this,function(a){switch(a.label){case 0:return[4,Object(i.e)({buildingName:e,pointName:t,deviceName:n},i.a.DEVICES.GETDEVICEDETAIL,o.b.POINT)];case 1:return[2,a.sent()]}})})}(t,null,e)]:[2];case 1:return n=p.sent(),a=Object(),n&&n.length>0&&(s=n[0],a.monitoringControl=Object(r.g)(s.moncondevice),a.monitoringControlDeviceType=Object(r.g)(s.moncontype),a.deviceName=Object(r.g)(s.moncondevice),a.deviceID=Object(r.g)(s.deviceID),a.rdfsLabel=Object(r.g)(s.rdfsLabel),a.manufacturer=Object(r.g)(s.manufacturer),a.model=Object(r.g)(s.model),a.graphURL=Object(r.g)(s.graphURL),a.location=Object(r.g)(s.location),a.floor=Object(r.g)(s.floor),a.connectionType=Object(r.g)(s.connectiontype),a.notes=Object(r.g)(s.notes),a.setpointRangeFrom=Object(r.g)(s.setpointRangeFrom),a.setpointRangeTo=Object(r.g)(s.setpointRangeTo),a.createdby=Object(r.g)(s.createdby),a.adminPassword=Object(r.g)(s.adminPassword),a.onitUrlLink=Object(r.g)(s.onitUrlLink),a.relayLightingType=Object(r.g)(s.relayLightingType),a.boardAddress=Object(r.g)(s.boardAddress),u=[],s.relatedEquipment&&s.relatedEquipment.value&&(u=s.relatedEquipment.value.indexOf(",")>0?s.relatedEquipment.value.split(","):[s.relatedEquipment.value]),a.relatedEquipment=u.map(function(e,t){return{label:e,value:e}}),d=[],s.strategy&&s.strategy.value&&(d=s.strategy.value.indexOf(",")>0?s.strategy.value.split(","):[s.strategy.value]),a.strategy=d.map(function(e,t){return{label:e,value:e}}),m=[],s.sensors&&s.sensors.value&&(m=s.sensors.value.indexOf(",")>0?s.sensors.value.split(","):[s.sensors.value]),a.sensors=m.map(function(e,t){return{label:e,value:e}}),a.isExisting="false"!=Object(r.g)(s.isExisting),a.wirelessConfig={ipAddress:Object(r.g)(s.ipaddress),controllerIPAddress:Object(r.g)(s.controllerIPAddress),thermostatMacAddress:Object(r.g)(s.macaddress),ssid:Object(r.g)(s.ssid),password:Object(r.g)(s.password)},a.isSchedule="true"==Object(r.g)(s.isSchedule)),[2,a]}})})},t.c=function(e){return c(this,void 0,void 0,function(){var t,n,o,a;return l(this,function(i){if(t=[],e.length>0)for(n=0;n<e.length;n++)o=Object(),a=e[n],o.aa_DeviceName=a.moncontype,o.ab_DeviceID=a.deviceID,o.ac_Manufacturer=a.manufacturer,o.ad_Model=a.model,o.ba_Floor=a.rdfsLabelFloor,o.bb_FloorCode=a.floor,o.bc_Space=a.rdfsLabelLocation,o.bd_SpaceCode=a.location,o.ca_Equipment=a.rdfsLabel,o.cb_Equipmentcode=a.moncondevice,o.cc_Connection=a.connectiontype,o.cd_OnitUrlLink=a.onitUrlLink,t.push(o);return[2,t]})})};var o=n(7),a=n(6),i=n(5),r=n(8),c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,c)}l((o=o.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}},868:function(e,t,n){"use strict";var o=n(2),a=(n.n(o),n(740)),i=n(776),r=n(113),c=n(26),l=n(13),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=this&&this.__assign||function(){return(u=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},d=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,c)}l((o=o.apply(e,t||[])).next())})},m=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={locationModel:{ontology:"",buildingName:n.props.buildingName,floor:n.props.floor?n.props.floor:"",type:n.props.type?n.props.type:"",name:Object(l.j)(7),rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:""},_spaceTypes:[],floorsList:[]},n._getSpaceTypeList=n._getSpaceTypeList.bind(n),n._getFloorsList=n._getFloorsList.bind(n),n.handleFormChange=n.handleFormChange.bind(n),n.createLocation=n.createLocation.bind(n),n}return s(t,e),t.prototype.componentWillReceiveProps=function(e){return d(this,void 0,void 0,function(){var t,n,o,a;return m(this,function(i){switch(i.label){case 0:return t=this.state.locationModel,n=e.buildingName,o=e.floor,a=e.type,n?[4,this._getSpaceTypeList()]:[3,3];case 1:return i.sent(),[4,this._getFloorsList()];case 2:i.sent(),(o||a)&&(t.floor=o||"",t.type=a||"",this.setState({locationModel:t})),i.label=3;case 3:return[2]}})})},t.prototype._getSpaceTypeList=function(){return d(this,void 0,void 0,function(){var e=this;return m(this,function(t){switch(t.label){case 0:return[4,Object(a.f)(this.props.buildingName).then(function(t){e.setState({_spaceTypes:t})})];case 1:return t.sent(),[2]}})})},t.prototype._getFloorsList=function(){return d(this,void 0,void 0,function(){var e=this;return m(this,function(t){switch(t.label){case 0:return[4,Object(i.f)(this.props.buildingName).then(function(t){e.setState({floorsList:t})})];case 1:return t.sent(),[2]}})})},t.prototype.createLocation=function(){return d(this,void 0,void 0,function(){var e,t,n=this;return m(this,function(o){switch(o.label){case 0:return e=this.state.locationModel,t=Object(),t=u({},e),e?(Object(r.a)(!0),[4,Object(a.a)(this.props.buildingName,e,e.floor,!1)]):[3,2];case 1:o.sent(),this.setState({locationModel:{ontology:"",buildingName:"",floor:"",type:"",name:Object(l.j)(7),rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:""}},function(){n.props.updateSpace(t)}),Object(r.a)(!1),o.label=2;case 2:return[2]}})})},t.prototype.handleFormChange=function(e){var t=this.state.locationModel;t[e.target.name]=e.target.value,this.setState({locationModel:t})},t.prototype.render=function(){var e=this,t=this.props.closeDailogBtnID,n=this.state,a=n.locationModel,i=n._spaceTypes,r=n.floorsList,l=a.rdfsLabel,s=a.type,u=a.floor;return o.createElement("div",null,o.createElement("button",{type:"button",id:t,className:"btn btn-primary btn-fill",onClick:function(){},"data-toggle":"modal","data-target":"#spaceFormDialog",style:{display:"none"}},"."),o.createElement(c.a,{id:"spaceFormDialog",onSaveButtonClick:function(){e.createLocation()},showSaveButton:!0,heading:"Create Space",saveButtonText:"Save and Continue",disableSaveButton:""==l||""==s||""==u},o.createElement("div",{className:"dataCard padding-10 no-margin"},o.createElement("div",{className:""},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"type"},"Space Name:")),o.createElement("div",{className:"col-md-9"},o.createElement("input",{name:"rdfsLabel",value:a.rdfsLabel,onChange:function(t){return e.handleFormChange(t)},type:"text",className:"form-control"})," "))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"type"},"Type:")),o.createElement("div",{className:"col-md-9"},o.createElement("select",{id:"type",className:"form-control",name:"type",onChange:function(t){return e.handleFormChange(t)},value:a.type},o.createElement("option",{value:""},"Select Type"),i&&i.map(function(e,t){return 0===t?o.createElement("option",{key:t,selected:!0,value:e.value},e.value):o.createElement("option",{key:t,value:e.value},e.value)}))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"type"},"Floor:")),o.createElement("div",{className:"col-md-9"},o.createElement("select",{id:"type",className:"form-control",name:"floor",onChange:function(t){return e.handleFormChange(t)},value:a.floor},o.createElement("option",{value:""},"Select Type"),r&&r.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value)}))))),o.createElement("br",null)))))},t}(o.Component);t.a=p},904:function(e,t,n){"use strict";var o,a,i,r,c,l,s;n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return m}),n.d(t,"a",function(){return p}),function(e){e[e.OFF=0]="OFF",e[e.HEAT=1]="HEAT",e[e.COOL=2]="COOL",e[e.AUTO=3]="AUTO"}(o||(o={})),function(e){e[e.Idle=0]="Idle",e[e.HEATING=1]="HEATING",e[e.COOLING=2]="COOLING",e[e.LOCKOUT=3]="LOCKOUT",e[e.ERROR=4]="ERROR"}(a||(a={})),function(e){e[e.AUTO=0]="AUTO",e[e.ON=1]="ON"}(i||(i={})),function(e){e[e.Fahrenheit=0]="Fahrenheit",e[e.Celsius=1]="Celsius"}(r||(r={})),function(e){e[e.Fahrenheit=0]="Fahrenheit",e[e.Celsius=1]="Celsius"}(c||(c={})),function(e){e[e.occupied1=0]="occupied1",e[e.occupied2=1]="occupied2",e[e.occupied3=2]="occupied3",e[e.unoccupied=3]="unoccupied",e[e.inactive=255]="inactive"}(l||(l={})),function(e){e[e.Home=0]="Home",e[e.Away=1]="Away"}(s||(s={}));var u,d;!function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON"}(u||(u={})),function(e){e[e.AllModes=0]="AllModes",e[e.HeatCoolOnly=1]="HeatCoolOnly",e[e.HeatOnly=2]="HeatOnly",e[e.CoolOnly=3]="CoolOnly"}(d||(d={}));var m=[{value:"VeryBySchedule",label:"Vary by Schedule"},{value:"PreChill",label:"Pre-Chill"},{value:"SelectiveDispatch",label:"Selective Dispatch"},{value:"OccupancySensing",label:"Occupancy Sensing"},{value:"Optimize-NoOccupancy",label:"Optimize - No Occupancy"},{value:"Optimize-ScheduledUse",label:"Optimize - Scheduled Use"},{value:"Optimize-Occupancy",label:"Optimize - Occupancy"},{value:"Optimize-Sensing",label:"Optimize - Sensing"}],p=[{ontology:"",season:"COOLING",occType:"UNOCCUPIED",defaultTargetTemp:"85.0",fanSetting:"MEET_TURNOVER_REQTS",warmLittleTemp:"5.0",warmLittleHowBad:"5.0",warmLotTemp:"10.0",warmLotHowBad:"10.0",warmHardLimitTemp:"100.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"10.0",coolLotHowBad:"8.0",coolHardLimitTemp:"60.0"},{ontology:"",season:"COOLING",occType:"OCCUPIED",defaultTargetTemp:"70.0",fanSetting:"AUTO_HI",warmLittleTemp:"2.0",warmLittleHowBad:"3.0",warmLotTemp:"8.0",warmLotHowBad:"8.0",warmHardLimitTemp:"80.0",coolLittleTemp:"2.0",coolLittleHowBad:"3.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"60.0"},{ontology:"",season:"COOLING",occType:"SEMI",defaultTargetTemp:"75.0",fanSetting:"MEET_TURNOVER_REQTS",warmLittleTemp:"5.0",warmLittleHowBad:"5.0",warmLotTemp:"10.0",warmLotHowBad:"10.0",warmHardLimitTemp:"90.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"10.0",coolLotHowBad:"8.0",coolHardLimitTemp:"60.0"},{ontology:"",season:"COOLING",occType:"SHUTDOWN",defaultTargetTemp:"90.0",fanSetting:"AUTO_LO",warmLittleTemp:"10.0",warmLittleHowBad:"5.0",warmLotTemp:"20.0",warmLotHowBad:"10.0",warmHardLimitTemp:"110.0",coolLittleTemp:"10.0",coolLittleHowBad:"5.0",coolLotTemp:"20.0",coolLotHowBad:"10.0",coolHardLimitTemp:"45.0"},{ontology:"",season:"HEATING",occType:"UNOCCUPIED",defaultTargetTemp:"55.0",fanSetting:"AUTO_HI",warmLittleTemp:"10.0",warmLittleHowBad:"5.0",warmLotTemp:"20.0",warmLotHowBad:"10.0",warmHardLimitTemp:"100.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"10.0",coolLotHowBad:"10.0",coolHardLimitTemp:"40.0"},{ontology:"",season:"HEATING",occType:"OCCUPIED",defaultTargetTemp:"68.0",fanSetting:"AUTO_HI",warmLittleTemp:"2.0",warmLittleHowBad:"3.0",warmLotTemp:"5.0",warmLotHowBad:"8.0",warmHardLimitTemp:"90.0",coolLittleTemp:"2.0",coolLittleHowBad:"3.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"55.0"},{ontology:"",season:"HEATING",occType:"SEMI",defaultTargetTemp:"65.0",fanSetting:"AUTO_HI",warmLittleTemp:"5.0",warmLittleHowBad:"5.0",warmLotTemp:"8.0",warmLotHowBad:"8.0",warmHardLimitTemp:"90.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"50.0"},{ontology:"",season:"HEATING",occType:"SHUTDOWN",defaultTargetTemp:"50.0",fanSetting:"AUTO_HI",warmLittleTemp:"10.0",warmLittleHowBad:"5.0",warmLotTemp:"20.0",warmLotHowBad:"10.0",warmHardLimitTemp:"100.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"40.0"}]}});