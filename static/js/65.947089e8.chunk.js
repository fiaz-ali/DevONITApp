webpackJsonp([65],{3336:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=(n.n(r),n(677)),a=n(23),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}c((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={verifyProjectList:[],verifyProject:Object()},n.onChangeHandler=n.onChangeHandler.bind(n),n.fatchList=n.fatchList.bind(n),n.saveVerifyProjectDetail=n.saveVerifyProjectDetail.bind(n),n}return s(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this.fatchList()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.fatchList=function(){return o(this,void 0,void 0,function(){var e,t=this;return c(this,function(n){switch(n.label){case 0:return this.props.projectName?[4,Object(i.o)(this.props.buildingName)]:[3,2];case 1:(e=n.sent())||(e=[]),e=e.filter(function(e){return e.projectName==t.props.projectName}),this.setState({verifyProjectList:e}),n.label=2;case 2:return[2]}})})},t.prototype.saveVerifyProjectDetail=function(){return o(this,void 0,void 0,function(){var e,t,n,r,a,s,l=this;return c(this,function(u){switch(u.label){case 0:e=this.props,t=e.instance,n=e.buildingName,(r=this.state.verifyProjectList)||(r=[]),a=0,u.label=1;case 1:return a<r.length?((s=r[a]).buildingName=s.buildingName,s.projectName=s.projectName,s.oneMonth=s.oneMonthAdj,s.threeMonth=s.threeMonthAdj,s.sixMonth=s.sixMonthAdj,s.twelveMonth=s.twelveMonthAdj,[4,Object(i.t)(s).then(function(e){}).catch(function(e){return e})]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return this.setState({verifyProject:Object()},function(){return o(l,void 0,void 0,function(){return c(this,function(e){return window.location.hash=t+"/"+n+"/VerifyMeasure/VerifyDetail/"+this.props.projectName,[2]})})}),[2]}})})},t.prototype.onChangeHandler=function(e,t,n){var r=this.state.verifyProjectList;r[n][""+e]=t,this.setState({verifyProjectList:r})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,i=t.buildingName,s=this.state.verifyProjectList;return r.createElement("div",{className:"content"},r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12"},r.createElement("br",null),r.createElement("div",{className:"card"},r.createElement("div",{className:"content"},r.createElement("div",{className:""},r.createElement("div",{className:"card",style:{marginBottom:"1px",border:"1px solid gainsboro",background:"gainsboro"}},r.createElement("div",{className:"row no-padding"},r.createElement("div",{className:"col-md-12"},r.createElement("div",{className:"col-md-3 headingText padding-10"},Object(a.m)(this.props.projectName)," "),r.createElement("div",{className:"col-md-2 headingText padding-10"},"1 Month"),r.createElement("div",{className:"col-md-2 headingText padding-10"},"3 Month"),r.createElement("div",{className:"col-md-2 headingText padding-10",style:{paddingLeft:"5%"}},"6 Month"),r.createElement("div",{className:"col-md-2 headingText padding-10",style:{paddingLeft:"5%"}},"12 Month")))),s&&s.length>0&&s.map(function(t,n){return r.createElement("div",{className:"card",style:{marginBottom:"1px"},key:n},r.createElement("div",{className:"row padding-10"},r.createElement("div",{className:"col-md-3",style:{paddingLeft:"2%"}},t.departmentName),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12",style:{height:"27px",paddingLeft:"9%"}},t.oneMonth),r.createElement("div",{className:"col-md-12 headingText"},r.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value,n)},style:{border:"1px solid red",color:"red"},type:"text",name:"oneMonthAdj",value:s[n].oneMonthAdj,className:"img-thumbnail cell_border"})))),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12",style:{height:"27px",paddingLeft:"9%"}},t.threeMonth),r.createElement("div",{className:"col-md-12 headingText"},r.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value,n)},style:{border:"1px solid red",color:"red"},type:"text",name:"threeMonthAdj",value:s[n].threeMonthAdj,className:"img-thumbnail cell_border"})))),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12",style:{height:"27px",paddingLeft:"9%"}},t.sixMonth),r.createElement("div",{className:"col-md-12 headingText"},r.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value,n)},style:{border:"1px solid red",color:"red"},type:"text",name:"sixMonthAdj",value:s[n].sixMonthAdj,className:"img-thumbnail cell_border"})))),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12",style:{height:"27px",paddingLeft:"9%"}},t.twelveMonth),r.createElement("div",{className:"col-md-12 headingText"},r.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value,n)},style:{border:"1px solid red",color:"red"},type:"text",name:"twelveMonthAdj",value:s[n].twelveMonthAdj,className:"img-thumbnail cell_border"}))))))}),r.createElement("div",{className:"row padding-10"},r.createElement("div",{className:"col-md-9 col-md-offset-2 no-padding"},r.createElement("button",{className:"btn btn-fill btn-danger margin-5 pull-right",onClick:function(){window.location.hash=n+"/"+i+"/VerifyMeasure/VerifyDetail/"+e.props.projectName}},r.createElement("i",{className:"fa fa-close"})," Cancel"),r.createElement("button",{className:"btn btn-fill btn-success pull-right margin-5",onClick:function(){e.saveVerifyProjectDetail()}}," ",r.createElement("i",{className:"fa fa-save"}),"Save"))))))))))},t}(r.Component);t.default=l},677:function(e,t,n){"use strict";t.s=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.Verify.SaveVerify,i.b.VERIFY).then(function(){e._id&&"IPMVP"==e.verifyType?Object(a.b)("Verify Updated Successfully."):e._id&&"Measure"==e.verifyType?Object(a.b)("Measure Updated Successfully."):"IPMVP"==e.verifyType?Object(a.b)("New Verify saved Successfully."):"Measure"==e.verifyType&&Object(a.b)("New Measure saved Successfully.")}).catch(function(t){"IPMVP"==e.verifyType?Object(a.a)("Error occured while saving New Verify."):"Measure"==e.verifyType&&Object(a.a)("Error occured while saving New Measure.")})];case 1:return[2,t.sent()]}})})},t.n=function(e,t,n){return o(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(r.e)({buildingName:e,verifyType:t,id:n},r.a.Verify.FetchVerify,i.b.VERIFY,!0)];case 1:return[2,a.sent()]}})})},t.e=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({_id:e},r.a.Verify.DeleteVerify,i.b.VERIFY).then(function(){Object(a.b)(" Deleted Successfully.")}).catch(function(e){Object(a.a)("Error occured while deleting.")})];case 1:return[2,t.sent()]}})})},t.f=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({_id:e},r.a.Verify.DeleteVerifyDetail,i.b.VERIFY).then(function(){Object(a.b)(" Deleted Successfully.")}).catch(function(e){Object(a.a)("Error occured while deleting.")})];case 1:return[2,t.sent()]}})})},t.o=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({buildingName:e,projectName:t},r.a.Verify.FetchVerifyDetail,i.b.VERIFY)];case 1:return[2,n.sent()]}})})},t.t=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.Verify.SaveVerifyDetail,i.b.VERIFY).then(function(){Object(a.b)("Verify details saved Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Verify details.")})];case 1:return[2,t.sent()]}})})},t.a=function(e){return o(this,void 0,void 0,function(){var t,n;return c(this,function(o){switch(o.label){case 0:return t=(new Date).ToEasternDateTime(),n=JSON.parse(s.a.getItem("user")),e&&(e._id=e._id&&e._id,e.projectID=e.projectID?e.projectID:"",e.projectNumber=e.projectNumber?e.projectNumber:"",e.implementation=e.implementation?e.implementation:"",e.projectManager=e.projectManager?e.projectManager:"",e.assets=e.assets?e.assets:[],e.descriptionOfECMProject=e.descriptionOfECMProject?e.descriptionOfECMProject:"",e.energy=e.energy?e.energy:"",e.cost=e.cost?e.cost:"",e.greenHouse=e.greenHouse?e.greenHouse:"",e.estimatedImplementationCost=e.estimatedImplementationCost?e.estimatedImplementationCost:"",e.implementationPlanDescription=e.implementationPlanDescription?e.implementationPlanDescription:"",e.keyDates=e.keyDates?e.keyDates:"",e.stakeholders=e.stakeholders?e.stakeholders:[],e.objectives=e.objectives?e.objectives:"",e.updatedBy=e.updatedBy?n.name+", ("+t+")":n.name+", "+t,e.lastUpdated=e.lastUpdated?new Date(e.lastUpdated).ToEasternDateTime():t,e.optionSelected=e.optionSelected?e.optionSelected:"",e.desiredAccuracy=e.desiredAccuracy?e.desiredAccuracy:"",e.overallApproach=e.overallApproach?e.overallApproach:"",e.baselinePeriod=e.baselinePeriod?e.baselinePeriod:"",e.postRetrofitPeriod=e.postRetrofitPeriod?e.postRetrofitPeriod:"",e.descriptionofMeasurement=e.descriptionofMeasurement?e.descriptionofMeasurement:"",e.linkedDocuments=e.linkedDocuments?e.linkedDocuments:"",e.energyAndDemandSavings=e.energyAndDemandSavings?e.energyAndDemandSavings:"",e.calculatingSavingsUncertainty=e.calculatingSavingsUncertainty?e.calculatingSavingsUncertainty:"",e.costSavingsAndGreenhouseGasEmissions=e.costSavingsAndGreenhouseGasEmissions?e.costSavingsAndGreenhouseGasEmissions:"",e.approachForExtrapolatingResults=e.approachForExtrapolatingResults?e.approachForExtrapolatingResults:"",e.OtherInternalExpenses=e.OtherInternalExpenses?e.OtherInternalExpenses:[{description:"",cost:"",notes:""}],e.totalInternalExpenses=e.totalInternalExpenses?e.totalInternalExpenses:"",e.totalInternalExpensesNotes=e.totalInternalExpensesNotes?e.totalInternalExpensesNotes:"",e.externalLabourCosts=e.externalLabourCosts?e.externalLabourCosts:[{description:"",cost:"",notes:""}],e.otherExpenditure=e.otherExpenditure?e.otherExpenditure:[{description:"",Qty:"",rate:"",totalCost:"",notes:""}],e.totalExternalExpenses=e.totalExternalExpenses?e.totalExternalExpenses:"",e.totalExternalExpensesNotes=e.totalExternalExpensesNotes?e.totalExternalExpensesNotes:"",e.totalBudget=e.totalBudget?e.totalBudget:"",e.totalBudgetNotes=e.totalBudgetNotes?e.totalBudgetNotes:"",e.costNotes=e.costNotes?e.costNotes:"",e.estimatedImplementationCostNotes=e.estimatedImplementationCostNotes?e.estimatedImplementationCostNotes:"",e.filesNames=e.filesNames?e.filesNames:[""],e.scopeList=e.scopeList?e.scopeList:[{_id:"",projectID:"",inScope:"",outOfScope:""}],e.deliverableList=e.deliverableList?e.deliverableList:[{_id:"",projectID:"",deliverable:"",dueDate:""}],e.keyConsiderationsList=e.keyConsiderationsList?e.keyConsiderationsList:[],e.successCriteriaList=e.successCriteriaList?e.successCriteriaList:[],e.keyParameterList=e.keyParameterList?e.keyParameterList:[],e.otherParameterList=e.otherParameterList?e.otherParameterList:[],e.PotentialInteractiveList=e.PotentialInteractiveList?e.PotentialInteractiveList:[],e.BaselineAdjustmentsList=e.BaselineAdjustmentsList?e.BaselineAdjustmentsList:[],e.MeasurementEquipmentList=e.MeasurementEquipmentList?e.MeasurementEquipmentList:[],e.BenefitsSummary=e.BenefitsSummary?e.BenefitsSummary:Object(),e.BenefitsDetails=e.BenefitsDetails?e.BenefitsDetails:Object()),[4,Object(r.f)({model:e},r.a.Verify.SaveProjectInformation,i.b.VERIFY).then(function(){Object(a.b)("Project Information Saved Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving.")})];case 1:return[2,o.sent()]}})})},t.l=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({projectID:e},r.a.Verify.FetchProjectInformation,i.b.VERIFY,!0)];case 1:return[2,t.sent()]}})})},t.b=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({ontology:e,_id:t},r.a.Verify.DeleteBenefitDetails,i.b.VERIFY).then(function(){Object(a.b)("Benefit Detail Deleted Successfully.")}).catch(function(e){Object(a.a)("Error occured while deleting.")})];case 1:return[2,n.sent()]}})})},t.i=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.d)(r.a.Verify.GetHistorianArchive,"modelID="+e)];case 1:return[2,t.sent()]}})})},t.u=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.Verify.SaveVerifyTaskInformation,i.b.VERIFY).then(function(){Object(a.b)("Saved Verify Task Information Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving.")})];case 1:return[2,t.sent()]}})})},t.p=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({modelID:e},r.a.Verify.FetchVerifyTaskInformation,i.b.VERIFY)];case 1:return[2,t.sent()]}})})},t.v=function(e,t){return o(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({ontology:e,workerEstimatedDuration:t},r.a.Verify.UpdateTaskWorkerEstimateDuration,i.b.VERIFY).then(function(){Object(a.b)("Updated Estimate Duration Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving.")})];case 1:return[2,n.sent()]}})})},t.c=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.Verify.DeleteMeasure,i.b.VERIFY).then(function(){Object(a.b)("Measure and Seasons Deleted Successfully.")}).catch(function(e){Object(a.a)("Error occured while deleting.")})];case 1:return[2,t.sent()]}})})},t.r=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.Verify.SaveMeasureSeason,i.b.VERIFY).then(function(){e._id?Object(a.b)("Season Updated Successfully."):Object(a.b)("New Season Added Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving New Season.")})];case 1:return[2,t.sent()]}})})},t.m=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({seasonOntology:e},r.a.Verify.FetchSingleSeason,i.b.VERIFY,!0)];case 1:return[2,t.sent()]}})})},t.k=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({measureOntology:e},r.a.Verify.FetchMeasureSeasons,i.b.VERIFY,!0)];case 1:return[2,t.sent()]}})})},t.g=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.Verify.FetchAllBuildingSeasons,i.b.VERIFY,!0)];case 1:return[2,t.sent()]}})})},t.d=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({_id:e},r.a.Verify.DeleteMeasureSeason,i.b.VERIFY).then(function(){Object(a.b)("Deleted Successfully.")}).catch(function(e){Object(a.a)("Error occured while deleting.")})];case 1:return[2,t.sent()]}})})},t.q=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.Verify.SaveMeasureFile,i.b.VERIFY).then(function(){Object(a.b)("New File Saved Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving New File.")})];case 1:return[2,t.sent()]}})})},t.j=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({fileOntology:e},r.a.Verify.FetchMeasureFile,i.b.VERIFY,!0)];case 1:return[2,t.sent()]}})})},t.h=function(e){return o(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.Verify.FetchAllMeasureFile,i.b.VERIFY,!0)];case 1:return[2,t.sent()]}})})};var r=n(12),i=n(20),a=n(31),s=n(11),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}c((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}}});