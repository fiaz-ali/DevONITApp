webpackJsonp([81],{670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=(n.n(a),n(37)),l=n(822),r=n(108),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,l){function r(e){try{o(a.next(e))}catch(e){l(e)}}function c(e){try{o(a.throw(e))}catch(e){l(e)}}function o(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,c)}o((a=a.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,a,i,l,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,a=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){r=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(6===l[0]&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(e){l=[6,e],a=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={uploadFileData:[],manageFile:Object(),manageFileData:[]},n.fileHandler=n.fileHandler.bind(n),n.saveFile=n.saveFile.bind(n),n.inputEventHandle=n.inputEventHandle.bind(n),n._getManageFile=n._getManageFile.bind(n),n._deleteManageFile=n._deleteManageFile.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.instance?[4,this._getManageFile()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype._getManageFile=function(){return o(this,void 0,void 0,function(){var e=this;return s(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,Object(l.h)(this.props.buildingName,this.props.instance).then(function(t){e.setState({manageFileData:t})})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype._deleteManageFile=function(e){return o(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return Object(r.a)(!0),e._id.length>8?[4,Object(l.d)(e)]:[3,2];case 1:t.sent(),this._getManageFile(),t.label=2;case 2:return Object(r.a)(!1),[2]}})})},t.prototype.inputEventHandle=function(e){var t=this.state.manageFile;t[e.target.name]=e.target.value,this.setState({manageFile:t})},t.prototype.fileHandler=function(e){var t=this,n=new FormData,a=new FileReader,i=e.files[0];n.append("file",i),a.readAsDataURL(i),a.onloadend=function(){var e=a.result;t.setState({uploadFileData:e})}},t.prototype.saveFile=function(){return o(this,void 0,void 0,function(){var e,t,n;return s(this,function(a){switch(a.label){case 0:return e=this.state,t=e.manageFile,n=e.uploadFileData,this.props.buildingName?(t.buildingName=this.props.buildingName,t.instance=this.props.instance,Object(r.a)(!0),n?[4,Object(l.n)(t,n)]:[3,2]):[3,3];case 1:a.sent(),this._getManageFile(),a.label=2;case 2:Object(r.a)(!1),a.label=3;case 3:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.uploadFileData,l=t.manageFile,r=t.manageFileData,c=!!(n&&n.length>0);return a.createElement(a.Fragment,null,a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12"},a.createElement("button",{type:"button",className:"btn btn-primary pull-right active",onClick:function(){e.setState({uploadFileData:[],manageFile:Object()}),document.getElementById("addTemplatebtn").click()}},a.createElement("span",null,"Upload Template"))," \xa0")),a.createElement("div",{className:"card padding-10"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"row no-padding hidden-xs hidden-sm"},a.createElement("div",{className:"col-md-1 small trim-data center grid-header"},"#"),a.createElement("div",{className:"col-md-2 small trim-data grid-header"},"Template Name"),a.createElement("div",{className:"col-md-4 small trim-data grid-header"},"Template Id"),a.createElement("div",{className:"col-md-5 small trim-data grid-header"},"\xa0")),r&&r.length>0&&r.map(function(t,n){return a.createElement("div",{className:"row no-padding"},a.createElement("div",{className:"col-md-1 col-sm-12 col-xs-12 small trim-data padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"#"),n+1),a.createElement("div",{className:"col-md-2 col-sm-12 col-xs-12 small trim-data padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Template Name"),t.templateName),a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12 small trim-data padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Template Id"),t.spreadSheetId," ",a.createElement("i",{className:"fa fa-file text-primary pull-right"})),a.createElement("div",{className:"col-md-5 col-xs-12 col-sm-12",style:{display:"inline-block"}},a.createElement("a",{className:"btn-sm btn-danger active custom-outline-btn trim-data pull-right",onClick:function(){document.getElementById("deleteTemplatebtn"+n).click()}}," Delete "),a.createElement("button",{id:"deleteTemplatebtn"+n,className:"hidden","data-toggle":"modal","data-target":"#deleteTemplateDialog"+n,title:"Add"}," ",a.createElement("i",{className:"fa fa-plus"})," "),a.createElement(i.a,{id:"deleteTemplateDialog"+n,saveButtonText:"Yes",heading:"Confirm",onSaveButtonClick:function(){e._deleteManageFile(t)},disableSaveButton:!1},a.createElement("h4",null," Are you sure To Delete This Template!"))))})))),a.createElement("button",{id:"addTemplatebtn",className:"hidden","data-toggle":"modal","data-target":"#addTemplateDialog",title:"Add"}," ",a.createElement("i",{className:"fa fa-plus"})," "),a.createElement(i.a,{id:"addTemplateDialog",heading:"Add Template",onSaveButtonClick:function(){e.saveFile()},disableSaveButton:!c&&!l.templateName},a.createElement("div",{className:"content"},a.createElement("div",{className:"card padding-10"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-3"},a.createElement("label",null,"Template Name:")),a.createElement("div",{className:"col-md-5"},a.createElement("input",{className:"form-control",placeholder:"Template Name",type:"text",name:"templateName",value:l.templateName,onChange:function(t){e.inputEventHandle(t)}}))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-3"},a.createElement("label",null,"File:")),a.createElement("div",{className:"col-md-5"},a.createElement("div",{className:"upload-btn-wrapper"},a.createElement("button",{className:"btn btn-success btn-fill"},"Upload File"),a.createElement("input",{type:"file",name:"myfile",onChange:function(t){return e.fileHandler(t.target)}})),a.createElement("div",{className:"col-md-4"},c&&a.createElement("i",{className:"fa fa-check green-text"},"File Uploaded"))))))))))},t}(a.Component);t.default=u},822:function(e,t,n){"use strict";t.b=function(e,t,n,o){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(a.f)({model:e,buildingData:t,equipment:n,lightingEquipment:o},a.a.LIFE.SaveProject,l.b.LIFE).then(function(){Object(i.b)("Project saved Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Project.")})];case 1:return[2,r.sent()]}})})},t.j=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,instance:t},a.a.LIFE.GetProjectList,l.b.LIFE)];case 1:return[2,n.sent()]}})})},t.e=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({_id:e},a.a.LIFE.DeleteProject,l.b.LIFE).then(function(){Object(i.b)(" Deleted Successfully.")}).catch(function(e){Object(i.a)("Error occured while deleting.")})];case 1:return[2,t.sent()]}})})},t.c=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({model:e},a.a.LIFE.SaveProjectSolution,l.b.LIFE).then(function(){Object(i.b)("Solution saved Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Solution.")})];case 1:return[2,t.sent()]}})})},t.g=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({spreadSheetId:e,fileType:t},a.a.LIFE.ExportSheet,l.b.LIFE)];case 1:return[2,n.sent()]}})})},t.l=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({projectId:e},a.a.LIFE.GetSolutionList,l.b.LIFE)];case 1:return[2,t.sent()]}})})},t.m=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({inspectionOntology:e},a.a.LIFE.GetSolutionListForInspection,l.b.LIFE)];case 1:return[2,t.sent()]}})})},t.k=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({solutionId:e},a.a.LIFE.GetSolution,l.b.LIFE)];case 1:return[2,t.sent()]}})})},t.f=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({_id:e},a.a.LIFE.DeleteSolution,l.b.LIFE).then(function(){Object(i.b)(" Deleted Successfully.")}).catch(function(e){Object(i.a)("Error occured while deleting.")})];case 1:return[2,t.sent()]}})})},t.n=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({manageFile:e,fileData:t},a.a.LIFE.ManageFile,l.b.LIFE).then(function(){Object(i.b)("Upload saved Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Upload.")})];case 1:return[2,n.sent()]}})})},t.h=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,instance:t},a.a.LIFE.GetManageFile,l.b.LIFE)];case 1:return[2,n.sent()]}})})},t.d=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({ManageFile:e},a.a.LIFE.DeleteManageFile,l.b.LIFE).then(function(){Object(i.b)(" Deleted Successfully.")}).catch(function(e){Object(i.a)("Error occured while deleting.")})];case 1:return[2,t.sent()]}})})},t.i=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({projectId:e},a.a.LIFE.GetProject,l.b.LIFE)];case 1:return[2,t.sent()]}})})},t.a=function(e,t,n){return r(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(a.f)({email:e,buildingName:t,instance:n},a.a.LIFE.SaveEmailAndDrive,l.b.LIFE)];case 1:return[2,i.sent()]}})})};var a=n(5),i=n(6),l=n(7),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,l){function r(e){try{o(a.next(e))}catch(e){l(e)}}function c(e){try{o(a.throw(e))}catch(e){l(e)}}function o(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,c)}o((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,i,l,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,a=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){r=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(6===l[0]&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(e){l=[6,e],a=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}}});