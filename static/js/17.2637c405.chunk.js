webpackJsonp([17],{1364:function(e,t,n){"use strict";var a=n(1),i=(n.n(a),n(11)),o=n(67),l=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),s=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,o){function l(e){try{r(a.next(e))}catch(e){o(e)}}function s(e){try{r(a.throw(e))}catch(e){o(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,a,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={inspectionVisibility:Object(),otherNotes:"",otherCompleted:!1,otherInspectionOntology:[],otherInspectionOntologies:"",entityName:""},n.handleWorkflowChange=n.handleWorkflowChange.bind(n),n.handleOtherCompletion=n.handleOtherCompletion.bind(n),n.handleNotes=n.handleNotes.bind(n),n}return l(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;e.inspectionVisibility&&e.entityName&&this.setState({inspectionVisibility:e.inspectionVisibility,entityName:e.entityName},function(){return s(t,void 0,void 0,function(){return r(this,function(e){return[2]})})})},t.prototype.componentDidMount=function(){return s(this,void 0,void 0,function(){var e=this;return r(this,function(t){return this.props.inspectionVisibility&&this.props.entityName&&this.setState({inspectionVisibility:this.props.inspectionVisibility,entityName:this.props.entityName},function(){return s(e,void 0,void 0,function(){return r(this,function(e){return[2]})})}),[2]})})},t.prototype.handleWorkflowChange=function(e){this.state.otherCompleted;e.target.checked?document.getElementById("btnOtherNotes_"+this.props.entityName).click():document.getElementById("btnOtherNotesCancel_"+this.props.entityName).click()},t.prototype.handleNotes=function(e){var t=this.state.otherNotes;t=e.target.value,this.setState({otherNotes:t})},t.prototype.handleOtherCompletion=function(e){return s(this,void 0,void 0,function(){var t,n,a,i,l,s=this;return r(this,function(r){switch(r.label){case 0:return t=this.state,n=t.otherInspectionOntology,a=t.inspectionVisibility,i=t.otherNotes,e?this.props.inspectionOntology&&this.props.entityName?(!!n.find(function(e){return e==s.props.inspectionOntology})||n.push(this.props.inspectionOntology),[4,Object(o.j)(this.props.entityName,n,i,e)]):[3,2]:[3,3];case 1:r.sent(),r.label=2;case 2:return a.OtherCompleted=e,this.setState({otherInspectionOntology:n,inspectionVisibility:a,otherCompleted:!0}),[3,5];case 3:if(!this.props.inspectionOntology)return[3,5];if(!(n&&n.length>0))return[3,5];for(l=0;l<n.length;l++)n[l]==this.props.inspectionOntology&&n.splice(l,1);return[4,Object(o.b)(this.props.entityName,n,i,e)];case 4:r.sent(),a.OtherCompleted=e,this.setState({otherInspectionOntology:n,inspectionVisibility:a,otherCompleted:!1}),r.label=5;case 5:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props.workflow,n=this.state.inspectionVisibility;return a.createElement(a.Fragment,null,a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Inspections"),t.ecm&&n&&a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-sm-3 col-xs-6 padding-5"},"ECM:"),t.ecm&&n.showECM&&a.createElement("div",{className:"col-md-3 col-sm-7 col-xs-3"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"ecm",className:"switch1",onChange:function(e){},checked:n.ECMCompleted,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),t.rcx&&n&&a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-sm-3 col-xs-6 padding-5"},"RCX:"),t.rcx&&n.showRCX&&a.createElement("div",{className:"col-md-3 col-sm-7 col-xs-3"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"rcx",className:"switch1",onChange:function(e){},checked:n.RCXCompleted,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),t.ca&&n&&a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-sm-3 col-xs-6 padding-5"},"CA:"),t.ca&&n.showCA&&a.createElement("div",{className:"col-md-3 col-sm-7 col-xs-3"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"ca",className:"switch1",onChange:function(e){},checked:n.CACompleted,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),t.other&&a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-sm-3 col-xs-6 padding-5"},t.otherName?t.otherName:"Other",":"),t.other&&a.createElement("div",{className:"col-md-3 col-sm-7 col-xs-3"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"otherCompleted",className:"switch1",onChange:function(t){e.handleWorkflowChange(t)},checked:n.OtherCompleted,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("button",{id:"btnOtherNotes_"+this.props.entityName,style:{display:"none"},"data-toggle":"modal","data-target":"#OtherNotesDialog"+this.props.entityName},"."),a.createElement(i.a,{id:"OtherNotesDialog"+this.props.entityName,onSaveButtonClick:function(){e.props.entityName&&e.handleOtherCompletion(!0)},saveButtonText:"Save",showCancelButton:!0,showSaveButton:!0,cancelButtonText:"Cancel",heading:"Notes"},a.createElement("textarea",{className:"form-control",name:"otherNotes",onChange:function(t){e.handleNotes(t)}})," "),a.createElement("button",{id:"btnOtherNotesCancel_"+this.props.entityName,style:{display:"none"},"data-toggle":"modal","data-target":"#OtherNotesDialogCancel"+this.props.entityName},"."),a.createElement(i.a,{id:"OtherNotesDialogCancel"+this.props.entityName,onSaveButtonClick:function(){e.props.entityName&&e.handleOtherCompletion(!1)},saveButtonText:"Yes",showCancelButton:!0,showSaveButton:!0,cancelButtonText:"Cancel",heading:"Confirm"},a.createElement("label",{htmlFor:""},"Are you sure to cancel this completion")))},t}(a.Component);t.a=c},1365:function(e,t,n){"use strict";var a=n(1),i=(n.n(a),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i(t,e),t.prototype.render=function(){this.props,this.state;return a.createElement(a.Fragment,null,a.createElement("div",{className:"content"},a.createElement("div",{className:"row thumbnail no-margin"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 center"},a.createElement("div",{className:"col-md-8 col-sm-8 col-xs-8 no-padding"},a.createElement("label",{style:{color:"#B0B0B0"}},"Inspection Complete")),a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4 no-padding"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"ecm",className:"switch1",onChange:function(e){},checked:!0,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 center"},a.createElement("div",{className:"col-md-8 col-sm-8 col-xs-8 no-padding"},a.createElement("label",{style:{color:"#B0B0B0"}}," Not Complete")),a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4 no-padding"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"ecm",className:"switch1",onChange:function(e){},checked:!1,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))))))},t}(a.Component);t.a=o},1513:function(e,t,n){"use strict";var a,i=n(1),o=(n.n(i),n(10)),l=n(16),s=n(5),r=n(28),c=n(230),u=(n.n(c),n(231)),p=(n.n(u),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),m=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,o){function l(e){try{r(a.next(e))}catch(e){o(e)}}function s(e){try{r(a.throw(e))}catch(e){o(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return a=n,n.state={data:Object()},n.convertArrayOfObjectsToCSV=n.convertArrayOfObjectsToCSV.bind(n),n.downloadCSV=n.downloadCSV.bind(n),n._fetchEquipmentExportData=n._fetchEquipmentExportData.bind(n),n.exportToPdf=n.exportToPdf.bind(n),n}return p(t,e),t.prototype.convertArrayOfObjectsToCSV=function(e){var t,n,i,o,l,s;if(s=e.data||null,o=e.columnDelimiter||",",l=e.lineDelimiter||"\n",null==s)return null;if(t="",s.equipments||s.thermostats)s.equipments&&s.equipments.length&&(t+=l,t+="Equipments",t+=l,t+=this.convertArrayOfObjectsToCSV({data:s.equipments})),s.thermostats&&s.thermostats.length&&(t+=l,t+="Thermostats",t+=l,t+=this.convertArrayOfObjectsToCSV({data:s.thermostats}));else{if(!s.length)return null;var r=(i=Object.keys(s[0]).sort(function(e,t){if(e&&t)return e<t?-1:e>t?1:0})).join(o).replace(new RegExp(",zz_components","g"),"").replace(new RegExp(",zz_fixtures","g"),"").replace(new RegExp("z_","g"),"").replace(new RegExp("aa_","g"),"").replace(new RegExp("ab_","g"),"").replace(new RegExp("ac_","g"),"");s[0].aa_equip||(t+=l,t+=r,t+=l),s.forEach(function(e){e.aa_equip&&(t+=l,t+=r,t+=l),n=0,i.forEach(function(i){if(e[i]&&void 0!==e[i])if(n>0&&(t+=o),"zz_components"==i)null!=e[i]&&e[i].length&&(t+=a.convertArrayOfObjectsToCSV({data:e[i],lineDelimiter:" \n, "}));else if("zz_fixtures"==i)null!=e[i]&&e[i].length&&(t+=a.convertArrayOfObjectsToCSV({data:e[i],lineDelimiter:" \n, "}));else{var l=e[i].value.trim().replace(new RegExp(",","g"),"*");t+="z_powerSource"==i?e[i]&&l.length<100?l:"":l}else n>0&&(t+=o),t+="";n++}),t+=l})}return t},t.prototype._fetchEquipmentExportData=function(e){return m(this,void 0,void 0,function(){var t=this;return d(this,function(n){switch(n.label){case 0:return Object(o.a)(!0),[4,Object(l.c)(this.props.buildingName).then(function(n){return m(t,void 0,void 0,function(){var t,i=this;return d(this,function(c){switch(c.label){case 0:return n.map(function(e){Object(l.l)(i.props.buildingName,e.aa_equip.value).then(function(t){var n=[];t.map(function(e){var t=Object();t.z_ampere=e.ampere,t.ac_description=e.description,t.z_inputCapacity=e.inputCapacity,t.z_inputCapacityUnits=e.inputCapacityUnits,t.ab_location=e.location,t.ab_manufacturer=e.manufacturer,t.ab_model=e.model,t.aa_component=e.name,t.z_notes=e.notes,t.z_outputCapacity=e.outputCapacity,t.z_outputCapacityUnits=e.outputCapacityUnits,t.z_phase=e.phase,t.z_profile=e.profile,t.aa_label=e.rdfsLabel,t.aa_type=e.type,t.z_volts=e.volts,n.push(t)}),e.zz_components=n}),-1!=Object(s.g)(e.aa_type).indexOf("Lighting")?Object(l.o)(i.props.buildingName,e.aa_equip.value).then(function(t){var n=[];t.map(function(e){var t=Object();t.ab_ballast=e.ballast,t.z_color=e.color,t.z_control=e.control,t.z_description=e.description,t.aa_fixture=e.fixture,t.ab_fixtureQuantity=e.fixtureQuantity,t.aa_fixtureType=e.fixtureType,t.ab_lampType=e.lampType,t.ab_lensType=e.lensType,t.z_numberOfLampFixtures=e.numberOfLampFixtures,t.ab_switchType=e.switchType,t.z_wattsPerLamp=e.wattsPerLamp,n.push(t)}),e.zz_fixtures=n}):e.zz_fixtures=void 0}),[4,Object(r.s)(this.props.buildingName)];case 1:return t=c.sent(),setTimeout(function(){var i=n.filter(function(e){return-1==Object(s.g)(e.aa_type).indexOf("Lighting")});i.push.apply(i,n.filter(function(e){return-1!=Object(s.g)(e.aa_type).indexOf("Lighting")})),a.setState({data:{equipments:i,Insights:t}},function(){a.downloadCSV({filename:e}),Object(o.a)(!1)})},2500),[2]}})})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},t.prototype.downloadCSV=function(e){return m(this,void 0,void 0,function(){var t,n,a,i,l,s;return d(this,function(r){return a=this.state.data,null==(i=this.convertArrayOfObjectsToCSV({data:a}))?(Object(o.a)(!1),[2]):(i=i.replace(new RegExp("null","g"),"None.").replace(new RegExp("undefined","g"),""),t=e.filename||"export.csv",l=new Blob([i],{type:"text/csv;charset=utf-8;"}),navigator.msSaveBlob?navigator.msSaveBlob(l,t):void 0!==(n=document.createElement("a")).download&&(s=URL.createObjectURL(l),n.setAttribute("href",s),n.setAttribute("download",t),n.style="visibility:hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)),[2])})})},t.prototype.exportToPdf=function(){return m(this,void 0,void 0,function(){var e=this;return d(this,function(t){return Object(o.a)(!0),$("*[id*=btn-detailSpace]")||$("*[id*=btn-detailEquip]"),setTimeout(function(){return m(e,void 0,void 0,function(){var e,t,n=this;return d(this,function(a){switch(a.label){case 0:return e=document.getElementById(this.props.ElementID),1!=(t=window.innerWidth/window.outerWidth)&&(document.body.style.zoom=t.toString()),[4,u(e,{scale:1}).then(function(t){return m(n,void 0,void 0,function(){var n,a,i,l,s,r,u,p,m,h,f,g,b,E,v,y,w;return d(this,function(d){for(n=new c("p","pt","a4"),a=e.clientWidth,i=1120/(850/a),l=0;l<=Math.abs(e.clientHeight/i);l++)s=t,r=0,u=i*l,p=a,m=i,h=0,f=0,g=a,b=i,(E=document.createElement("canvas")).setAttribute("width",a.toString()),E.setAttribute("height",i.toString()),E.getContext("2d").drawImage(s,r,u,p,m,h,f,g,b),v=E.toDataURL("image/png"),y=E.width,w=E.clientHeight,l>0&&n.addPage([595,842]),n.setPage(l+1),n.addImage(v,"PNG",0,20,y*(580/a),w*(400/a),void 0,"FAST");return n.save(this.props.filename+".pdf"),Object(o.a)(!1),[2]})})}).catch(function(e){Object(o.a)(!1)})];case 1:return a.sent(),[2]}})})},1500),[2]})})},t.prototype.render=function(){var e=this,t=this.props.filename+(new Date).getTime().toString()+".csv";return i.createElement(i.Fragment,null,i.createElement("button",{style:{marginLeft:3},className:"btn btn-dark btn-fill dropdown-toggle pull-right",type:"button","data-toggle":"dropdown"},i.createElement("span",null," Export"),i.createElement("b",{className:"caret"})),i.createElement("ul",{className:"dropdown-menu pull-right"},i.createElement("li",{onClick:function(){return e.exportToPdf()}},i.createElement("a",{href:"javascript:void(0)"},i.createElement("i",{className:"fa fa-file"})," PDF")),i.createElement("li",{onClick:function(){return e._fetchEquipmentExportData(t)}},i.createElement("a",{href:"javascript:void(0)"},i.createElement("i",{className:"fa fa-file"})," CSV"))))},t}(i.Component);t.a=h},1514:function(e,t,n){"use strict";var a=n(1),i=(n.n(a),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.instance,i=t.buildingName,o=t.columns,l=t.virtualBIM,s=t.cadBIM,r=t.n,c=t.i;this.state;return a.createElement(a.Fragment,null,a.createElement("a",{className:"pull-right equipspeclbtn","data-toggle":"collapse",href:"#equipDropdown"+c,title:"Click Me..."}," \u22ee\u22ee\u22ee "),o.find(function(e){return"Virtual BIM"==e.name&&1==e.selected})&&l&&a.createElement("button",{className:"btn-sm btn-success active pull-right custom-icon-btn",title:"Virtual BIM",style:{border:"1px solid transparent",backgroundColor:"#A69888"},onClick:function(){e.props.handleMatterport(r,l)}},a.createElement("img",{className:"icon-img",src:"assets/img/virtual-bim.png"})),o.find(function(e){return"CAD BIM"==e.name&&1==e.selected})&&s&&a.createElement("a",{className:"btn-sm btn-success active pull-right custom-icon-btn",title:"Digital Twin",href:s&&s.indexOf("ttp")>0?s:"http://"+s,target:"_blank",style:{border:"1px solid transparent",backgroundColor:"#963D5A"}},a.createElement("img",{className:"icon-img",src:"assets/img/digital-twin.png"})),a.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Points",onClick:function(e){window.location.hash=n+"/"+i+"/Points/Equip/"+r.equip.value},style:{border:"1px solid transparent",backgroundColor:"#FFC857"}},a.createElement("img",{className:"icon-img",src:"assets/img/points.png"})),a.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Devices",onClick:function(e){window.location.hash=n+"/"+i+"/Devices/Equip/"+r.equip.value},style:{border:"1px solid transparent",backgroundColor:"#399E5A"}},a.createElement("img",{className:"icon-img",src:"assets/img/devices.png"})),a.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Zones",onClick:function(e){window.location.hash=n+"/"+i+"/Zones/Equip/"+r.equip.value},style:{border:"1px solid transparent",backgroundColor:"#6A0136"}},a.createElement("img",{className:"icon-img",src:"assets/img/zones.png"})),a.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Work",onClick:function(e){window.location.hash=n+"/"+i+"/WorkOrders/Equip/"+r.equip.value},style:{border:"1px solid transparent",backgroundColor:"#5A5353"}},a.createElement("img",{className:"icon-img",src:"assets/img/work2.png"})),a.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Tasks",onClick:function(e){window.location.hash=n+"/"+i+"/Tasks/Equip/"+r.equip.value},style:{border:"1px solid transparent",backgroundColor:"#28AFB0"}},a.createElement("img",{className:"icon-img padding-5",src:"assets/img/Tasks2.png"})),a.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Space Insights",onClick:function(e){window.location.hash=n+"/"+i+"/Insights/EquipmentInsights/"+r.equip.value},style:{border:"1px solid transparent",backgroundColor:"#01BAEF"}},a.createElement("img",{className:"icon-img",src:"assets/img/insight.png"})),a.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Alarms",onClick:function(e){window.location.hash=n+"/"+i+"/Alarms/CustomerAlarms/Equip/"+r.equip.value},style:{border:"1px solid transparent",backgroundColor:"#D80C09"}},a.createElement("img",{className:"icon-img",src:"assets/img/alarm.png"})))},t}(a.Component);t.a=o},928:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(1),o=(n.n(i),n(49)),l=n(26),s=n(11),r=n(16),c=n(14),u=n(5),p=n(1513),m=n(25),d=n(7),h=n(50),f=n(1364),g=n(10),b=n(13),E=n(1365),v=n(1514),y=n(52),w=n(53),N=n(117),C=n(239),O=n(22),q=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),x=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,o){function l(e){try{r(a.next(e))}catch(e){o(e)}}function s(e){try{r(a.throw(e))}catch(e){o(e)}}function r(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},S=this&&this.__generator||function(e,t){var n,a,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},_=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],l=0,s=o.length;l<s;l++,i++)a[i]=o[l];return a},k=function(e){function t(t){var n=e.call(this,t)||this;return n.state={sortOrder:1,_equipments:[],columns:[{name:"Equipment",selected:!0},{name:"Floor",selected:!0},{name:"Space",selected:!0},{name:"Equipment Type",selected:!0},{name:"Virtual BIM",selected:!0},{name:"CAD BIM",selected:!0},{name:"Inspections",selected:!0}],equipmentToDelete:Object(),workFlowSpaceList:[],inspectionOntology:"",workflow:Object(),equipmentSweeps:[],addCurrentSweep:!1,selectedVirtualBIM:"",selectEquipFloor:"",selectEquipSpace:"",selectEquipName:"",showMatterportDialog:!0,refreshMatterportDialog:!1,equipmentTemplates:[],solutionTemplates:[],equipmentTemplatesName:"",solutionTemplatesName:"",currentView:"Equipments",solutionEquipments:[],deleteOntology:""},a=n,n.onDeleteEquipment=n.onDeleteEquipment.bind(n),n.deleteEquipment=n.deleteEquipment.bind(n),n._fetchEquipments=n._fetchEquipments.bind(n),n.handleColumnFilters=n.handleColumnFilters.bind(n),n.sortEquipment=n.sortEquipment.bind(n),n.populateInspectionsList=n.populateInspectionsList.bind(n),n.unpopulateInspectionsList=n.unpopulateInspectionsList.bind(n),n.fetchWorkflow=n.fetchWorkflow.bind(n),n.handleMatterport=n.handleMatterport.bind(n),n.onDialogCancelButton=n.onDialogCancelButton.bind(n),n.handleRefreshMatterport=n.handleRefreshMatterport.bind(n),n.handleSweepChange=n.handleSweepChange.bind(n),n.openEquipmentWithTemplate=n.openEquipmentWithTemplate.bind(n),n._fetchEquipmentTemplate=n._fetchEquipmentTemplate.bind(n),n._fetchSolutionTemplate=n._fetchSolutionTemplate.bind(n),n.fetchIncompleteSolutions=n.fetchIncompleteSolutions.bind(n),n.removeIncompleteSolution=n.removeIncompleteSolution.bind(n),n}return q(t,e),t.prototype.componentWillReceiveProps=function(e){return x(this,void 0,void 0,function(){var t,n,a=this;return S(this,function(i){switch(i.label){case 0:return e.buildingName?[4,this._fetchEquipments()]:[3,3];case 1:return i.sent(),[4,this.fetchIncompleteSolutions()];case 2:i.sent(),t=[],n=e.inspectionOntology,e.workFlowSpaceList&&e.workFlowSpaceList.length?(t=e.workFlowSpaceList,this.setState({workFlowSpaceList:t,inspectionOntology:n},function(){a.populateInspectionsList()})):this.setState({workFlowSpaceList:t,inspectionOntology:""},function(){a.unpopulateInspectionsList()}),i.label=3;case 3:return[2]}})})},t.prototype.componentDidMount=function(){return x(this,void 0,void 0,function(){var e,t=this;return S(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,this._fetchEquipments()]:[3,3];case 1:return n.sent(),[4,this.fetchIncompleteSolutions()];case 2:n.sent(),e=[],this.props.workFlowSpaceList&&this.props.workFlowSpaceList.length?(e=this.props.workFlowSpaceList,this.setState({workFlowSpaceList:e,inspectionOntology:this.props.inspectionOntology},function(){t.populateInspectionsList()})):this.setState({workFlowSpaceList:e},function(){t.unpopulateInspectionsList()}),n.label=3;case 3:return this.props.buildingName&&this.props.inspectionOntology?[4,this.fetchWorkflow()]:[3,5];case 4:n.sent(),n.label=5;case 5:return[4,this._fetchEquipmentTemplate()];case 6:return n.sent(),[4,this._fetchSolutionTemplate()];case 7:return n.sent(),[2]}})})},t.prototype.fetchIncompleteSolutions=function(){return x(this,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return e=[],[4,Object(C.c)()];case 1:return e=t.sent(),this.setState({solutionEquipments:e}),[2]}})})},t.prototype.fetchWorkflow=function(){return x(this,void 0,void 0,function(){var e,t=this;return S(this,function(n){switch(n.label){case 0:return e=this.state.workflow,this.props.buildingName&&this.props.inspectionOntology?[4,Object(h.k)(this.props.buildingName,this.props.inspectionOntology).then(function(n){return x(t,void 0,void 0,function(){var t,a,i;return S(this,function(o){return n&&n.length&&Object(u.g)(n[0].ontology)&&(t=n[0],a=Object(u.g)(t.dateOfStart),i=Object(u.g)(t.finishDate),e.ca="true"==Object(u.g)(t.ca),e.ecm="true"==Object(u.g)(t.ecm),e.rcx="true"==Object(u.g)(t.rcx),e.other="true"==Object(u.g)(t.other),e.dateOfStart=a,e.description=Object(u.g)(t.description),e.finishDate=i,e.lead=Object(u.g)(t.lead),e.ontology=Object(u.g)(t.ontology),e.otherName=Object(u.g)(t.otherName)),this.setState({workflow:e}),[2]})})})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.handleColumnFilters=function(e){var t=e.target.checked,n=this.state.columns;n[n.findIndex(function(t){return t.name===e.target.value})].selected=t,this.setState({columns:n})},t.prototype.sortEquipment=function(e,t){var n=this.state._equipments,a=this.state.sortOrder,i=n.sort(function(t,n){if(t&&n){var i="",o="";switch(e){case"Equipment":t.equipRdfsLabel&&n.equipRdfsLabel&&(i=t.equipRdfsLabel.value,o=n.equipRdfsLabel.value);break;case"Floor":t.floorRdfsLabel&&n.floorRdfsLabel&&(i=t.floorRdfsLabel.value,o=n.floorRdfsLabel.value);break;case"Space":t.spaceRdfsLabel&&n.spaceRdfsLabel&&(i=t.spaceRdfsLabel.value,o=n.spaceRdfsLabel.value);break;case"Equipment Type":t.type&&n.type&&(i=t.type.value,o=n.type.value)}var l=0;return i.toLocaleLowerCase()<o.toLocaleLowerCase()?l=-1:i.toLocaleLowerCase()>o.toLocaleLowerCase()&&(l=1),l*a}});this.setState({_equipments:i,sortOrder:-1*a})},t.prototype.onDeleteEquipment=function(e){return x(this,void 0,void 0,function(){return S(this,function(t){return this.setState({equipmentToDelete:e}),document.getElementById("btnConfirm").click(),[2]})})},t.prototype.deleteEquipment=function(){return x(this,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return e=this.state.equipmentToDelete,[4,Object(c.d)(e.equip.value,d.b.EQUIP)];case 1:return t.sent(),[4,this._fetchEquipments()];case 2:return t.sent(),[2]}})})},t.prototype._fetchEquipments=function(){return x(this,void 0,void 0,function(){var e=this;return S(this,function(t){switch(t.label){case 0:return Object(g.a)(!0),[4,Object(r.e)(this.props.buildingName).then(function(t){return x(e,void 0,void 0,function(){var e=this;return S(this,function(n){return a.setState({_equipments:t},function(){return x(e,void 0,void 0,function(){var e,n;return S(this,function(a){for(e=0;e<t.length;e++)n=t[e],Object(u.g)(n.equip)&&Object(u.g)(n.equipRdfsLabel)&&Object(c.s)(Object(u.g)(n.equip),Object(u.g)(n.equipRdfsLabel));return[2]})})}),[2]})})}).catch(function(e){return e})];case 1:return t.sent(),Object(g.a)(!1),[2]}})})},t.prototype.populateInspectionsList=function(){return x(this,void 0,void 0,function(){var e,t,n,a;return S(this,function(i){switch(i.label){case 0:return e=this.state,t=e._equipments,n=e.workFlowSpaceList,Object(g.a)(!0),[4,Object(h.c)(n,t,this.props.inspectionOntology)];case 1:return a=i.sent(),this.setState({_equipments:_(a)},function(){Object(g.a)(!1)}),[2]}})})},t.prototype.handleMatterport=function(e,t){var n=this,a=this.props.buildingName,i=Object(u.g)(e.equip);Object(r.m)(a,i).then(function(a){if(a.length>0){var o=a[0],l=Object(u.g)(o.sweep);if(l){var s=[],r=Object();r.uuid=l,s.push(r);var c=!(s.length>0)&&(t&&t.includes("camera_position")),p=t;n.setState({equipmentSweeps:s,addCurrentSweep:c,selectedVirtualBIM:p,selectEquipFloor:Object(u.g)(e.floor),selectEquipSpace:Object(u.g)(e.space),showMatterportDialog:!0},function(){document.getElementById("btnVirtualBIMDialog").click()})}else n.setState({selectEquipName:i}),document.getElementById("btnNoStepsFound").click()}else n.setState({selectEquipName:i}),document.getElementById("btnNoStepsFound").click()})},t.prototype.unpopulateInspectionsList=function(){return x(this,void 0,void 0,function(){var e,t;return S(this,function(n){for(e=this.state._equipments,t=0;t<e.length;t++)e[t].inspectionVisibility={CACompleted:!1,ECMCompleted:!1,RCXCompleted:!1,showCA:!1,showECM:!1,showRCX:!1,ECMinspectionOntology:!1,RCXinspectionOntology:!1,CAinspectionOntology:!1};return this.setState({_equipments:e}),[2]})})},t.prototype.onDialogCancelButton=function(e){this.setState({showMatterportDialog:e})},t.prototype.handleSweepChange=function(e,t){this.setState({equipmentSweeps:e})},t.prototype.handleRefreshMatterport=function(e){this.setState({refreshMatterportDialog:e})},t.prototype.openEquipmentWithTemplate=function(e){var t=this.state,n=t.equipmentTemplatesName,a=t.solutionTemplatesName;window.location.hash=e?this.props.instance+"/"+this.props.buildingName+"/NewEquipment/Template/"+n:this.props.instance+"/"+this.props.buildingName+"/NewEquipment/SolutionTemplate/"+a},t.prototype.handleEquipmentTemplateChange=function(e){var t=this.state.equipmentTemplatesName;t=e.value,this.setState({equipmentTemplatesName:t})},t.prototype.handleSolutionTemplateChange=function(e){var t=this.state.solutionTemplatesName;t=e.value,this.setState({solutionTemplatesName:t})},t.prototype._fetchEquipmentTemplate=function(){return x(this,void 0,void 0,function(){var e,t,n,a;return S(this,function(i){switch(i.label){case 0:return Object(g.a)(!0),[4,Object(w.d)()];case 1:if(e=i.sent(),t=this.state.equipmentTemplates,t=[],e){for(n=0;n<e.length;n++)a=e[n],t.push({label:Object(u.g)(a.equipmentName),value:Object(u.g)(a.ontology)});this.setState({equipmentTemplates:t})}return Object(g.a)(!1),[2]}})})},t.prototype._fetchSolutionTemplate=function(){return x(this,void 0,void 0,function(){var e,t,n,a;return S(this,function(i){switch(i.label){case 0:return Object(g.a)(!0),[4,Object(N.c)()];case 1:if(e=i.sent(),t=this.state.solutionTemplates,t=[],e){for(n=0;n<e.length;n++)a=e[n],t.push({label:Object(u.g)(a.rdfsLabel),value:Object(u.g)(a.ontology)});this.setState({solutionTemplates:t})}return Object(g.a)(!1),[2]}})})},t.prototype.removeIncompleteSolution=function(){return x(this,void 0,void 0,function(){var e,t=this;return S(this,function(n){switch(n.label){case 0:return(e=this.state.deleteOntology)?[4,Object(C.a)(e).then(function(){t.fetchIncompleteSolutions(),t.setState({deleteOntology:""})})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t._equipments,a=t.columns,r=t.inspectionOntology,c=t.workflow,d=t.equipmentSweeps,h=t.addCurrentSweep,g=t.selectedVirtualBIM,w=t.selectEquipFloor,N=t.showMatterportDialog,C=t.selectEquipSpace,q=t.selectEquipName,x=t.equipmentTemplates,S=t.equipmentTemplatesName,_=t.solutionTemplates,k=t.solutionTemplatesName,T=t.currentView,j=t.solutionEquipments,B=this.props,I=B.instance,L=B.buildingName,D=JSON.parse(b.a.getItem("user")),M=Object(m.b)(D,"info-equip","write"),F=!!r,R=a.find(function(e){return"Inspections"==e.name&&1==e.selected})&&r;return i.createElement(o.AppContext.Consumer,null,function(t){return i.createElement("div",{className:"content"},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},i.createElement(s.a,{id:"filtercolumnsModal",heading:"Table Column Preferences",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1},a&&a.length>0&&a.map(function(t,n){return!0===t.selected?i.createElement("div",{key:n},i.createElement("input",{checked:!0,type:"checkbox",value:t.name,onChange:e.handleColumnFilters})," ",i.createElement("label",null,t.name)):i.createElement("div",{key:n},i.createElement("input",{type:"checkbox",value:t.name,onChange:e.handleColumnFilters})," ",i.createElement("label",null,t.name))})),i.createElement("div",{className:"row padding-5"},i.createElement("div",{className:"col-md-2 col-sm-12 col-xs-12",style:{display:"inline-flex"}},i.createElement("button",{type:"button",className:"btn btn-primary btn-fill","data-toggle":"modal",style:{marginRight:5},"data-target":"#filtercolumnsModal"},i.createElement("i",{className:"fa fa-bookmark-o"}),i.createElement("span",{className:"hidden-xs"},"Quick Filters"))),F&&i.createElement("div",{className:"col-md-1 col-sm-12 col-xs-12 no-padding"},i.createElement(E.a,null)),i.createElement("div",{className:"col-md-9 col-sm-12 col-xs-12 pull-right"},i.createElement(p.a,{instance:I,filename:"EquipmentsList",buildingName:L,ElementID:"EquipmentsList"}),i.createElement("div",{className:"padding-10 visible-xs col-xs-12"}),M&&i.createElement(i.Fragment,null," ",i.createElement("button",{type:"button",className:"btn btn-dark pull-right",onClick:function(){window.location.hash=I+"/"+L+"/NewEquipment"}},i.createElement("i",{className:"fa fa-plus"}),i.createElement("span",null,"Create New Equipment"))," \xa0",i.createElement("button",{type:"button",className:"btn btn-dark pull-right",style:{marginRight:"5px"},onClick:function(){document.getElementById("btnEquipmentTemplateDialog").click()}},i.createElement("i",{className:"fa fa-plus"}),i.createElement("span",null,"Create Equipment From Template"))," \xa0",i.createElement("button",{type:"button",className:"btn btn-dark pull-right",style:{marginRight:"5px"},onClick:function(){document.getElementById("btnSolutionTemplateDialog").click()}},i.createElement("i",{className:"fa fa-plus"}),i.createElement("span",null,"Create Equipment From Solution Template"))," \xa0"))))),i.createElement("br",null),i.createElement("div",{className:"padding-5 margin-5"},i.createElement("div",{className:"btn-group"},i.createElement("button",{className:"btn "+("Equipments"==T?"btn-fill":"")+" btn-secondary btn-secondary-dark",onClick:function(){e.setState({currentView:"Equipments"})}},"Equipments"),i.createElement("button",{className:"btn "+("Solutions"==T?"btn-fill":"")+" btn-secondary btn-secondary-dark",onClick:function(){e.setState({currentView:"Solutions"})}},"Incomplete Solutions"))),i.createElement("div",{className:"card  padding-10",id:"EquipmentsList",style:{paddingTop:"0px"}},"Equipments"==T&&i.createElement("div",{className:"content",style:{paddingTop:"10px"}},i.createElement("div",{className:"dataCard"},i.createElement("div",{className:"row hidden-xs no-padding"},i.createElement("div",{className:"col-md-10 no-padding"},i.createElement("div",{className:"col-md-12 dataCard"},a.find(function(e){return"Equipment"==e.name&&1==e.selected})&&i.createElement("div",{className:R?"col-md-2":"col-md-3 col-sm-12 small grid-header-left",onClick:function(){return e.sortEquipment("Equipment")}},i.createElement("i",{className:"fa fas fa-sort"})," Equipment  "),a.find(function(e){return"Floor"==e.name&&1==e.selected})&&i.createElement("div",{className:R?"col-md-2":"col-md-3 col-sm-12 small grid-header",onClick:function(){return e.sortEquipment("Floor")}}," ",i.createElement("i",{className:"fa fas fa-sort"}),"Floor "),a.find(function(e){return"Space"==e.name&&1==e.selected})&&i.createElement("div",{className:R?"col-md-2":"col-md-3 col-sm-12 small grid-header",onClick:function(){return e.sortEquipment("Space")}},i.createElement("i",{className:"fa fas fa-sort"}),"Space "),a.find(function(e){return"Equipment Type"==e.name&&1==e.selected})&&i.createElement("div",{className:R?"col-md-2":"col-md-3 small col-sm-12 grid-header",onClick:function(){return e.sortEquipment("Equipment Type")}},i.createElement("i",{className:"fa fas fa-sort"}),"Equipment Type "),r&&i.createElement("div",{className:"col-md-4 col-sm-12 small grid-header"},"\xa0 \xa0Inspections"))),i.createElement("div",{className:"col-md-2"})),n&&n.length>0&&n.map(function(n,o){var l=Object(u.g)(n.virtualBIM),s=Object(u.g)(n.cadBIM);return i.createElement("div",{key:o,className:"row clickable no-padding"},i.createElement("div",{className:"col-md-10 no-padding"},i.createElement("div",{className:"col-md-12 no-padding"},a.find(function(e){return"Equipment"==e.name&&1==e.selected})&&i.createElement("div",{className:(R?"col-md-2":"col-md-3")+" col-sm-12 padding-5 trim-data small grid-left margin-top"},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Equipment"),i.createElement("a",{href:"#"+I+"/"+L+"/Equip/Profile/"+n.equip.value,title:Object(u.g)(n.equipRdfsLabel)},Object(u.g)(n.equipRdfsLabel))),a.find(function(e){return"Floor"==e.name&&1==e.selected})&&i.createElement("div",{className:(R?"col-md-2":"col-md-3")+" col-sm-12 padding-5 small grid margin-top",title:Object(u.g)(n.floorRdfsLabel)},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Floor"),Object(u.g)(n.floorRdfsLabel)),a.find(function(e){return"Space"==e.name&&1==e.selected})&&i.createElement("div",{className:(R?"col-md-2":"col-md-3")+" col-sm-12 padding-5 small grid margin-top trim-data",title:Object(u.g)(n.spaceRdfsLabel)},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Space"),Object(u.g)(n.spaceRdfsLabel)),a.find(function(e){return"Equipment Type"==e.name&&1==e.selected})&&i.createElement("div",{className:(R?"col-md-2":"col-md-3")+" col-sm-12 padding-5 small grid margin-top",title:Object(u.g)(n.type).replace(new RegExp("MiscAndProcess","g"),"Misc & Process")},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Equipment Type"),Object(u.g)(n.type).replace(new RegExp("MiscAndProcess","g"),"Misc & Process")),a.find(function(e){return"Inspections"==e.name&&1==e.selected})&&r&&i.createElement("div",{className:"col-md-4 col-sm-12 padding-5 grid margin-top trim-data"},i.createElement(f.a,{entityName:Object(u.g)(n.equip),inspectionVisibility:n.inspectionVisibility,workflow:c,inspectionOntology:r})))),M&&i.createElement("div",{"data-html2canvas-ignore":"true",className:"col-md-2 col-xs-2 pull-right",style:{paddingLeft:"0px"}},i.createElement("a",{className:"btn-sm btn-success active pull-right",title:"Edit",style:{margin:"3px",padding:"6.5px",border:"1px solid",borderRadius:"5px",width:"31px",height:"31px"},onClick:function(e){t.onChangeEquipmentList([]),t.onChangeEquipment(n.equip.value),setTimeout(function(){window.location.hash=I+"/"+L+"/EditEquipment/"+n.equip.value},500)}},i.createElement("i",{className:"fa fa-edit"})," "),i.createElement("a",{className:"pull-right equipspeclbtn","data-toggle":"collapse",href:"#equipDropdown"+o,title:"Click Me..."}," \u22ee\u22ee\u22ee "),i.createElement("div",{id:"equipDropdown"+o,className:"equipDropdown panel-collapse collapse"},i.createElement(v.a,{instance:I,i:o,buildingName:L,columns:a,cadBIM:s,n:n,virtualBIM:l,handleMatterport:e.handleMatterport}))))}))),"Solutions"==T&&i.createElement("div",{className:"content",style:{paddingTop:"10px"}},i.createElement("div",{className:"dataCard"},i.createElement("div",{className:"row hidden-xs no-padding"},i.createElement("div",{className:"col-md-10 no-padding"},i.createElement("div",{className:"col-md-12 dataCard"},i.createElement("div",{className:R?"col-md-10":"col-md-10 col-sm-12 small grid-header-left"},i.createElement("i",{className:"fa fas fa-sort"})," Solution Template Name  "),i.createElement("div",{className:R?"col-md-2":"col-md-2 col-sm-12 small grid-header"}," ",i.createElement("i",{className:"fa fas fa-sort"}),"Last Updated At ")))),j&&j.length>0&&j.map(function(t,n){var a=new Date(t.timestamp).toLocaleString();return i.createElement("div",{key:n,className:"row clickable no-padding"},i.createElement("div",{className:"col-md-10 no-padding"},i.createElement("div",{className:"col-md-12 no-padding"},i.createElement("div",{className:"col-md-10 col-sm-12 padding-5 trim-data small grid-left margin-top"},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Equipment"),i.createElement("a",{href:"#"+I+"/"+L+"/NewEquipment/SolutionTemplate/Edit/"+t.ontology,title:t.rdfsLabel},t.rdfsLabel)),i.createElement("div",{className:"col-md-2 col-sm-12 padding-5 small grid margin-top",title:t.ontology},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Floor"),a))),M&&i.createElement("div",{"data-html2canvas-ignore":"true",className:"col-md-2 col-xs-2 pull-right",style:{paddingLeft:"0px"}},i.createElement("a",{className:"btn-sm btn-danger active pull-right",title:"Edit",style:{margin:"3px",padding:"6.5px",border:"1px solid",borderRadius:"5px",width:"31px",height:"31px"},onClick:function(n){document.getElementById("btnConfirmDeleteDialog").click(),e.setState({deleteOntology:t._id})}},i.createElement("i",{className:"fa fa-trash"})," "),i.createElement("a",{className:"btn-sm btn-success active pull-right",title:"Edit",style:{margin:"3px",padding:"6.5px",border:"1px solid",borderRadius:"5px",width:"31px",height:"31px"},onClick:function(e){setTimeout(function(){window.location.hash=I+"/"+L+"/NewEquipment/SolutionTemplate/Edit/"+t.ontology},500)}},i.createElement("i",{className:"fa fa-edit"})," ")))}))),i.createElement("button",{id:"btnVirtualBIMDialog",className:"hidden","data-toggle":"modal","data-target":"#virtualBIMDialog",title:"Add"},". "),N&&i.createElement(y.a,{id:"virtualBIMDialog",heading:"Virtual BIM Equipment View",showSaveButton:!1,sweeps:d,bimURL:g,isViewForm:!0,addCurrentSweep:h,buildingName:e.props.buildingName,isRefreshDialog:!1,isSweepChangeable:!1,showFloorMap:!0,floor:w,onDialogCancelButton:e.onDialogCancelButton,showInBuildingRoutes:!0,space:C}),i.createElement("button",{id:"btnNoStepsFound",className:"hidden","data-toggle":"modal","data-target":"#NoStepsFound",title:"Add"},". "),i.createElement(s.a,{id:"NoStepsFound",heading:"Virtual BIM Equipment View",showSaveButton:!1,showCancelButton:!0},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("h4",{className:"modal-title",style:{textAlign:"center"}},"No Virtual Equipment View"),i.createElement("div",{className:"text-center"},i.createElement("br",null),i.createElement("a",{className:"modal-title","data-dismiss":"modal",style:{color:"black"},onClick:function(){window.location.href="#"+I+"/"+L+"/EditEquipment/"+q}},"Click here to add virtual equipment view"))))),i.createElement("button",{type:"button",id:"btnEquipmentTemplateDialog",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#equipmentTemplateDialog"}," ."),i.createElement(s.a,{id:"equipmentTemplateDialog",heading:"Select Equipment Template",saveButtonText:"Create Equipment",cancelButtonText:"Cancel",disableSaveButton:!S,showCancelButton:!0,showSaveButton:!0,onSaveButtonClick:function(){e.openEquipmentWithTemplate(!0)}},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("label",{htmlFor:"point"},"Equipment Templates"),i.createElement("div",{className:"form-group"},i.createElement(l.a,{closeMenuOnSelect:!0,isMulti:!1,onChange:function(t){e.handleEquipmentTemplateChange(t)},placeholder:"Select Equipment Template",options:x}))))),i.createElement("button",{type:"button",id:"btnSolutionTemplateDialog",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#solutionTemplateDialog"}," ."),i.createElement(s.a,{id:"solutionTemplateDialog",heading:"Select Solution Template",saveButtonText:"Create Equipment",cancelButtonText:"Cancel",disableSaveButton:!k,showCancelButton:!0,showSaveButton:!0,onSaveButtonClick:function(){e.openEquipmentWithTemplate(!1)}},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("label",{htmlFor:"point"},"Solution Templates"),i.createElement("div",{className:"form-group"},i.createElement(l.a,{closeMenuOnSelect:!0,isMulti:!1,onChange:function(t){e.handleSolutionTemplateChange(t)},placeholder:"Select Solution Template",options:_}))))),i.createElement("button",{type:"button",id:"btnConfirmDeleteDialog",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmDeleteDialog"}," ."),i.createElement(O.a,{instance:"",id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete inprogress solution template?",heading:"Confirm...",onConfirmButtonClick:function(){e.removeIncompleteSolution()}}))))))})},t}(i.Component);t.default=k}});