webpackJsonp([42],{1245:function(e,t,n){"use strict";t.f=function(e,t,n){return c(this,void 0,void 0,function(){return r(this,function(c){switch(c.label){case 0:return[4,Object(o.f)({model:e,isEdit:t,itemToUpdate:n},o.a.DOCUMENTS.SaveDocument,a.b.DOCS).then(function(){Object(i.b)("Document "+(t?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Document.")})];case 1:return[2,c.sent()]}})})},t.d=function(e,t,n){return c(this,void 0,void 0,function(){return r(this,function(i){switch(i.label){case 0:return[4,Object(o.e)({buildingName:e,infoEntity:t,entityName:n},o.a.DOCUMENTS.GetDocuments,a.b.DOCS,!0)];case 1:return[2,i.sent()]}})})},t.e=function(e,t,n,l){return c(this,void 0,void 0,function(){return r(this,function(c){switch(c.label){case 0:return[4,Object(o.f)({buildingName:e,model:t,isEdit:n,itemToUpdate:l},o.a.DOCUMENTS.SaveCommunityDoc,a.b.DOCS).then(function(){Object(i.b)("Community Document "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Community Document.")})];case 1:return[2,c.sent()]}})})},t.b=function(e){return c(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(o.e)({buildingName:e},o.a.DOCUMENTS.GetCommunityDocs,a.b.DOCS,!0)];case 1:return[2,t.sent()]}})})},t.c=function(e){return c(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(o.e)({fileName:e},o.a.DOCUMENTS.GetDocumentFilesList,a.b.DOCS,!0)];case 1:return[2,t.sent()]}})})},t.a=function(e,t,n){return c(this,void 0,void 0,function(){return r(this,function(i){switch(i.label){case 0:return[4,Object(o.e)({buildingName:e,infoEntity:t,entityName:n},o.a.DOCUMENTS.getAttachments,a.b.DOCS,!0)];case 1:return[2,i.sent()]}})})};var a=n(8),i=n(4),o=n(3),c=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,o){function c(e){try{l(a.next(e))}catch(e){o(e)}}function r(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(c,r)}l((a=a.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,a,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,a=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}}},1246:function(e,t,n){"use strict";var a=n(2),i=(n.n(a),n(8)),o=n(30),c=n(154),r=n(80),l=n(808),s=n(155),u=n(79),d=n(56),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),f=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,o){function c(e){try{l(a.next(e))}catch(e){o(e)}}function r(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(c,r)}l((a=a.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,a,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,a=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={documentObject:n.props.documentObject,_infoEntityItems:[],DropDownList:[],isEdit:n.props.isEdit,documentTypes:i.a,files:[],oldS3File:[],fileName:n.props.fileName&&n.props.fileName.length>0?n.props.fileName:""},n.handleFormChange=n.handleFormChange.bind(n),n.handleMultiInfoEntityChange=n.handleMultiInfoEntityChange.bind(n),n._fetchItems=n._fetchItems.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n}return m(t,e),t.prototype.componentDidMount=function(){return f(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return this.props.infoEntity?[4,this._fetchItems()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.props.isEdit&&this.setState({documentObject:this.props.documentObject,isEdit:this.props.isEdit,oldS3File:this.props.documentObject.s3FileName}),[2]}})})},t.prototype.componentWillReceiveProps=function(e){this.setState({isEdit:e.isEdit,documentObject:e.documentObject,files:e.files,oldS3File:e.documentObject.s3FileName})},t.prototype._fetchItems=function(){return f(this,void 0,void 0,function(){var e,t,n;return h(this,function(a){switch(a.label){case 0:if(Object(o.a)(!0),!(e=this.props.infoEntity))return[2];switch(t=[],e){case"Equip":return[3,1];case"Space":return[3,3];case"Zone":return[3,5];case"Point":return[3,7]}return[3,8];case 1:return[4,Object(r.g)(this.props.buildingName)];case 2:return t=a.sent(),[3,8];case 3:return[4,Object(u.b)(this.props.buildingName)];case 4:return t=a.sent(),[3,8];case 5:return[4,Object(l.e)(this.props.buildingName)];case 6:return t=a.sent(),[3,8];case 7:return[3,8];case 8:return n=t.map(function(e){return{value:e.ontology.value,label:e.rdfsLabel.value}}),this.setState({_infoEntityItems:t,DropDownList:n}),Object(o.a)(!1),[2]}})})},t.prototype.handleMultiInfoEntityChange=function(e){var t=this.state,n=t.documentObject,a=t.files;n.infoEntity=e,this.setState({documentObject:n}),this.props.handleDocument(n,a)},t.prototype.handleFormChange=function(e){var t=this,n=this.state,a=n.documentObject,i=n.files,o=e.target.name;a[""+o]=e.target.value,this.setState({documentObject:a},function(){t.props.handleDocument(a,i),t.setState({files:[],documentObject:Object()})})},t.prototype.handleDueDateChange=function(e){var t=this.state.documentObject;t.date=e.toString(),this.setState({documentObject:t})},t.prototype.handlefileAttached=function(e){var t=this;if(e.length>0){for(var n=this.state.documentObject,a=0;a<e.length;a++){var o=e[a].name.split(".").pop(),c=this.state.fileName+"."+o.toLowerCase();this.props.isCommunityDoc||(n.rdfsLabel=e[a].name),n.s3FileName[a]=""+c}var r=n,l=e;Object(i.g)(e),this.setState({files:[],documentObject:Object()},function(){t.props.handleDocument(r,l)})}},t.prototype.render=function(){var e=this,t=this.state,n=t.documentObject,i=t.DropDownList,o=t.isEdit,r=t.documentTypes,l=t.oldS3File,u=t.fileName,m=d.c+"/"+d.a.DOCUMENT+"/"+l;return a.createElement("div",{className:"content"},!this.props.isCommunityDoc&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-3"},a.createElement("label",{htmlFor:"infoEntity"},this.props.infoEntity,":")),a.createElement("div",{className:"col-md-9"},o&&n&&n.infoEntity&&a.createElement("input",{id:"item",name:"item",disabled:!0,className:"form-control",value:n.infoEntity[0].label}),!o&&a.createElement(c.a,{id:"infoEntity",name:"infoEntity",closeMenuOnSelect:!1,isMulti:!0,value:n.infoEntity,onChange:this.handleMultiInfoEntityChange,placeholder:"Select "+this.props.infoEntity,options:i})))),this.props.isCommunityDoc&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-3"},a.createElement("label",{htmlFor:"name"},"Document Name:")),a.createElement("div",{className:"col-md-9"},a.createElement("input",{id:"name",name:"rdfsLabel",disabled:o,className:"form-control",value:n.rdfsLabel,onChange:function(t){return e.handleFormChange(t)}})))),!this.props.isCommunityDoc&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-3"},a.createElement("label",{htmlFor:"filename"},"File Name:")),a.createElement("div",{className:"col-md-9"},a.createElement("input",{id:"filename",name:"filename",disabled:o,className:"form-control",value:this.state.fileName,onChange:function(t){return e.setState({fileName:t.target.value.replace(new RegExp(" ","g"),"")},function(){document.getElementById("filename").style.boxShadow=u?"0px 0px 15px gainsboro":"0px 0px 15px red"})}})),!u&&a.createElement("div",{id:"warningText",className:"col-md-12 d-none center"},a.createElement("h5",{className:"text-danger headingText"}," File Title is empty!!!  ")))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-3"},"\xa0"),a.createElement("div",{className:"col-md-9",onClick:function(){u?(document.getElementById("filename").style.boxShadow="0px 0px 15px gainsboro",document.getElementById("warningText").style.display="none"):(document.getElementById("filename").style.boxShadow="0px 0px 15px red",document.getElementById("warningText").style.display="block")}},a.createElement(s.a,{disable:!u,handleAttachedFile:this.handlefileAttached,files:this.state.files,isEdit:this.state.isEdit,single:!1})))),l&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-3"},"\xa0"),a.createElement("div",{className:"col-md-9"},l.map(function(e,t){-1!=e.toLowerCase().indexOf(".pdf")||-1!=e.toLowerCase().indexOf(".txt")&&a.createElement("a",{className:"file-attachment",href:d.c+"/"+d.a.DOCUMENT+"/"+l[t],target:"_blank"},"ATTACHED FILE"),-1!=e.toLowerCase().indexOf(".mp4")&&a.createElement("video",{height:"150",width:"200",controls:!0},a.createElement("source",{src:m,type:"video/mp4"})),(-1!=e.toLowerCase().indexOf(".jpg")||-1!=e.toLowerCase().indexOf(".jpeg")||-1!=e.toLowerCase().indexOf(".png"))&&a.createElement("img",{height:"150",width:"245",src:d.c+"/"+d.a.DOCUMENT+"/"+l[t]})})))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-3"},a.createElement("label",{htmlFor:"linkToDocument"},"Document Link:")),a.createElement("div",{className:"col-md-9"},a.createElement("input",{id:"linkToDocument",name:"linkToDocument",className:"form-control",value:n.linkToDocument,onChange:function(t){return e.handleFormChange(t)}})))),!this.props.isCommunityDoc&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-3"},a.createElement("label",{htmlFor:"documentType"},"Document Type:")),a.createElement("div",{className:"col-md-9"},a.createElement("select",{className:"form-control",id:"documentType",name:"documentType",onChange:function(t){return e.handleFormChange(t)},value:n.documentType},a.createElement("option",{value:"-1"},"Select Document Type"),r.map(function(e,t){return e.value===n.documentType?a.createElement("option",{key:t,selected:!0,value:e.value},e.label):a.createElement("option",{key:t,value:e.value},e.label)}))))))},t}(a.Component);t.a=p},734:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(2),o=(n.n(i),n(15)),c=n(10),r=n(8),l=n(30),s=n(1245),u=n(6),d=n(11),m=n(31),f=n(56),h=n(1246),p=n(162),b=n(9),v=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),y=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,o){function c(e){try{l(a.next(e))}catch(e){o(e)}}function r(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(c,r)}l((a=a.apply(e,t||[])).next())})},E=this&&this.__generator||function(e,t){var n,a,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,a=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}},g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isEdit:!1,documentObject:{infoEntity:[],enteredBy:"",documentType:"",date:"",documentName:"",rdfsLabel:"",enteredByName:"",s3FileName:[],linkToDocument:""},Documents:[],DocumentTypes:p.a,itemToDelete:Object(),files:[]},a=n,n.handleTypeFilters=n.handleTypeFilters.bind(n),n.handleDocumentForm=n.handleDocumentForm.bind(n),n.saveDocument=n.saveDocument.bind(n),n.fetchDocuments=n.fetchDocuments.bind(n),n.onDeleteDocument=n.onDeleteDocument.bind(n),n.deleteDocument=n.deleteDocument.bind(n),n}return v(t,e),t.prototype.componentDidMount=function(){return y(this,void 0,void 0,function(){return E(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this.fetchDocuments()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.fetchDocuments=function(){return y(this,void 0,void 0,function(){return E(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,Object(s.b)(this.props.buildingName).then(function(e){a.setState({Documents:e})})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.handleTypeFilters=function(e){var t=e.target.checked,n=this.state.DocumentTypes;n[n.findIndex(function(t){return t.Type===e.target.value})].visible=t,this.setState({DocumentTypes:n});for(var a=[],i=p.b,o=0;o<i.length;o++)for(var c=0;c<n.length;c++)n[c].Type==i[o].Type&&1==n[c].visible&&a.push(i[o]);this.setState({Documents:a})},t.prototype.saveDocument=function(){return y(this,void 0,void 0,function(){var e,t,n,i,o,c,u,d,m,h=this;return E(this,function(p){switch(p.label){case 0:return e=this.state,t=e.documentObject,n=e.isEdit,i=e.itemToDelete,t&&t.infoEntity?(Object(l.a)(!0),1!=n?[3,2]:[4,Object(s.e)(this.props.buildingName,t,this.state.isEdit,i)]):[3,5];case 1:return p.sent(),[3,4];case 2:return o=JSON.parse(b.a.getItem("user")),t.enteredBy=o.contact,[4,Object(s.e)(this.props.buildingName,t,this.state.isEdit)];case 3:p.sent(),p.label=4;case 4:if(c=new f.b,(u=Object(r.d)())&&u.length)for(d=0;d<u.length;d++)(m=u[d])||(m=u[d].file),m&&c.UploadFile(f.a.COMMUNITYDOCS,t.s3FileName[d],m,function(e,t){e?console.log(e):console.log(t)});this.setState({documentObject:{infoEntity:[],enteredBy:"",documentType:"",date:"",documentName:"",rdfsLabel:"",enteredByName:"",s3FileName:[],linkToDocument:""},files:[],isEdit:!1},function(){return y(h,void 0,void 0,function(){return E(this,function(e){switch(e.label){case 0:return[4,a.fetchDocuments()];case 1:return e.sent(),[2]}})})}),Object(l.a)(!1),p.label=5;case 5:return[2]}})})},t.prototype.onDeleteDocument=function(e){return y(this,void 0,void 0,function(){return E(this,function(t){return this.setState({itemToDelete:e}),[2]})})},t.prototype.deleteDocument=function(){return y(this,void 0,void 0,function(){var e;return E(this,function(t){switch(t.label){case 0:return(e=this.state.itemToDelete).documentName.value?[4,Object(d.d)(e.documentName.value,r.b.DOCS)]:[3,3];case 1:return t.sent(),[4,this.fetchDocuments()];case 2:t.sent(),Object(s.c)(e.rdfsLabel.value).then(function(t){t&&0==t.length&&(new f.b).DeleteFile(f.a.COMMUNITYDOCS,e.rdfsLabel.value)}),t.label=3;case 3:return[2]}})})},t.prototype.onEditDocument=function(e){return y(this,void 0,void 0,function(){var t;return E(this,function(n){return(t=this.state.documentObject).infoEntity=[],t.documentType=e.documentType&&e.documentType.value,t.rdfsLabel=e.rdfsLabel&&e.rdfsLabel.value,t.documentName=e.documentName&&e.documentName.value,t.enteredBy=e.enteredBy&&e.enteredBy.value,t.enteredByName=e.enteredByName&&e.enteredByName.value,this.setState({documentObject:t,isEdit:!0,itemToDelete:e}),document.getElementById("btnDocumentForm").click(),[2]})})},t.prototype.handleDocumentForm=function(e,t){this.setState({documentObject:e,files:t})},t.prototype.render=function(){var e=this,t=this.state,n=t.Documents,a=t.DocumentTypes,l=t.isEdit,s=t.documentObject,d=(this.props,Object(r.c)()),p=s.rdfsLabel&&(s.s3FileName&&d||s.linkToDocument)&&!0;return i.createElement("div",{className:"content"},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement(c.a,{id:"filterDocumentsModal",heading:"Filter Documents",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1},a&&a.length>0&&a.map(function(t,n){return!0===t.visible?i.createElement("div",{key:t+"-"+n},i.createElement("input",{checked:!0,type:"checkbox",value:t.Type,onChange:e.handleTypeFilters})," ",i.createElement("label",null,t.Type)):i.createElement("div",null,i.createElement("input",{type:"checkbox",value:t.Type,onChange:e.handleTypeFilters})," ",i.createElement("label",null,t.Type))})),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("button",{type:"button",className:"btn btn-dark pull-right","data-toggle":"modal","data-target":"#documentFormDialog",onClick:function(){e.setState({isEdit:!1,files:[],documentObject:{infoEntity:[],enteredBy:"",documentType:"",date:"",documentName:"",rdfsLabel:"",enteredByName:"",s3FileName:[],linkToDocument:""}})}},i.createElement("i",{className:"fa fa-plus"})," Add "))),i.createElement("br",null),i.createElement("div",{className:"card padding-10"},i.createElement("div",{className:""},i.createElement("h4",{className:"title"},"Community Documents")),i.createElement("div",{className:"content"},i.createElement(o.AppContext.Consumer,null,function(t){return i.createElement("div",{className:"dataCard"},i.createElement("div",{className:"row hidden-xs no-padding"},i.createElement("div",{className:"col-md-10 col-sm-12  no-padding dataCard"},i.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small grid-header-left"},"Name"),i.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small grid-header"},"Link"),i.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small grid-header"},"Date"),i.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small grid-header"},"Entered By")),i.createElement("div",{className:"col-md-1 col-sm-12 headingText"})),n&&n.length>0&&n.map(function(t,n){var a=Object(u.g)(t.linkToDocument);return a=a?a.indexOf("ttp")>0?a:"http://"+a:"",i.createElement("div",{key:t.documentName+"-"+n,className:"row no-padding"},""!=Object(u.g)(t.rdfsLabel)&&i.createElement("div",{className:"no-padding"},i.createElement("div",{className:"col-md-10 col-sm-12  no-padding"},i.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small trim-data",title:Object(u.g)(t.rdfsLabel)},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Name"),i.createElement("a",{href:f.c+"/"+f.a.COMMUNITYDOCS+"/"+encodeURIComponent(Object(u.g)(t.s3FileName?t.s3FileName:t.rdfsLabel)),target:"_blank"},Object(u.g)(t.rdfsLabel))),i.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small trim-data",title:Object(u.g)(t.linkToDocument)},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Link"),i.createElement("a",{href:a,target:"_blank"},a)),i.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small trim-data",title:Object(u.g)(t.date)?new Date(Object(u.g)(t.date)).YYMMDDHHMM():""},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Date"),Object(u.g)(t.date)?new Date(Object(u.g)(t.date)).YYMMDDHHMM():""),i.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small trim-data",title:Object(u.g)(t.enteredByName)},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Entered By"),Object(u.g)(t.enteredByName))),i.createElement("div",{className:"col-md-2 col-sm-12 col-xs-12",style:{paddingTop:"3px"}},i.createElement("button",{className:"btn-sm btn-danger active pull-right","data-toggle":"modal","data-target":"#ConfirmDeleteDialog",onClick:function(n){e.onDeleteDocument(t)}},i.createElement("i",{className:"fa fa-trash"})," Delete "))))}),i.createElement("button",{type:"button",id:"btnDocumentForm",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#documentFormDialog"}," ."),i.createElement(c.a,{id:"documentFormDialog",onSaveButtonClick:function(){e.saveDocument()},saveButtonText:"Save",disableSaveButton:!p},i.createElement(h.a,{instance:e.props.instance,isEdit:l,infoEntity:"CommunityDocs",buildingName:e.props.buildingName,documentObject:s,handleDocument:e.handleDocumentForm,isCommunityDoc:!0,files:e.state.files})),i.createElement(m.a,{instance:e.props.instance,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this item?",heading:"Confirm...",onConfirmButtonClick:function(){e.deleteDocument()}}))})))))))},t}(i.Component);t.default=g},808:function(e,t,n){"use strict";t.a=function(e,t,n){return c(this,void 0,void 0,function(){return r(this,function(i){switch(i.label){case 0:return[4,Object(o.e)({buildingName:e,zoneName:t,bimSid:n},o.a.ZONES.GETZONES,a.b.ZONE)];case 1:return[2,i.sent()]}})})},t.b=function(e,t){return c(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(o.f)({buildingName:e,floor:t},o.a.ZONES.SAVEFLOOR,a.b.ZONE).then(function(){Object(i.b)("Floor Added Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Floor.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return c(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(o.f)({model:e,buildingName:t},o.a.ZONES.SAVEZONE,a.b.ZONE).then(function(){Object(i.b)("Zone Added Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Zone.")})];case 1:return[2,n.sent()]}})})},t.f=function(e){return c(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(o.e)({buildingName:e},o.a.ZONES.GETFLOORLIST,a.b.ZONE)];case 1:return[2,t.sent()]}})})},t.g=function(e,t){return c(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(o.e)({buildingName:e,equipmentType:t},o.a.ZONES.GETSERVICEPROVIDERSLIST,a.b.ZONE)];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return c(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(o.e)({buildingName:e,excludeFloors:t},o.a.ZONES.GetAllZonesList,a.b.ZONE)];case 1:return[2,n.sent()]}})})},t.h=function(e){return c(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(o.e)({buildingName:e},o.a.ZONES.GetZoneTypesList,a.b.ZONE)];case 1:return[2,t.sent()]}})})},t.d=function(e,t){return c(this,void 0,void 0,function(){var n=this;return r(this,function(l){switch(l.label){case 0:return[4,Object(o.f)({buildingName:e,zoneName:t},o.a.ZONES.DELETEZONE,a.b.ZONE).then(function(){return c(n,void 0,void 0,function(){return r(this,function(e){return Object(i.b)("Zone Deleted Successfully."),[2]})})}).catch(function(e){Object(i.a)("Error occured while deleting.")})];case 1:return[2,l.sent()]}})})};var a=n(8),i=n(4),o=n(3),c=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,o){function c(e){try{l(a.next(e))}catch(e){o(e)}}function r(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(c,r)}l((a=a.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,a,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,a=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}}}});