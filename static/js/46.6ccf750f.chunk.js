webpackJsonp([46],{1211:function(e,t,n){"use strict";t.g=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.f)(e,c.a.TICKETS.AddNewTicket,a.b.TICKET).then(function(){Object(i.b)("Ticket Added")}).catch(function(e){Object(i.a)("Error occured while saving Ticket.")})];case 1:return[2,t.sent()]}})})},t.h=function(e,t,n){return l(this,void 0,void 0,function(){return o(this,function(l){switch(l.label){case 0:return[4,Object(c.f)({buildingName:e,ticketType:t},c.a.TICKETS.AddNewTicketType,a.b.TICKET).then(function(){Object(i.b)("Ticket Type "+(n?"Updated":"Added"))}).catch(function(e){Object(i.a)("Error occured while saving Ticket Type.")})];case 1:return[2,l.sent()]}})})},t.b=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.f)({ticketTypeOntology:e},c.a.TICKETS.DeleteTicketType,a.b.TICKET).then(function(){Object(i.b)("Ticket Type Deleted")}).catch(function(e){Object(i.a)("Error occured while deleting Ticket Type.")})];case 1:return[2,t.sent()]}})})},t.f=function(){return l(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Object(c.e)({},c.a.TICKETS.GetAllTickets,a.b.TICKET,!0)];case 1:return[2,e.sent()]}})})},t.d=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.TICKETS.GetTicketTypes,a.b.TICKET)];case 1:return[2,t.sent()]}})})},t.c=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({ticketTypeOntology:e},c.a.TICKETS.GetTicketTypeUsingOntology,a.b.TICKET,!0)];case 1:return[2,t.sent()]}})})},t.e=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({ticketOntology:e},c.a.TICKETS.GetTicketUsingOntology,a.b.TICKET,!0)];case 1:return[2,t.sent()]}})})},t.a=function(e){return l(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(c.f)({ticketOntology:e},c.a.TICKETS.DeleteTicket,a.b.TICKET).then(function(){Object(i.b)("Ticket Deleted")}).catch(function(e){Object(i.a)("Error occured while deleting Ticket.")})];case 1:return[2,t.sent()]}})})};var i=n(32),a=n(20),c=n(12),l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function l(e){try{s(i.next(e))}catch(e){c(e)}}function o(e){try{s(i.throw(e))}catch(e){c(e)}}function s(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,o)}s((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,a,c,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(c){return function(o){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,i=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){l=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){l.label=c[1];break}if(6===c[0]&&l.label<a[1]){l.label=a[1],a=c;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(c);break}a[2]&&l.ops.pop(),l.trys.pop();continue}c=t.call(e,l)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}}},3356:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=(n.n(i),n(116)),c=n(666),l=n(10),o=n(673),s=n(11),r=n(665),d=n(1211),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function l(e){try{s(i.next(e))}catch(e){c(e)}}function o(e){try{s(i.throw(e))}catch(e){c(e)}}function s(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,o)}s((i=i.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){var n,i,a,c,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(c){return function(o){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,i=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){l=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){l.label=c[1];break}if(6===c[0]&&l.label<a[1]){l.label=a[1],a=c;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(c);break}a[2]&&l.ops.pop(),l.trys.pop();continue}c=t.call(e,l)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={ticketData:[],_buildings:[],allTickets:[],selectedBuilding:t.buildingName,search:"",showLogs:!1},n}return m(t,e),t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){var e,t,n,i=this;return f(this,function(c){switch(c.label){case 0:return Object(a.a)(!0),[4,Object(d.f)()];case 1:return e=c.sent(),[4,Object(o.d)()];case 2:return t=c.sent(),n=e.filter(function(e){return e.buildingOntology==i.state.selectedBuilding}),this.setState({ticketData:n,_buildings:t,allTickets:e}),Object(a.a)(!1),[2]}})})},t.prototype.search_filter=function(e){this.setState({search:e.target.value})},t.prototype.handleBuildingChangeHandler=function(e){var t=this.state.allTickets.filter(function(t){return t.buildingOntology==e});this.setState({ticketData:t,selectedBuilding:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,a=t.buildingName,o=this.state,d=o._buildings,m=o.selectedBuilding,u=o.allTickets,f=o.search,h=o.showLogs,p=u.filter(function(e){return e.ontology.toLowerCase().includes(f.toLowerCase().trim())}),g=JSON.parse(s.a.getItem("user"));return h?i.createElement(r.a,{instance:n,buildingName:a,fromEntityList:!0,module:c.a.Cases,entityName:"Case",entityList:u.map(function(e){return{label:Object(l.g)(e.ticketIssue),value:Object(l.g)(e.ontology)}}),onLogClose:function(){return e.setState({showLogs:!1})}}):i.createElement(i.Fragment,null," ",i.createElement("div",{className:"content"},i.createElement("div",{className:"container-fluid p-0"},i.createElement("div",{className:"container-fluid "},i.createElement("div",{className:"content"},i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12 "},i.createElement("button",{type:"button",className:"btn btn-dark pull-left mx-1",onClick:function(){window.location.hash=n+"/"+a+"/AddTicketType"}},i.createElement("i",{className:"fa fa-plus"}),i.createElement("span",null,"Case Type ")),i.createElement("button",{type:"button",className:"btn btn-dark",style:{marginLeft:"3%"},onClick:function(){window.location.hash=n+"/"+a+"/TicketForm"}},i.createElement("i",{className:"fa fa-plus"}),i.createElement("span",null,"Add Case"))),i.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},i.createElement("div",{className:"col-md-1 col-xs-12 px-0 ml-auto"},i.createElement("h6",{style:{marginTop:"15px"}},"Filter :")),i.createElement("div",{className:"col-md-4 col-xs-12"},i.createElement("input",{style:{outline:"green"},className:"form-control pull-right",onChange:function(t){e.search_filter(t)},id:"soultionfilter",type:"text",placeholder:"Search.."})),i.createElement("div",{className:"col-md-1 pull-right col-sm-12 col-xs-12 form-group"},g&&"1"==g.role&&i.createElement("button",{className:"btn btn-md btn-primary btn-fill pull-right",style:{marginLeft:5},title:"Logs",onClick:function(){e.setState({showLogs:!0})}}," ",i.createElement("img",{src:"assets/img/Logs.png",style:{width:25,height:18}}))),i.createElement("div",{className:"col-md-5 pull-right col-sm-12 col-xs-12 form-group"},i.createElement("select",{name:"building",id:"building",className:"form-control",value:m,style:{marginRight:5},onChange:function(t){e.handleBuildingChangeHandler(t.target.value)}},i.createElement("option",{value:""},"Select Building "),d&&d.length>0&&d.map(function(e,t){return i.createElement("option",{key:t,value:Object(l.g)(e.building)},Object(l.g)(e.rdfsLabel)," ")}))))))),i.createElement("div",{className:"card small"},i.createElement("div",{className:"container-fluid p-2"},i.createElement("div",{className:"content p-0 mt-0"},i.createElement("div",{className:"row no-margin no-padding hidden-sm hidden-xs"},i.createElement("div",{className:"col-md-12 p-1"},i.createElement("div",{className:"col-md-12 no-padding"},i.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," S.No"),i.createElement("div",{className:"col-md-2 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Description"),i.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Concern"),i.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Location"),i.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Due date"),i.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Status"),i.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Equipment"),i.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Floor"),i.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Customer"),i.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Timestamp"),i.createElement("div",{className:"col-md-1 px-0 py-2 trim-data grid-header"},i.createElement("i",{className:" mx-0 px-0 py-2 fa fas fa-sort"})," Action")))),i.createElement("div",{className:"dataCard px-1"},p&&p.length>0&&p.map(function(e,t){if(e.ontology&&e.buildingOntology)return i.createElement("div",{key:t,className:"card no-margin no-padding"},i.createElement("div",{className:"container-fluid  no-padding"},i.createElement("div",{className:"row no-margin no-padding"},i.createElement("div",{className:"col-md-12 no-padding"},i.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 no-padding",onClick:function(){},style:{cursor:"pointer"}},i.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"}," ",i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"S.No"),e.ontology),i.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology},className:"col-md-2 col-sm-12 col-xs-12 padding-5 no-margin trim-data"}," ",i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Description"),e.ticketIssue,"  "),i.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"}," ",i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Concern"),e.criticalityOntology,"  "),i.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Location"),e.spaceLabel),i.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Due Date"),"Not Set ATM"),i.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Status "),e.status),i.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Equipment "),e.assetLabel),i.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Floor"),e.floorLabel," "),i.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Customer "),e.customerName),i.createElement("div",{onClick:function(){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology},className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},"    ",i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Timestamp"),e.timeStamp?new Date(e.timeStamp).onitDateFormat():""," "),i.createElement("div",{className:"col-md-1 col-sm-12 col-xs-12 padding-5 no-margin trim-data"},i.createElement("span",{className:"hidden-md hidden-lg visible-inline-sm visible-inline-xs headingText"},"Action"),"Completed"!=e.status&&i.createElement("button",{className:"btn btn-warning btn-sm",title:"Edit Ticket",onClick:function(t){window.location.hash="/"+n+"/"+a+"/TicketForm/"+e.ontology+"/true"}},i.createElement("i",{className:"fa fa-edit"}))))))))}))))))))},t}(i.Component);t.default=h}});