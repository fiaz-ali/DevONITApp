webpackJsonp([54],{604:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2),c=(n.n(a),n(16)),o=n(877),r=n(793),s=n(787),l=n(8),u=n(12),d=n(753),h=n(6),m=n(837),f=n(106),p=n(711),b=n(111),g=n(38),v=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O=this&&this.__assign||function(){return(O=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},E=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function o(e){try{s(i.next(e))}catch(e){c(e)}}function r(e){try{s(i.throw(e))}catch(e){c(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,r)}s((i=i.apply(e,t||[])).next())})},I=this&&this.__generator||function(e,t){var n,i,a,c,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}},S=function(e){function t(t){var n=e.call(this,t)||this;return n.state={InsightInfo:Object(),Old_InsightInfo:Object(),InsightChanged:!1,Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},isSchedule:!1},space:{graphURL:"",rdfsLabel:"",spaceName:"",spaceInsights:[],detailsExpanded:!1},EquipmentList:[],currentChange:"",detailsExpanded:!1,localBTNState:!1,filteredInsight:[],buildingOptimalTStat:[],spaceOptimalTStat:[],spaces:[],spacesOptimalInfo:[],avgBuildingOptimalTStat:Object(),buildingInsightInfos:[],spaceInsightInfos:[],avgSpaceOptimalTStat:Object(),buildingOptimal:!1,spaceOptimal:!1,scheduleSelected:!1},i=i=n,n.changeMode=n.changeMode.bind(n),n.changeOverrideState=n.changeOverrideState.bind(n),n.changeFanSetting=n.changeFanSetting.bind(n),n.increaseTemp=n.increaseTemp.bind(n),n.decreaseTemp=n.decreaseTemp.bind(n),n._fetchData=n._fetchData.bind(n),n._fetchInsightInfo=n._fetchInsightInfo.bind(n),n.changeStateLocal=n.changeStateLocal.bind(n),n.cancelSend=n.cancelSend.bind(n),n.resetChanges=n.resetChanges.bind(n),n.applyChanges=n.applyChanges.bind(n),n.handleOptimize=n.handleOptimize.bind(n),n._fetchInsights=n._fetchInsights.bind(n),n._fetchSelectedTStatData=n._fetchSelectedTStatData.bind(n),n.handleOptimalSelection=n.handleOptimalSelection.bind(n),n.handleScheduleSelection=n.handleScheduleSelection.bind(n),n.getRelatedEquipmentLabel=n.getRelatedEquipmentLabel.bind(n),n}return v(t,e),t.prototype.componentWillReceiveProps=function(e){e.buildingOptimalTStat&&e.spaceOptimalTStat&&this.setState({buildingOptimalTStat:e.buildingOptimalTStat,spaceOptimalTStat:e.spaceOptimalTStat})},t.prototype.componentDidMount=function(){return E(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchData()]:[3,3];case 1:return e.sent(),[4,this._fetchInsights()];case 2:e.sent(),this._fetchSelectedTStatData(),e.label=3;case 3:return[2]}})})},t.prototype.componentWillUnmount=function(){return E(this,void 0,void 0,function(){return I(this,function(e){return clearInterval(void 0),[2]})})},t.prototype.handleScheduleSelection=function(e){return E(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,Object(r.E)(this.props.InsightName,e)];case 1:return t.sent(),e?Object(h.b)("Successfully Selected Schedule"):Object(h.b)("Successfully unSelected Schedule"),this.setState({scheduleSelected:e}),this._fetchData(),[2]}})})},t.prototype.handleOptimalSelection=function(e,t){var n=this.state,i=n.buildingOptimal,a=n.spaceOptimal;"spaceOptimal"==e?a=t:i=t,this.setState({spaceOptimal:a,buildingOptimal:i}),this.handleOptimize()},t.prototype.handleOptimize=function(){return E(this,void 0,void 0,function(){var e,t,n,i;return I(this,function(a){return e=this.state,t=e.avgBuildingOptimalTStat,n=e.avgSpaceOptimalTStat,i=e.spaceOptimal,e.buildingOptimal&&!i?this.setState({InsightInfo:t,InsightChanged:!0,currentChange:"Avg"}):this.setState({InsightInfo:n,InsightChanged:!0,currentChange:"Avg"}),this.state.scheduleSelected&&this.handleScheduleSelection(!1),[2]})})},t.prototype._fetchSelectedTStatData=function(){return E(this,void 0,void 0,function(){var e,t,n,i,a,c,o,u,d,m,f,p,b,g,v,O,E,S,w;return I(this,function(I){switch(I.label){case 0:e=this.state,t=e.buildingOptimalTStat,n=e.buildingInsightInfos,i=e.spaceInsightInfos,a=e.spaceOptimalTStat,c=e.buildingOptimal,o=e.spaceOptimal,m=0,I.label=1;case 1:return m<t.length?(u=t[m],(v=Object(l.g)(u.moncondevice))?[4,Object(s.d)(v,this.props.buildingName)]:[3,4]):[3,5];case 2:return O=I.sent(),[4,Object(r.l)(O).then(function(e){return!e||e&&e.error?(Object(h.a)("Error occurred while fetching thermostat info."),Object()):e}).catch(function(e){return Object()})];case 3:d=I.sent(),n.push(d),I.label=4;case 4:return m++,[3,1];case 5:m=0,I.label=6;case 6:if(!(m<a.length))return[3,12];if(f=a[m],!((p=f.spaceInsights)&&p.length>0))return[3,11];b=0,I.label=7;case 7:return b<p.length?(g=p[b],(v=Object(l.g)(g.moncondevice))?[4,Object(s.d)(v,this.props.buildingName)]:[3,10]):[3,11];case 8:return O=I.sent(),[4,Object(r.l)(O).then(function(e){return!e||e&&e.error?(Object(h.a)("Error occurred while fetching thermostat info."),Object()):e}).catch(function(e){return Object()})];case 9:E=I.sent(),i.push(E),I.label=10;case 10:return b++,[3,7];case 11:return m++,[3,6];case 12:return c=n.length>0,o=i.length>0,[4,Object(r.t)(n)];case 13:return S=I.sent(),[4,Object(r.t)(i)];case 14:return w=I.sent(),this.setState({avgBuildingOptimalTStat:S,avgSpaceOptimalTStat:w,buildingInsightInfos:n,spaceInsightInfos:i,buildingOptimal:c,spaceOptimal:o}),[2]}})})},t.prototype._fetchInsights=function(){return E(this,void 0,void 0,function(){var e,t,n,i,a,c,o,s,d,h,m,f,g,v,O;return I(this,function(E){switch(E.label){case 0:return(e=this.props.buildingName)?[4,Object(r.n)(e)]:[3,7];case 1:for(t=E.sent(),console.log(t),O=0;O<t.length;O++)n=t[O],Object(l.g)(n.moncondevice)&&Object(l.g)(n.rdfsLabel)&&Object(u.p)(Object(l.g)(n.moncondevice),Object(l.g)(n.rdfsLabel));for(i=this.state,a=i.spaces,c=i.spacesOptimalInfo,o=i.spaceOptimalTStat,s=i.buildingOptimalTStat,a=[],d=function(e){var n=t[e],i=Object(l.g)(n.space),c=Object(l.g)(n.spaceRdfsLabel);i&&c&&-1==a.findIndex(function(e){return e.ontology==i})&&a.push({ontology:i,rdfsLabel:c})},O=0;O<t.length;O++)d(O);c=[],o=[],s=[],h=function(e){var n,i,r,s,u,d,h;return I(this,function(m){switch(m.label){case 0:return n=a[e],[4,Object(p.e)(n.ontology)];case 1:return i=m.sent(),r=t.filter(function(e){return Object(l.g)(e.space)==n.ontology}),s={graphURL:i.graphURL?i.graphURL:"",rdfsLabel:n.rdfsLabel,spaceName:n.ontology,spaceInsights:r},c.push.apply(c,[s]),u=t.find(function(e){return Object(l.g)(e.space)==n.ontology}),d=[],u&&(d=Object(l.g)(u.spaceOptimalTStats).split(",")),h={graphURL:i.graphURL?i.graphURL:"",rdfsLabel:n.rdfsLabel,spaceName:n.ontology,spaceInsights:t.filter(function(e){return-1!=d.findIndex(function(t){return t==Object(l.g)(e.moncondevice)})})},o.push.apply(o,[h]),[2]}})},m=0,E.label=2;case 2:return m<a.length?[5,h(m)]:[3,5];case 3:E.sent(),E.label=4;case 4:return m++,[3,2];case 5:return[4,Object(b.b)(this.props.buildingName)];case 6:if((f=E.sent())&&f[0])for(g=f[0],g=(g=Object(l.g)(g.buildingOptimal)).split(","),v=function(e){var n=g[e],i=t&&t.find(function(e){return Object(l.g)(e.moncondevice)==n});i&&s.push.apply(s,[i])},O=0;O<g.length;O++)v(O);this.setState({spaces:a,spacesOptimalInfo:c,spaceOptimalTStat:o,buildingOptimalTStat:s}),E.label=7;case 7:return[2]}})})},t.prototype._fetchData=function(){return E(this,void 0,void 0,function(){var e,t,n,i,a,c,o,r,u,h,m=this;return I(this,function(b){switch(b.label){case 0:return e=this.state.scheduleSelected,t=this.props,n=t.InsightName,i=t.buildingName,a=t.type,n?(Object(f.a)(!0),[4,Object(d.f)(this.props.buildingName)]):[3,6];case 1:return c=b.sent(),o=c&&c.length>0&&c.map(function(e){return{value:Object(l.g)(e.ontology),label:Object(l.g)(e.rdfsLabel)}}),r=Object(),u=Object(),"Optimal"!=a?[3,3]:[4,Object(p.e)(n)];case 2:return u=b.sent(),[3,5];case 3:return[4,Object(s.d)(n,i)];case 4:r=b.sent(),b.label=5;case 5:localStorage.getItem(r.deviceID)&&localStorage.getItem(r.deviceID).length>0&&(h=JSON.parse(localStorage.getItem(r.deviceID)),this.setState({InsightInfo:h,Old_InsightInfo:O({},h),InsightChanged:!1,currentChange:""})),e=r.isSchedule,this.setState({Moncon:r,space:u,EquipmentList:o,scheduleSelected:e},function(){return E(m,void 0,void 0,function(){return I(this,function(e){return"Optimal"!=a&&this._fetchInsightInfo(),[2]})})}),Object(f.a)(!1),b.label=6;case 6:return[2]}})})},t.prototype._fetchInsightInfo=function(){return E(this,void 0,void 0,function(){var e,t;return I(this,function(n){switch(n.label){case 0:return Object(f.a)(!0),e=this.state.Moncon,[4,Object(r.l)(e).then(function(t){return!t||t&&t.error?(Object(h.a)("Error occurred while fetching thermostat info."),Object()):(localStorage.setItem(e.deviceID,JSON.stringify(t)),t)}).catch(function(e){return Object()})];case 1:return t=n.sent(),this.setState({InsightInfo:t,Old_InsightInfo:O({},t),InsightChanged:!1,currentChange:""}),Object(f.a)(!1),[2]}})})},t.prototype.changeMode=function(e,t){e.mode=t,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"mode"})},t.prototype.changeOverrideState=function(e,t){e.override=t,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"state"}),this.changeStateLocal(!1),this.state.scheduleSelected&&this.handleScheduleSelection(!1)},t.prototype.changeFanSetting=function(e,t){e.fan=t,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"fan"})},t.prototype.increaseTemp=function(e){e.mode===o.c.HEAT?e.heattemp=(e.heattemp?e.heattemp:0)+.555556:e.cooltemp=(e.cooltemp?e.cooltemp:0)+.555556,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"temp"})},t.prototype.decreaseTemp=function(e){e.mode===o.c.HEAT?e.heattemp=e.heattemp-.555556:e.cooltemp=e.cooltemp-.555556,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"temp"})},t.prototype.cancelSend=function(){this.setState({InsightChanged:!1,currentChange:""})},t.prototype.resetChanges=function(){return E(this,void 0,void 0,function(){var e=this;return I(this,function(t){return this.setState({InsightChanged:!1,currentChange:""},function(){return E(e,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return[4,this._fetchInsightInfo()];case 1:return e.sent(),[2]}})})}),[2]})})},t.prototype.applyChanges=function(e,t){return E(this,void 0,void 0,function(){var n=this;return I(this,function(a){return Object(f.a)(!0),this.setState({InsightChanged:!1,currentChange:""},function(){return E(n,void 0,void 0,function(){var n=this;return I(this,function(a){return setTimeout(function(){n.resetChanges()},5e3),Object(r.x)(e,t,this.state.Old_InsightInfo).then(function(e){e.success?Object(h.b)("Changes applied successfully. "):e.error&&Object(h.a)(e.reason)}).catch(function(e){Object(h.a)("Some error orccured. ")}),setTimeout(function(){i._fetchInsightInfo()},5e3),Object(f.a)(!1),[2]})})}),[2]})})},t.prototype.changeStateLocal=function(e){this.setState({localBTNState:e}),this.state.scheduleSelected&&this.handleScheduleSelection(!1)},t.prototype.getRelatedEquipmentLabel=function(e){var t=this.state.EquipmentList,n=Object();return(n=t&&t.find(function(t){return t.value==e}))&&n.label},t.prototype.render=function(){var e=this,t=this.state,n=t.InsightInfo,i=t.Moncon,r=t.space,s=t.InsightChanged,l=t.currentChange,d=t.detailsExpanded,h=t.localBTNState,f=t.buildingOptimal,p=t.spaceOptimal,b=t.scheduleSelected,v=this.props,O=v.instance,E=v.buildingName,I=v.InsightName,S=v.type,w="Optimal"==S;return a.createElement(c.AppContext.Consumer,null,function(t){return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(m.a,{InsightName:I,ControlName:"InsightControl",buildingName:E,instance:O,type:S}),a.createElement("div",{className:"card",id:"InsightsList"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"header"},a.createElement("h3",{className:"title"},a.createElement("strong",null,w?r.rdfsLabel:i.rdfsLabel)," "),a.createElement("button",{type:"button",className:"btn btn-fill btn-secondary pull-right",onClick:function(){return e.resetChanges()}},a.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"}),"Refresh"),"\xa0",!w&&a.createElement("h4",{className:"title"},a.createElement("strong",null,e.props.type.toUpperCase(),":",i&&i.relatedEquipment.map(function(t,n){return a.createElement("span",{key:n},e.getRelatedEquipmentLabel(t.value),n+1==i.relatedEquipment.length?"":",")}),"STATUS:")," (",o.d[n.state],")"))),a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12 tempCounter roomTemp pull-right"},a.createElement("div",null,"Room Temp"),a.createElement("div",{className:"counter"},Object(u.a)(n.spacetemp).toFixed(2),"\xb0F")),a.createElement("div",{className:"col-md-3 col-xs-6 tempCounter"},a.createElement("div",null,n.mode===o.c.HEAT?"Heat To":"Cool To"),a.createElement("div",{className:"counter"},Object(u.a)(n.mode===o.c.HEAT?n.heattemp:n.cooltemp).toFixed(2),"\xb0F")),a.createElement("div",{className:"col-md-3 col-xs-6 InsightControls"},a.createElement("div",{className:"btn-group-vertical"},a.createElement("button",{type:"button",className:"btn tempButton heatTo",disabled:""!=l&&"temp"!=l,onClick:function(){return e.increaseTemp(n)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-angle-up"})),a.createElement("div",null,"Warmer")),a.createElement("button",{type:"button",className:"btn tempButton coolTo",disabled:""!=l&&"temp"!=l,onClick:function(){return e.decreaseTemp(n)}},a.createElement("div",null,"Cooler"),a.createElement("div",null,a.createElement("i",{className:"fa fa-angle-down"})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow pull-right"},a.createElement("div",{className:"btn-group"},!w&&a.createElement(a.Fragment,null,a.createElement("button",{type:"button",className:"btn btn-success",disabled:""!=l&&"state"!=l,onClick:function(){e.changeStateLocal(!0)}},"Local"),a.createElement("button",{type:"button",className:"btn btn-defualt",disabled:""!=l&&"state"!=l,onClick:function(){return e.changeOverrideState(n,o.e.ON)}},"Remote"),a.createElement("button",{type:"button",className:"btn btn-default ",disabled:""!=l&&"state"!=l||h,onClick:function(){return e.changeOverrideState(n,o.e.OFF)}},"Manual")),!b&&a.createElement("button",{type:"button",className:"btn btn-success",disabled:""!=l&&"state"!=l||h,onClick:function(){e.handleScheduleSelection(!0)}},"Schedule"),b&&a.createElement("button",{type:"button",className:"btn btn-fill btn-success",disabled:""!=l&&"state"!=l||h,onClick:function(){e.handleScheduleSelection(!1)}},"Schedule"),a.createElement("button",{type:"button",className:"btn btn-success",disabled:""!=l&&"state"!=l||h,onClick:function(){f&&p?document.getElementById("btnOptimize").click():e.handleOptimize()}},"Optimize"))),a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",className:n.mode===o.c.OFF?"btn btn-fill":"btn",disabled:""!=l&&"mode"!=l,onClick:function(){return e.changeMode(n,o.c.OFF)}},"Off"),a.createElement("button",{type:"button",className:n.mode===o.c.HEAT?"btn btn-fill":"btn",disabled:""!=l&&"mode"!=l,onClick:function(){return e.changeMode(n,o.c.HEAT)}},"Heat"),a.createElement("button",{type:"button",className:n.mode===o.c.COOL?"btn btn-fill":"btn",disabled:""!=l&&"mode"!=l,onClick:function(){return e.changeMode(n,o.c.COOL)}},"Cool"),a.createElement("button",{type:"button",className:n.mode===o.c.AUTO?"btn btn-fill":"btn",disabled:""!=l&&"mode"!=l,onClick:function(){return e.changeMode(n,o.c.AUTO)}},"Auto")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("div",{className:"InsightHeading"},a.createElement("i",{className:"fa fa-first-order"})," Fan"),a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",className:n.fan===o.b.AUTO?"btn btn-fill":"btn",disabled:""!=l&&"fan"!=l,onClick:function(){return e.changeFanSetting(n,o.b.AUTO)}},"Auto"),a.createElement("button",{type:"button",className:n.fan===o.b.ON?"btn btn-fill":"btn",disabled:""!=l&&"fan"!=l,onClick:function(){return e.changeFanSetting(n,o.b.ON)}},"On")))),!w&&a.createElement("div",{className:"accordion row padding-10",id:"accordionExample",style:{paddingLeft:"30px",border:"1px solid #80808066",margin:"10px",borderRadius:"7px"}},a.createElement("div",{className:"",id:"headingOne"},a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne",style:{border:0,left:"-25px",position:"relative"},"aria-expanded":"true","aria-controls":"collapseOne",onClick:function(){e.setState({detailsExpanded:!d})}},a.createElement("i",{className:d?"fa fa-minus":"fa fa-plus","aria-hidden":"true"}))),a.createElement("div",{id:"collapseOne",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"},a.createElement("div",{className:"col-md-6 col-xs-12 padding-10"},a.createElement("h5",{className:"title"},a.createElement("strong",null,"IP Address:")," ",i.wirelessConfig&&i.wirelessConfig.ipAddress),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Controller IP Address:")," ",i.wirelessConfig.controllerIPAddress),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Manufacturer:")," ",i.manufacturer),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Model:")," ",i.model),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Device ID:")," ",i.deviceID?i.deviceID:"")))),a.createElement("div",{className:s?"InsightApplyChanges":"hidden"},a.createElement("h4",null,"Do you want to apply these changes?"),a.createElement("div",null,a.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){return e.cancelSend()}},"Cancel"),"\xa0",a.createElement("button",{type:"button",className:"btn btn-fill btn-danger",onClick:function(){return e.resetChanges()}},"Reset"),"\xa0",a.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:function(){return e.applyChanges(i,n)}},"Apply Changes"))))),a.createElement("button",{id:"btnOptimize",style:{display:"none"},"data-toggle":"modal","data-target":"#showOptimizeDialog"},"."),a.createElement(g.a,{id:"showOptimizeDialog",cancelButtonId:"cancelOptimizeDialog",onSaveButtonClick:function(){e.handleOptimize()},saveButtonText:"Yes",showCancelButton:!0,showSaveButton:!1,cancelButtonText:"Cancel",heading:"Select One"},a.createElement("div",{className:"card padding-10"},a.createElement("div",{className:"row text-center col-md-offset-1"},f&&a.createElement("div",{onClick:function(){e.handleOptimalSelection("buildingOptimal",!0),e.setState({spaceOptimal:!1},function(){document.getElementById("cancelOptimizeDialog").click()})},className:"col-md-5 padding-10 margin-5 text-center btn btn-lg btn-secondary",style:{cursor:"pointer"}},a.createElement("label",{className:"text-center title"}," Building Optimal ")),p&&a.createElement("div",{onClick:function(){e.handleOptimalSelection("spaceOptimal",!0),e.setState({buildingOptimal:!1},function(){document.getElementById("cancelOptimizeDialog").click()})},className:"col-md-5 padding-10 margin-5 text-center btn btn-lg btn-secondary",style:{cursor:"pointer"}},a.createElement("label",{className:"text-center title"}," Space Optimal ")))))))))})},t}(a.Component);t.default=S},711:function(e,t,n){"use strict";t.g=function(e,t,n,a){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,Object(c.e)({buildingName:e,spaceName:t,spaceWithCalendar:n},c.a.SPACES.GETSPACES,i.b.SPACE,a)];case 1:return[2,o.sent()]}})})},t.c=function(e,t,n){return o(this,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,Object(c.e)({floor:e,buildingName:t},c.a.SPACES.GetLocationsList,i.b.SPACE,n)];case 1:return[2,a.sent()]}})})},t.d=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({zone:e,buildingName:t},c.a.SPACES.getLocationsListSpacesByZones,i.b.SPACE)];case 1:return[2,n.sent()]}})})},t.b=function(e,t,n){void 0===n&&(n=!0);return o(this,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,Object(c.e)({buildingName:e,type:t},c.a.SPACES.GetAllLocationsList,i.b.SPACE,n)];case 1:return[2,a.sent()]}})})},t.a=function(e,t,n,s,l){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,Object(c.f)({buildingName:e,model:t,floor:n,isEdit:s,spacetoUpdate:l},c.a.SPACES.SAVESPACE,i.b.SPACE).then(function(){Object(a.b)("Space "+(s?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Space.")})];case 1:return[2,o.sent()]}})})},t.f=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.SPACES.GetSpaceTypesList,i.b.SPACE)];case 1:return[2,t.sent()]}})})},t.e=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({spaceName:e},c.a.SPACES.GetSpaceOptimalInfo,i.b.SPACE)];case 1:return[2,t.sent()]}})})},t.h=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.f)({spaceToUpdate:e},c.a.SPACES.UpdateSpaceOptimalInfo,i.b.SPACE).then(function(){Object(a.b)("Space Updated Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Space.")})];case 1:return[2,t.sent()]}})})};var i=n(7),a=n(6),c=n(5),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function o(e){try{s(i.next(e))}catch(e){c(e)}}function r(e){try{s(i.throw(e))}catch(e){c(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,r)}s((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,a,c,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}}},753:function(e,t,n){"use strict";t.p=function(e,t,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,Object(c.f)({buildingName:e,equipment:t,isEdit:n},c.a.EQUIPMENT.SaveEquipment,i.b.EQUIP).then(function(){Object(a.b)("Equipment "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Equipment.")})];case 1:return[2,o.sent()]}})})},t.o=function(e,t,n,s){return o(this,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return o=!!n.name,[4,Object(c.f)({buildingName:e,equipmentName:t,component:n,counter:s},c.a.EQUIPMENT.SaveComponent,i.b.EQUIP).then(function(){Object(a.b)("Component(s) "+(o?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Component(s).")})];case 1:return[2,r.sent()]}})})},t.q=function(e,t,n,s){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,Object(c.f)({isEdit:e,buildingName:t,equipmentName:n,lightingInformation:s},c.a.EQUIPMENT.SaveLightingInformation,i.b.EQUIP).then(function(){Object(a.b)("Lighting Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Lighting Info.")})];case 1:return[2,o.sent()]}})})},t.r=function(e,t,n,s,l){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,Object(c.f)({isEdit:e,buildingName:t,equipmentName:n,plugLoadModel:s,isCustom:l},c.a.EQUIPMENT.SavePlugLoadModel,i.b.EQUIP).then(function(){Object(a.b)("Plugload Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Plugload Info.")})];case 1:return[2,o.sent()]}})})},t.d=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.EQUIPMENT.FetchEquipments,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.j=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,equipmentName:t},c.a.EQUIPMENT.GetEquipmentDetails,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.e=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.EQUIPMENT.GetAllCoolingAndHeatingEquipmentsList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.f=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.EQUIPMENT.GetAllEquipmentExceptCoolingAndHeatingList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.g=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.EQUIPMENT.GetAllEquipmentsList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.k=function(){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,Object(c.e)({},c.a.EQUIPMENT.GetEquipmentTypeList,i.b.EQUIP)];case 1:return[2,e.sent()]}})})},t.m=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({typeName:e,distance:t},c.a.EQUIPMENT.GetSubClassTypeListForEquipment,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.h=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({typeName:e,distance:t},c.a.EQUIPMENT.GetComponentTypesList,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.c=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.EQUIPMENT.FetchEquipmentExportData,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.i=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,equipmentName:t},c.a.EQUIPMENT.GetComponents,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.l=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,equipmentName:t},c.a.EQUIPMENT.GetFixtures,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.n=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,equipmentName:t},c.a.EQUIPMENT.GetTypeByEquipmentName,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.b=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,equipmentName:t},c.a.EQUIPMENT.FetchPowerSource,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,equipmentName:t},c.a.EQUIPMENT.FetchPlugLoad,i.b.EQUIP)];case 1:return[2,n.sent()]}})})};var i=n(7),a=n(6),c=n(5),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function o(e){try{s(i.next(e))}catch(e){c(e)}}function r(e){try{s(i.throw(e))}catch(e){c(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,r)}s((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,a,c,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}}},787:function(e,t,n){"use strict";t.b=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(o){switch(o.label){case 0:return[4,Object(c.f)({model:e,buildingName:t,isEdit:n},c.a.DEVICES.UPDATEDEVICE,i.b.POINT).then(function(){Object(a.b)("Device "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Device.")})];case 1:return[2,o.sent()]}})})},t.e=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.DEVICES.GETDEVICEDETAIL,i.b.POINT,t)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({DeviceID:e,buildingName:t},c.a.DEVICES.CheckDeviceID,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.f=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,Object(c.e)({},c.a.DEVICES.GETDEVICETYPELIST,i.b.POINT)];case 1:return[2,e.sent()]}})})},t.g=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({newEquipmentType:e,buildingName:t},c.a.DEVICES.SaveEquipmentType,i.b.POINT).then(function(){Object(a.b)("New Equipment Type Added Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving New Equipment type.")})];case 1:return[2,n.sent()]}})})},t.d=function(e,t){return r(this,void 0,void 0,function(){var n,a,l,u,d,h;return s(this,function(m){switch(m.label){case 0:return t?[4,function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(a){switch(a.label){case 0:return[4,Object(c.e)({buildingName:e,pointName:t,deviceName:n},c.a.DEVICES.GETDEVICEDETAIL,i.b.POINT)];case 1:return[2,a.sent()]}})})}(t,null,e)]:[2];case 1:return n=m.sent(),a=Object(),n&&n.length>0&&(l=n[0],a.monitoringControl=Object(o.g)(l.moncondevice),a.monitoringControlDeviceType=Object(o.g)(l.moncontype),a.deviceName=Object(o.g)(l.moncondevice),a.deviceID=Object(o.g)(l.deviceID),a.rdfsLabel=Object(o.g)(l.rdfsLabel),a.manufacturer=Object(o.g)(l.manufacturer),a.model=Object(o.g)(l.model),a.graphURL=Object(o.g)(l.graphURL),a.location=Object(o.g)(l.location),a.floor=Object(o.g)(l.floor),a.connectionType=Object(o.g)(l.connectiontype),a.notes=Object(o.g)(l.notes),a.setpointRangeFrom=Object(o.g)(l.setpointRangeFrom),a.setpointRangeTo=Object(o.g)(l.setpointRangeTo),a.createdby=Object(o.g)(l.createdby),a.adminPassword=Object(o.g)(l.adminPassword),a.onitUrlLink=Object(o.g)(l.onitUrlLink),u=[],l.relatedEquipment&&l.relatedEquipment.value&&(u=l.relatedEquipment.value.indexOf(",")>0?l.relatedEquipment.value.split(","):[l.relatedEquipment.value]),a.relatedEquipment=u.map(function(e,t){return{label:e,value:e}}),d=[],l.strategy&&l.strategy.value&&(d=l.strategy.value.indexOf(",")>0?l.strategy.value.split(","):[l.strategy.value]),a.strategy=d.map(function(e,t){return{label:e,value:e}}),h=[],l.sensors&&l.sensors.value&&(h=l.sensors.value.indexOf(",")>0?l.sensors.value.split(","):[l.sensors.value]),a.sensors=h.map(function(e,t){return{label:e,value:e}}),a.isExisting="false"!=Object(o.g)(l.isExisting),a.wirelessConfig={ipAddress:Object(o.g)(l.ipaddress),controllerIPAddress:Object(o.g)(l.controllerIPAddress),thermostatMacAddress:Object(o.g)(l.macaddress),ssid:Object(o.g)(l.ssid),password:Object(o.g)(l.password)},a.isSchedule="true"==Object(o.g)(l.isSchedule)),[2,a]}})})},t.c=function(e){return r(this,void 0,void 0,function(){var t,n,i,a;return s(this,function(c){if(t=[],e.length>0)for(n=0;n<e.length;n++)i=Object(),a=e[n],i.aa_DeviceName=a.moncontype,i.ab_DeviceID=a.deviceID,i.ac_Manufacturer=a.manufacturer,i.ad_Model=a.model,i.ba_Floor=a.rdfsLabelFloor,i.bb_FloorCode=a.floor,i.bc_Space=a.rdfsLabelLocation,i.bd_SpaceCode=a.location,i.ca_Equipment=a.rdfsLabel,i.cb_Equipmentcode=a.moncondevice,i.cc_Connection=a.connectiontype,i.cd_OnitUrlLink=a.onitUrlLink,t.push(i);return[2,t]})})};var i=n(7),a=n(6),c=n(5),o=n(8),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function o(e){try{s(i.next(e))}catch(e){c(e)}}function r(e){try{s(i.throw(e))}catch(e){c(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,r)}s((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,a,c,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}}},793:function(e,t,n){"use strict";t.o=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.DEVICES.FetchInsights_Export,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.n=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.DEVICES.FetchInsights,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.k=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.DEVICES.FetchInsightExportData,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.l=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({Moncon:e},a.a.DEVICES.FetchInsightInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.x=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({Moncon:e,InsightInfo:t,Old_InsightInfo:n},a.a.DEVICES.PostInsightChanges,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.m=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.e)({buildingName:e,insightName:t,isBuilding:n},a.a.DEVICES.FetchInsightSchedule,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.C=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({model:e,buildingName:t,isBuilding:n},a.a.DEVICES.SaveInsightSchedule,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.B=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({model:e,buildingName:t,isBuilding:n},a.a.DEVICES.ResetInsightSchedule,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.h=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({Moncon:e},a.a.DEVICES.FetchCeilingSensorBoardInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.v=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({Moncon:e,ceilingSensorBoardInfo:t,Old_CeilingSensorBoardInfo:n},a.a.DEVICES.PostCeilingSensorBoardChanges,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.e=function(e,t,n,r){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({model:e,buildingName:t,insightName:n,spaceName:r},a.a.DEVICES.SaveADP,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.g=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({model:e},a.a.DEVICES.SaveRelayADP,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.a=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({building:e,device:t},a.a.DEVICES.GetRelayADP,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.p=function(e){return c(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,Object(a.d)(a.a.DEVICES.GetIntesisHomeConfig,"buildingName="+e)];case 1:return(t=n.sent())&&t[0]?[2,t[0]]:[2,void 0]}})})},t.y=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({DeviceID:e,serviceName:t,serviceValue:n},a.a.DEVICES.PostIntesisChanges,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.u=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({buildingName:e,DeviceID:t,services:n},a.a.DEVICES.GetIntesisData,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.c=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.DEVICES.GetIntesisHomeCredentials,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.f=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({buildingName:e,clientID:t,clientSecret:n},a.a.DEVICES.SaveIntesisHomeCredentials,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.E=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({InsightName:e,isSchedule:t},a.a.DEVICES.SaveScheduleSelected,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.b=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({deviceID:e,from:t,to:n},a.a.DEVICES.GetIntesisGraphData,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.d=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({deviceName:e,from:t,to:n},a.a.DEVICES.GetRelayGraphData,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.i=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({InsightName:e},a.a.DEVICES.GetDeviceADP,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.r=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({spaceName:e},a.a.DEVICES.GetSpaceADP,i.b.POINT)];case 1:return[2,t.sent()]}})})},t.s=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({Moncon:e},a.a.DEVICES.FetchV4RelayBoardInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.A=function(e,t,n,r){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(a.f)({Moncon:e,isSetAll:t,isSetOn:n,relayNo:r},a.a.DEVICES.PostV4RelayBoardChanges,i.b.POINT)];case 1:return[2,c.sent()]}})})},t.j=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({Moncon:e},a.a.DEVICES.FetchI1RelayBoardInfo,i.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.w=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({Moncon:e,isSetOn:t},a.a.DEVICES.PostI1RelayBoardChanges,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.q=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({building:e,device:t},a.a.DEVICES.FetchRelayCensorStatus,i.b.POINT,!0)];case 1:return[2,n.sent()]}})})},t.z=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({Moncon:e,model:t},a.a.DEVICES.PostRelayBoardOptimizeSettings,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.D=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({building:e,relayCensorStatus:t},a.a.DEVICES.SaveRelayCensorStatus,i.b.POINT)];case 1:return[2,n.sent()]}})})},t.t=function(e){var t=Object();t.activestage=0,t.availablemodes=0,t.away=0,t.cooltemp=0,t.cooltempmax=0,t.cooltempmin=0,t.fan=0,t.fanstate=0,t.heattemp=0,t.heattempmax=0,t.heattempmin=0,t.mode=0,t.schedule=0,t.schedulepart=0,t.spacetemp=0,t.state=0,t.tempunits=0,t.name="";for(var n=0;n<e.length;n++){var i=e[n];t.cooltemp+=i.cooltemp?i.cooltemp:0,t.cooltempmax+=i.cooltempmax?i.cooltempmax:0,t.cooltempmin+=i.cooltempmin?i.cooltempmin:0,t.fan+=i.fan?i.fan:0,t.fanstate+=i.fanstate?i.fanstate:0,t.heattemp+=i.heattemp?i.heattemp:0,t.heattempmax+=i.heattempmax?i.heattempmax:0,t.heattempmin+=i.heattempmin?i.heattempmin:0,t.mode+=i.mode?i.mode:0,t.schedule+=i.schedule?i.schedule:0,t.schedulepart+=i.schedulepart?i.schedulepart:0,t.spacetemp+=i.spacetemp?i.spacetemp:0,t.activestage+=i.activestage?i.activestage:0,t.availablemodes+=i.availablemodes?i.availablemodes:0,t.away+=i.away?i.away:0,t.state+=i.state?i.state:0,t.tempunits+=i.tempunits?i.tempunits:0,"THERMOSTAT"==i.name&&(t.name=i.name?i.name:"")}var a=e.length;return t.cooltemp=t.cooltemp/a,t.cooltempmax=t.cooltempmax/a,t.cooltempmin=t.cooltempmin/a,t.fan=t.fan/a,t.fanstate=t.fanstate/a,t.heattemp=t.heattemp/a,t.heattempmax=t.heattempmax/a,t.heattempmin=t.heattempmin/a,t.mode=t.mode/a,t.schedule=t.schedule/a,t.schedulepart=t.schedulepart/a,t.spacetemp=t.spacetemp/a,t.activestage=t.activestage/a,t.availablemodes=t.availablemodes/a,t.away=t.away/a,t.state=t.state/a,t.tempunits=t.tempunits/a,t};var i=n(7),a=n(5),c=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function o(e){try{s(i.next(e))}catch(e){c(e)}}function r(e){try{s(i.throw(e))}catch(e){c(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,r)}s((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,a,c,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}}},837:function(e,t,n){"use strict";var i=n(2),a=(n.n(i),n(22)),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.InsightName,n=e.buildingName,c=e.instance,o=e.ControlName,r=e.type;this.state;return i.createElement(i.Fragment,null,i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 "},i.createElement("ul",{className:"nav nav-tabs"},i.createElement("li",{className:window.location.hash.indexOf("/"+r+"/"+o+"/")>-1?"active":""},i.createElement(a.b,{to:"/"+c+"/"+n+"/Insights/"+r+"/"+o+"/"+t},"Current Values")),"Optimal"!=r&&i.createElement(i.Fragment,null,i.createElement("li",{className:window.location.hash.indexOf("Schedule")>-1?"active":""},i.createElement(a.b,{to:"/"+c+"/"+n+"/Insights/"+r+"/Schedule/"+o+"/"+t},"Schedule")),i.createElement("li",{className:window.location.hash.indexOf("Alarms")>-1?"active":""},i.createElement(a.b,{to:"/"+c+"/"+n+"/Insights/"+r+"/Alarms/"+o+"/"+t},"Alarms"))),i.createElement("li",{className:window.location.hash.indexOf("Graphs")>-1?"active":""},i.createElement(a.b,{to:"/"+c+"/"+n+"/Insights/"+r+"/Graphs/"+o+"/"+t},"Graphs")),i.createElement("li",{className:window.location.hash.indexOf("ADP")>-1?"active":""},i.createElement(a.b,{to:"/"+c+"/"+n+"/Insights/"+r+"/ADP/"+o+"/"+t},"ADP"))))))},t}(i.Component);t.a=o},877:function(e,t,n){"use strict";var i,a,c,o,r,s,l;n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return m}),function(e){e[e.OFF=0]="OFF",e[e.HEAT=1]="HEAT",e[e.COOL=2]="COOL",e[e.AUTO=3]="AUTO"}(i||(i={})),function(e){e[e.Idle=0]="Idle",e[e.HEATING=1]="HEATING",e[e.COOLING=2]="COOLING",e[e.LOCKOUT=3]="LOCKOUT",e[e.ERROR=4]="ERROR"}(a||(a={})),function(e){e[e.AUTO=0]="AUTO",e[e.ON=1]="ON"}(c||(c={})),function(e){e[e.Fahrenheit=0]="Fahrenheit",e[e.Celsius=1]="Celsius"}(o||(o={})),function(e){e[e.Fahrenheit=0]="Fahrenheit",e[e.Celsius=1]="Celsius"}(r||(r={})),function(e){e[e.occupied1=0]="occupied1",e[e.occupied2=1]="occupied2",e[e.occupied3=2]="occupied3",e[e.unoccupied=3]="unoccupied",e[e.inactive=255]="inactive"}(s||(s={})),function(e){e[e.Home=0]="Home",e[e.Away=1]="Away"}(l||(l={}));var u,d;!function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON"}(u||(u={})),function(e){e[e.AllModes=0]="AllModes",e[e.HeatCoolOnly=1]="HeatCoolOnly",e[e.HeatOnly=2]="HeatOnly",e[e.CoolOnly=3]="CoolOnly"}(d||(d={}));var h=[{value:"VeryBySchedule",label:"Vary by Schedule"},{value:"PreChill",label:"Pre-Chill"},{value:"SelectiveDispatch",label:"Selective Dispatch"},{value:"OccupancySensing",label:"Occupancy Sensing"},{value:"Optimize-NoOccupancy",label:"Optimize - No Occupancy"},{value:"Optimize-ScheduledUse",label:"Optimize - Scheduled Use"},{value:"Optimize-Occupancy",label:"Optimize - Occupancy"},{value:"Optimize-Sensing",label:"Optimize - Sensing"}],m=[{ontology:"",season:"COOLING",occType:"UNOCCUPIED",defaultTargetTemp:"85.0",fanSetting:"MEET_TURNOVER_REQTS",warmLittleTemp:"5.0",warmLittleHowBad:"5.0",warmLotTemp:"10.0",warmLotHowBad:"10.0",warmHardLimitTemp:"100.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"10.0",coolLotHowBad:"8.0",coolHardLimitTemp:"60.0"},{ontology:"",season:"COOLING",occType:"OCCUPIED",defaultTargetTemp:"70.0",fanSetting:"AUTO_HI",warmLittleTemp:"2.0",warmLittleHowBad:"3.0",warmLotTemp:"8.0",warmLotHowBad:"8.0",warmHardLimitTemp:"80.0",coolLittleTemp:"2.0",coolLittleHowBad:"3.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"60.0"},{ontology:"",season:"COOLING",occType:"SEMI",defaultTargetTemp:"75.0",fanSetting:"MEET_TURNOVER_REQTS",warmLittleTemp:"5.0",warmLittleHowBad:"5.0",warmLotTemp:"10.0",warmLotHowBad:"10.0",warmHardLimitTemp:"90.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"10.0",coolLotHowBad:"8.0",coolHardLimitTemp:"60.0"},{ontology:"",season:"COOLING",occType:"SHUTDOWN",defaultTargetTemp:"90.0",fanSetting:"AUTO_LO",warmLittleTemp:"10.0",warmLittleHowBad:"5.0",warmLotTemp:"20.0",warmLotHowBad:"10.0",warmHardLimitTemp:"110.0",coolLittleTemp:"10.0",coolLittleHowBad:"5.0",coolLotTemp:"20.0",coolLotHowBad:"10.0",coolHardLimitTemp:"45.0"},{ontology:"",season:"HEATING",occType:"UNOCCUPIED",defaultTargetTemp:"55.0",fanSetting:"AUTO_HI",warmLittleTemp:"10.0",warmLittleHowBad:"5.0",warmLotTemp:"20.0",warmLotHowBad:"10.0",warmHardLimitTemp:"100.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"10.0",coolLotHowBad:"10.0",coolHardLimitTemp:"40.0"},{ontology:"",season:"HEATING",occType:"OCCUPIED",defaultTargetTemp:"68.0",fanSetting:"AUTO_HI",warmLittleTemp:"2.0",warmLittleHowBad:"3.0",warmLotTemp:"5.0",warmLotHowBad:"8.0",warmHardLimitTemp:"90.0",coolLittleTemp:"2.0",coolLittleHowBad:"3.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"55.0"},{ontology:"",season:"HEATING",occType:"SEMI",defaultTargetTemp:"65.0",fanSetting:"AUTO_HI",warmLittleTemp:"5.0",warmLittleHowBad:"5.0",warmLotTemp:"8.0",warmLotHowBad:"8.0",warmHardLimitTemp:"90.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"50.0"},{ontology:"",season:"HEATING",occType:"SHUTDOWN",defaultTargetTemp:"50.0",fanSetting:"AUTO_HI",warmLittleTemp:"10.0",warmLittleHowBad:"5.0",warmLotTemp:"20.0",warmLotHowBad:"10.0",warmHardLimitTemp:"100.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"40.0"}]}});