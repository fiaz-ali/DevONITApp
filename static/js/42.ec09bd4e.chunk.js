webpackJsonp([42],{1472:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(650)),s=n(708),i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function c(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}l((a=a.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,a,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&s[0]?a.return:s[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,s[1])).done)return o;switch(a=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,a=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],a=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=function(e){function t(t){var n=e.call(this,t)||this;return n.state={inspectionVisibility:Object(),otherNotes:"",otherCompleted:!1,otherInspectionOntology:[],otherInspectionOntologies:"",entityName:""},n.handleWorkflowChange=n.handleWorkflowChange.bind(n),n.handleOtherCompletion=n.handleOtherCompletion.bind(n),n.handleNotes=n.handleNotes.bind(n),n}return i(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;e.inspectionVisibility&&e.entityName&&this.setState({inspectionVisibility:e.inspectionVisibility,entityName:e.entityName},function(){return c(t,void 0,void 0,function(){return l(this,function(e){return[2]})})})},t.prototype.componentDidMount=function(){return c(this,void 0,void 0,function(){var e=this;return l(this,function(t){return this.props.inspectionVisibility&&this.props.entityName&&this.setState({inspectionVisibility:this.props.inspectionVisibility,entityName:this.props.entityName},function(){return c(e,void 0,void 0,function(){return l(this,function(e){return[2]})})}),[2]})})},t.prototype.handleWorkflowChange=function(e){this.state.otherCompleted;e.target.checked?document.getElementById("btnOtherNotes_"+this.props.entityName).click():document.getElementById("btnOtherNotesCancel_"+this.props.entityName).click()},t.prototype.handleNotes=function(e){var t=this.state.otherNotes;t=e.target.value,this.setState({otherNotes:t})},t.prototype.handleOtherCompletion=function(e){return c(this,void 0,void 0,function(){var t,n,a,o,i,c=this;return l(this,function(l){switch(l.label){case 0:return t=this.state,n=t.otherInspectionOntology,a=t.inspectionVisibility,o=t.otherNotes,e?this.props.inspectionOntology&&this.props.entityName?(!!n.find(function(e){return e==c.props.inspectionOntology})||n.push(this.props.inspectionOntology),[4,Object(s.j)(this.props.entityName,n,o,e)]):[3,2]:[3,3];case 1:l.sent(),l.label=2;case 2:return a.OtherCompleted=e,this.setState({otherInspectionOntology:n,inspectionVisibility:a,otherCompleted:!0}),[3,5];case 3:if(!this.props.inspectionOntology)return[3,5];if(!(n&&n.length>0))return[3,5];for(i=0;i<n.length;i++)n[i]==this.props.inspectionOntology&&n.splice(i,1);return[4,Object(s.b)(this.props.entityName,n,o,e)];case 4:l.sent(),a.OtherCompleted=e,this.setState({otherInspectionOntology:n,inspectionVisibility:a,otherCompleted:!1}),l.label=5;case 5:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props.workflow,n=this.state.inspectionVisibility;return a.createElement(a.Fragment,null,a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Inspections"),t.ecm&&n&&a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-sm-3 col-xs-6 padding-5"},"ECM:"),t.ecm&&n.showECM&&a.createElement("div",{className:"col-md-3 col-sm-7 col-xs-3"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"ecm",className:"switch1",onChange:function(e){},checked:n.ECMCompleted,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),t.rcx&&n&&a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-sm-3 col-xs-6 padding-5"},"RCX:"),t.rcx&&n.showRCX&&a.createElement("div",{className:"col-md-3 col-sm-7 col-xs-3"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"rcx",className:"switch1",onChange:function(e){},checked:n.RCXCompleted,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),t.ca&&n&&a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-sm-3 col-xs-6 padding-5"},"CA:"),t.ca&&n.showCA&&a.createElement("div",{className:"col-md-3 col-sm-7 col-xs-3"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"ca",className:"switch1",onChange:function(e){},checked:n.CACompleted,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),t.other&&a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-sm-3 col-xs-6 padding-5"},t.otherName?t.otherName:"Other",":"),t.other&&a.createElement("div",{className:"col-md-3 col-sm-7 col-xs-3"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"otherCompleted",className:"switch1",onChange:function(t){e.handleWorkflowChange(t)},checked:n.OtherCompleted,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("button",{id:"btnOtherNotes_"+this.props.entityName,style:{display:"none"},"data-toggle":"modal","data-target":"#OtherNotesDialog"+this.props.entityName},"."),a.createElement(o.a,{id:"OtherNotesDialog"+this.props.entityName,onSaveButtonClick:function(){e.props.entityName&&e.handleOtherCompletion(!0)},saveButtonText:"Save",showCancelButton:!0,showSaveButton:!0,cancelButtonText:"Cancel",heading:"Notes"},a.createElement("textarea",{className:"form-control",name:"otherNotes",onChange:function(t){e.handleNotes(t)}})," "),a.createElement("button",{id:"btnOtherNotesCancel_"+this.props.entityName,style:{display:"none"},"data-toggle":"modal","data-target":"#OtherNotesDialogCancel"+this.props.entityName},"."),a.createElement(o.a,{id:"OtherNotesDialogCancel"+this.props.entityName,onSaveButtonClick:function(){e.props.entityName&&e.handleOtherCompletion(!1)},saveButtonText:"Yes",showCancelButton:!0,showSaveButton:!0,cancelButtonText:"Cancel",heading:"Confirm"},a.createElement("label",{htmlFor:""},"Are you sure to cancel this completion")))},t}(a.Component);t.a=r},1473:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){this.props,this.state;return a.createElement(a.Fragment,null,a.createElement("div",{className:"content"},a.createElement("div",{className:"row thumbnail no-margin"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 center"},a.createElement("div",{className:"col-md-8 col-sm-8 col-xs-8 no-padding"},a.createElement("label",{style:{color:"#B0B0B0"}},"Inspection Complete")),a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4 no-padding"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"ecm",className:"switch1",onChange:function(e){},checked:!0,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 center"},a.createElement("div",{className:"col-md-8 col-sm-8 col-xs-8 no-padding"},a.createElement("label",{style:{color:"#B0B0B0"}}," Not Complete")),a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4 no-padding"},a.createElement("label",{className:"switch-container pull-right"},a.createElement("input",{name:"ecm",className:"switch1",onChange:function(e){},checked:!1,type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))))))},t}(a.Component);t.a=s},3253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(2),s=(n.n(o),n(116)),i=n(652),c=n(676),l=n(657),r=n(1252),p=n(23),u=n(667),m=n(10),d=n(20),h=n(770),f=n(1472),g=n(1473),b=n(11),v=n(658),y=n(839),E=n(720),N=n(668),w=n(669),C=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),O=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function c(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}l((a=a.apply(e,t||[])).next())})},S=this&&this.__generator||function(e,t){var n,a,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&s[0]?a.return:s[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,s[1])).done)return o;switch(a=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,a=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],a=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},k=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,c=s.length;i<c;i++,o++)a[o]=s[i];return a},x=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_spaces:[],filteredSpaces:[],sortOrder:1,newLocation:Object(),spaceToDelete:Object(),isEdit:!1,workFlowSpaceList:[],inspectionOntology:"",workflow:Object(),selectedSpaceState:"",search:"",matterportImageModel:[],selectedFloor:"",isDelete:!1,filteredSpaceOntolgies:[],showLogs:!1},n.sortSpace=n.sortSpace.bind(n),n.populateInspectionsList=n.populateInspectionsList.bind(n),n.unpopulateInspectionsList=n.unpopulateInspectionsList.bind(n),n.fetchWorkflow=n.fetchWorkflow.bind(n),n.search_filter=n.search_filter.bind(n),n.fetchMatterportImage=n.fetchMatterportImage.bind(n),n.handleBimSpaceClick=n.handleBimSpaceClick.bind(n),n.filterFloorPlan=n.filterFloorPlan.bind(n),n}return C(t,e),t.prototype.componentWillUnmount=function(){return O(this,void 0,void 0,function(){return S(this,function(e){return clearInterval(a),[2]})})},t.prototype.componentDidMount=function(){return O(this,void 0,void 0,function(){var e=this;return S(this,function(t){switch(t.label){case 0:return this.props.buildingName?(Object(s.a)(!0),[4,this.fetchSpaces()]):[3,3];case 1:return t.sent(),[4,this.fetchMatterportImage()];case 2:t.sent(),a=setInterval(function(){var t=Object(y.a)("inspectionOntology"),n=Object(y.a)("spacesWorkFlows");n&&n.length?e.state.inspectionOntology!=t&&e.setState({workFlowSpaceList:n,inspectionOntology:t},function(){return O(e,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return[4,this.fetchWorkflow()];case 1:return e.sent(),this.populateInspectionsList(),[2]}})})}):e.setState({workFlowSpaceList:n},function(){e.unpopulateInspectionsList()})},1e3),Object(s.a)(!1),t.label=3;case 3:return[2]}})})},t.prototype.handleBimSpaceClick=function(e,t,n){var a=this.props,o=a.instance,s=a.buildingName;t?window.location.hash=o+"/"+s+"/BimSpace/"+n+"/"+Object(m.g)(e.space):e.virtualBIM?this.setState({selectedFloor:e.floor.value}):window.location.hash=o+"/"+s+"/BimSpace/"+Object(m.g)(e.floor)+"/"+Object(m.g)(e.space)},t.prototype.fetchMatterportImage=function(){return O(this,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return[4,Object(E.b)(this.props.buildingName)];case 1:return e=t.sent(),this.setState({matterportImageModel:e}),[2]}})})},t.prototype.fetchWorkflow=function(){return O(this,void 0,void 0,function(){var e,t,n,a=this;return S(this,function(o){switch(o.label){case 0:return e=this.state,t=e.workflow,n=e.inspectionOntology,this.props.buildingName&&n?[4,Object(h.k)(this.props.buildingName,n).then(function(e){return O(a,void 0,void 0,function(){var n,a,o;return S(this,function(s){return e&&e.length&&Object(m.g)(e[0].ontology)&&(n=e[0],a=Object(m.g)(n.dateOfStart),o=Object(m.g)(n.finishDate),t.ca="true"==Object(m.g)(n.ca),t.ecm="true"==Object(m.g)(n.ecm),t.rcx="true"==Object(m.g)(n.rcx),t.other="true"==Object(m.g)(n.other),t.dateOfStart=a,t.description=Object(m.g)(n.description),t.finishDate=o,t.lead=Object(m.g)(n.lead),t.ontology=Object(m.g)(n.ontology),t.otherName=Object(m.g)(n.otherName)),this.setState({workflow:t}),[2]})})})]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.fetchSpaces=function(){return O(this,void 0,void 0,function(){var e,t,n=this;return S(this,function(a){switch(a.label){case 0:return Object(s.a)(!0),e=JSON.parse(b.a.getItem("user")),[4,Object(v.u)(this.props.buildingName)];case 1:return t=a.sent(),[4,Object(l.h)(this.props.buildingName).then(function(a){return O(n,void 0,void 0,function(){var n,o,s,i,c=this;return S(this,function(l){if(""==Object(m.g)(a[0].space)&&(a=[]),"4"==e.role)if(n=t.filter(function(t){return t.tenant.value==e.contact})){for(o=[],s=function(e){var t=n[e];if(t&&t.space.value&&!o.find(function(e){return e.space.value==t.space.value})){var s=a.find(function(e){return e.space.value==t.space.value});o.push(s)}},i=0;i<n.length;i++)s(i);this.setState({_spaces:o,filteredSpaces:o})}else this.setState({_spaces:[]});else this.setState({_spaces:a,filteredSpaces:a},function(){return O(c,void 0,void 0,function(){var e,t;return S(this,function(n){for(this.filterFloorPlan(),e=0;e<a.length;e++)t=a[e],Object(m.g)(t.space)&&Object(m.g)(t.rdfsLabel)&&Object(p.C)(Object(m.g)(t.space),Object(m.g)(t.rdfsLabel));return[2]})})});return[2]})})}).catch(function(e){return e})];case 2:return a.sent(),Object(s.a)(!1),[2]}})})},t.prototype.populateInspectionsList=function(){return O(this,void 0,void 0,function(){var e,t,n,a,o;return S(this,function(i){switch(i.label){case 0:return e=this.state,t=e._spaces,n=e.workFlowSpaceList,a=e.inspectionOntology,Object(s.a)(!0),[4,Object(h.e)(n,t,a)];case 1:return o=i.sent(),this.setState({_spaces:k(o)},function(){Object(s.a)(!1)}),[2]}})})},t.prototype.unpopulateInspectionsList=function(){return O(this,void 0,void 0,function(){var e,t;return S(this,function(n){for(e=this.state._spaces,t=0;t<e.length;t++)e[t].inspectionVisibility={CACompleted:!1,ECMCompleted:!1,RCXCompleted:!1,showCA:!1,showECM:!1,showRCX:!1};return this.setState({_spaces:e}),[2]})})},t.prototype.sortSpace=function(e,t){var n=this.state._spaces,a=this.state.sortOrder,o=n.sort(function(t,n){if(t&&n){var o="",s="";switch(e){case"Space":t.rdfsLabel&&n.rdfsLabel&&(o=t.rdfsLabel.value,s=n.rdfsLabel.value);break;case"Floor":t.floorLabel&&n.floorLabel&&(o=t.floorLabel.value,s=n.floorLabel.value);break;case"Type":t.type&&n.type&&(o=t.type.value,s=n.type.value);break;case"Virtual BIM":t.virtualBIM&&n.virtualBIM&&(o=t.virtualBIM.value,s=n.virtualBIM.value);break;case"CAD BIM":t.cadBIM&&n.cadBIM&&(o=t.cadBIM.value,s=n.cadBIM.value)}var i=0;return o.toLocaleLowerCase()<s.toLocaleLowerCase()?i=-1:o.toLocaleLowerCase()>s.toLocaleLowerCase()&&(i=1),i*a}});this.setState({_spaces:o,sortOrder:-1*a})},t.prototype.onDeleteSpace=function(e){return O(this,void 0,void 0,function(){return S(this,function(t){return this.setState({spaceToDelete:e,isDelete:!0}),[2]})})},t.prototype.deleteSpace=function(){return O(this,void 0,void 0,function(){var e,t=this;return S(this,function(n){return e=this.state.spaceToDelete,this.setState({isDelete:!1},function(){return O(t,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return[4,Object(p.e)(e.space.value,d.b.SPACE)];case 1:return t.sent(),[4,this.fetchSpaces()];case 2:return t.sent(),[4,Object(r.c)(e.space.value)];case 3:return t.sent(),[2]}})})}),[2]})})},t.prototype.search_filter=function(e){return O(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return[4,this.setState({search:e.target.value})];case 1:return t.sent(),[2]}})})},t.prototype.filterFloorPlan=function(){return O(this,void 0,void 0,function(){var e,t,n,a,o;return S(this,function(s){switch(s.label){case 0:if(!((e=this.state.filteredSpaces)&&e.length>0))return[3,5];for(t=[],n=[],a=0;a<e.length;a++)t.push(Object(m.g)(e[a].space));a=0,s.label=1;case 1:return a<t.length?[4,Object(r.e)(this.props.buildingName,"",t[a])]:[3,4];case 2:(o=s.sent())&&o.length>0&&n.push(t[a]),s.label=3;case 3:return a++,[3,1];case 4:this.setState({filteredSpaceOntolgies:n}),s.label=5;case 5:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t._spaces,a=t.workflow,s=t.filteredSpaces,l=t.selectedSpaceState,r=t.search,p=t.inspectionOntology,d=t.matterportImageModel,h=t.filteredSpaceOntolgies,v=t.selectedFloor,y=t.isDelete,E=t.showLogs,C=this.props,O=C.instance,S=C.buildingName,k=!!p,x=s.filter(function(e){return Object(m.g)(e.rdfsLabel).toLowerCase().includes(r.toLowerCase().trim())}),_=JSON.parse(b.a.getItem("user")),j=Object(u.b)(_,"info-space","write");return E?o.createElement(N.a,{instance:O,buildingName:S,fromEntityList:!0,module:w.a.Assets,entityName:"Space",entityList:n.map(function(e){return{label:Object(m.g)(e.rdfsLabel),value:Object(m.g)(e.space)}}),onLogClose:function(){return e.setState({showLogs:!1})}}):o.createElement("div",{className:"content",style:{paddingTop:"0px"}},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"padding-5"},o.createElement("div",{className:"col-md-7 col-sm-12 col-xs-12 no-padding",style:{display:"inline-flex"}},o.createElement("div",{className:"col-md-4 col-xs-12 px-0"},o.createElement("h6",{className:"trim-data",style:{marginTop:"10px"}},"Space State:")),o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("select",{className:"form-control",id:"pointState",name:"pointState",onChange:function(t){e.setState({selectedSpaceState:t.target.value,filteredSpaces:t.target.value?n.filter(function(e){return Object(m.g)(e.locationState)==t.target.value}):n})},value:l||""},o.createElement("option",{value:""},"Select Space State"),o.createElement("option",{value:"Planned"},"Planned"),o.createElement("option",{value:"Ordered"},"Ordered"),o.createElement("option",{value:"InInventory"},"In Inventory"),o.createElement("option",{value:"ReleasedForInstall"},"Released for Install"),o.createElement("option",{value:"Installed"},"Installed"),o.createElement("option",{value:"Testing"},"Testing"),o.createElement("option",{value:"Existing"},"Existing"),o.createElement("option",{value:"Retired"},"Retired"),o.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),o.createElement("option",{value:"Sold"},"Sold"))),o.createElement("div",{className:"col-md-4 col-xs-12 px-0"},o.createElement("h6",{style:{marginTop:"10px"}},"Filter: \xa0")),o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("input",{style:{outline:"green"},className:"form-control pull-right",onChange:function(t){e.search_filter(t)},id:"myInput",type:"text",placeholder:"Search.."}))),k&&o.createElement("div",{className:"col-md-5 no-padding"},o.createElement(g.a,null)),o.createElement("div",{className:""},_&&"1"==_.role&&o.createElement("button",{className:"btn btn-md btn-primary btn-fill pull-right",style:{marginLeft:5},title:"Logs",onClick:function(){e.setState({showLogs:!0})}}," ",o.createElement("img",{src:"assets/img/Logs.png",style:{width:25,height:18}})),o.createElement("div",{className:"dropdown pull-right"},o.createElement(c.a,{filename:"Spaces List",data:n,ElementID:"SpacesList"})),j&&o.createElement("button",{type:"button",className:"btn btn-dark pull-right",onClick:function(){window.location.hash=O+"/"+S+"/Space/SpaceForm"}},o.createElement("i",{className:"fa fa-plus"})," Create New Space "))))),o.createElement("br",null),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"card padding-10",id:"SpacesList",style:{paddingTop:"0px"}},o.createElement("div",{className:"content",style:{paddingTop:"10px"}},o.createElement("div",{className:"dataCard"},o.createElement("div",{className:"row hidden-sm hidden-xs no-padding"},o.createElement("div",{className:"col-md-12 dataCard"},o.createElement("div",{className:"col-md-2 col-sm-12 small grid-header-left",onClick:function(){return e.sortSpace("Space")}},o.createElement("i",{className:"fa fas fa-sort"})," Space "),o.createElement("div",{className:"col-md-1 col-sm-12 grid-header small",onClick:function(){return e.sortSpace("Floor")}}," ",o.createElement("i",{className:"fa fas fa-sort"}),"Floor "),o.createElement("div",{className:"col-md-1 col-sm-12 grid-header small",onClick:function(){return e.sortSpace("Type")}}," ",o.createElement("i",{className:"fa fas fa-sort"}),"Type "),o.createElement("div",{className:"col-md-3 col-sm-12 grid-header small"}," \xa0 \xa0 \xa0 Inspections"),o.createElement("div",{style:{paddingLeft:"10px"},className:"col-md-5 col-sm-12 grid-header small"},"Action"))),x.map(function(t,n){var s=d.filter(function(e){return e.floorOntology.toLowerCase().includes(Object(m.g)(t.floor).toLowerCase().trim())}),i=h.filter(function(e){return e.toLowerCase().includes(Object(m.g)(t.space).toLowerCase().trim())}),c=Object(m.g)(t.virtualBIM);return o.createElement("div",{key:n,className:"row no-padding"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-2 col-sm-12 padding-5 small grid-left trim-data pt-10",title:t.rdfsLabel&&t.rdfsLabel.value},o.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Space"),o.createElement("a",{href:"#"+O+"/"+S+"/Space/Profile/"+(t.space&&t.space.value)},t.rdfsLabel&&t.rdfsLabel.value)),o.createElement("div",{className:"col-md-1 col-sm-12 padding-5 pt-10 small grid trim-data ",title:t.floorLabel&&t.floorLabel.value},o.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Floor"),t.floorLabel&&t.floorLabel.value),o.createElement("div",{className:"col-md-1 col-sm-12 padding-5 pt-10 small grid trim-data ",title:t.type&&t.type.value},o.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Type")," ",t.type&&t.type.value),k&&o.createElement("div",{className:"col-md-3 col-sm-12 padding-5 small grid trim-data "},o.createElement(f.a,{entityName:Object(m.g)(t.space),inspectionVisibility:t.inspectionVisibility,workflow:a})),j&&o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-5 col-sm-12 col-xs-12 pull-right",style:{display:"contents"}},o.createElement("a",{className:"btn-sm btn-danger active pull-right shortcut-btn","data-toggle":"modal","data-target":"#ConfirmDeleteDialog",title:"Delete",onClick:function(n){e.onDeleteSpace(t)}},o.createElement("i",{className:"fa fa-trash"})," "),o.createElement("a",{className:"btn-sm btn-success active pull-right shortcut-btn",title:"Edit",onClick:function(){window.location.hash=O+"/"+S+"/Space/SpaceForm/"+Object(m.g)(t.space)}},o.createElement("i",{className:"fa fa-edit"})," "),o.createElement("a",{className:"pull-right equipspeclbtn","data-toggle":"collapse",href:"#equipDropdown"+n,title:"Click Me..."}," ",o.createElement("i",{style:{width:13,marginTop:4},className:"fa fa-bars"})),o.createElement("div",{style:{marginRight:22},id:"equipDropdown"+n,className:"equipDropdown panel-collapse collapse"},o.createElement("a",{className:"pull-right equipspeclbtn","data-toggle":"collapse",href:"#equipDropdown"+n,title:"Click Me..."}," ",o.createElement("i",{style:{width:13,marginTop:4},className:"fa fa-ellipsis-h"})," "),o.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Bim Space",onClick:function(){var n=s[0]&&s[0].floorplan?s[0].floorplan:s[0]&&s[0].bimImageBase?s[0].bimImageBase:"",a=s[0]?s[0].floorOntology:"";e.handleBimSpaceClick(t,n,a)},style:{border:"1px solid transparent",backgroundColor:i&&i.length>0?"#FF4C29":"#929292"},target:"_blank"},o.createElement("img",{className:"icon-img",src:"assets/img/Space3.png"})),c&&o.createElement(o.Fragment,null,o.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",onClick:function(){window.location.hash=O+"/"+S+"/Space/Matterport/"+Object(m.g)(t.space)},style:{border:"1px solid transparent",backgroundColor:"#A69888"},target:"_blank",title:"Manage Route"},o.createElement("img",{className:"icon-img",src:"assets/img/virtual-bim.png"}))),o.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Points",style:{border:"1px solid transparent",backgroundColor:"#FFC857"},onClick:function(e){window.location.hash=O+"/"+S+"/Points/Space/"+t.space.value}},o.createElement("img",{className:"icon-img",src:"assets/img/points.png"})),o.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Devices",style:{border:"1px solid transparent",backgroundColor:"#399E5A"},onClick:function(e){window.location.hash=O+"/"+S+"/Devices/Space/"+t.space.value}},o.createElement("img",{className:"icon-img",src:"assets/img/devices.png"})),o.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Zones",style:{border:"1px solid transparent",backgroundColor:"#6A0136"},onClick:function(e){window.location.hash=O+"/"+S+"/Zone/Spaces/"+t.space.value}},o.createElement("img",{className:"icon-img",src:"assets/img/zones.png"})),o.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Work",style:{border:"1px solid transparent",backgroundColor:"#5A5353"},onClick:function(e){window.location.hash=O+"/"+S+"/WorkOrders/Space/"+t.space.value}},o.createElement("img",{className:"icon-img",src:"assets/img/work2.png"})),o.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Tasks",style:{border:"1px solid transparent",backgroundColor:"#28AFB0"},onClick:function(e){window.location.hash=O+"/"+S+"/Tasks/Space/"+t.space.value}},o.createElement("img",{className:"icon-img padding-5",src:"assets/img/Tasks2.png"})),o.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Space Insights",style:{border:"1px solid transparent",backgroundColor:"#01BAEF"},onClick:function(e){window.location.hash=O+"/"+S+"/Insights/SpaceInsights/"+t.space.value}},o.createElement("img",{className:"icon-img",src:"assets/img/insight.png"})),o.createElement("a",{className:"btn-sm btn-success pull-right custom-icon-btn",title:"Alarms",style:{border:"1px solid transparent",backgroundColor:"#D80C09"},onClick:function(e){window.location.hash=O+"/"+S+"/Alarms/Space/"+t.space.value}},o.createElement("img",{className:"icon-img",src:"assets/img/alarm.png"})))))))}),o.createElement(i.a,{instance:O,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:y?"Are you sure to delete this Space?":"Click yes to add floor plan.",heading:y?"Confirm...":"No floor plan found",onConfirmButtonClick:function(){y?e.deleteSpace():window.location.hash=O+"/"+S+"/Zone/Floor/"+v+"/Matterport"}}))))))))},t}(o.Component);t.default=x}});