webpackJsonp([10],{2496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(680)),i=n(12),l=n(676),s=n(2497),r=n(20),u=n(2498),c=(n.n(u),n(2500)),p=n(2501),d=n(2502),h=n(2503),m=n(2504),v=n(2505),f=n(2506),g=n(2507),x=n(2508),y=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),b=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},w=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},D=function(e){function t(t){var n=e.call(this,t)||this,a=new Date(new Date(Date.now()).setMinutes(new Date(Date.now()).getMinutes()-30)),o=new Date(Date.now());return n.state={from:a,to:o,dashboardURL:"",insights:[],thermostats:[],i1relayDevices:[],ceilingSensors:[],intesisDevices:[],ATSDevices:[],GeneratorDevices:[],CB406Devices:[],relayV4Devices:[],CB418Devices:[],wattNodeDevices:[],loadingDevices:!0,liveGraphRange:30},n}return y(t,e),t.prototype._fetchInsights=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,s,r,u,c,p,d,h;return w(this,function(m){switch(m.label){case 0:return e=this.props.buildingName,[4,Object(l.u)(e)];case 1:return t=m.sent(),this.setState({insights:t,loadingDevices:!1}),n=(null===t||void 0===t?void 0:t.length)>1?t.filter(function(e){var t;return-1!=(null===(t=Object(i.g)(null===e||void 0===e?void 0:e.moncontype))||void 0===t?void 0:t.toLowerCase().indexOf("thermostat"))}):[],this.setState({thermostats:n}),a=(null===t||void 0===t?void 0:t.length)>1?t.filter(function(e){var t;return-1!=(null===(t=Object(i.g)(null===e||void 0===e?void 0:e.moncontype))||void 0===t?void 0:t.toLowerCase().indexOf("ceiling"))}):[],this.setState({ceilingSensors:a}),o=(null===t||void 0===t?void 0:t.length)>1?t.filter(function(e){var t;return-1!=(null===(t=Object(i.g)(null===e||void 0===e?void 0:e.moncontype))||void 0===t?void 0:t.toLowerCase().indexOf("intesis"))}):[],this.setState({intesisDevices:o}),s=(null===t||void 0===t?void 0:t.length)>1?t.filter(function(e){var t;return-1!=(null===(t=Object(i.g)(null===e||void 0===e?void 0:e.moncontype))||void 0===t?void 0:t.toLowerCase().indexOf("intesis"))}):[],this.setState({ATSDevices:s}),r=(null===t||void 0===t?void 0:t.length)>1?t.filter(function(e){var t;return-1!=(null===(t=Object(i.g)(null===e||void 0===e?void 0:e.moncontype))||void 0===t?void 0:t.toLowerCase().indexOf("generator"))}):[],this.setState({GeneratorDevices:r}),u=(null===t||void 0===t?void 0:t.length)>1?t.filter(function(e){return"CBW406"==Object(i.g)(null===e||void 0===e?void 0:e.moncontype)}):[],this.setState({CB406Devices:u}),c=(null===t||void 0===t?void 0:t.length)>1?t.filter(function(e){return"CBW418"==Object(i.g)(null===e||void 0===e?void 0:e.moncontype)}):[],this.setState({CB418Devices:c}),p=(null===t||void 0===t?void 0:t.length)>1?t.filter(function(e){var t;return-1!=(null===(t=Object(i.g)(null===e||void 0===e?void 0:e.moncontype))||void 0===t?void 0:t.toLowerCase().indexOf("relayv4"))}):[],this.setState({relayV4Devices:p}),d=(null===t||void 0===t?void 0:t.length)>1?t.filter(function(e){var t;return-1!=(null===(t=Object(i.g)(null===e||void 0===e?void 0:e.moncontype))||void 0===t?void 0:t.toLowerCase().indexOf("relayi1"))}):[],this.setState({i1relayDevices:d}),h=(null===t||void 0===t?void 0:t.length)>1?t.filter(function(e){return"WattNode"==Object(i.g)(null===e||void 0===e?void 0:e.moncontype)}):[],this.setState({wattNodeDevices:h}),[2]}})})},t.prototype.liveGraphRangeChange=function(e){var t=this,n=new Date,a=new Date;a.setMinutes(a.getMinutes()-+e),this.setState({from:a,to:n,liveGraphRange:+e,insights:[],thermostats:[],i1relayDevices:[],ceilingSensors:[],intesisDevices:[],ATSDevices:[],GeneratorDevices:[],CB406Devices:[],relayV4Devices:[],CB418Devices:[],wattNodeDevices:[]},function(){t._fetchInsights()})},t.prototype.componentDidMount=function(){return b(this,void 0,void 0,function(){var e,t;return w(this,function(n){switch(n.label){case 0:return(e=this.props.buildingName)?(t="",[4,Object(o.d)(e).then(function(e){if(e&&e.length>0){var n=e[0];t=Object(i.g)(n.dashboardLink).indexOf("ttp")>0?Object(i.g)(n.dashboardLink):"http://"+Object(i.g)(n.dashboardLink)}})]):[3,3];case 1:return n.sent(),[4,this._fetchInsights()];case 2:n.sent(),this.setState({dashboardURL:t}),n.label=3;case 3:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.from,o=t.to,l=t.loadingDevices,u=t.thermostats,y=t.i1relayDevices,b=t.ceilingSensors,w=t.intesisDevices,D=t.ATSDevices,k=t.GeneratorDevices,E=t.CB406Devices,_=t.CB418Devices,N=t.relayV4Devices,S=t.wattNodeDevices,M=t.liveGraphRange,A=this.props,F=A.buildingName,O=A.instance;return a.createElement("div",{className:"dashboard"},a.createElement("h1",{className:"dashboard-title"},Object(r.v)(F)),l?a.createElement("div",{className:"graph-box-loader full-screen"},a.createElement("div",{className:"center-object loader"})):a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-3 float-right"},a.createElement("div",{className:"col-md-5 padding-5"},a.createElement("label",{style:{color:"#fff",cursor:"none"}},"Graph Range: \xa0")),a.createElement("div",{className:"col-md-7 no-padding"},a.createElement("select",{className:"form-control",id:"pointState",name:"pointState",onChange:function(t){e.liveGraphRangeChange(t.target.value)},value:M},a.createElement("option",{value:5},"5 Minutes"),a.createElement("option",{value:15},"15 Minutes"),a.createElement("option",{value:30},"30 Minutes"),a.createElement("option",{value:60},"1 Hour"),a.createElement("option",{value:180},"3 Hours"),a.createElement("option",{value:360},"6 Hours"),a.createElement("option",{value:720},"12 Hours"),a.createElement("option",{value:1440},"24 Hours")))),a.createElement("div",{className:"graph-boxes"},null===u||void 0===u?void 0:u.map(function(e){return a.createElement(s.a,{InsightName:Object(i.g)(null===e||void 0===e?void 0:e.moncondevice),buildingName:F,instance:O,from:n,to:o,liveGraphRange:M,updateAfterMilliSeconds:15e3})}),null===b||void 0===b?void 0:b.map(function(e){return a.createElement(p.a,{InsightName:Object(i.g)(null===e||void 0===e?void 0:e.moncondevice),buildingName:F,instance:O,from:n,to:o,liveGraphRange:M,updateAfterMilliSeconds:15e3})}),null===w||void 0===w?void 0:w.map(function(e){return a.createElement(d.a,{InsightName:Object(i.g)(null===e||void 0===e?void 0:e.moncondevice),buildingName:F,instance:O,from:n,to:o,liveGraphRange:M,updateAfterMilliSeconds:15e3})}),null===D||void 0===D?void 0:D.map(function(e){return a.createElement(h.a,{InsightName:Object(i.g)(null===e||void 0===e?void 0:e.moncondevice),buildingName:F,instance:O,from:n,to:o,liveGraphRange:M,updateAfterMilliSeconds:15e3})}),null===k||void 0===k?void 0:k.map(function(e){return a.createElement(m.a,{InsightName:Object(i.g)(null===e||void 0===e?void 0:e.moncondevice),buildingName:F,instance:O,from:n,to:o,liveGraphRange:M,updateAfterMilliSeconds:15e3})}),null===E||void 0===E?void 0:E.map(function(e){return a.createElement(v.a,{InsightName:Object(i.g)(null===e||void 0===e?void 0:e.moncondevice),buildingName:F,instance:O,from:n,to:o,liveGraphRange:M,updateAfterMilliSeconds:15e3})}),null===_||void 0===_?void 0:_.map(function(e){return a.createElement(f.a,{InsightName:Object(i.g)(null===e||void 0===e?void 0:e.moncondevice),buildingName:F,instance:O,from:n,to:o,liveGraphRange:M,updateAfterMilliSeconds:15e3})}),null===N||void 0===N?void 0:N.map(function(e){return a.createElement(g.a,{InsightName:Object(i.g)(null===e||void 0===e?void 0:e.moncondevice),buildingName:F,instance:O,from:n,to:o,liveGraphRange:M,updateAfterMilliSeconds:15e3})}),null===y||void 0===y?void 0:y.map(function(e){return a.createElement(c.a,{InsightName:Object(i.g)(null===e||void 0===e?void 0:e.moncondevice),buildingName:F,instance:O,from:n,to:o,liveGraphRange:M,updateAfterMilliSeconds:15e3})}),null===S||void 0===S?void 0:S.map(function(e){return a.createElement(x.a,{InsightName:Object(i.g)(null===e||void 0===e?void 0:e.moncondevice),buildingName:F,instance:O,from:n,to:o,liveGraphRange:M,updateAfterMilliSeconds:15e3})}))))},t}(a.Component);t.default=D},2497:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(726)),i=n.n(o),l=n(668),s=n(676),r=n(769),u=n(713),c=(n.n(u),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),p=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphData:{x:"x",columns:[]},grid:{x:{lines:[{}]},y:{show:!0}},axis1:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis2:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:"",topic:""},loading:!0,lastUpdatedAt:"No data"},n._fetchData=n._fetchData.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return this._fetchData(),[2]})})},t.prototype.componentWillUnmount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.liveGraph=function(){var e,t,n,a,o,i,l,r,u;return p(this,void 0,void 0,function(){var c,p,h,m,v,f,g,x,y,b,w;return d(this,function(d){switch(d.label){case 0:return c=this.state,p=c.Moncon,h=c.graphData,m=c.axis1,v=c.grid,f=c.lastUpdatedAt,g=this.props.liveGraphRange,x=new Date,(y=new Date).setMinutes(y.getMinutes()-g),[4,Object(s.G)(p.topic,y,x,!0)];case 1:return b=d.sent(),(w=new Date(null===(e=b[0])||void 0===e?void 0:e.timestamp))>h.columns[0][h.columns[0].length-1]&&b[0]&&(null===(t=b[0])||void 0===t?void 0:t.cooltemp)&&(h.columns[0].push(w),h.columns[1].push(null===(n=b[0])||void 0===n?void 0:n.cooltemp),h.columns[2].push(null===(a=b[0])||void 0===a?void 0:a.heattemp),h.columns[3].push(null===(o=b[0])||void 0===o?void 0:o.spacetemp),h.columns[4].push(null===(i=b[0])||void 0===i?void 0:i.fan),h.columns[5].push(null===(l=b[0])||void 0===l?void 0:l.fanstate),h.columns[6].push(null===(r=b[0])||void 0===r?void 0:r.mode),h.columns[7].push(null===(u=b[0])||void 0===u?void 0:u.state),(w.getTime()-h.columns[0][2].getTime())/6e4>g&&h.columns[0].splice(1,1),m.x.tick.values[0]<h.columns[0][1]&&(m.x.tick.values.splice(0,1),v.x.lines.splice(0,1)),m.x.tick.values[2]&&m.x.tick.values[1].getTime()&&m.x.tick.values[2].getTime()-m.x.tick.values[1].getTime()<w.getTime()-m.x.tick.values[m.x.tick.values.length-1]&&(w.setSeconds(0),g>10&&w.setMinutes(w.getMinutes()-w.getMinutes()%5),m.x.tick.values.push(w),v.x.lines.push({value:w,class:"grid4"})),f=null===w||void 0===w?void 0:w.toLocaleString(),this.setState({grid:v,axis1:m,graphData:h,lastUpdatedAt:f})),[2]}})})},t.prototype._fetchData=function(){var e;return p(this,void 0,void 0,function(){var t,n,a,o,i,u,c,p,h,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A=this;return d(this,function(d){switch(d.label){case 0:return t=this.props,n=t.from,a=t.to,o=t.InsightName,i=t.buildingName,u=t.updateAfterMilliSeconds,c=this.state,p=c.grid,h=c.axis1,m=c.graphData,v=c.lastUpdatedAt,o?(f=Object(),[4,Object(l.x)(o,i)]):[3,3];case 1:return f=d.sent(),this.setState({Moncon:f}),[4,Object(s.G)(f.topic,n,a,m.columns.length>1)];case 2:return g=d.sent(),y=["Heat setpoint"],b=["Space Temp"],w=["Fan 0: Auto 1: On"],D=["Fan State 1: On"],k=["Mode 1: Heat 2: Cool 3: Auto"],E=["state"],_=["x"],(x=["Cool setpoint"]).push(null),y.push(null),b.push(null),w.push(null),D.push(null),k.push(null),E.push(null),_.push(new Date(n)),g.length>0&&(null===g||void 0===g||g.forEach(function(e){(null===e||void 0===e?void 0:e.cooltemp)&&(x.push(e.cooltemp),y.push(e.heattemp),b.push(e.spacetemp),w.push(e.fan),D.push(e.fanstate),k.push(e.mode),E.push(e.state),_.push(new Date(e.timestamp)))})),v=g.length>0?null===(e=_[_.length-1])||void 0===e?void 0:e.toLocaleString():"No Data",(m.columns.length>1||0===g.length)&&(x.push(null),y.push(null),b.push(null),w.push(null),D.push(null),k.push(null),E.push(null),_.push(new Date(a))),h.y.label="\xb0C",N=Object(r.a)(5,n,a),S="",N.length>1?(M=((new Date).getTime()-N[0].getTime())/1e3,S=(M/=3600)>24?"%m-%d %H:%M":M<.3?"%H:%M:%S":"%H:%M"):S="%H:%M:%S",p.x.lines=[],N.forEach(function(e){p.x.lines.push({value:e,class:"grid4"})}),m={x:"x",columns:[_,x,y,b,w,D,k,E],axes:{"Fan 0: Auto 1: On":"y2","Fan State 1: On":"y2","Mode 1: Heat 2: Cool 3: Auto":"y2",state:"y2"}},h={x:{type:"timeseries",tick:{fit:!1,count:5,values:N,format:S}},y:{label:{text:"Temperature \xb0F",position:"outer-middle"},tick:{fit:!0,values:[0,20,40,60,80,100],count:6,format:function(e){return parseFloat(e).toFixed(1)}},max:100,min:0},y2:{show:!0,label:{text:"State, Mode, Fan, Fan State",position:"outer-middle"},tick:{fit:!0,values:[0,1,2],count:6,format:function(e){return parseFloat(e).toFixed(0)}},max:2,min:0}},this.setState({grid:p,axis1:h,graphData:m,loading:!1,lastUpdatedAt:v},function(){setInterval(function(){A.liveGraph()},u)}),[3,4];case 3:this.setState({loading:!1},function(){setInterval(function(){A.liveGraph()},u)}),d.label=4;case 4:return[2]}})})},t.prototype.render=function(){var e=this.state,t=e.Moncon,n=e.loading,o=e.graphData,l=e.axis1,s=e.grid,r=e.lastUpdatedAt;return a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 col-md-offset-10"})),a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," ",a.createElement("span",{className:"lastUpdated"},"Last: ",r)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:o,size:{height:300},axis:l,grid:s,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0},colors:{spaceTemp:"red",cooltemp:"blue",fan:"pink"}}))},t}(a.Component);t.a=h},2498:function(e,t,n){var a=n(2499);"string"===typeof a&&(a=[[e.i,a,""]]);var o={hmr:!1,transform:void 0};n(663)(a,o);a.locals&&(e.exports=a.locals)},2499:function(e,t,n){(e.exports=n(662)(!1)).push([e.i,".dashboard{background-color:#333;color:#fff;display:grid}.dashboard .dashboard-title{text-align:center}.relayI1-graph-box,.theromostat-graph-box{margin:0 5px}.graph-boxes{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr}.text-align-center{text-align:center;color:#fff}.graph-box-loader{width:100%;height:300px;border:1px solid grey}.center-object{display:-ms-flexbox;display:flex;margin:150px auto}.device-graphs{margin-left:2.5px}.full-screen{min-width:100vw;min-height:100vh}.lastUpdated{float:right;font-size:14px}.float-right{display:-ms-flexbox;display:flex;justify-self:right}@media only screen and (max-width:3000px){.graph-boxes{display:grid;grid-template-columns:1fr 1fr 1fr 1fr}}@media only screen and (max-width:2500px){.graph-boxes{display:grid;grid-template-columns:1fr 1fr 1fr}}@media only screen and (max-width:1800px){.graph-boxes{display:grid;grid-template-columns:1fr 1fr}}@media only screen and (max-width:1000px){.graph-boxes{display:grid;grid-template-columns:1fr}}",""])},2500:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(726)),i=n.n(o),l=n(12),s=n(668),r=n(676),u=n(769),c=n(713),p=(n.n(c),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),d=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphData:{x:"x",columns:[]},graphData2:{x:"x",columns:[]},graphData3:{x:"x",columns:[]},graphData4:{x:"x",columns:[]},grid:{x:{lines:[{}]},y:{show:!0}},axis1:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis2:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis3:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis4:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:"",topic:""},loading:!0,lastUpdatedAt:"No Data"},n._fetchData=n._fetchData.bind(n),n}return p(t,e),t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){return h(this,function(e){return this._fetchData(),[2]})})},t.prototype.componentWillUnmount=function(){return d(this,void 0,void 0,function(){return h(this,function(e){return[2]})})},t.prototype.liveGraph=function(){var e,t,n,a,o,i,l,s,u;return d(this,void 0,void 0,function(){var c,p,d,m,v,f,g,x,y,b,w,D,k,E;return h(this,function(h){switch(h.label){case 0:return c=this.state,p=c.Moncon,d=c.graphData,m=c.graphData2,v=c.graphData3,f=c.graphData4,g=c.axis1,x=c.grid,y=c.lastUpdatedAt,b=this.props.liveGraphRange,w=new Date,(D=new Date).setMinutes(D.getMinutes()-b),[4,Object(r.f)(p.topic,D,w,!0)];case 1:return k=h.sent(),(E=new Date(null===(e=k[0])||void 0===e?void 0:e.timestamp))>d.columns[0][d.columns[0].length-1]&&(null===(t=k[0])||void 0===t?void 0:t.timestamp)&&(d.columns[0].splice(1,1),d.columns[0].push(E),d.columns[1].splice(1,1),d.columns[1].push(null===(n=k[0])||void 0===n?void 0:n.import_active_energy_Wh),m.columns[1].splice(1,1),m.columns[1].push(null===(a=k[0])||void 0===a?void 0:a.frequency_Hz),m.columns[2].splice(1,1),m.columns[2].push(null===(o=k[0])||void 0===o?void 0:o.voltage_volts),v.columns[1].splice(1,1),v.columns[1].push(null===(i=k[0])||void 0===i?void 0:i.active_power_Watts),v.columns[2].splice(1,1),v.columns[2].push(null===(l=k[0])||void 0===l?void 0:l.current_Amperes),f.columns[1].splice(1,1),f.columns[1].push(null===(s=k[0])||void 0===s?void 0:s.i1relay_state),f.columns[2].splice(1,1),f.columns[2].push(null===(u=k[0])||void 0===u?void 0:u.power_factor),g.x.tick.values[0]<d.columns[0][1]&&(g.x.tick.values.splice(0,1),x.x.lines.splice(0,1)),(E.getTime()-d.columns[0][2].getTime())/6e4>b&&d.columns[0].splice(1,1),g.x.tick.values[0]<d.columns[0][1]&&(g.x.tick.values.splice(0,1),x.x.lines.splice(0,1)),g.x.tick.values[2]&&g.x.tick.values[1].getTime()&&g.x.tick.values[2].getTime()-g.x.tick.values[1].getTime()<E.getTime()-g.x.tick.values[g.x.tick.values.length-1]&&(E.setSeconds(0),b>10&&E.setMinutes(E.getMinutes()-E.getMinutes()%5),g.x.tick.values.push(E),x.x.lines.push({value:E,class:"grid4"})),y=null===E||void 0===E?void 0:E.toLocaleString(),this.setState({grid:x,axis1:g,graphData:d,graphData2:m,graphData3:v,graphData4:f,lastUpdatedAt:y})),[2]}})})},t.prototype._fetchData=function(){var e;return d(this,void 0,void 0,function(){var t,n,a,o,i,c,p,d,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A,F,O,G,T,j,L,C,U,R,V,H=this;return h(this,function(h){switch(h.label){case 0:return t=this.props,n=t.InsightName,a=t.buildingName,o=t.from,i=t.to,c=t.updateAfterMilliSeconds,p=this.state,d=p.grid,m=p.axis1,v=p.axis2,f=p.axis3,g=p.axis4,x=p.graphData,y=p.graphData2,b=p.graphData3,w=p.graphData4,D=p.lastUpdatedAt,n?(k=Object(),[4,Object(s.x)(n,a)]):[3,4];case 1:return k=h.sent(),this.setState({Moncon:k}),[4,Object(r.f)(k.topic,o,i,x.columns.length>1)];case 2:return E=h.sent(),[4,Object(r.x)(k.deviceName)];case 3:return _=h.sent(),N=[],_[0]?(S=_[0],M=Object(l.g)(S.relayNames),N=M.split(",")):N.push("Relay"),A=[N[0]+" State"],F=[N[0]+" Watts"],O=[N[0]+"Amps"],G=[N[0]+" Freq"],T=[N[0]+" Watts"],j=[N[0]+" Power Factor"],L=[N[0]+" Volts"],C=["x"],A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(null),C.push(new Date(o)),E.length>0&&E.forEach(function(e){e&&(A.push(e.i1relay_state),F.push(e.active_power_Watts),O.push(e.current_Amperes),G.push(e.frequency_Hz),T.push(e.import_active_energy_Wh),j.push(e.power_factor),L.push(e.voltage_volts),C.push(new Date(e.timestamp)))}),D=E.length>0?null===(e=C[C.length-1])||void 0===e?void 0:e.toLocaleString():"No Data",A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(null),C.push(new Date(i)),x={x:"x",columns:[C,T]},y={x:"x",columns:[C,G,L]},b={x:"x",columns:[C,F,O]},w={x:"x",columns:[C,A,j]},m.y.label="Watts",v.y.label="Hz/Volts",f.y.label="Watts/Amps",g.y.label="",U=Object(u.a)(5,o,i),R="",U.length>1?(V=((new Date).getTime()-U[0].getTime())/1e3,R=(V/=3600)>24?"%m-%d %H:%M":V<.3?"%H:%M:%S":"%H:%M"):R="%H:%M:%S",d.x.lines=[],U.forEach(function(e){d.x.lines.push({value:e,class:"grid4"})}),m.y.tick.format=function(e){return parseFloat(e).toFixed(2)},v.y.tick.format=function(e){return parseFloat(e).toFixed(1)},f.y.tick.format=function(e){return parseFloat(e).toFixed(1)},g.y.tick.format=function(e){return parseFloat(e).toFixed(2)},m.y.tick.values=[0,1e4,2e4,3e4,4e4,5e4],v.y.tick.values=[0,50,100,150,200],f.y.tick.values=[0,20,40,60,80,100],g.y.tick.values=[-1,0,1,2],m.y.max=5e4,m.y.min=0,v.y.max=200,v.y.min=0,f.y.max=100,f.y.min=0,g.y.max=2,g.y.min=-1,m.x.tick.format=R,v.x.tick.format=R,f.x.tick.format=R,g.x.tick.format=R,m.x.tick.values=U,v.x.tick.values=U,f.x.tick.values=U,g.x.tick.values=U,this.setState({grid:d,axis1:m,axis2:v,axis3:f,axis4:g,graphData:x,graphData2:y,graphData3:b,graphData4:w,loading:!1,lastUpdatedAt:D},function(){setInterval(function(){H.liveGraph()},c)}),[3,5];case 4:this.setState({loading:!1},function(){setInterval(function(){H.liveGraph()},c)}),h.label=5;case 5:return[2]}})})},t.prototype.render=function(){var e=this.state,t=e.Moncon,n=e.loading,o=e.graphData,l=e.graphData2,s=e.graphData3,r=e.graphData4,u=e.axis1,c=e.axis2,p=e.axis3,d=e.axis4,h=e.grid,m=e.lastUpdatedAt;return a.createElement(a.Fragment,null,a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Totalized Energy ",a.createElement("span",{className:"lastUpdated"},"Last: ",m)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:o,size:{height:300},axis:u,grid:h,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0},colors:{spaceTemp:"red",cooltemp:"blue",fan:"pink"}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Frequency and Voltage ",a.createElement("span",{className:"lastUpdated"},"Last: ",m)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:l,size:{height:300},axis:c,grid:h,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Current and Power ",a.createElement("span",{className:"lastUpdated"},"Last: ",m)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:s,size:{height:300},axis:p,grid:h,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," State and Power Factor ",a.createElement("span",{className:"lastUpdated"},"Last: ",m)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:r,size:{height:300},axis:d,grid:h,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})))},t}(a.Component);t.a=m},2501:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(726)),i=n.n(o),l=n(668),s=n(676),r=n(906),u=n(769),c=n(713),p=(n.n(c),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),d=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphData:{x:"x",columns:[]},graphData2:{x:"x",columns:[]},graphData3:{x:"x",columns:[]},graphData4:{x:"x",columns:[]},graphData5:{x:"x",columns:[]},graphData6:{x:"x",columns:[]},grid:{x:{lines:[{}]},y:{show:!0}},axis1:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis2:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis3:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis4:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis5:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis6:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:"",topic:""},loading:!0,lastUpdatedAt:"No Data"},n._fetchData=n._fetchData.bind(n),n}return p(t,e),t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){return h(this,function(e){return this._fetchData(),[2]})})},t.prototype.componentWillUnmount=function(){return d(this,void 0,void 0,function(){return h(this,function(e){return[2]})})},t.prototype.liveGraph=function(){var e,t,n,a,o,i,l,u,c,p,m;return d(this,void 0,void 0,function(){var d,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A;return h(this,function(h){switch(h.label){case 0:return d=this.state,v=d.Moncon,f=d.graphData,g=d.graphData2,x=d.graphData3,y=d.graphData4,b=d.graphData5,w=d.graphData6,D=d.axis1,k=d.grid,E=d.lastUpdatedAt,_=this.props.liveGraphRange,N=new Date,(S=new Date).setMinutes(S.getMinutes()-_),[4,Object(s.c)(v.topic,S,N,!0)];case 1:return M=h.sent(),(A=new Date(null===(e=M[0])||void 0===e?void 0:e.timestamp))>f.columns[0][f.columns[0].length-1]&&(null===(t=M[0])||void 0===t?void 0:t.relhumidity_pct)&&(f.columns[0].push(A),f.columns[1].push(Object(r.a)(null===(n=M[0])||void 0===n?void 0:n.temp_celsius,v&&v.firmwareVersion?v.firmwareVersion:"")),f.columns[2].push(null===(a=M[0])||void 0===a?void 0:a.relhumidity_pct),g.columns[1].push(null===(o=M[0])||void 0===o?void 0:o.pressure_hPa),x.columns[1].push(null===(i=M[0])||void 0===i?void 0:i.illuminance_lux),y.columns[1].push(null===(l=M[0])||void 0===l?void 0:l.gasResistance_kOhm),b.columns[1].push(parseFloat(null===(u=M[0])||void 0===u?void 0:u.equiCO2_ppm)),b.columns[2].push(parseFloat(null===(c=M[0])||void 0===c?void 0:c.tvoc_ppm)),w.columns[1].push(parseFloat(null===(p=M[0])||void 0===p?void 0:p.motion_sensed)),w.columns[2].push(parseFloat(null===(m=M[0])||void 0===m?void 0:m.num_BTdev)),(A.getTime()-f.columns[0][2].getTime())/6e4>_&&f.columns[0].splice(1,1),D.x.tick.values[0]<f.columns[0][1]&&(D.x.tick.values.splice(0,1),k.x.lines.splice(0,1)),D.x.tick.values[2]&&D.x.tick.values[1].getTime()&&D.x.tick.values[2].getTime()-D.x.tick.values[1].getTime()<A.getTime()-D.x.tick.values[D.x.tick.values.length-1]&&(A.setSeconds(0),_>10&&A.setMinutes(A.getMinutes()-A.getMinutes()%5),D.x.tick.values.push(A),k.x.lines.push({value:A,class:"grid4"})),E=null===A||void 0===A?void 0:A.toLocaleString(),this.setState({grid:k,axis1:D,graphData:f,graphData2:g,graphData3:x,graphData4:y,graphData5:b,graphData6:w,lastUpdatedAt:E})),[2]}})})},t.prototype._fetchData=function(){var e;return d(this,void 0,void 0,function(){var t,n,a,o,i,c,p,d,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A,F,O,G,T,j,L,C,U,R,V,H,P,I,B=this;return h(this,function(h){switch(h.label){case 0:return t=this.props,n=t.from,a=t.to,o=t.InsightName,i=t.buildingName,c=t.updateAfterMilliSeconds,p=this.state,d=p.grid,m=p.axis1,v=p.axis2,f=p.axis3,g=p.axis4,x=p.axis5,y=p.axis6,b=p.graphData,w=p.graphData2,D=p.graphData3,k=p.graphData4,E=p.graphData5,_=p.graphData6,N=p.lastUpdatedAt,o?(S=Object(),[4,Object(l.x)(o,i)]):[3,3];case 1:return S=h.sent(),this.setState({Moncon:S}),[4,Object(s.c)(S.topic,n,a,b.columns.length>1)];case 2:return M=h.sent(),F=["Humidity"],O=["Alt."],G=["CO2"],T=["TVOC"],j=["Gas Res"],L=["Illuminance"],C=["Motion"],U=["Blth Dev."],R=["Pres."],V=["x"],(A=["Temp"]).push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(null),C.push(null),U.push(null),R.push(null),V.push(new Date(n)),M.length>0&&M.forEach(function(e){e&&(A.push(Object(r.a)(e.temp_celsius,S&&S.firmwareVersion?S.firmwareVersion:"")),F.push(e.relhumidity_pct),O.push(e.altitude_m),G.push(e.equiCO2_ppm),T.push(e.tvoc_ppm),R.push(e.pressure_hPa),j.push(e.gasResistance_kOhm),L.push(e.illuminance_lux),C.push(e.motion_sensed),U.push(e.num_BTdev),V.push(new Date(e.timestamp)))}),N=M.length>0?null===(e=V[V.length-1])||void 0===e?void 0:e.toLocaleString():"No data",0===M.length&&(A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(null),C.push(null),U.push(null),R.push(null),V.push(new Date(a))),m.y.label="\xb0F / %",v.y.label="hPa",f.y.label="Lux",g.y.label="kOhm",x.y.label="PPM",y.y.label="",V.length>1&&(H=Object(u.a)(5,n,a),P="",H.length>1?(I=((new Date).getTime()-H[0].getTime())/1e3,P=(I/=3600)>24?"%m-%d %H:%M":I<.3?"%H:%M:%S":"%H:%M"):P="%H:%M:%S",d.x.lines=[],H.forEach(function(e){d.x.lines.push({value:e,class:"grid4"})}),m.y.tick.format=function(e){return parseFloat(e).toFixed(1)},v.y.tick.format=function(e){return parseFloat(e).toFixed(0)},f.y.tick.format=function(e){return parseFloat(e).toFixed(0)},g.y.tick.format=function(e){return parseFloat(e).toFixed(0)},x.y.tick.format=function(e){return parseFloat(e).toFixed(0)},y.y.tick.format=function(e){return parseFloat(e).toFixed(0)},m.y.tick.values=[0,20,40,60,80,100],v.y.tick.values=[900,950,1e3,1050,1100],f.y.tick.values=[0,40,80,120,160,200,240],g.y.tick.values=[0,600,1200,1800,2400,3e3],x.y.tick.values=[0,4e3,8e3,12e3,16e3],y.y.tick.values=[0,10,20,30,40,50],m.y.max=100,m.y.min=0,v.y.max=1100,v.y.min=900,f.y.max=200,f.y.min=0,g.y.max=3e3,g.y.min=0,x.y.max=16e3,x.y.min=0,y.y.max=50,y.y.min=0,m.x.tick.format=P,v.x.tick.format=P,f.x.tick.format=P,g.x.tick.format=P,x.x.tick.format=P,y.x.tick.format=P,m.x.tick.values=H,v.x.tick.values=H,f.x.tick.values=H,g.x.tick.values=H,x.x.tick.values=H,y.x.tick.values=H,b={x:"x",columns:[V,A,F]},w={x:"x",columns:[V,R]},D={x:"x",columns:[V,L]},k={x:"x",columns:[V,j]},E={x:"x",columns:[V,G,T]},_={x:"x",columns:[V,C,U]},this.setState({grid:d,axis1:m,axis2:v,axis3:f,axis4:g,axis5:x,axis6:y,graphData:b,graphData2:w,graphData3:D,graphData4:k,graphData5:E,graphData6:_,lastUpdatedAt:N,loading:!1},function(){setInterval(function(){B.liveGraph()},c)})),[3,4];case 3:this.setState({loading:!1},function(){setInterval(function(){B.liveGraph()},c)}),h.label=4;case 4:return[2]}})})},t.prototype.render=function(){var e=this.state,t=e.Moncon,n=e.loading,o=e.graphData,l=e.graphData2,s=e.graphData3,r=e.graphData4,u=e.graphData5,c=e.graphData6,p=e.axis1,d=e.axis2,h=e.axis3,m=e.axis4,v=e.axis5,f=e.axis6,g=e.grid,x=e.lastUpdatedAt;return a.createElement(a.Fragment,null,a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 col-md-offset-10"})),a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Temp & Humidity ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:o,size:{height:300},axis:p,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0},colors:{spaceTemp:"red",cooltemp:"blue",fan:"pink"}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Pressure ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:l,size:{height:300},axis:d,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Illuminance ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:s,size:{height:300},axis:h,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Gas Resistance ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:r,size:{height:300},axis:m,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Air Particles ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:u,size:{height:300},axis:v,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Other Parameters ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:c,size:{height:300},axis:f,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})))},t}(a.Component);t.a=m},2502:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(726)),i=n.n(o),l=n(668),s=n(676),r=n(769),u=n(713),c=(n.n(u),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),p=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphData:{x:"x",columns:[]},grid:{x:{lines:[{}]},y:{show:!0}},axis1:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:"",topic:""},loading:!0,lastUpdatedAt:"No Data"},n._fetchData=n._fetchData.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return this._fetchData(),[2]})})},t.prototype.componentWillUnmount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.liveGraph=function(){var e,t,n,a,o,i,l,r,u;return p(this,void 0,void 0,function(){var c,p,h,m,v,f,g,x,y,b,w;return d(this,function(d){switch(d.label){case 0:return c=this.state,p=c.Moncon,h=c.graphData,m=c.axis1,v=c.grid,f=c.lastUpdatedAt,g=this.props.liveGraphRange,x=new Date,(y=new Date).setMinutes(y.getMinutes()-g),[4,Object(s.d)(p.topic,y,x,!0)];case 1:return b=d.sent(),(w=new Date(null===(e=b[0])||void 0===e?void 0:e.timestamp))>h.columns[0][h.columns[0].length-1]&&(null===(t=b[0])||void 0===t?void 0:t.setpoint)&&(h.columns[0].splice(1,1),h.columns[0].push(w),h.columns[1].splice(1,1),h.columns[1].push(null===(n=b[0])||void 0===n?void 0:n.setpoint),h.columns[2].splice(1,1),h.columns[2].push(null===(a=b[0])||void 0===a?void 0:a.roomtemp),h.columns[3].splice(1,1),h.columns[3].push(null===(o=b[0])||void 0===o?void 0:o.fanspeed),h.columns[4].splice(1,1),h.columns[4].push(null===(i=b[0])||void 0===i?void 0:i.horizontalvans),h.columns[5].splice(1,1),h.columns[5].push(null===(l=b[0])||void 0===l?void 0:l.usermode),h.columns[6].splice(1,1),h.columns[6].push(null===(r=b[0])||void 0===r?void 0:r.verticalvans),h.columns[7].splice(1,1),h.columns[7].push(null===(u=b[0])||void 0===u?void 0:u.wifiSignal),(w.getTime()-h.columns[0][2].getTime())/6e4>g&&h.columns[0].splice(1,1),m.x.tick.values[0]<h.columns[0][1]&&(m.x.tick.values.splice(0,1),v.x.lines.splice(0,1)),m.x.tick.values[2]&&m.x.tick.values[1].getTime()&&m.x.tick.values[2].getTime()-m.x.tick.values[1].getTime()<w.getTime()-m.x.tick.values[m.x.tick.values.length-1]&&(w.setSeconds(0),g>10&&w.setMinutes(w.getMinutes()-w.getMinutes()%5),m.x.tick.values.push(w),v.x.lines.push({value:w,class:"grid4"})),f=null===w||void 0===w?void 0:w.toLocaleString(),this.setState({grid:v,axis1:m,graphData:h,lastUpdatedAt:f})),[2]}})})},t.prototype._fetchData=function(){var e;return p(this,void 0,void 0,function(){var t,n,a,o,i,u,c,p,h,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A=this;return d(this,function(d){switch(d.label){case 0:return t=this.props,n=t.InsightName,a=t.buildingName,o=t.from,i=t.to,u=t.updateAfterMilliSeconds,c=this.state,p=c.grid,h=c.axis1,m=c.graphData,v=c.lastUpdatedAt,n?(f=Object(),[4,Object(l.x)(n,a)]):[3,3];case 1:return f=d.sent(),this.setState({Moncon:f}),[4,Object(s.d)(f.topic,o,i,m.columns.length>1)];case 2:return g=d.sent(),x=["setpoint"],b=["mode"],w=["fanspeed"],D=["horizontalvans"],k=["verticalvans"],E=["wifiSignal"],_=["x"],(y=["roomtemp"]).push(null),x.push(null),w.push(null),D.push(null),b.push(null),k.push(null),E.push(null),_.push(new Date(o)),g.length>0&&g.forEach(function(e){e&&(1!=isNaN(e.roomtemp)&&y.push(e.roomtemp),1!=isNaN(e.setpoint)&&x.push(e.setpoint),e.fanspeed?w.push(e.fanspeed):w.push("undefined"),e.horizontalvans?D.push(e.horizontalvans):D.push("undefined"),e.usermode?b.push(e.usermode):b.push("undefined"),e.verticalvans?k.push(e.verticalvans):k.push("undefined"),e.wifiSignal?E.push(e.wifiSignal):E.push("undefined"),_.push(new Date(e.timestamp)))}),v=g.length>0?null===(e=_[_.length-1])||void 0===e?void 0:e.toLocaleString():"No Data",y.push(null),x.push(null),w.push(null),D.push(null),b.push(null),k.push(null),E.push(null),_.push(new Date(i)),m={x:"x",columns:[_,x,y,w,D,b,k,E]},h.y.label="\xb0F",N=Object(r.a)(5,o,i),S="",N.length>1?(M=((new Date).getTime()-N[0].getTime())/1e3,S=(M/=3600)>24?"%m-%d %H:%M":M<.3?"%H:%M:%S":"%H:%M"):S="%H:%M:%S",p.x.lines=[],N.forEach(function(e){p.x.lines.push({value:e,class:"grid4"})}),h.y.tick.format=function(e){return parseFloat(e).toFixed(2)},h.y.tick.values=[0,20,40,60,80,100],h.y.max=100,h.y.min=0,h.x.tick.format=S,h.x.tick.values=N,this.setState({grid:p,axis1:h,graphData:m,loading:!1,lastUpdatedAt:v},function(){setInterval(function(){A.liveGraph()},u)}),[3,4];case 3:this.setState({loading:!1},function(){setInterval(function(){A.liveGraph()},u)}),d.label=4;case 4:return[2]}})})},t.prototype.render=function(){var e=this.state,t=e.Moncon,n=e.loading,o=e.graphData,l=e.axis1,s=e.grid,r=e.lastUpdatedAt;return a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 col-md-offset-10"})),a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," ",a.createElement("span",{className:"lastUpdated"},"Last: ",r)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:o,size:{height:300},axis:l,grid:s,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0},colors:{spaceTemp:"red",cooltemp:"blue",fan:"pink"}}))},t}(a.Component);t.a=h},2503:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(726)),i=n.n(o),l=n(668),s=n(689),r=n(769),u=n(713),c=(n.n(u),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),p=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphData:{x:"x",columns:[]},grid:{x:{lines:[{}]},y:{show:!0}},axis1:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:"",topic:""},loading:!0,lastUpdatedAt:"No Data"},n._fetchData=n._fetchData.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return this._fetchData(),[2]})})},t.prototype.componentWillUnmount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.liveGraph=function(){var e,t,n,a;return p(this,void 0,void 0,function(){var o,i,l,r,u,c,p,h,m,v,f;return d(this,function(d){switch(d.label){case 0:return o=this.state,i=o.Moncon,l=o.graphData,r=o.axis1,u=o.grid,c=o.lastUpdatedAt,p=this.props.liveGraphRange,h=new Date,(m=new Date).setMinutes(m.getMinutes()-p),[4,Object(s.g)(i.topic,m,h,!0)];case 1:return v=d.sent(),(f=new Date(null===(e=v[0])||void 0===e?void 0:e.timestamp))>l.columns[0][l.columns[0].length-1]&&(null===(t=v[0])||void 0===t?void 0:t.Normal_Frequency)&&(l.columns[0].splice(1,1),l.columns[0].push(f),l.columns[1].splice(1,1),l.columns[1].push(null===(n=v[0])||void 0===n?void 0:n.Normal_Frequency),l.columns[2].splice(1,1),l.columns[2].push(null===(a=v[0])||void 0===a?void 0:a.Emergency_Frequency),(f.getTime()-l.columns[0][2].getTime())/6e4>p&&l.columns[0].splice(1,1),r.x.tick.values[0]<l.columns[0][1]&&(r.x.tick.values.splice(0,1),u.x.lines.splice(0,1)),r.x.tick.values[2]&&r.x.tick.values[1].getTime()&&r.x.tick.values[2].getTime()-r.x.tick.values[1].getTime()<f.getTime()-r.x.tick.values[r.x.tick.values.length-1]&&(f.setSeconds(0),p>10&&f.setMinutes(f.getMinutes()-f.getMinutes()%5),r.x.tick.values.push(f),u.x.lines.push({value:f,class:"grid4"})),c=null===f||void 0===f?void 0:f.toLocaleString(),this.setState({grid:u,axis1:r,graphData:l,lastUpdatedAt:c})),[2]}})})},t.prototype._fetchData=function(){var e;return p(this,void 0,void 0,function(){var t,n,a,o,i,u,c,p,h,m,v,f,g,x,y,b,w,D,k,E=this;return d(this,function(d){switch(d.label){case 0:return t=this.props,n=t.InsightName,a=t.buildingName,o=t.from,i=t.to,u=t.updateAfterMilliSeconds,c=this.state,p=c.grid,h=c.axis1,m=c.graphData,v=c.lastUpdatedAt,n?(f=Object(),[4,Object(l.x)(n,a)]):[3,3];case 1:return f=d.sent(),this.setState({Moncon:f}),[4,Object(s.g)(f.topic,o,i,m.columns.length>1)];case 2:g=d.sent(),y=["Emergency Freq"],b=["x"],(x=["Normal Freq"]).push(null),y.push(null),b.push(new Date(o)),g.length>0&&g.forEach(function(e){e&&(x.push(e.Normal_Frequency),y.push(e.Emergency_Frequency),b.push(new Date(e.timestamp)))}),v=g.length>0?null===(e=b[b.length-1])||void 0===e?void 0:e.toLocaleString():"No Data",x.push(null),y.push(null),b.push(new Date(i)),m={x:"x",xFormat:"%Y-%m-%dT%H:%M:%S.%LZ",columns:[b,x,y]},h.y.label="Hz",w=Object(r.a)(5,o,i),D="",w.length>1?(k=((new Date).getTime()-w[0].getTime())/1e3,D=(k/=3600)>24?"%m-%d %H:%M":k<.3?"%H:%M:%S":"%H:%M"):D="%H:%M:%S",p.x.lines=[],w.forEach(function(e){p.x.lines.push({value:e,class:"grid4"})}),h.y.tick.format=function(e){return parseFloat(e).toFixed(2)},h.y.tick.values=[0,20,40,60,80],h.y.max=80,h.y.min=0,h.x.tick.format=D,h.x.tick.values=w,this.setState({grid:p,axis1:h,graphData:m,loading:!1,lastUpdatedAt:v},function(){setInterval(function(){E.liveGraph()},u)}),d.label=3;case 3:return this.setState({loading:!1},function(){setInterval(function(){E.liveGraph()},u)}),[2]}})})},t.prototype.render=function(){var e=this.state,t=e.Moncon,n=e.loading,o=e.graphData,l=e.axis1,s=e.grid,r=e.lastUpdatedAt;return a.createElement(a.Fragment,null,a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," ATS Device ",a.createElement("span",{className:"lastUpdated"},"Last: ",r)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:o,size:{height:300},axis:l,grid:s,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0},colors:{spaceTemp:"red",cooltemp:"blue",fan:"pink"}})))},t}(a.Component);t.a=h},2504:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(726)),i=n.n(o),l=n(668),s=n(689),r=n(769),u=n(713),c=(n.n(u),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),p=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphData:{x:"x",columns:[]},graphData2:{x:"x",columns:[]},graphData3:{x:"x",columns:[]},graphData4:{x:"x",columns:[]},graphData5:{x:"x",columns:[]},graphData6:{x:"x",columns:[]},grid:{x:{lines:[{}]},y:{show:!0}},axis1:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis2:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis3:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis4:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis5:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis6:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:"",topic:""},loading:!0,lastUpdatedAt:"No Data"},n._fetchData=n._fetchData.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return this._fetchData(),[2]})})},t.prototype.componentWillUnmount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.liveGraph=function(){var e,t,n,a,o,i,l,r,u,c,h,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A,F,O,G,T,j,L,C,U,R,V,H,P,I,B,W,z,q,K;return p(this,void 0,void 0,function(){var p,J,Y,Z,Q,X,$,ee,te,ne,ae,oe,ie,le,se,re;return d(this,function(d){switch(d.label){case 0:return p=this.state,J=p.Moncon,Y=p.graphData,Z=p.graphData2,Q=p.graphData3,X=p.graphData4,$=p.graphData5,ee=p.graphData6,te=p.axis1,ne=p.grid,ae=p.lastUpdatedAt,oe=this.props.liveGraphRange,ie=new Date,(le=new Date).setMinutes(le.getMinutes()-oe),[4,Object(s.j)(J.topic,le,ie,!0)];case 1:return se=d.sent(),(re=new Date(null===(e=se[0])||void 0===e?void 0:e.timestamp))>Y.columns[0][Y.columns[0].length-1]&&(null===(t=se[0])||void 0===t?void 0:t.GenVAB_Volts)&&(Y.columns[0].splice(1,1),Y.columns[0].push(re),Y.columns[1].splice(1,1),Y.columns[1].push(null===(n=se[0])||void 0===n?void 0:n.GenVAB_Volts),Y.columns[2].splice(1,1),Y.columns[2].push(null===(a=se[0])||void 0===a?void 0:a.GenVBC_Volts),Y.columns[3].splice(1,1),Y.columns[3].push(null===(o=se[0])||void 0===o?void 0:o.GenVCA_Volts),Y.columns[1].splice(1,1),Y.columns[1].push(null===(i=se[0])||void 0===i?void 0:i.GenVAN_Volts),Y.columns[2].splice(1,1),Y.columns[2].push(null===(l=se[0])||void 0===l?void 0:l.GenVBN_Volts),Y.columns[3].splice(1,1),Y.columns[3].push(null===(r=se[0])||void 0===r?void 0:r.GenVCN_Volts),Y.columns[4].splice(1,1),Y.columns[4].push(null===(u=se[0])||void 0===u?void 0:u.BusVoltage_Volts),Z.columns[1].splice(1,1),Z.columns[1].push(null===(c=se[0])||void 0===c?void 0:c.GenIA_Amps),Z.columns[2].splice(1,1),Z.columns[2].push(null===(h=se[0])||void 0===h?void 0:h.GenIB_Amps),Z.columns[3].splice(1,1),Z.columns[3].push(null===(m=se[0])||void 0===m?void 0:m.GenIC_Amps),Q.columns[1].splice(1,1),Q.columns[1].push(null===(v=se[0])||void 0===v?void 0:v.GenKVA_A_KiloVA),Q.columns[2].splice(1,1),Q.columns[2].push(null===(f=se[0])||void 0===f?void 0:f.GenKVA__B_KiloVA),Q.columns[3].splice(1,1),Q.columns[3].push(null===(g=se[0])||void 0===g?void 0:g.GenKVA_C_KiloVA),Q.columns[4].splice(1,1),Q.columns[4].push(null===(x=se[0])||void 0===x?void 0:x.GenKVA_Total_KiloVA),Q.columns[5].splice(1,1),Q.columns[5].push(null===(y=se[0])||void 0===y?void 0:y.Gen_A_kW),Q.columns[6].splice(1,1),Q.columns[6].push(null===(b=se[0])||void 0===b?void 0:b.Gen_B_kW),Q.columns[7].splice(1,1),Q.columns[7].push(null===(w=se[0])||void 0===w?void 0:w.Gen_C_kW),Q.columns[8].splice(1,1),Q.columns[8].push(null===(D=se[0])||void 0===D?void 0:D.Gen_Total_kW),X.columns[1].splice(1,1),X.columns[1].push(null===(k=se[0])||void 0===k?void 0:k.GenPFLagging),$.columns[1].splice(1,1),$.columns[1].push(null===(E=se[0])||void 0===E?void 0:E.ActiveSpeedSource),$.columns[2].splice(1,1),$.columns[2].push(null===(_=se[0])||void 0===_?void 0:_.EngineSpeed_rpm),$.columns[3].splice(1,1),$.columns[3].push(null===(N=se[0])||void 0===N?void 0:N.EngineLoad_pct),$.columns[4].splice(1,1),$.columns[4].push(null===(S=se[0])||void 0===S?void 0:S.CoolantTemp_F),$.columns[5].splice(1,1),$.columns[5].push(null===(M=se[0])||void 0===M?void 0:M.OilPressure_psi),$.columns[6].splice(1,1),$.columns[6].push(null===(A=se[0])||void 0===A?void 0:A.BatteryVoltage_DeciVolt),$.columns[7].splice(1,1),$.columns[7].push(null===(F=se[0])||void 0===F?void 0:F.FuelLevel),$.columns[8].splice(1,1),$.columns[8].push(null===(O=se[0])||void 0===O?void 0:O.ECUCoolantLevel),$.columns[9].splice(1,1),$.columns[9].push(null===(G=se[0])||void 0===G?void 0:G.CoolDownTimeRemaining_mins),ee.columns[1].splice(1,1),ee.columns[1].push(null===(T=se[0])||void 0===T?void 0:T.UnexpectedShutdown),ee.columns[2].splice(1,1),ee.columns[2].push(null===(j=se[0])||void 0===j?void 0:j.GlobalAlarm),ee.columns[3].splice(1,1),ee.columns[3].push(null===(L=se[0])||void 0===L?void 0:L.AutoRestartFailure),ee.columns[4].splice(1,1),ee.columns[4].push(null===(C=se[0])||void 0===C?void 0:C.FuelLeakDetect),ee.columns[5].splice(1,1),ee.columns[5].push(null===(U=se[0])||void 0===U?void 0:U.BatteryChargerFailure),ee.columns[6].splice(1,1),ee.columns[6].push(null===(R=se[0])||void 0===R?void 0:R.TransferFail),ee.columns[7].splice(1,1),ee.columns[7].push(null===(V=se[0])||void 0===V?void 0:V.LowCoolantLevel),ee.columns[8].splice(1,1),ee.columns[8].push(null===(H=se[0])||void 0===H?void 0:H.ECUShutdown),ee.columns[9].splice(1,1),ee.columns[9].push(null===(P=se[0])||void 0===P?void 0:P.EmergencyShutdown),ee.columns[10].splice(1,1),ee.columns[10].push(null===(I=se[0])||void 0===I?void 0:I.Overcrank),ee.columns[11].splice(1,1),ee.columns[11].push(null===(B=se[0])||void 0===B?void 0:B.LossofECUComms),ee.columns[12].splice(1,1),ee.columns[12].push(null===(W=se[0])||void 0===W?void 0:W.GlobalSenderFail),ee.columns[13].splice(1,1),ee.columns[13].push(null===(z=se[0])||void 0===z?void 0:z.LowFuelLevel),ee.columns[14].splice(1,1),ee.columns[14].push(null===(q=se[0])||void 0===q?void 0:q.LowOilPressure),ee.columns[15].splice(1,1),ee.columns[15].push(null===(K=se[0])||void 0===K?void 0:K.HighCoolantTemp),(re.getTime()-Y.columns[0][2].getTime())/6e4>oe&&Y.columns[0].splice(1,1),te.x.tick.values[0]<Y.columns[0][1]&&(te.x.tick.values.splice(0,1),ne.x.lines.splice(0,1)),te.x.tick.values[2]&&te.x.tick.values[1].getTime()&&te.x.tick.values[2].getTime()-te.x.tick.values[1].getTime()<re.getTime()-te.x.tick.values[te.x.tick.values.length-1]&&(re.setSeconds(0),oe>10&&re.setMinutes(re.getMinutes()-re.getMinutes()%5),te.x.tick.values.push(re),ne.x.lines.push({value:re,class:"grid4"})),this.setState({grid:ne,axis1:te,graphData:Y,graphData2:Z,graphData3:Q,graphData4:X,graphData5:$,graphData6:ee,lastUpdatedAt:ae})),[2]}})})},t.prototype._fetchData=function(){var e;return p(this,void 0,void 0,function(){var t,n,a,o,i,u,c,p,h,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A,F,O,G,T,j,L,C,U,R,V,H,P,I,B,W,z,q,K,J,Y,Z,Q,X,$,ee,te,ne,ae,oe,ie,le,se,re,ue,ce,pe,de,he,me,ve,fe,ge,xe,ye,be,we=this;return d(this,function(d){switch(d.label){case 0:return t=this.props,n=t.InsightName,a=t.buildingName,o=t.from,i=t.to,u=t.updateAfterMilliSeconds,c=this.state,p=c.grid,h=c.axis1,m=c.axis2,v=c.axis3,f=c.axis4,g=c.axis5,x=c.axis6,y=c.graphData,b=c.graphData2,w=c.graphData3,D=c.graphData4,k=c.graphData5,E=c.graphData6,_=c.lastUpdatedAt,n?(N=Object(),[4,Object(l.x)(n,a)]):[3,3];case 1:return N=d.sent(),this.setState({Moncon:N}),[4,Object(s.j)(N.topic,o,i,y.columns.length>1)];case 2:S=d.sent(),A=["VBC"],F=["VCA"],O=["VA"],G=["VB"],T=["VC"],j=["Bus Voltage"],L=["Gen IA"],C=["Gen IB"],U=["Gen IC"],R=["Gen kVA A"],V=["Gen kVA B"],H=["Gen kVA C"],P=["Gen kVA Total"],I=["Gen kW A"],B=["Gen kW B"],W=["Gen kW C"],z=["Gen kW Total"],q=["Gen Power Factor"],K=["Act speed"],J=["Engine Speed"],Y=["Engine Load"],Z=["Coolant Temp"],Q=["Oil Press"],X=["Battery Volt"],$=["Fuel Level"],ee=["ECU Coolant level"],te=["Cool Down Time Rem."],ne=["Unexp. Shutdown"],ae=["Global Alarm"],oe=["Auto Restart Fail"],ie=["Fuel Leak Det."],le=["Battery Chg. Fail"],se=["Transfer Fail"],re=["Low Coolant level"],ue=["ECU Shutdown"],ce=["Emerg. Shut"],pe=["Overcrank"],de=["Loss of ECU Comms"],he=["Global Sender Fail"],me=["Low Fuel Level"],ve=["Low Oil Press"],fe=["High Coolant"],ge=["x"],(M=["VAB"]).push(null),A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(null),C.push(null),U.push(null),R.push(null),V.push(null),H.push(null),P.push(null),I.push(null),B.push(null),W.push(null),z.push(null),q.push(null),K.push(null),J.push(null),Y.push(null),Z.push(null),Q.push(null),X.push(null),$.push(null),ee.push(null),te.push(null),ne.push(null),ae.push(null),oe.push(null),ie.push(null),le.push(null),se.push(null),re.push(null),ue.push(null),ce.push(null),pe.push(null),de.push(null),he.push(null),me.push(null),ve.push(null),fe.push(null),ge.push(new Date(o)),S.length>0&&S.forEach(function(e){e&&(M.push(e.GenVAB_Volts),A.push(e.GenVBC_Volts),F.push(e.GenVCA_Volts),O.push(e.GenVAN_Volts),G.push(e.GenVBN_Volts),T.push(e.GenVCN_Volts),j.push(e.BusVoltage_Volts),L.push(e.GenIA_Amps),C.push(e.GenIB_Amps),U.push(e.GenIC_Amps),R.push(e.GenKVA_A_KiloVA),V.push(e.GenKVA__B_KiloVA),H.push(e.GenKVA_C_KiloVA),P.push(e.GenKVA_Total_KiloVA),I.push(e.Gen_A_kW),B.push(e.Gen_B_kW),W.push(e.Gen_C_kW),z.push(e.Gen_Total_kW),q.push(e.GenPFLagging),K.push(e.ActiveSpeedSource),J.push(e.EngineSpeed_rpm),Y.push(e.EngineLoad_pct),Z.push(e.CoolantTemp_F),Q.push(e.OilPressure_psi),X.push(e.BatteryVoltage_DeciVolt),$.push(e.FuelLevel),ee.push(e.ECUCoolantLevel),te.push(e.CoolDownTimeRemaining_mins),ne.push(e.UnexpectedShutdown),ae.push(e.GlobalAlarm),oe.push(e.AutoRestartFailure),ie.push(e.FuelLeakDetect),le.push(e.BatteryChargerFailure),se.push(e.TransferFail),re.push(e.LowCoolantLevel),ue.push(e.ECUShutdown),ce.push(e.EmergencyShutdown),pe.push(e.Overcrank),de.push(e.LossofECUComms),he.push(e.GlobalSenderFail),me.push(e.LowFuelLevel),ve.push(e.LowOilPressure),fe.push(e.HighCoolantTemp),ge.push(new Date(e.timestamp)))}),_=S.length>0?null===(e=ge[ge.length-1])||void 0===e?void 0:e.toLocaleString():"No Data",M.push(null),A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(null),C.push(null),U.push(null),R.push(null),V.push(null),H.push(null),P.push(null),I.push(null),B.push(null),W.push(null),z.push(null),q.push(null),K.push(null),J.push(null),Y.push(null),Z.push(null),Q.push(null),X.push(null),$.push(null),ee.push(null),te.push(null),ne.push(null),ae.push(null),oe.push(null),ie.push(null),le.push(null),se.push(null),re.push(null),ue.push(null),ce.push(null),pe.push(null),de.push(null),he.push(null),me.push(null),ve.push(null),fe.push(null),ge.push(new Date(i)),y={x:"x",columns:[ge,M,A,F,O,G,T,j]},b={x:"x",columns:[ge,L,C,U]},w={x:"x",columns:[ge,R,V,H,P,I,B,W,z]},D={x:"x",columns:[ge,q]},k={x:"x",columns:[ge,K,J,Y,Z,Q,X,$,ee,te]},E={x:"x",columns:[ge,ne,ae,oe,ie,le,se,re,ue,ce,pe,de,he,me,ve,fe]},h.y.label="Volts",m.y.label="Amps",v.y.label="Watts",f.y.label="",g.y.label="",x.y.label="",ge.length>1&&(xe=Object(r.a)(5,o,i),ye="",xe.length>1?(be=((new Date).getTime()-xe[0].getTime())/1e3,ye=(be/=3600)>24?"%m-%d %H:%M":be<.3?"%H:%M:%S":"%H:%M"):ye="%H:%M:%S",p.x.lines=[],xe.forEach(function(e){p.x.lines.push({value:e,class:"grid4"})}),h.y.tick.format=function(e){return parseFloat(e).toFixed(0)},m.y.tick.format=function(e){return parseFloat(e).toFixed(1)},v.y.tick.format=function(e){return parseFloat(e).toFixed(1)},f.y.tick.format=function(e){return parseFloat(e).toFixed(0)},g.y.tick.format=function(e){return parseFloat(e).toFixed(0)},x.y.tick.format=function(e){return parseFloat(e).toFixed(0)},h.y.tick.values=[0,50,100,150,200,250],m.y.tick.values=[0,10,20,30,40,50],v.y.tick.values=[0,20,40,60,80,100],f.y.tick.values=[-1,0,1],g.y.tick.values=[0,40,80,120,160,160],x.y.tick.values=[-1,0,1],h.y.max=250,h.y.min=0,m.y.max=50,m.y.min=0,v.y.max=100,v.y.min=0,f.y.max=1,f.y.min=-1,g.y.max=160,g.y.min=0,x.y.max=1,x.y.min=-1,h.x.tick.format=ye,m.x.tick.format=ye,v.x.tick.format=ye,f.x.tick.format=ye,g.x.tick.format=ye,x.x.tick.format=ye,h.x.tick.values=xe,m.x.tick.values=xe,v.x.tick.values=xe,f.x.tick.values=xe,g.x.tick.values=xe,x.x.tick.values=xe,this.setState({grid:p,axis1:h,axis2:m,axis3:v,axis4:f,axis5:g,axis6:x,graphData:y,graphData2:b,graphData3:w,graphData4:D,graphData5:k,graphData6:E,lastUpdatedAt:_,loading:!1},function(){setInterval(function(){we.liveGraph()},u)})),d.label=3;case 3:return this.setState({loading:!1},function(){setInterval(function(){we.liveGraph()},u)}),[2]}})})},t.prototype.render=function(){var e=this.state,t=e.Moncon,n=e.loading,o=e.graphData,l=e.graphData2,s=e.graphData3,r=e.graphData4,u=e.graphData5,c=e.graphData6,p=e.axis1,d=e.axis2,h=e.axis3,m=e.axis4,v=e.axis5,f=e.axis6,g=e.grid,x=e.lastUpdatedAt;return a.createElement(a.Fragment,null,a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 col-md-offset-10"})),a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Voltages  ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:o,size:{height:300},axis:p,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0},colors:{spaceTemp:"red",cooltemp:"blue",fan:"pink"}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Currents  ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:l,size:{height:300},axis:d,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Powers  ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:s,size:{height:300},axis:h,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Power Factor  ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:r,size:{height:300},axis:m,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Other Parameters  ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:u,size:{height:300},axis:v,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Binary Parameters  ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:c,size:{height:300},axis:f,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})))},t}(a.Component);t.a=h},2505:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(726)),i=n.n(o),l=n(668),s=n(689),r=n(769),u=n(713),c=(n.n(u),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),p=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphData:{x:"x",columns:[]},graphData2:{x:"x",columns:[]},grid:{x:{lines:[{}]},y:{show:!0}},axis1:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis2:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:"",topic:""},loading:!0,lastUpdatedAt:"No Data"},n._fetchData=n._fetchData.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return this._fetchData(),[2]})})},t.prototype.componentWillUnmount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.liveGraph=function(){var e,t,n,a,o,i,l,r,u,c,h,m,v,f,g,x,y,b;return p(this,void 0,void 0,function(){var p,w,D,k,E,_,N,S,M,A,F,O;return d(this,function(d){switch(d.label){case 0:return p=this.state,w=p.Moncon,D=p.graphData,k=p.graphData2,E=p.axis1,_=p.grid,N=p.lastUpdatedAt,S=this.props.liveGraphRange,M=new Date,(A=new Date).setMinutes(A.getMinutes()-S),[4,Object(s.h)(w.topic,A,M,!0)];case 1:return F=d.sent(),(O=new Date(null===(e=F[0])||void 0===e?void 0:e.timestamp))>D.columns[0][D.columns[0].length-1]&&(null===(t=F[0])||void 0===t?void 0:t.vin)&&(D.columns[0].splice(1,1),D.columns[0].push(O),D.columns[1].splice(1,1),D.columns[1].push(null===(n=F[0])||void 0===n?void 0:n.vin),D.columns[2].splice(1,1),D.columns[2].push(null===(a=F[0])||void 0===a?void 0:a.register1),D.columns[3].splice(1,1),D.columns[3].push(null===(o=F[0])||void 0===o?void 0:o.t3frontRefrigerator1),D.columns[4].splice(1,1),D.columns[4].push(null===(i=F[0])||void 0===i?void 0:i.t4backRefrigerator1),D.columns[5].splice(1,1),D.columns[5].push(null===(l=F[0])||void 0===l?void 0:l.t5evapfanRefrigerator1),D.columns[6].splice(1,1),D.columns[6].push(null===(r=F[0])||void 0===r?void 0:r.t6comprinRefrigerator1),D.columns[7].splice(1,1),D.columns[7].push(null===(u=F[0])||void 0===u?void 0:u.t7comproutRefrigerator1),D.columns[8].splice(1,1),D.columns[8].push(null===(c=F[0])||void 0===c?void 0:c.t8probeRefrigerator1),k.columns[1].splice(1,1),k.columns[1].push(null===(h=F[0])||void 0===h?void 0:h.vin),k.columns[2].splice(1,1),k.columns[2].push(null===(m=F[0])||void 0===m?void 0:m.register1),k.columns[3].splice(1,1),k.columns[3].push(null===(v=F[0])||void 0===v?void 0:v.t3frontRefrigerator2),k.columns[4].splice(1,1),k.columns[4].push(null===(f=F[0])||void 0===f?void 0:f.t4backRefrigerator2),k.columns[5].splice(1,1),k.columns[5].push(null===(g=F[0])||void 0===g?void 0:g.t5evapfanRefrigerator2),k.columns[6].splice(1,1),k.columns[6].push(null===(x=F[0])||void 0===x?void 0:x.t6comprinRefrigerator2),k.columns[7].splice(1,1),k.columns[7].push(null===(y=F[0])||void 0===y?void 0:y.t7comproutRefrigerator2),k.columns[8].splice(1,1),k.columns[8].push(null===(b=F[0])||void 0===b?void 0:b.t8probeRefrigerator2),(O.getTime()-D.columns[0][2].getTime())/6e4>S&&D.columns[0].splice(1,1),E.x.tick.values[0]<D.columns[0][1]&&(E.x.tick.values.splice(0,1),_.x.lines.splice(0,1)),E.x.tick.values[2]&&E.x.tick.values[1].getTime()&&E.x.tick.values[2].getTime()-E.x.tick.values[1].getTime()<O.getTime()-E.x.tick.values[E.x.tick.values.length-1]&&(O.setSeconds(0),S>10&&O.setMinutes(O.getMinutes()-O.getMinutes()%5),E.x.tick.values.push(O),_.x.lines.push({value:O,class:"grid4"})),N=null===O||void 0===O?void 0:O.toLocaleString(),this.setState({grid:_,axis1:E,graphData:D,graphData2:k,lastUpdatedAt:N})),[2]}})})},t.prototype._fetchData=function(){var e;return p(this,void 0,void 0,function(){var t,n,a,o,i,u,c,p,h,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A,F,O,G,T,j,L,C,U,R=this;return d(this,function(d){switch(d.label){case 0:return t=this.props,n=t.InsightName,a=t.buildingName,o=t.from,i=t.to,u=t.updateAfterMilliSeconds,c=this.state,p=c.grid,h=c.axis1,m=c.axis2,v=c.graphData,f=c.graphData2,g=c.lastUpdatedAt,n?(x=Object(),[4,Object(l.x)(n,a)]):[3,3];case 1:return x=d.sent(),this.setState({Moncon:x}),[4,Object(s.h)(x.topic,o,i,v.columns.length>1)];case 2:y=d.sent(),w=["Register"],D=["Front"],k=["Back"],E=["Evaporator Fan"],_=["Compressor In"],N=["Compressor Out"],S=["Solid"],M=["Front"],A=["Back"],F=["Evaporator Fan"],O=["Compressor In"],G=["Compressor Out"],T=["Solid"],j=["x"],(b=["Vin"]).push(null),w.push(null),D.push(null),k.push(null),E.push(null),_.push(null),N.push(null),S.push(null),M.push(null),A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(new Date(o)),y.length>0&&y.forEach(function(e){e&&(b.push(""+e.vin),w.push(""+e.register1),D.push(""+e.t3frontRefrigerator1),k.push(""+e.t4backRefrigerator1),E.push(""+e.t5evapfanRefrigerator1),_.push(""+e.t6comprinRefrigerator1),N.push(""+e.t7comproutRefrigerator1),S.push(""+e.t8probeRefrigerator1),M.push(""+e.t3frontRefrigerator2),A.push(""+e.t4backRefrigerator2),F.push(""+e.t5evapfanRefrigerator2),O.push(""+e.t6comprinRefrigerator2),G.push(""+e.t7comproutRefrigerator2),T.push(""+e.t8probeRefrigerator2),j.push(new Date(e.timestamp)))}),g=y.length>0?null===(e=j[j.length-1])||void 0===e?void 0:e.toLocaleString():"No Data",b.push(null),w.push(null),D.push(null),k.push(null),E.push(null),_.push(null),N.push(null),S.push(null),M.push(null),A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(new Date(i)),v={x:"x",columns:[j,b,w,D,k,E,_,N,S]},f={x:"x",columns:[j,b,w,M,A,F,O,G,T]},h.y.label="Amps",m.y.label="Amps",j.length>1&&(L=Object(r.a)(5,o,i),C="",L.length>1?(U=((new Date).getTime()-L[0].getTime())/1e3,C=(U/=3600)>24?"%m-%d %H:%M":U<.3?"%H:%M:%S":"%H:%M"):C="%H:%M:%S",p.x.lines=[],L.forEach(function(e){p.x.lines.push({value:e,class:"grid4"})}),h.y.tick.format=function(e){return parseFloat(e).toFixed(1)},m.y.tick.format=function(e){return parseFloat(e).toFixed(1)},h.y.tick.values=[0,20,40,60,80,100],m.y.tick.values=[0,20,40,60,80,100],h.y.max=100,h.y.min=0,m.y.max=100,m.y.min=0,h.x.tick.format=C,m.x.tick.format=C,h.x.tick.values=L,m.x.tick.values=L,this.setState({grid:p,axis1:h,axis2:m,graphData:v,graphData2:f,lastUpdatedAt:g,loading:!1},function(){setInterval(function(){R.liveGraph()},u)})),d.label=3;case 3:return this.setState({loading:!1},function(){setInterval(function(){R.liveGraph()},u)}),[2]}})})},t.prototype.render=function(){var e=this.state,t=e.Moncon,n=e.loading,o=e.graphData,l=e.graphData2,s=e.axis1,r=e.axis2,u=e.grid,c=e.lastUpdatedAt;return a.createElement(a.Fragment,null,a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 col-md-offset-10"})),a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Refrigerator 1 ",a.createElement("span",{className:"lastUpdated"},"Last: ",c)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:o,size:{height:300},axis:s,grid:u,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0},colors:{spaceTemp:"red",cooltemp:"blue",fan:"pink"}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Refrigerator 2 ",a.createElement("span",{className:"lastUpdated"},"Last: ",c)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:l,size:{height:300},axis:r,grid:u,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})))},t}(a.Component);t.a=h},2506:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(726)),i=n.n(o),l=n(668),s=n(689),r=n(769),u=n(713),c=(n.n(u),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),p=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphData:{x:"x",columns:[]},graphData2:{x:"x",columns:[]},graphData3:{x:"x",columns:[]},grid:{x:{lines:[{}]},y:{show:!0}},axis1:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis2:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis3:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:"",topic:""},loading:!0,lastUpdatedAt:"No Data"},n._fetchData=n._fetchData.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return this._fetchData(),[2]})})},t.prototype.componentWillUnmount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.liveGraph=function(){var e,t,n,a,o,i,l,r,u,c,h;return p(this,void 0,void 0,function(){var p,m,v,f,g,x,y,b,w,D,k,E;return d(this,function(d){switch(d.label){case 0:return p=this.state,m=p.Moncon,v=p.graphData,f=p.graphData2,g=p.axis1,x=p.grid,y=p.lastUpdatedAt,b=this.props.liveGraphRange,w=new Date,(D=new Date).setMinutes(D.getMinutes()-b),[4,Object(s.i)(m.topic,D,w,!0)];case 1:return k=d.sent(),E=new Date(null===(e=k[0])||void 0===e?void 0:e.timestamp),(null===(t=v.columns)||void 0===t?void 0:t.length)>2&&E>v.columns[0][v.columns[0].length-1]&&(null===(n=k[0])||void 0===n?void 0:n.vin)&&(v.columns[0].splice(1,1),v.columns[0].push(E),v.columns[1].splice(1,1),v.columns[1].push(null===(a=k[0])||void 0===a?void 0:a.a13comprcurrRefrigerator1),v.columns[2].splice(1,1),v.columns[2].push(null===(o=k[0])||void 0===o?void 0:o.a14efmcurrRefrigerator1),v.columns[3].splice(1,1),v.columns[3].push(null===(i=k[0])||void 0===i?void 0:i.a15prRefrigerator1),v.columns[4].splice(1,1),v.columns[4].push(null===(l=k[0])||void 0===l?void 0:l.a16doorRefrigerator1),f.columns[1].splice(1,1),f.columns[1].push(null===(r=k[0])||void 0===r?void 0:r.a13comprcurrRefrigerator2),f.columns[2].splice(1,1),f.columns[2].push(null===(u=k[0])||void 0===u?void 0:u.a14efmcurrRefrigerator2),f.columns[3].splice(1,1),f.columns[3].push(null===(c=k[0])||void 0===c?void 0:c.a15prRefrigerator2),f.columns[4].splice(1,1),f.columns[4].push(null===(h=k[0])||void 0===h?void 0:h.a16doorRefrigerator2),(E.getTime()-v.columns[0][2].getTime())/6e4>b&&v.columns[0].splice(1,1),g.x.tick.values[0]<v.columns[0][1]&&(g.x.tick.values.splice(0,1),x.x.lines.splice(0,1)),g.x.tick.values[2]&&g.x.tick.values[1].getTime()&&g.x.tick.values[2].getTime()-g.x.tick.values[1].getTime()<E.getTime()-g.x.tick.values[g.x.tick.values.length-1]&&(E.setSeconds(0),b>10&&E.setMinutes(E.getMinutes()-E.getMinutes()%5),g.x.tick.values.push(E),x.x.lines.push({value:E,class:"grid4"})),y=null===E||void 0===E?void 0:E.toLocaleString(),this.setState({grid:x,axis1:g,graphData:v,graphData2:f,lastUpdatedAt:y})),[2]}})})},t.prototype._fetchData=function(){var e;return p(this,void 0,void 0,function(){var t,n,a,o,i,u,c,p,h,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A,F,O,G,T,j,L,C,U,R,V,H,P,I=this;return d(this,function(d){switch(d.label){case 0:return t=this.props,n=t.InsightName,a=t.buildingName,o=t.from,i=t.to,u=t.updateAfterMilliSeconds,c=this.state,p=c.grid,h=c.axis1,m=c.axis2,v=c.axis3,f=c.graphData,g=c.graphData2,x=c.graphData3,y=c.lastUpdatedAt,n?(b=Object(),[4,Object(l.x)(n,a)]):[3,3];case 1:return b=d.sent(),this.setState({Moncon:b}),[4,Object(s.i)(b.topic,o,i,f.columns.length>1)];case 2:return w=d.sent(),k=["Freezer Defrost"],E=["Pressure Sensor"],_=["Door Contact"],N=["Analog Input 5"],S=["Analog Input 6"],M=["Analog Input 7"],A=["Analog Input 8"],F=["Register"],O=["Serial Number"],G=["Refresh"],T=["Power Analog Input 5"],j=["Power Analog Input 6"],L=["Power Analog Input 7"],C=["Power Analog Input 8"],U=["Amalgamated Watts"],R=["x"],(D=["Compressor"]).push(null),k.push(null),E.push(null),_.push(null),N.push(null),S.push(null),M.push(null),A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(null),C.push(null),U.push(null),R.push(new Date(o)),w.length>0&&w.forEach(function(e){e&&(e.a13comprcurrRefrigerator1&&D.push(""+e.a13comprcurrRefrigerator1),e.a14efmcurrRefrigerator1&&k.push(""+e.a14efmcurrRefrigerator1),e.a15prRefrigerator1&&E.push(""+e.a15prRefrigerator1),e.a16doorRefrigerator1&&_.push(""+e.a16doorRefrigerator1),e.a13comprcurrRefrigerator2&&N.push(""+e.a13comprcurrRefrigerator2),e.a14efmcurrRefrigerator2&&S.push(""+e.a14efmcurrRefrigerator2),e.a15prRefrigerator2&&M.push(""+e.a15prRefrigerator2),e.a16doorRefrigerator2&&A.push(""+e.a16doorRefrigerator2),e.register1&&F.push(""+e.register1),e.serialNumber&&O.push(""+e.serialNumber),e.minRecRefresh&&G.push(""+e.minRecRefresh),e.poweranalogInput5&&T.push(""+e.poweranalogInput5),e.poweranalogInput6&&T.push(""+e.poweranalogInput6),e.poweranalogInput7&&T.push(""+e.poweranalogInput7),e.poweranalogInput8&&T.push(""+e.poweranalogInput8),U.push(""+360*e.a13comprcurrRefrigerator1),R.push(new Date(e.timestamp)))}),y=w.length>0?null===(e=R[R.length-1])||void 0===e?void 0:e.toLocaleString():"No Data",D.push(null),k.push(null),E.push(null),_.push(null),N.push(null),S.push(null),M.push(null),A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(null),C.push(null),U.push(null),R.push(new Date(i)),(D.length>3||k.length>3||E.length>3||_.length>3)&&(f={x:"x",columns:[R,D,k,E,_]}),(N.length>3||S.length>3||M.length>3||A.length>3)&&(g={x:"x",columns:[R,N,S,M,A]}),(T.length>3||j.length>3||L.length>3||C.length>3)&&(x={x:"x",columns:[R,T,j,L,C]},v.y.label="kw"),h.y.label="Amps",m.y.label="Amps",R.length>1&&(V=Object(r.a)(5,o,i),H="",V.length>1?(P=((new Date).getTime()-V[0].getTime())/1e3,H=(P/=3600)>24?"%m-%d %H:%M":P<.3?"%H:%M:%S":"%H:%M"):H="%H:%M:%S",p.x.lines=[],V.forEach(function(e){p.x.lines.push({value:e,class:"grid4"})}),h.y.tick.format=function(e){return parseFloat(e).toFixed(1)},m.y.tick.format=function(e){return parseFloat(e).toFixed(1)},v.y.tick.format=function(e){return parseFloat(e).toFixed(1)},h.y.tick.values=[-10,-5,0,5,10],m.y.tick.values=[-10,-5,0,5,10],v.y.tick.values=[0,20,40,60,80,100],h.y.max=10,h.y.min=-10,m.y.max=10,m.y.min=-10,v.y.max=100,v.y.min=0,h.x.tick.format=H,m.x.tick.format=H,v.x.tick.format=H,h.x.tick.values=V,m.x.tick.values=V,v.x.tick.values=V,this.setState({grid:p,axis1:h,axis2:m,axis3:v,graphData:f,graphData2:g,graphData3:x,lastUpdatedAt:y,loading:!1},function(){setInterval(function(){I.liveGraph()},u)})),[3,4];case 3:this.setState({loading:!1},function(){setInterval(function(){I.liveGraph()},u)}),d.label=4;case 4:return[2]}})})},t.prototype.render=function(){var e,t,n,o=this.state,l=o.Moncon,s=o.loading,r=o.graphData,u=o.graphData2,c=o.graphData3,p=o.axis1,d=o.axis2,h=o.axis3,m=o.grid,v=o.lastUpdatedAt;return a.createElement(a.Fragment,null,(null===(e=r.columns[1])||void 0===e?void 0:e.length)>2&&a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===l||void 0===l?void 0:l.rdfsLabel," Refrigerator 1 ",a.createElement("span",{className:"lastUpdated"},"Last: ",v)),s?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:r,size:{height:300},axis:p,grid:m,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0},colors:{spaceTemp:"red",cooltemp:"blue",fan:"pink"}})),(null===(t=u.columns[1])||void 0===t?void 0:t.length)>2&&a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===l||void 0===l?void 0:l.rdfsLabel," Refrigerator 2 ",a.createElement("span",{className:"lastUpdated"},"Last: ",v)),s?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:u,size:{height:300},axis:d,grid:m,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),(null===(n=c.columns[1])||void 0===n?void 0:n.length)>2&&a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===l||void 0===l?void 0:l.rdfsLabel," Power Analog Inputs ",a.createElement("span",{className:"lastUpdated"},"Last: ",v)),s?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:c,size:{height:300},axis:h,grid:m,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})))},t}(a.Component);t.a=h},2507:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(726)),i=n.n(o),l=n(668),s=n(676),r=n(12),u=n(769),c=n(713),p=(n.n(c),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),d=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphData:{x:"x",columns:[]},grid:{x:{lines:[{}]},y:{show:!0}},axis1:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:"",topic:""},loading:!0,lastUpdatedAt:"No Data"},n._fetchData=n._fetchData.bind(n),n}return p(t,e),t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){return h(this,function(e){return this._fetchData(),[2]})})},t.prototype.componentWillUnmount=function(){return d(this,void 0,void 0,function(){return h(this,function(e){return[2]})})},t.prototype.liveGraph=function(){var e,t,n,a,o,i,l,r,u,c,p;return d(this,void 0,void 0,function(){var d,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M;return h(this,function(h){switch(h.label){case 0:return d=this.state,m=d.Moncon,v=d.graphData,f=d.axis1,g=d.grid,x=d.lastUpdatedAt,y=this.props.liveGraphRange,b=new Date,(w=new Date).setMinutes(w.getMinutes()-y),[4,Object(s.g)(m.topic,w,b,!0)];case 1:return D=h.sent(),(k=new Date(null===(e=D[0])||void 0===e?void 0:e.timestamp))>v.columns[0][v.columns[0].length-1]&&(null===(t=D[0])||void 0===t?void 0:t.timestamp)&&(v.columns[0].splice(1,1),v.columns[0].push(k),v.columns[1].splice(1,1),v.columns[1].push(null===(n=D[0])||void 0===n?void 0:n.mAmps_relay1),v.columns[2].splice(1,1),v.columns[2].push(null===(a=D[0])||void 0===a?void 0:a.mAmps_relay2),v.columns[3].splice(1,1),v.columns[3].push(null===(o=D[0])||void 0===o?void 0:o.mAmps_relay3),v.columns[4].splice(1,1),v.columns[4].push(null===(i=D[0])||void 0===i?void 0:i.mAmps_relay4),v.columns[5].splice(1,1),v.columns[5].push(null===(l=D[0])||void 0===l?void 0:l.power_Wt_relay1),v.columns[6].splice(1,1),v.columns[6].push(null===(r=D[0])||void 0===r?void 0:r.power_Wt_relay2),v.columns[7].splice(1,1),v.columns[7].push(null===(u=D[0])||void 0===u?void 0:u.power_Wt_relay3),3==(E=Object(s.a)(parseInt(null===(c=D[0])||void 0===c?void 0:c.v4relay_state))).length?E="0"+E:2==E.length?E="00"+E:1==E.length&&(E="000"+E),_=E[3],N=E[2],S=E[1],M=E[0],v.columns[8].splice(1,1),v.columns[8].push(_||"0"),v.columns[9].splice(1,1),v.columns[9].push(N||"0"),v.columns[10].splice(1,1),v.columns[10].push(S||"0"),v.columns[11].splice(1,1),v.columns[11].push(M||"0"),v.columns[12].splice(1,1),v.columns[12].push(null===(p=D[0])||void 0===p?void 0:p.nominal_src_volts),(k.getTime()-v.columns[0][2].getTime())/6e4>y&&v.columns[0].splice(1,1),f.x.tick.values[0]<v.columns[0][1]&&(f.x.tick.values.splice(0,1),g.x.lines.splice(0,1)),f.x.tick.values[2]&&f.x.tick.values[1].getTime()&&f.x.tick.values[2].getTime()-f.x.tick.values[1].getTime()<k.getTime()-f.x.tick.values[f.x.tick.values.length-1]&&(k.setSeconds(0),y>10&&k.setMinutes(k.getMinutes()-k.getMinutes()%5),f.x.tick.values.push(k),g.x.lines.push({value:k,class:"grid4"})),x=null===k||void 0===k?void 0:k.toLocaleString(),this.setState({grid:g,axis1:f,graphData:v,lastUpdatedAt:x})),[2]}})})},t.prototype._fetchData=function(){var e;return d(this,void 0,void 0,function(){var t,n,a,o,i,c,p,d,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A,F,O,G,T,j,L,C,U,R,V,H,P,I,B,W,z,q=this;return h(this,function(h){switch(h.label){case 0:return t=this.props,n=t.InsightName,a=t.buildingName,o=t.from,i=t.to,c=t.updateAfterMilliSeconds,p=this.state,d=p.grid,m=p.axis1,v=p.graphData,f=p.lastUpdatedAt,n?(g=Object(),[4,Object(l.x)(n,a)]):[3,4];case 1:return g=h.sent(),this.setState({Moncon:g}),[4,Object(s.g)(g.topic,o,i,v.columns.length>1)];case 2:return x=h.sent(),[4,Object(s.x)(g.deviceName)];case 3:if(y=h.sent(),b=[],y[0]?(w=y[0],D=Object(r.g)(w.relayNames),b=D.split(",")):(b.push("Relay 1"),b.push("Relay 2"),b.push("Relay 3"),b.push("Relay 4")),k=[b[0]+" Amp"],E=[b[1]+" Amp"],_=[b[2]+" Amp"],N=[b[3]+" Amp"],S=["Nom. Source Volts"],M=[b[0]+" Watts"],A=[b[1]+" Watts"],F=[b[2]+" Watts"],O=[b[0]+" State"],G=[b[1]+" State"],T=[b[2]+" State"],j=[b[3]+" State"],L=["x"],k.push(null),E.push(null),_.push(null),N.push(null),S.push(null),M.push(null),A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(new Date(o)),x.length>0)for(C=0;C<x.length;C++)(null===(U=x[C])||void 0===U?void 0:U.mAmps_relay1)&&(k.push(U.mAmps_relay1),E.push(U.mAmps_relay2),_.push(U.mAmps_relay3),N.push(U.mAmps_relay4),S.push(U.nominal_src_volts),M.push(U.power_Wt_relay1),A.push(U.power_Wt_relay2),F.push(U.power_Wt_relay3),R=Object(s.a)(parseInt(U.v4relay_state)),L.push(new Date(U.timestamp)),3==R.length?R="0"+R:2==R.length?R="00"+R:1==R.length&&(R="000"+R),V=R[3],H=R[2],P=R[1],I=R[0],O.push(V||"0"),G.push(H||"0"),T.push(P||"0"),j.push(I||"0"));return f=x.length>0?null===(e=L[L.length-1])||void 0===e?void 0:e.toLocaleString():"No Data",k.push(null),E.push(null),_.push(null),N.push(null),S.push(null),M.push(null),A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(new Date(i)),v={x:"x",columns:[L,k,E,_,N,M,A,F,O,G,T,j,S]},m.y.label="Amp, W, On/Off, Volts",B=Object(u.a)(5,o,i),W="",B.length>1?(z=((new Date).getTime()-B[0].getTime())/1e3,W=(z/=3600)>24?"%m-%d %H:%M":z<.3?"%H:%M:%S":"%H:%M"):W="%H:%M:%S",d.x.lines=[],B.forEach(function(e){d.x.lines.push({value:e,class:"grid4"})}),m.y.tick.format=function(e){return parseFloat(e).toFixed(0)},m.y.tick.values=[0,50,100,150,200,250,300],m.y.max=300,m.y.min=0,m.x.tick.format=W,m.x.tick.values=B,this.setState({grid:d,axis1:m,graphData:v,loading:!1,lastUpdatedAt:f},function(){setInterval(function(){q.liveGraph()},c)}),[3,5];case 4:this.setState({loading:!1},function(){setInterval(function(){q.liveGraph()},c)}),h.label=5;case 5:return[2]}})})},t.prototype.render=function(){var e=this.state,t=e.Moncon,n=e.loading,o=e.graphData,l=e.axis1,s=e.grid,r=e.lastUpdatedAt;return a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 col-md-offset-10"})),a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," ",a.createElement("span",{className:"lastUpdated"},"Last: ",r)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:o,size:{height:300},axis:l,grid:s,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0},colors:{spaceTemp:"red",cooltemp:"blue",fan:"pink"}}))},t}(a.Component);t.a=m},2508:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(726)),i=n.n(o),l=n(668),s=n(689),r=n(769),u=n(713),c=(n.n(u),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),p=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphData:{x:"x",columns:[]},graphData2:{x:"x",columns:[]},graphData3:{x:"x",columns:[]},graphData4:{x:"x",columns:[]},graphData5:{x:"x",columns:[]},graphData6:{x:"x",columns:[]},grid:{x:{lines:[{}]},y:{show:!0}},axis1:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis2:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis3:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis4:{x:{type:"timeseries",tick:{fit:!1,count:5,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis5:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},axis6:{x:{type:"timeseries",tick:{fit:!1,multiline:!0,format:"%m-%d/%H:%M:%S"}},y:{label:"\xb0F",tick:{fit:!0,count:6,format:function(e){return parseFloat(e).toFixed(2)}}}},Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:"",topic:""},loading:!0,lastUpdatedAt:"No Data"},n._fetchData=n._fetchData.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return this._fetchData(),[2]})})},t.prototype.componentWillUnmount=function(){return p(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.liveGraph=function(){var e,t,n,a,o,i,l,r,u,c,h,m,v,f,g;return p(this,void 0,void 0,function(){var p,x,y,b,w,D,k,E,_,N,S,M,A,F,O,G;return d(this,function(d){switch(d.label){case 0:return p=this.state,x=p.Moncon,y=p.graphData,b=p.graphData2,w=p.graphData3,D=p.graphData4,k=p.graphData5,E=p.graphData6,_=p.axis1,N=p.grid,S=p.lastUpdatedAt,M=this.props.liveGraphRange,A=new Date,(F=new Date).setMinutes(F.getMinutes()-M),[4,Object(s.k)(x.topic,F,A,!0)];case 1:return O=d.sent(),(G=new Date(null===(e=O[0])||void 0===e?void 0:e.timestamp))>y.columns[0][y.columns[0].length-1]&&(null===(t=O[0])||void 0===t?void 0:t.timestamp)&&(y.columns[0].splice(1,1),y.columns[0].push(G),y.columns[1].splice(1,1),y.columns[1].push(null===(n=O[0])||void 0===n?void 0:n.PowerA),y.columns[2].splice(1,1),y.columns[2].push(null===(a=O[0])||void 0===a?void 0:a.PowerB),y.columns[3].splice(1,1),y.columns[3].push(null===(o=O[0])||void 0===o?void 0:o.PowerC),y.columns[4].splice(1,1),y.columns[4].push(null===(i=O[0])||void 0===i?void 0:i.PowerSum),b.columns[1].splice(1,1),b.columns[1].push(null===(l=O[0])||void 0===l?void 0:l.VoltAB),b.columns[2].splice(1,1),b.columns[2].push(null===(r=O[0])||void 0===r?void 0:r.VoltAC),b.columns[3].splice(1,1),b.columns[3].push(null===(u=O[0])||void 0===u?void 0:u.VoltBC),w.columns[1].splice(1,1),w.columns[1].push(null===(c=O[0])||void 0===c?void 0:c.VoltA),w.columns[2].splice(1,1),w.columns[2].push(null===(h=O[0])||void 0===h?void 0:h.VoltB),w.columns[3].splice(1,1),w.columns[3].push(null===(m=O[0])||void 0===m?void 0:m.VoltC),D.columns[1].splice(1,1),D.columns[1].push(null===(v=O[0])||void 0===v?void 0:v.Freq),k.columns[1].splice(1,1),k.columns[1].push(parseFloat(null===(f=O[0])||void 0===f?void 0:f.EnergySumNR)),E.columns[1].splice(1,1),E.columns[1].push(parseFloat(null===(g=O[0])||void 0===g?void 0:g.EnergyPosSumNR)),(G.getTime()-y.columns[0][2].getTime())/6e4>M&&y.columns[0].splice(1,1),_.x.tick.values[0]<y.columns[0][1]&&(_.x.tick.values.splice(0,1),N.x.lines.splice(0,1)),_.x.tick.values[2]&&_.x.tick.values[1].getTime()&&_.x.tick.values[2].getTime()-_.x.tick.values[1].getTime()<G.getTime()-_.x.tick.values[_.x.tick.values.length-1]&&(G.setSeconds(0),M>10&&G.setMinutes(G.getMinutes()-G.getMinutes()%5),_.x.tick.values.push(G),N.x.lines.push({value:G,class:"grid4"})),S=null===G||void 0===G?void 0:G.toLocaleString(),this.setState({grid:N,axis1:_,graphData:y,graphData2:b,graphData3:w,graphData4:D,graphData5:k,graphData6:E,lastUpdatedAt:S})),[2]}})})},t.prototype._fetchData=function(){var e;return p(this,void 0,void 0,function(){var t,n,a,o,i,u,c,p,h,m,v,f,g,x,y,b,w,D,k,E,_,N,S,M,A,F,O,G,T,j,L,C,U,R,V,H,P,I,B,W,z,q,K,J=this;return d(this,function(d){switch(d.label){case 0:return t=this.props,n=t.InsightName,a=t.buildingName,o=t.from,i=t.to,u=t.updateAfterMilliSeconds,c=this.state,p=c.grid,h=c.axis1,m=c.axis2,v=c.axis3,f=c.axis4,g=c.axis5,x=c.axis6,y=c.graphData,b=c.graphData2,w=c.graphData3,D=c.graphData4,k=c.graphData5,E=c.graphData6,_=c.lastUpdatedAt,n?(N=Object(),[4,Object(l.x)(n,a)]):[3,3];case 1:return N=d.sent(),this.setState({Moncon:N}),[4,Object(s.k)(N.topic,o,i,y.columns.length>1)];case 2:return S=d.sent(),A=["EnergyPOSSUM"],F=["EnergySumR"],O=["EnergyPosSumNR"],G=["PowerSum"],T=["Power A"],j=["Power B"],L=["Power C"],C=["Volts A"],U=["Volts B"],R=["Volts C"],V=["VoltsAvgLL"],H=["Volts AB"],P=["Volts AC"],I=["Volts BC"],B=["Freq"],W=["x"],(M=["EnerygySum"]).push(null),A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(null),C.push(null),U.push(null),R.push(null),V.push(null),H.push(null),P.push(null),I.push(null),B.push(null),W.push(new Date(o)),S.length>0&&S.forEach(function(e){e&&(M.push(e.EnergySum),A.push(e.EnergyPosSum),F.push(e.EnergySumNR),O.push(e.EnergyPosSumNR),G.push(e.PowerSum),T.push(e.PowerA),j.push(e.PowerB),L.push(e.PowerC),C.push(e.VoltA),U.push(e.VoltB),R.push(e.VoltC),V.push(e.VoltAvgLL),H.push(e.VoltAB),P.push(e.VoltAC),I.push(e.VoltBC),B.push(e.Freq),W.push(new Date(e.timestamp)))}),_=S.length>0?null===(e=W[W.length-1])||void 0===e?void 0:e.toLocaleString():"No Data",M.push(null),A.push(null),F.push(null),O.push(null),G.push(null),T.push(null),j.push(null),L.push(null),C.push(null),U.push(null),R.push(null),V.push(null),H.push(null),P.push(null),I.push(null),B.push(null),W.push(new Date(i)),y={x:"x",columns:[W,T,j,L,G]},b={x:"x",columns:[W,H,I,P]},w={x:"x",columns:[W,C,U,R]},D={x:"x",columns:[W,B]},k={x:"x",columns:[W,F]},E={x:"x",columns:[W,O]},h.y.label="Watts",m.y.label="Volts",v.y.label="Volts",f.y.label="Hz",g.y.label="MWh",x.y.label="MWh",z=Object(r.a)(5,o,i),q="",z.length>1?(K=((new Date).getTime()-z[0].getTime())/1e3,q=(K/=3600)>24?"%m-%d %H:%M":K<.3?"%H:%M:%S":"%H:%M"):q="%H:%M:%S",p.x.lines=[],z.forEach(function(e){p.x.lines.push({value:e,class:"grid4"})}),h.y.tick.format=function(e){return parseFloat(e).toFixed(1)},m.y.tick.format=function(e){return parseFloat(e).toFixed(0)},v.y.tick.format=function(e){return parseFloat(e).toFixed(0)},f.y.tick.format=function(e){return parseFloat(e).toFixed(1)},g.y.tick.format=function(e){return parseFloat(e).toFixed(1)},x.y.tick.format=function(e){return parseFloat(e).toFixed(1)},h.y.tick.values=[0,1e4,2e4,3e4,4e4],m.y.tick.values=[0,50,100,150,200,250],v.y.tick.values=[0,50,100,150],f.y.tick.values=[0,20,40,60,80],g.y.tick.values=[0,2e3,4e3,6e3,8e3,1e4],x.y.tick.values=[0,2e3,4e3,6e3,8e3,1e4],h.y.max=4e4,h.y.min=0,m.y.max=250,m.y.min=0,v.y.max=150,v.y.min=0,f.y.max=80,f.y.min=0,g.y.max=1e4,g.y.min=0,x.y.max=1e4,x.y.min=0,h.x.tick.format=q,m.x.tick.format=q,v.x.tick.format=q,f.x.tick.format=q,g.x.tick.format=q,x.x.tick.format=q,h.x.tick.values=z,m.x.tick.values=z,v.x.tick.values=z,f.x.tick.values=z,g.x.tick.values=z,x.x.tick.values=z,this.setState({grid:p,axis1:h,axis2:m,axis3:v,axis4:f,axis5:g,axis6:x,graphData:y,graphData2:b,graphData3:w,graphData4:D,graphData5:k,graphData6:E,lastUpdatedAt:_,loading:!1},function(){setInterval(function(){J.liveGraph()},u)}),[3,4];case 3:this.setState({loading:!1},function(){setInterval(function(){J.liveGraph()},u)}),d.label=4;case 4:return[2]}})})},t.prototype.render=function(){var e=this.state,t=e.Moncon,n=e.loading,o=e.graphData,l=e.graphData2,s=e.graphData3,r=e.graphData4,u=e.graphData5,c=e.graphData6,p=e.axis1,d=e.axis2,h=e.axis3,m=e.axis4,v=e.axis5,f=e.axis6,g=e.grid,x=e.lastUpdatedAt;return a.createElement(a.Fragment,null,a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 col-md-offset-10"})),a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Power ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:o,size:{height:300},axis:p,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0},colors:{spaceTemp:"red",cooltemp:"blue",fan:"pink"}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Phase Voltage ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:l,size:{height:300},axis:d,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Voltage ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:s,size:{height:300},axis:h,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Frequency ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:r,size:{height:300},axis:m,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Energy Sum Resettable ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:u,size:{height:300},axis:v,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})),a.createElement("div",{className:"row col-md-12 device-graphs",id:"divGraphs"},a.createElement("br",null),a.createElement("h5",{className:"no-padding no-margin-color-textalign text-align-center"},null===t||void 0===t?void 0:t.rdfsLabel," Positive Energy Sum Non-resettable ",a.createElement("span",{className:"lastUpdated"},"Last: ",x)),n?a.createElement("div",{className:"graph-box-loader"},a.createElement("div",{className:"loader center-object"})):a.createElement(i.a,{data:c,size:{height:300},axis:f,grid:g,legend:{position:"bottom"},point:{focus:{expand:{r:3}},r:0}})))},t}(a.Component);t.a=h},769:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e,t,n){for(var a=new Date(t.setSeconds(0)),o=new Date(n.setSeconds(0)),i=[],l=o.getTime()-a.getTime(),s=l/1e3/3600,r=0;r<e+1;r++){var u=void 0;if(0===r)s>48?(a.setSeconds(0),a.setMinutes(0),a.setHours(a.getHours()+(24-a.getHours()%24))):s>24?(a.setSeconds(0),a.setMinutes(0),a.setHours(a.getHours()+(10-a.getHours()%10))):s>1?(a.setSeconds(0),a.setMinutes(a.getMinutes()+(10-a.getMinutes()%10))):s>.1?(a.setSeconds(0),a.setMinutes(a.getMinutes()+(10-a.getMinutes()%10))):s>.1&&(a.setSeconds(0),a.setMinutes(a.getMinutes()+(5-a.getMinutes()%5))),u=a;else if(s>72){var c=Math.ceil(s);c+=360-c%360,(u=new Date(i[i.length-1].getTime()+6e5*c)).setSeconds(0)}else if(s>24){c=Math.ceil(s);c+=60-c%60,(u=new Date(i[i.length-1].getTime()+6e5*c)).setSeconds(0)}else s>1?(u=new Date(i[i.length-1].getTime()+Math.ceil(s)%60*6e5)).setSeconds(0):s>.2?(u=new Date(i[i.length-1].getTime()+6e5)).setSeconds(0):u=new Date(i[i.length-1].getTime()+Math.ceil(l/e));u!=i[i.length-1]&&u<=o&&i.push(u)}return i}}});