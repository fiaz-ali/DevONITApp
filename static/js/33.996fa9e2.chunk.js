webpackJsonp([33],{1739:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(3),c=(n.n(a),n(493)),s=n(496),r=n(1740),o=n(13),l=n(52),u=n(663),h=n(519),d=n(12),f=n(545),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function s(e){try{o(i.next(e))}catch(e){c(e)}}function r(e){try{o(i.throw(e))}catch(e){c(e)}}function o(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,r)}o((i=i.apply(e,t||[])).next())})},b=this&&this.__generator||function(e,t){var n,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,i=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){s.label=c[1];break}if(6===c[0]&&s.label<a[1]){s.label=a[1],a=c;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(c);break}a[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}},v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_equipments:[],isEdit:!1,_hardPoints:[],_spaces:[],checklist:Object(),isForTask:!1,_tasks:[],selectedTask:""},n._fetchEquipments=n._fetchEquipments.bind(n),n._fetchSpaces=n._fetchSpaces.bind(n),n.handleTitleChange=n.handleTitleChange.bind(n),n.handleAssetRadioChange=n.handleAssetRadioChange.bind(n),n.handleAssetChange=n.handleAssetChange.bind(n),n.handleActivityAdder=n.handleActivityAdder.bind(n),n.handleTaskChange=n.handleTaskChange.bind(n),n.handleForTaskCheck=n.handleForTaskCheck.bind(n),n.fetchChecklist=n.fetchChecklist.bind(n),n._fetchPoints=n._fetchPoints.bind(n),n._fetchTasks=n._fetchTasks.bind(n),n.saveChecklistToTask=n.saveChecklistToTask.bind(n),n.saveChecklist=n.saveChecklist.bind(n),i=n,n}return p(t,e),t.prototype.componentDidMount=function(){return m(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchEquipments()]:[3,6];case 1:return e.sent(),[4,this._fetchSpaces()];case 2:return e.sent(),[4,this._fetchPoints()];case 3:return e.sent(),[4,this.fetchChecklist()];case 4:return e.sent(),[4,this._fetchTasks()];case 5:e.sent(),e.label=6;case 6:return[2]}})})},t.prototype.fetchChecklist=function(){return m(this,void 0,void 0,function(){var e,t,n,i=this;return b(this,function(a){switch(a.label){case 0:return e=this.props,t=e.buildingName,(n=e.checklistID)?[4,Object(u.g)(t,n).then(function(e){return m(i,void 0,void 0,function(){var n,i,a,c,s,r;return b(this,function(o){switch(o.label){case 0:return n=e[0],(i=Object()).ontology=Object(d.g)(n.ontology),i.asset=Object(d.g)(n.asset),i.templateID=Object(d.g)(n.templateID),i.assetType=Object(d.g)(n.assetType),i.lastUsed=Object(d.g)(n.lastUsed),i.rdfsLabel=Object(d.g)(n.rdfsLabel),i.uses=parseInt(Object(d.g)(n.uses)),i.activities=[],a=Object(d.g)(n.activities).split(","),[4,Object(u.e)(t,a)];case 1:for(c=o.sent(),s=0;s<c.length;s++)(r=Object()).ontology=Object(d.g)(c[s].ontology),r.action=Object(d.g)(c[s].action),r.point=Object(d.g)(c[s].point),r.pointTag=Object(d.g)(c[s].pointTag),r.reading=Object(d.g)(c[s].reading),r.unit=Object(d.g)(c[s].unit),r.notes=Object(d.g)(c[s].notes),i.activities.push(r);return this.setState({checklist:i,isEdit:!0}),[2]}})})})]:[3,2];case 1:return a.sent(),[3,3];case 2:this.setState({checklist:{activities:[],asset:"",assetType:"None",ontology:Object(o.l)(7),rdfsLabel:"",lastUsed:"",uses:0,module:"",templateID:Object(o.k)(7).toString()},isEdit:!1}),a.label=3;case 3:return[2]}})})},t.prototype._fetchPoints=function(){return m(this,void 0,void 0,function(){var e,t=this;return b(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,[4,Object(h.h)(e).then(function(e){var n=e&&e.filter(function(e){return"true"!=Object(d.g)(e.isSensed)});t.setState({_hardPoints:n})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},t.prototype._fetchTasks=function(){return m(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return this.state._tasks.length<1?(Object(l.a)(!0),[4,Object(f.i)(this.props.buildingName,"",!1).then(function(e){i.setState({_tasks:e})}).catch(function(e){return e})]):[3,2];case 1:e.sent(),Object(l.a)(!1),e.label=2;case 2:return[2]}})})},t.prototype.handleActivityAdder=function(e){var t=this.state.checklist;t.activities=e,this.setState({checklist:t})},t.prototype._fetchEquipments=function(){return m(this,void 0,void 0,function(){var e=this;return b(this,function(t){switch(t.label){case 0:return[4,Object(c.e)(this.props.buildingName).then(function(t){e.setState({_equipments:t})}).catch(function(e){return e})];case 1:return t.sent(),[2]}})})},t.prototype._fetchSpaces=function(){return m(this,void 0,void 0,function(){var e=this;return b(this,function(t){switch(t.label){case 0:return[4,Object(s.b)(this.props.buildingName).then(function(t){e.setState({_spaces:t})}).catch(function(e){return e})];case 1:return t.sent(),[2]}})})},t.prototype.handleTitleChange=function(e){var t=this.state.checklist;t.rdfsLabel=e,this.setState({checklist:t})},t.prototype.handleAssetRadioChange=function(e){var t=this.state.checklist;t.assetType=e,this.setState({checklist:t})},t.prototype.handleAssetChange=function(e){var t=this.state.checklist;t.asset=e,this.setState({checklist:t})},t.prototype.saveChecklist=function(){return m(this,void 0,void 0,function(){var e,t,n,i;return b(this,function(a){switch(a.label){case 0:return e=this.state,t=e.checklist,n=e.isEdit,i=this.props.buildingName,t?(Object(l.a)(!0),[4,Object(u.i)(t,i,n)]):[3,2];case 1:a.sent(),Object(l.a)(!1),a.label=2;case 2:return window.location.hash="/"+this.props.instance+"/"+this.props.buildingName+"/Checklist",[2]}})})},t.prototype.saveChecklistToTask=function(){return m(this,void 0,void 0,function(){var e,t,n,i,a,c,s,r=this;return b(this,function(h){switch(h.label){case 0:if(e=this.state,t=e.checklist,n=e.selectedTask,i=this.props.buildingName,!t)return[3,2];for(Object(l.a)(!0),(a=Object()).ontology=Object(o.l)(6),a.checklistID=""+Object(o.k)(7),a.rdfsLabel=t.rdfsLabel,a.asset=t.asset,a.assetType=t.assetType,a.activities=[],c=0;c<t.activities.length;c++)(s=Object()).ontology=t.activities[c].ontology,s.action=t.activities[c].action,s.point=t.activities[c].point,s.pointTag=t.activities[c].pointTag,s.reading=t.activities[c].reading,s.unit=t.activities[c].unit,s.notes=t.activities[c].notes,s.status="Pending",a.activities.push(s);return[4,Object(u.h)(a,i,!1).then(function(){return m(r,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return[4,Object(f.e)(n,a.ontology)];case 1:return e.sent(),[2]}})})})];case 1:h.sent(),Object(l.a)(!1),h.label=2;case 2:return window.location.hash="/"+this.props.instance+"/"+this.props.buildingName+"/Checklist",[2]}})})},t.prototype.handleTaskChange=function(e){this.setState({selectedTask:e})},t.prototype.handleForTaskCheck=function(e){var t=this.state.selectedTask;e||(t=""),this.setState({isForTask:e,selectedTask:t})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,i=t.buildingName,c=this.state,s=c._equipments,o=c._spaces,l=c.checklist,u=c.isEdit,h=c.isForTask,f=c._tasks,p=c.selectedTask,m=""!=l.rdfsLabel&&""!=l.assetType&&l.activities&&l.activities.length>0&&!1===l.activities.map(function(e){return""==e.action}).find(function(e){return!1===e}),b=""!=l.rdfsLabel&&""!=l.assetType&&""!=p&&l.activities&&l.activities.length>0&&!1===l.activities.map(function(e){return""==e.action}).find(function(e){return!1===e}),v="None"!=l.assetType;return a.createElement("div",{className:"content"},a.createElement("div",{className:"card"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-6"},a.createElement("h4",{className:"title"},"Checklist Template Build")),a.createElement("div",{className:"col-md-3"},u&&a.createElement("label",null,"Checklist Template ID: ",l.templateID)),a.createElement("div",{className:"col-md-3"},a.createElement("button",{className:"btn btn-secondary btn-fill pull-right",onClick:function(){window.location.hash=n+"/"+i+"/Checklist"}},a.createElement("i",{className:"fa fa-angle-double-left"}),"  Back "),!h&&a.createElement("button",{className:"btn btn-success btn-fill pull-right",style:{marginRight:3},disabled:!m,onClick:function(){e.saveChecklist()}},a.createElement("i",{className:"fa fa-save"})," Save Template"),h&&a.createElement("button",{className:"btn btn-success btn-fill pull-right",style:{marginRight:3},disabled:!b,onClick:function(){e.saveChecklistToTask()}},a.createElement("i",{className:"fa fa-save"})," Save To Task"))),a.createElement("br",null),a.createElement("br",null),a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row form-group"},a.createElement("div",{className:"col-md-2 col-xs-12"},a.createElement("label",{htmlFor:"title"},"Title")),a.createElement("div",{className:"col-md-4 col-xs-12"},a.createElement("input",{id:"title",type:"text",className:"form-control",name:"title",value:l.rdfsLabel,onChange:function(t){e.handleTitleChange(t.target.value)}})))),a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row form-group"},a.createElement("div",{className:"col-md-2 col-xs-12"},a.createElement("label",{htmlFor:"assettype"},"Select Asset Type")),a.createElement("div",{className:"col-md-4 col-xs-12"},a.createElement("label",{className:"radio-inline"}," ",a.createElement("input",{type:"radio",name:"rdEquipment",value:"Equipment",checked:"Equip"==l.assetType,onChange:function(t){e.handleAssetRadioChange("Equip")}}),"Equipment"),a.createElement("br",null),a.createElement("label",{className:"radio-inline"}," ",a.createElement("input",{type:"radio",name:"rdSpace",value:"Space",checked:"Space"==l.assetType,onChange:function(t){e.handleAssetRadioChange("Space")}}),"Space"),a.createElement("br",null),a.createElement("label",{className:"radio-inline"}," ",a.createElement("input",{type:"radio",name:"rdNone",value:"None",checked:"None"==l.assetType,onChange:function(t){e.handleAssetRadioChange("None")}}),"None"),a.createElement("br",null)),"Equip"==l.assetType&&a.createElement("div",{className:"col-md-4 col-xs-12"},a.createElement("select",{className:"form-control",id:"equip",name:"equip",value:l.asset,onChange:function(t){e.handleAssetChange(t.target.value)}},a.createElement("option",{value:""},"Select Equipment"),s.map(function(e,t){return a.createElement("option",{key:t,value:e.equip.value},e.equipRdfsLabel.value)}))),"Space"==l.assetType&&a.createElement("div",{className:"col-md-4 col-xs-12"},a.createElement("select",{className:"form-control",id:"equip",name:"equip",value:l.asset,onChange:function(t){e.handleAssetChange(t.target.value)}},a.createElement("option",{value:""},"Select Space"),o.map(function(e,t){return a.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value)}))))),a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row form-group"},a.createElement("div",{className:"col-md-2 col-xs-12"},a.createElement("label",null,"Assign Checklist to Task")),a.createElement("div",{className:"col-md-4 col-xs-12"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"checkbox",checked:h,onChange:function(t){e.handleForTaskCheck(t.target.checked)}}))),h&&a.createElement("div",{className:"col-md-4 col-xs-12"},a.createElement("select",{className:"form-control",id:"task",name:"task",value:p,onChange:function(t){e.handleTaskChange(t.target.value)}},a.createElement("option",{value:""},"Select Task"),f&&f.filter(function(e){return"Completed"!=Object(d.g)(e.status)}).map(function(e,t){return a.createElement("option",{key:t,value:Object(d.g)(e.task)},Object(d.g)(e.taskNumber)+"-"+Object(d.g)(e.description))}))))),a.createElement("div",{className:"col-md-12 hidden-xs"},a.createElement("div",{className:"col-md-3 col-sm-3 small grid-header-left"},"Action"),v&&a.createElement("div",{className:"col-md-3 col-sm-3 small grid-header-left"},"Point"),v&&a.createElement("div",{className:"col-md-2 col-sm-2 small grid-header-left"},"Point/Status Tag"),v&&a.createElement("div",{className:"col-md-1 col-sm-1 small grid-header-left"},"Units"),a.createElement("div",{className:"col-md-3 col-sm-3 small grid-header-left"},"Data Entry")),a.createElement("div",{className:"col-md-12"},a.createElement(r.a,{checklist:l,instance:n,buildingName:i,activities:l.activities,handleActivityAdder:this.handleActivityAdder})))))},t}(a.Component);t.default=v},1740:function(e,t,n){"use strict";var i=n(3),a=(n.n(i),n(52)),c=n(13),s=n(519),r=n(12),o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function s(e){try{o(i.next(e))}catch(e){c(e)}}function r(e){try{o(i.throw(e))}catch(e){c(e)}}function o(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,r)}o((i=i.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,i=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){s.label=c[1];break}if(6===c[0]&&s.label<a[1]){s.label=a[1],a=c;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(c);break}a[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={activities:n.props.activities,_points:[],filter_points:[]},n._fetchManualPoints=n._fetchManualPoints.bind(n),n.addItem=n.addItem.bind(n),n.handleActionChange=n.handleActionChange.bind(n),n.handlePointChange=n.handlePointChange.bind(n),n.handlePointTagChange=n.handlePointTagChange.bind(n),n.handleReadingChange=n.handleReadingChange.bind(n),n.handleNotesChange=n.handleNotesChange.bind(n),n}return o(t,e),t.prototype.componentDidMount=function(){return l(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchManualPoints()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.componentWillReceiveProps=function(e){var t=this.state,n=t._points,i=t.filter_points;i=[],n&&n.length>0&&e.checklist&&e.checklist.asset&&e.checklist.asset.length>0&&("Equip"==e.checklist.assetType?i=n.filter(function(t){return Object(r.g)(t.asset)==e.checklist.asset}):"Space"==e.checklist.assetType&&(i=n.filter(function(t){return Object(r.g)(t.space)==e.checklist.asset}))),this.setState({filter_points:i,activities:e.activities})},t.prototype._fetchManualPoints=function(){return l(this,void 0,void 0,function(){var e,t=this;return u(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,Object(a.a)(!0),[4,Object(s.h)(e).then(function(e){var n=e&&e.filter(function(e){return"true"!=Object(r.g)(e.isSensed)});t.setState({_points:n})}).catch(function(e){return e})];case 1:return n.sent(),Object(a.a)(!1),[2]}})})},t.prototype.addItem=function(){var e={ontology:Object(c.l)(7),point:"",pointTag:"",action:"",reading:"",unit:"",notes:""},t=this.state.activities;t?t.push(e):t=[e],this.setState({activities:t}),this.props.handleActivityAdder(t)},t.prototype.handleActionChange=function(e,t){var n=this.state.activities;n[e].action=t,this.setState({activities:n}),this.props.handleActivityAdder(n)},t.prototype.handlePointChange=function(e,t){var n=this.state,i=n.activities,a=n._points;if(t&&a.length>0){var c=a&&a.find(function(e){return Object(r.g)(e.point)==t});i[e].unit=Object(r.g)(c.unit),i[e].pointTag=Object(r.g)(c.tag),i[e].point=t}else i[e].unit="",i[e].point="";this.setState({activities:i}),this.props.handleActivityAdder(i)},t.prototype.handlePointTagChange=function(e,t){var n=this.state.activities;n[e].pointTag=t,this.setState({activities:n}),this.props.handleActivityAdder(n)},t.prototype.handleReadingChange=function(e,t){var n=this.state.activities;n[e].reading=t,this.setState({activities:n}),this.props.handleActivityAdder(n)},t.prototype.handleNotesChange=function(e,t){var n=this.state.activities;n[e].notes=t,this.setState({activities:n}),this.props.handleActivityAdder(n)},t.prototype.render=function(){var e=this,t=this.state,n=t.activities,a=t.filter_points,c=this.props.checklist,s=n&&!1===n.map(function(e){return""!==e.action&&""!==e.ontology}).find(function(e){return!1===e}),o=n&&!s||!n,l="None"!=c.assetType;return i.createElement(i.Fragment,null,n&&n.map(function(t,n){return i.createElement("div",{key:n,className:"row"},i.createElement("br",null),i.createElement("div",{className:"col-md-3 col-sm-3"},i.createElement("div",{className:"form-group"},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Action"),i.createElement("input",{type:"text ",id:"action",className:"form-control",value:t.action,onChange:function(t){return e.handleActionChange(n,t.target.value)}}))),l&&i.createElement("div",{className:"col-md-3 col-sm-3"},i.createElement("div",{className:"form-group"},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Point"),i.createElement("select",{className:"form-control",value:t.point,onChange:function(t){return e.handlePointChange(n,t.target.value)}},i.createElement("option",{value:"",key:-2},"Select Point"),a.map(function(e,t){return i.createElement("option",{key:t,value:Object(r.g)(e.point)},Object(r.g)(e.pointLabel))})))),l&&i.createElement("div",{className:"col-md-2 col-sm-2"},i.createElement("div",{className:"form-group"},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Point/Status Tag"),i.createElement("input",{type:"text ",id:"tag",className:"form-control",disabled:!0,value:t.pointTag,onChange:function(t){return e.handlePointTagChange(n,t.target.value)}}))),l&&i.createElement("div",{className:"col-md-1 col-sm-1"},i.createElement("div",{className:"form-group"},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Unit"),i.createElement("input",{type:"text ",id:"units",disabled:!0,className:"form-control",value:t.unit}))),i.createElement("div",{className:"col-md-3 col-sm-3"},i.createElement("div",{className:"form-group"},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Date Entry"),i.createElement("input",{type:"text ",id:"notes",className:"form-control",value:t.notes,onChange:function(t){return e.handleNotesChange(n,t.target.value)}}))),i.createElement("hr",{className:"visible-xs"}))}),i.createElement("br",null),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-1"},i.createElement("label",null,"Add:")),i.createElement("div",{className:"col-md-11 col-xs-11"},i.createElement("button",{type:"button",disabled:!o,className:"btn btn-dark btn-fill btn-sm",onClick:this.addItem},i.createElement("i",{className:"fa fa-plus"})))),i.createElement("br",null))},t}(i.Component);t.a=h},545:function(e,t,n){"use strict";t.l=function(){return s(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,Object(c.e)({},c.a.TASKS.GetTaskTypeList,i.b.TASK)];case 1:return[2,e.sent()]}})})},t.m=function(){return s(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,Object(c.e)({},c.a.TASKS.GetWorkTypeList,i.b.TASK)];case 1:return[2,e.sent()]}})})},t.h=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,getArchivedOnly:t},c.a.CHATS.GetChats,i.b.TASK)];case 1:return[2,n.sent()]}})})},t.f=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({taskID:e,chatName:t},c.a.CHATS.DeleteChat,i.b.TASK).then(function(){Object(a.b)("Chat Deleted Successfully.")}).catch(function(e){Object(a.a)("Error occured while deleting Chat.")})];case 1:return[2,n.sent()]}})})},t.q=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({taskID:e,chatName:t},c.a.TASKS.UpdateLastMessageOn,i.b.CHAT)];case 1:return[2,n.sent()]}})})},t.v=function(e){return s(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.f)({chatName:e},c.a.TASKS.UpdateUnreadCount,i.b.TASK)];case 1:return[2,t.sent()]}})})},t.o=function(e,t,n){return s(this,void 0,void 0,function(){return r(this,function(s){switch(s.label){case 0:return[4,Object(c.f)({buildingName:e,model:t,isEdit:n},c.a.TASKS.UpdateRootTask,i.b.TASK).then(function(){Object(a.b)("Task "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Task.")})];case 1:return[2,s.sent()]}})})},t.i=function(e,t,n){return s(this,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,Object(c.e)({buildingName:e,taskNumber:t,isArchived:n},c.a.TASKS.GETTASKS,i.b.TASK,!0)];case 1:return[2,a.sent()]}})})},t.j=function(e,t,n){return s(this,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,Object(c.e)({buildingName:e,parentTask:t,subTaskNumber:n},c.a.TASKS.GetSubTask,i.b.TASK)];case 1:return[2,a.sent()]}})})},t.s=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({taskID:e,isDeleted:t},c.a.TASKS.UpdateRootTaskDeleteStatus,i.b.TASK).then(function(){Object(a.b)("Task Deleted Successfully.")}).catch(function(e){Object(a.a)("Error occured while deleting Task.")})];case 1:return[2,n.sent()]}})})},t.u=function(e,t,n){return s(this,void 0,void 0,function(){return r(this,function(s){switch(s.label){case 0:return[4,Object(c.f)({taskID:e,status:t},c.a.TASKS.UpdateTaskStatus,i.b.TASK).then(function(){n||Object(a.b)("Status Updated Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Task.")})];case 1:return[2,s.sent()]}})})},t.t=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({taskID:e,startTime:t},c.a.TASKS.UpdateTaskStartTime,i.b.TASK).then(function(){Object(a.b)("Start Time Updated Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Task.")})];case 1:return[2,n.sent()]}})})},t.d=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({taskID:e,isArchived:t},c.a.TASKS.ArchiveTask,i.b.TASK).then(function(){Object(a.b)((t?"Archived":"Unarchived")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while Archiving Task.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({taskID:e,note:t},c.a.TASKS.AddPauseNote,i.b.TASK).then(function(){}).catch(function(e){Object(a.a)("Error occured while saving Task.")})];case 1:return[2,n.sent()]}})})},t.g=function(e){return s(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.f)({taskID:e},c.a.TASKS.DeletePauseNote,i.b.TASK).then(function(){}).catch(function(e){Object(a.a)("Error occured while saving Task.")})];case 1:return[2,t.sent()]}})})},t.b=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({taskID:e,note:t},c.a.TASKS.AddNote,i.b.TASK).then(function(){Object(a.b)("Note Added Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Task.")})];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({taskID:e,isAcknowledged:t},c.a.TASKS.AcknowledgeRootTask,i.b.TASK).then(function(){Object(a.b)(t?"Acknowledged Successfully.":"Unacknowledged Successfully.")}).catch(function(e){Object(a.a)("Error occured while Acknowledging.")})];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({taskID:e,checklistID:t},c.a.TASKS.AssignChecklist,i.b.TASK).then(function(){Object(a.b)("Checklist Assigned Successfully.")}).catch(function(e){Object(a.a)("Error occured while Assigning Checklist.")})];case 1:return[2,n.sent()]}})})},t.r=function(e,t,n){return s(this,void 0,void 0,function(){return r(this,function(s){switch(s.label){case 0:return[4,Object(c.f)({email:e,roles:t,fileName:n},c.a.ONEDRIVE.UPDATEPERMISSION,i.b.TASK,"",!0).then(function(e){return e}).catch(function(e){Object(a.a)("Error occured while update Permission.")})];case 1:return[2,s.sent()]}})})},t.n=function(e){return s(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.f)({fileName:e},c.a.ONEDRIVE.REMOVEPERMISSION,i.b.TASK,"",!0).then(function(e){return e}).catch(function(e){Object(a.a)("Error occured while removing Permission.")})];case 1:return[2,t.sent()]}})})},t.k=function(e,t){return s(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,checklistID:t},c.a.TASKS.GetTaskHavingChecklist,i.b.TASK,!0)];case 1:return[2,n.sent()]}})})},t.p=function(e){return s(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.f)({buildingName:e},c.a.TASKS.TriggerTaskManagement,i.b.TASK,"").then(function(e){return e}).catch(function(e){Object(a.a)("Error occured while triggering task automation.")})];case 1:return[2,t.sent()]}})})};var i=n(25),a=n(51),c=n(14),s=(n(26),this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function s(e){try{o(i.next(e))}catch(e){c(e)}}function r(e){try{o(i.throw(e))}catch(e){c(e)}}function o(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,r)}o((i=i.apply(e,t||[])).next())})}),r=this&&this.__generator||function(e,t){var n,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,i=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){s.label=c[1];break}if(6===c[0]&&s.label<a[1]){s.label=a[1],a=c;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(c);break}a[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}}}});