webpackJsonp([63],{2529:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),s=(a.n(n),a(11)),c=a(119),o=a(676),i=a(118),r=a(664),l=a(675),u=a(123),d=a(667),g=a(19),b=a(838),m=a(10),p=a(57),f=a(783),h=a(55),O=a(1006),k=a.n(O),j=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),v=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(s,c){function o(e){try{r(n.next(e))}catch(e){c(e)}}function i(e){try{r(n.throw(e))}catch(e){c(e)}}function r(e){e.done?s(e.value):function(e){return e instanceof a?e:new a(function(t){t(e)})}(e.value).then(o,i)}r((n=n.apply(e,t||[])).next())})},y=this&&this.__generator||function(e,t){var a,n,s,c,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(c){return function(i){return function(c){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(s=2&c[0]?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){o.label=c[1];break}if(6===c[0]&&o.label<s[1]){o.label=s[1],s=c;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(c);break}s[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],n=0}finally{a=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}},w=new u.a,N=function(e){function t(t){var a=e.call(this,t)||this;return a.state={taskID:"",_tasks:a.props.tasks,sortOrder:1,pauseNote:"",why:"",note:"",showStopWorkConfirmation:!1,selectedChecklistTask:"",checklist:[],selectedChecklist:Object(),checklistBoard:Object(),isQrCameraMode:!1,qrValdiationTask:Object()},a.setRowColor=a.setRowColor.bind(a),a.sortTasks=a.sortTasks.bind(a),a.UpdateTaskStatusLocally=a.UpdateTaskStatusLocally.bind(a),a._ArchiveTaskLocally=a._ArchiveTaskLocally.bind(a),a._updateTaskStatus=a._updateTaskStatus.bind(a),a.archiveTask=a.archiveTask.bind(a),a.filterAssignee=a.filterAssignee.bind(a),a.getNextTask=a.getNextTask.bind(a),a.sendSms=a.sendSms.bind(a),a.sendMail=a.sendMail.bind(a),a.toggleStopWorkButton=a.toggleStopWorkButton.bind(a),a.handleStopWork=a.handleStopWork.bind(a),a.handleChecklistSelection=a.handleChecklistSelection.bind(a),a.handleChecklistAssignment=a.handleChecklistAssignment.bind(a),a.getChecklistBoard=a.getChecklistBoard.bind(a),a._deleteChecklist=a._deleteChecklist.bind(a),a._unassignChecklist=a._unassignChecklist.bind(a),a.updateChecklist=a.updateChecklist.bind(a),a.handleChecklistBoard=a.handleChecklistBoard.bind(a),a.updateCrewPerformance=a.updateCrewPerformance.bind(a),a.updateRecentPerformance=a.updateRecentPerformance.bind(a),a.handleScan=a.handleScan.bind(a),a.getWorkflowTypePrefix=a.getWorkflowTypePrefix.bind(a),a.hasOtherStartedTask=a.hasOtherStartedTask.bind(a),a.formatDate=a.formatDate.bind(a),a}return j(t,e),t.prototype.setRowColor=function(e){var t=Object(s.g)(e.status),a=Object(s.g)(e.criticality);return"Pending"==t?"pending-row-"+a:"Started"==t?"status-row-start":"Paused"==t?"status-row-pause":"Completed"==t?"status-row-complete":"Cancelled"==t?"status-row-cancel":""},t.prototype.handleChecklistSelection=function(e){this.setState({selectedChecklist:e})},t.prototype.UpdateTaskStatusLocallyForAllBrowsers=function(e,t,a,n,s){var c={taskID:e,status:t,setActualStartTime:a,taskIndex:n,pauseNote:s};Object(h.t)(c)},t.prototype._updateTaskStatus=function(e,t,a,n,c){return v(this,void 0,void 0,function(){var o,r,l,u,d,g=this;return y(this,function(b){switch(b.label){case 0:return this.UpdateTaskStatusLocally(e,t,a,n,c),this.UpdateTaskStatusLocallyForAllBrowsers(e,t,a,n,c),"Started"==t?(o=document.getElementById("myVideo")&&document.getElementById("myVideo"))&&o.pause():(o=document.getElementById("myVideo")&&document.getElementById("myVideo"))&&o.play(),!1,r=[],l=this.state._tasks,u=l&&l.find(function(t){return Object(s.g)(t.task)==e}),"Completed"!=t?[3,2]:[4,Object(i.L)(e,t,a)];case 1:b.sent(),b.label=2;case 2:return[4,Object(i.N)(e,t,!1,"Completed"!==t?a:null,c).then(function(){return v(g,void 0,void 0,function(){return y(this,function(e){return[2]})})}).catch(function(e){return e})];case 3:return b.sent(),d=l.findIndex(function(t){return Object(s.g)(t.task)==e}),l&&l.length>0&&-1!=d&&(u=l[l.findIndex(function(t){return Object(s.g)(t.task)==e})],r=l.filter(function(e){return Object(s.g)(e.parentTask)==Object(s.g)(u.parentTask)})),u&&"1"==n?[4,Object(i.N)(Object(s.g)(u.parentTask),"Assigned",!0,a).then(function(){return v(g,void 0,void 0,function(){return y(this,function(e){return[2]})})}).catch(function(e){return e})]:[3,5];case 4:b.sent(),b.label=5;case 5:if("Completed"==t){try{u&&Object(s.g)(u.parentTask).length>0&&r&&r.length>0&&r.length==r.filter(function(e){return"Completed"==Object(s.g)(e&&e.status)}).length}catch(e){}this.props.manageTasksLists(this.props.allTask)}return[2]}})})},t.prototype.UNSAFE_componentWillReceiveProps=function(){this.props.tasks&&this.setState({_tasks:this.props.tasks})},t.prototype.componentDidMount=function(){return v(this,void 0,void 0,function(){var e=this;return y(this,function(t){return this.props.tasks&&this.setState({_tasks:this.props.tasks},function(){Object(h.d)(e.UpdateTaskStatusLocally),Object(h.b)(e._ArchiveTaskLocally)}),[2]})})},t.prototype.UpdateTaskStatusLocally=function(e,t,a,n,c){var o=this;if("Completed"==t){var i=this.props.allTask;i.map(function(c){Object(s.g)(c.task)==e&&(c.status={type:"literal",value:t},c.index=n?{type:"literal",value:n}:void 0,c.actualStartTime=a?{type:"literal",value:a}:void 0)}),setTimeout(function(){o.props.manageTasksLists(i)},2e3)}else{var r=this.state._tasks;r.map(function(o){Object(s.g)(o.task)==e&&(o.status={type:"literal",value:t},o.index=n?{type:"literal",value:n}:void 0,o.pauseNote=c?{type:"literal",value:c+" at "+new Date(Date.now()).toString()}:void 0,o.actualStartTime=a?{type:"literal",value:a}:void 0)}),this.setState({_tasks:r})}},t.prototype.ArchiveLocallyForAllBrowsers=function(e){var t={taskID:e};Object(h.g)(t)},t.prototype._ArchiveTaskLocally=function(e){for(var t=this.state._tasks,a=0;a<t.length;a++){var n=t[a];if(Object(s.g)(n.task)==e){t.splice(a,1);break}}this.setState({_tasks:t});var c=this.props.allTask;for(a=0;a<c.length;a++){n=c[a];if(Object(s.g)(n.task)==e){c.splice(a,1);break}}this.props.manageTasksLists(c)},t.prototype.archiveTask=function(e,t){return v(this,void 0,void 0,function(){var t;return y(this,function(a){switch(a.label){case 0:return t=Object(s.g)(e.task),e&&Object(s.g)(e.task)&&"Completed"==Object(s.g)(e.status)?[4,Object(i.i)(t)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,Object(i.h)(t,!0)];case 3:a.sent(),a.label=4;case 4:return this._ArchiveTaskLocally(t),this.ArchiveLocallyForAllBrowsers(t),[2]}})})},t.prototype.sortTasks=function(e,t){var a=this.state._tasks,n=this.state.sortOrder,s=a.sort(function(a,s){if(a&&s){var c="",o="";switch(e){case"Criticality":a.criticality&&s.criticality&&(c=a.criticality.value,o=s.criticality.value,n=t||1);break;case"Issue":c=a.action.value,o=s.action.value;break;case"Description":a.action&&s.action&&(c=a.action.value,o=s.action.value);break;case"Start_Time":a.startTime&&s.startTime&&(c=a.startTime.value,o=s.startTime.value);break;case"Acknowledged":a.equipRdfsLabel&&s.equipRdfsLabel&&(c=a.acknowledged.value,o=s.acknowledged.value);break;case"Assigned_By":a.assignedToName&&s.assignedToName&&(c=a.assignedToName.value,o=s.assignedToName.value);break;case"Asset":a.equipRdfsLabel&&s.equipRdfsLabel&&(c=a.equipRdfsLabel.value,o=s.equipRdfsLabel.value);break;case"buil_Nam":a.buildingName&&s.buildingName&&(c=a.buildingName.value,o=s.buildingName.value);break;case"Task_Assigned":a.assignedTo&&s.assignedTo&&(c=a.assignedTo.value,o=s.assignedTo.value)}var i=0;if("Completed By"==e||"Entry Date"==e){var r=c?parseInt(new Date(c).YYMMDDHHMM()):0,l=o?parseInt(new Date(o).YYMMDDHHMM()):0;r<l&&(i=-1),r>l&&(i=1)}else c.toLocaleLowerCase()<o.toLocaleLowerCase()?i=-1:c.toLocaleLowerCase()>o.toLocaleLowerCase()&&(i=1);return i*n}});this.setState({_tasks:s,sortOrder:-1*n})},t.prototype.toggleStopWorkButton=function(e){this.setState({showStopWorkConfirmation:e})},t.prototype.handleStopWork=function(e){return v(this,void 0,void 0,function(){return y(this,function(t){switch(t.label){case 0:return[4,Object(l.o)("Not Working").then(function(){e.logout()})];case 1:return t.sent(),[2]}})})},t.prototype.filterAssignee=function(e){if("ALL"==e)this.setState({_tasks:this.props.tasks});else{var t=this.props.tasks.filter(function(t){return t.assignedTo.value.includes(e)||t.assignedToName.value.includes(e)});this.setState({_tasks:t})}},t.prototype.getNextTask=function(){return v(this,void 0,void 0,function(){var e,t;return y(this,function(a){switch(a.label){case 0:return t=JSON.parse(m.a.getItem("user")),[4,Object(i.p)(this.props.buildingName,"",!1,!0).then(function(a){var n=(t.group.split(",").find(function(e){return"Admin"==e||"Manager"==e})?a:a.filter(function(e){return-1!=Object(s.g)(e.assignedTo).split(", ").findIndex(function(e){return e==t.contact})||Object(s.g)(e.enteredBy)==t.contact})).filter(function(e){return!e.hasOwnProperty("startTime")}).sort(function(e,t){return parseInt(e.criticality.value)-parseInt(t.criticality.value)});e=n[0]}).catch(function(e){return e})];case 1:return a.sent(),[2,e]}})})},t.prototype.sendSms=function(e){return v(this,void 0,void 0,function(){var t,a,n,c;return y(this,function(o){return this.state,t=this.props,a=t.instance,n=t.buildingName,c=t.people,(e.assignedTo.value.indexOf(",")>0?e.assignedTo.value.split(", "):[e.assignedTo.value]).map(function(t){var o=c.find(function(e){return Object(s.g)(e.contact)==t});o&&Object(g.E)(Object(s.g)(o.smsSchedule))&&o&&Object(s.g)(o.phone).length>0&&w.SendSMS(Object(s.g)(o.phone),'"'+Object(s.g)(e.taskNumber)+" : "+Object(s.g)(e.action)+'" Task has been Assigned  to you on : '+new Date(Object(s.g)(e.startTime)).toLocaleString()+", To view the Task: "+window.location.origin+"/#"+a+"/"+n+"/Tasks",a,function(e){})}),[2]})})},t.prototype.sendMail=function(e){return v(this,void 0,void 0,function(){var t,a,n,c,o,i,r;return y(this,function(l){return t=this.props,a=t.instance,n=t.buildingName,c=t.people,o='"'+Object(s.g)(e.taskNumber)+" : "+Object(s.g)(e.action)+'" Task has been Assigned  to you on : '+new Date(Object(s.g)(e.startTime)).toLocaleString()+", To view the Task: "+window.location.origin+"/#"+a+"/"+n+"/Tasks",(i=c.find(function(t){return Object(s.g)(t.contact)==Object(s.g)(e.enteredBy)}))&&Object(s.g)(i.email).length>0&&((r=Object()).subject="Task Notification",r.to=Object(s.g)(i.email),r.text=o,Object(p.a)(r)),[2]})})},t.prototype.handleChecklistAssignment=function(){return v(this,void 0,void 0,function(){var e,t,a,n,c,o,r,l,u,d,m,p=this;return y(this,function(f){switch(f.label){case 0:return e=this.state,t=e.selectedChecklist,a=e.selectedChecklistTask,n=this.props.buildingName,(c=Object()).ontology=Object(g.y)(6),c.asset=Object(s.g)(t.asset),o=Object(s.g)(t.templateID),r=""!=Object(s.g)(t.uses)?(parseInt(Object(s.g)(t.uses))+1).toString():"1",c.checklistID=o+"-"+r,c.assetType=Object(s.g)(t.assetType),c.rdfsLabel=Object(s.g)(t.rdfsLabel),c.activities=[],l=Object(s.g)(t.activities).split(","),[4,Object(b.e)(n,l)];case 1:for(u=f.sent(),d=0;d<u.length;d++)(m=Object()).ontology=Object(g.y)(6),m.action=Object(s.g)(u[d].action),m.point=Object(s.g)(u[d].point),m.pointTag=Object(s.g)(u[d].pointTag),m.reading=Object(s.g)(u[d].reading),m.unit=Object(s.g)(u[d].unit),m.notes=Object(s.g)(u[d].notes),m.status="Pending",c.activities.push(m);return[4,Object(b.h)(c,n,!1).then(function(){return v(p,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return[4,Object(b.j)(n,Object(s.g)(t.ontology),r)];case 1:return e.sent(),[4,Object(i.j)(a,c.ontology)];case 2:return e.sent(),[2]}})})})];case 2:return f.sent(),t=Object(),this.setState({selectedChecklist:t},function(){p.props._fetchTasks()}),[2]}})})},t.prototype.getChecklistBoard=function(e){return v(this,void 0,void 0,function(){var t,a=this;return y(this,function(n){switch(n.label){case 0:return t=this.props.buildingName,e&&""!=e?[4,Object(b.f)(t,e).then(function(e){return v(a,void 0,void 0,function(){var a,n,c,o,i,r;return y(this,function(l){switch(l.label){case 0:return a=e[0],(n=Object()).ontology=Object(s.g)(a.ontology),n.checklistID=Object(s.g)(a.checklistID),n.asset=Object(s.g)(a.asset),n.assetLabel=Object(s.g)(a.assetLabel),n.assetType=Object(s.g)(a.assetType),n.rdfsLabel=Object(s.g)(a.rdfsLabel),n.activities=[],c=Object(s.g)(a.activities).split(","),[4,Object(b.d)(t,c)];case 1:for(o=l.sent(),i=0;i<o.length;i++)(r=Object()).ontology=Object(s.g)(o[i].ontology),r.action=Object(s.g)(o[i].action),r.point=Object(s.g)(o[i].point),r.pointLabel=Object(s.g)(o[i].pointLabel),r.pointTag=Object(s.g)(o[i].pointTag),r.reading=Object(s.g)(o[i].reading),r.unit=Object(s.g)(o[i].unit),r.notes=Object(s.g)(o[i].notes),r.status=Object(s.g)(o[i].status),r.upload=Object(s.g)(o[i].upload),r.isVerified="true"==Object(s.g)(o[i].isVerified),r.completedOn=Object(s.g)(o[i].completedOn),n.activities.push(r);return this.setState({checklistBoard:n}),[2]}})})})]:[3,2];case 1:return n.sent(),[3,3];case 2:this.setState({checklistBoard:Object()}),n.label=3;case 3:return[2]}})})},t.prototype._unassignChecklist=function(e){return v(this,void 0,void 0,function(){return y(this,function(t){switch(t.label){case 0:return e?[4,Object(b.a)(e,this.props.buildingName).then(function(e){}).catch(function(e){return e})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.handleChecklistBoard=function(e){this.setState({checklistBoard:e})},t.prototype.updateChecklist=function(){return v(this,void 0,void 0,function(){var e,t;return y(this,function(a){switch(a.label){case 0:return e=this.state.checklistBoard,t=this.props.buildingName,[4,Object(b.h)(e,t,!0)];case 1:return a.sent(),[2]}})})},t.prototype._deleteChecklist=function(e){return v(this,void 0,void 0,function(){return y(this,function(t){switch(t.label){case 0:return e&&e.checklistID?[4,Object(b.b)(Object(s.g)(e.checklistID),this.props.buildingName).then(function(e){}).catch(function(e){return e})]:[3,3];case 1:return t.sent(),[4,this._unassignChecklist(Object(s.g)(e.task)).then(function(e){}).catch(function(e){return e})];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.updateRecentPerformance=function(){return v(this,void 0,void 0,function(){var e,t,a=this;return y(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,t=JSON.parse(m.a.getItem("user")),[4,Object(f.c)(e,t.contact).then(function(e){if(null!=e&&""!=e._id){var t={_id:e._id,contact:e.contact,contactName:e.contactName,status:e.status,taskOntology:e.taskOntology,taskDescription:e.taskDescription,startDate:e.startDate,endDate:new Date,building:e.building,entryTimestamp:e.entryTimestamp,floorOntology:e.floorOntology,floorDescription:e.floorDescription,assetOntology:e.assetOntology,assetDescription:e.assetDescription,spaceOntology:e.spaceOntology,spaceDescription:e.spaceDescriptionres,workOrder:e.workOrder,stageOntologyReference:e.stageOntologyReference};a.updateCrewPerformance(t)}})];case 1:return n.sent(),[2]}})})},t.prototype.updateCrewPerformance=function(e){return v(this,void 0,void 0,function(){return y(this,function(t){return Object(f.d)(e).then(function(e){}).catch(function(e){return e}),[2]})})},t.prototype.handleScan=function(e){var t=this.state.qrValdiationTask,a=JSON.parse(m.a.getItem("user"));if(null!==e)if(Object(s.g)(t.QRTag).includes(e.toString().trim())){document.getElementById("qrDailogeClose").click(),this._updateTaskStatus(Object(s.g)(t.task),"Completed"),this.updateRecentPerformance();var n={contact:a.contact,contactName:a.name,status:"Completed",taskOntology:Object(s.g)(t.task),taskDescription:Object(s.g)(t.description),startDate:new Date,endDate:new Date,building:this.props.buildingName,entryTimestamp:new Date,floorOntology:Object(s.g)(t.floor),floorDescription:Object(s.g)(t.floorRdfsLabel),assetOntology:Object(s.g)(t.equipSubject),assetDescription:Object(s.g)(t.equipRdfsLabel),spaceOntology:Object(s.g)(t.spaceSubject),spaceDescription:Object(s.g)(t.spaceRdfsLabel),workOrder:""!=Object(s.g)(t.workOrder)?Object(s.g)(t.workOrder):"wo-55555",stageOntologyReference:Object(s.g)(t.task)?Object(s.g)(t.task):""};this.updateCrewPerformance(n),this.setState({isQrCameraMode:!1})}else alert("QR code dosenot Match...")},t.prototype.getWorkflowTypePrefix=function(e){var t="";switch(e){case"Contract":t="Con";break;case"Job":t="Job";break;case"Inspection":t="Insp";break;case"Measure":t="Meas";break;case"IPMVP":t="IPMVP";break;case"LOTO":t="LOTO";break;case"Case":t="Case";break;default:t=""}return t},t.prototype.hasOtherStartedTask=function(){return v(this,void 0,void 0,function(){var e,t,a,n,c=this;return y(this,function(o){switch(o.label){case 0:return e=JSON.parse(m.a.getItem("user")),t=!1,[4,Object(i.n)(e.contact)];case 1:return a=o.sent(),(n=a&&a.length>0&&a.filter(function(t){return t.hasOwnProperty("startTime")&&"Started"==Object(s.g)(t.status)&&"true"!=Object(s.g)(t.isSequence)&&Object(s.g)(t.assignedTo)==e.contact})).length>0&&(confirm("If you start this task you will pause the one you are working on, is this ok?")?n.map(function(e){c._updateTaskStatus(Object(s.g)(e.task),"Paused","","","Interrupted")}):t=!0),[2,t]}})})},t.prototype.formatDate=function(e){var t=new Date,a=Object(g.n)(t,e);return a<99?a+" minutes ago":e.onitDateFormat(!0)},t.prototype.updateTeamMembers=function(e,t){return v(this,void 0,void 0,function(){return y(this,function(a){switch(a.label){case 0:return[4,Object(i.M)(e,[t.contact])];case 1:return a.sent(),[2]}})})},t.prototype.playTask=function(e){return v(this,void 0,void 0,function(){var t,a,n,c,o,r,l;return y(this,function(u){switch(u.label){case 0:return t=JSON.parse(m.a.getItem("user")),a=this.props.people,[4,this.hasOtherStartedTask()];case 1:return u.sent()?[2]:[4,this._updateTaskStatus(Object(s.g)(e.task),"Started",(new Date).toString(),Object(s.g)(e.index))];case 2:return u.sent(),Object(i.l)(e.task.value),this.updateRecentPerformance(),n={contact:t.contact,contactName:t.name,status:"Started",taskOntology:Object(s.g)(e.task),taskDescription:Object(s.g)(e.description),startDate:new Date,endDate:new Date,building:this.props.buildingName,entryTimestamp:new Date,floorOntology:Object(s.g)(e.floor),floorDescription:Object(s.g)(e.floorRdfsLabel),assetOntology:Object(s.g)(e.equipSubject),assetDescription:Object(s.g)(e.equipRdfsLabel),spaceOntology:Object(s.g)(e.spaceSubject),spaceDescription:Object(s.g)(e.spaceRdfsLabel),workOrder:""!=Object(s.g)(e.workOrder)?Object(s.g)(e.workOrder):"wo-55555",stageOntologyReference:Object(s.g)(e.task)?Object(s.g)(e.task):""},this.updateCrewPerformance(n),e.workflowType&&e.contractFileName&&"Contract"==Object(s.g)(e.workflowType)&&""!==Object(s.g)(e.contractFileName)?(c=a.find(function(t){return Object(s.g)(t.contact)==Object(s.g)(e.assignedTo)}),o="",c&&""!=Object(s.g)(c.email)&&(o=Object(s.g)(c.email)),r=Object(s.g)(e.contractFileName),l=Object(s.g)(o),[4,Object(i.H)([l],["write"],r).then(function(e){if(e.link){var t=e.link[0].link.webUrl;window.open(t,"_blank")}})]):[3,4];case 3:u.sent(),u.label=4;case 4:return[4,Object(i.G)(this.props.buildingName)];case 5:return u.sent(),[4,Object(h.s)()];case 6:return u.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=JSON.parse(m.a.getItem("user")),a=Object(o.b)(t,"task-ticket","write"),l="1"==t.role||"2"==t.role,u=this.props,b=u.instance,p=u.buildingName,f=u.listType,O=u.isScreenSaverCall,j=this.state,w=j.pauseNote,N=j.why,T=j.showStopWorkConfirmation,E=localStorage.getItem("ScreenSaverTaskLength"),D=parseInt(E);return n.createElement(c.a.Consumer,null,function(c){return n.createElement("div",{className:"card",id:"ScreenSaverTask"},n.createElement("div",{className:"content",style:{paddingTop:"0px"}},n.createElement("div",{className:O?"screenSaverCard":"dataCard",style:{padding:""+(0==D&&0)}},!O&&n.createElement("div",{className:"row no-padding hidden-sm hidden-xs"},n.createElement("div",{className:"col-sm-12 col-xs-12 no-padding"},n.createElement("div",{className:"col-xl-6 col-lg-5 col-md-4 col-sm-3 col-xs-3 small grid-header-left",onClick:function(){return e.sortTasks("Issue")}},n.createElement("i",{className:"fa fas fa-sort"}),"Doing"),"DoNext"!=f&&"DoIf"!=f&&n.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortTasks("Start_Time")}},n.createElement("i",{className:"fa fas fa-sort"}),"Assigned"),l&&n.createElement("div",{className:"col-xl-1 col-md-2 col-sm-2 small grid-header",onClick:function(){return e.sortTasks("Task_Assigned")}},n.createElement("i",{className:"fa fas fa-sort"}),"Assigned To"),!l&&n.createElement("div",{className:"col-sm-2 col-xs-2 small grid-header",onClick:function(){return e.sortTasks("Assigned_By")}},n.createElement("i",{className:"fa fas fa-sort"}),"Assigned By"),n.createElement("div",{className:"col-xl-1 col-lg-1 col-md-2 col-sm-2 col-xs-2 small grid-header",onClick:function(){return e.sortTasks("buil_Nam")}},n.createElement("i",{className:"fa fas fa-sort"}),"Building"),f&&"DoIf"==f&&l&&n.createElement("div",{className:"col-sm-2 col-xs-2 small headingText grid-header",onClick:function(){return e.sortTasks("Acknowledged")}},n.createElement("i",{className:"fa fas fa-sort"}),"Acknowledge"),n.createElement("div",{className:("DoNext"==f?"col-xl-3 col-md-4 col-sm-6":"col-xl-1 col-md-2 col-sm-3")+" small headingText grid-header center",style:{display:"block"}},n.createElement("span",null,"Actions")))),e.state._tasks&&e.state._tasks.map(function(o,u){var m=e.setRowColor(o),O=!1,j=[];if(Object(s.g)(o.assignedTo)&&(j=Object(s.g)(o.assignedTo).split(","))&&j.length>0)for(var E=0;E<j.length;E++){j[E]==t.contact&&(O||(O=!0))}var D=""!=Object(s.g)(o.parentTask),S="true"==Object(s.g)(o.isSequence),C="true"==Object(s.g)(o.isRecurring);if("Started"==Object(s.g)(o.status)){var x=document.getElementById("myVideo")&&document.getElementById("myVideo");x&&x.pause()}return n.createElement("div",{key:u,className:"row "+("true"!=Object(s.g)(o.isInterruptCurrentTask)||"Paused"!=Object(s.g)(o.status)||""!=Object(s.g)(o.isSeen)&&"false"!=Object(s.g)(o.isSeen)?m:"alert")},n.createElement("div",{className:"col-sm-12 col-xs-12 no-padding"},n.createElement("div",{className:"col-xl-6 col-lg-5 col-md-4 col-sm-3 small trim-data"},n.createElement(n.Fragment,null,n.createElement("span",{className:"hidden visible-xs-inline headingText bold pull-left",style:{color:"#05490d"}},"Doing: "),S&&n.createElement("span",{className:"pull-left"},n.createElement("i",{style:{color:"rgb("+Object(s.g)(o.color)+")"},className:"fa fa-list"})),D&&!S&&n.createElement("span",{className:"pull-left"},n.createElement("i",{style:{color:"rgb("+Object(s.g)(o.color)+")"},className:"fa fa-circle"})),C&&n.createElement("span",{className:"pull-left"},n.createElement("b",null,"REC: ")),n.createElement("span",{className:"pull-left",style:{color:"#084275"}},n.createElement("b",null,"Action: ")),n.createElement("a",{className:"bold pull-left",style:{color:"black",marginLeft:"3px"},title:Object(s.g)(o.action),href:D?"#"+b+"/"+p+"/SubTask/"+Object(s.g)(o.task):" #"+b+"/"+p+"/NewTask/"+Object(s.g)(o.task)},Object(s.g)(o.action))),o.parentTask&&n.createElement(n.Fragment,null,n.createElement("span",{className:"pull-left"},n.createElement("i",{style:{visibility:"hidden"},className:"fa fa-circle"})),n.createElement("span",{className:"pull-left",style:{color:"#084275"}},n.createElement("b",{title:"Stage Task"},"ST: ")),n.createElement("span",{className:"pull-left",style:{marginLeft:"3px"}},n.createElement("a",{className:"bold pull-left",style:{color:"black",marginLeft:"3px"},title:Object(s.g)(o.parentDescription),href:"http://"+Object(g.u)()+"/#"+b+"/"+p+"/Deploy/StageView/"+Object(s.g)(o.parentTask)},Object(s.g)(o.parentDescription)))),o.workflowDescription&&n.createElement(n.Fragment,null,n.createElement("span",{className:"pull-left"},n.createElement("i",{style:{visibility:"hidden"},className:"fa fa-circle"})),n.createElement("span",{className:"pull-left",style:{color:"#084275"}},n.createElement("b",{title:"Workflow Description"},"Desc: ")),n.createElement("span",{className:"pull-left",style:{marginLeft:"3px"}},n.createElement("a",{className:"bold pull-left",style:{color:"black",marginLeft:"3px"},title:Object(s.g)(o.workflowDescription),href:"http://"+Object(g.u)()+"/#"+b+"/"+p+"/Deploy/WorkflowView/"+Object(s.g)(o.wfOntology)},Object(s.g)(o.workflowDescription)))),o.workflowType&&n.createElement(n.Fragment,null,n.createElement("span",{className:"pull-left"},n.createElement("i",{style:{visibility:"hidden"},className:"fa fa-circle"})),n.createElement("span",{className:"pull-left",style:{color:"#084275"}},n.createElement("b",{title:"Workflow Type"},"Typ: ")),n.createElement("span",{className:"pull-left",style:{marginLeft:"3px"}},n.createElement("b",null," ",e.getWorkflowTypePrefix(Object(s.g)(o.workflowType))))),o.ticketIssue&&n.createElement(n.Fragment,null,n.createElement("span",{className:"pull-left"},n.createElement("i",{style:{visibility:"hidden"},className:"fa fa-circle"})),n.createElement("span",{className:"pull-left",style:{color:"#084275"}},n.createElement("b",{title:"Issue"},"I:")),n.createElement("span",{className:"pull-left",style:{marginLeft:"3px"}},n.createElement("a",{className:"bold pull-left",style:{color:"black",marginLeft:"3px"},title:Object(s.g)(o.ticketIssue),href:"#"+b+"/"+p+"/TicketForm/"+Object(s.g)(o.ticketOntology)},Object(s.g)(o.ticketIssue))))),"DoNext"!=f&&"DoIf"!=f&&n.createElement("div",{className:"col-sm-2 small trim-data bold",title:o.startTime?new Date(Object(s.g)(o.startTime)).onitDateFormat(!0):""},n.createElement("span",{className:"hidden visible-xs-inline headingText bold",style:{color:"#05490d"}},"Assigned: "),o.startTime?new Date(Object(s.g)(o.startTime)).onitDateFormat(!0):"",n.createElement("br",null)),l&&n.createElement("div",{className:"col-xl-1 col-md-2 col-sm-2 small trim-data bold",title:Object(s.g)(o.assignedToName)},n.createElement("span",{className:"hidden visible-xs-inline headingText bold",style:{color:"#05490d"}},"Assigned To: "),Object(s.g)(o.assignedToName).length>0?Object(s.g)(o.assignedToName):Object(s.g)(o.assignedTo)),!l&&n.createElement("div",{className:"col-sm-2 small trim-data bold",title:Object(s.g)(o.enteredByName)},n.createElement("span",{className:"hidden visible-xs-inline headingText bold",style:{color:"#05490d"}},"Assigned By: "),Object(s.g)(o.enteredByName).length>0?Object(s.g)(o.enteredByName):Object(s.g)(o.enteredBy)),n.createElement("div",{className:"col-xl-1 col-lg-1 col-md-2 col-sm-2 small trim-data bold",title:Object(s.g)(o.buildingName)},n.createElement("span",{className:"hidden visible-xs-inline headingText bold",style:{color:"#05490d"}},"Building: "),Object(s.g)(o.buildingName)),f&&"DoIf"==f&&""==Object(s.g)(o.isForcePush)&&l&&n.createElement("div",{className:"col-sm-2 dv-acknowlege"},n.createElement("div",{className:"row"},n.createElement("div",{className:"switch-container pull-right"},n.createElement("label",null,n.createElement("input",{checked:"true"==Object(s.g)(o.acknowledged),onChange:function(t){return v(e,void 0,void 0,function(){var e,a=this;return y(this,function(n){switch(n.label){case 0:return e=t.target.checked,[4,Object(i.d)(Object(s.g)(o.task),t.target.checked).then(function(){return v(a,void 0,void 0,function(){return y(this,function(t){switch(t.label){case 0:return e?[4,Object(i.G)(this.props.buildingName)]:[3,3];case 1:return t.sent(),[4,Object(h.s)()];case 2:t.sent(),t.label=3;case 3:return[2]}})})})];case 1:return n.sent(),[2]}})})},className:"switch",type:"checkbox"}),n.createElement("div",null,n.createElement("div",null)))))),f&&"DoIf"==f&&"true"==Object(s.g)(o.isForcePush)&&l&&n.createElement("div",{className:"col-sm-2 small trim-data bold",title:Object(s.g)(o.assignedToName)},n.createElement("span",{className:"lblForcePush"},"1"==Object(s.g)(o.criticality)||"2"==Object(s.g)(o.criticality)?"Do Now":"Do Next")),a&&n.createElement("div",{className:("DoNext"==f?"col-xl-3 col-md-4 col-sm-6":"col-xl-1 col-md-2 col-sm-3")+" col-xs-12"},"true"==Object(s.g)(o.isDeleted)&&n.createElement("label",{style:{color:"#FF0000"}},"Deleted"),(!l||O)&&"Completed"!=Object(s.g)(o.status)&&"Assigned"!=Object(s.g)(o.status)&&"DoingNow"==f&&"true"!=Object(s.g)(o.isSequence)&&"false"==Object(s.g)(o.isDeleted)&&""==Object(s.g)(o.checklistID)&&n.createElement("button",{className:"btn-xs btn-complete btn-fill pull-right",title:"Complete Task",onClick:function(a){return v(e,void 0,void 0,function(){var e,a,n,c;return y(this,function(r){switch(r.label){case 0:return[4,this._updateTaskStatus(Object(s.g)(o.task),"Completed",(new Date).toString())];case 1:return r.sent(),e=new Date,a=new Date(e.setTime(e.getTime()+6e4)),this.updateRecentPerformance(),n={contact:t.contact,contactName:t.name,status:"Completed",taskOntology:Object(s.g)(o.task),taskDescription:Object(s.g)(o.description),startDate:new Date,endDate:a,building:p,entryTimestamp:new Date,floorOntology:Object(s.g)(o.floor),floorDescription:Object(s.g)(o.floorRdfsLabel),assetOntology:Object(s.g)(o.equipSubject),assetDescription:Object(s.g)(o.equipRdfsLabel),spaceOntology:Object(s.g)(o.spaceSubject),spaceDescription:Object(s.g)(o.spaceRdfsLabel),workOrder:""!=Object(s.g)(o.workOrder)?Object(s.g)(o.workOrder):"wo-55555",stageOntologyReference:Object(s.g)(o.task)?Object(s.g)(o.task):""},this.updateCrewPerformance(n),c={contact:t.contact,contactName:t.name,status:"Not Working",taskOntology:Object(s.g)(o.task),taskDescription:Object(s.g)(o.description),startDate:a,endDate:a,building:p,entryTimestamp:new Date,floorOntology:Object(s.g)(o.floor),floorDescription:Object(s.g)(o.floorRdfsLabel),assetOntology:Object(s.g)(o.equipSubject),assetDescription:Object(s.g)(o.equipRdfsLabel),spaceOntology:Object(s.g)(o.spaceSubject),spaceDescription:Object(s.g)(o.spaceRdfsLabel),workOrder:""!=Object(s.g)(o.workOrder)?Object(s.g)(o.workOrder):"wo-55555",stageOntologyReference:Object(s.g)(o.task)?Object(s.g)(o.task):""},this.updateCrewPerformance(c),"Contract"!=Object(s.g)(o.workflowType)?[3,3]:""==Object(s.g)(o.contractFileName)?[3,3]:[4,Object(i.E)(Object(s.g)(o.contractFileName))];case 2:r.sent(),r.label=3;case 3:return[2]}})})}},n.createElement("i",{className:"fa fa-check"})),l&&!D&&"false"==Object(s.g)(o.isDeleted)&&"Started"!=Object(s.g)(o.status)&&"Paused"!=Object(s.g)(o.status)&&n.createElement("button",{className:"btn-xs btn-danger btn-fill pull-right",title:"Delete Task",onClick:function(t){e.props.onDeleteTask(o)}},n.createElement("i",{className:"fa fa-trash"})),D&&"DoingNow"==f&&Object(s.g)(o.assignedTo)!=t.contact&&n.createElement("button",{style:{backgroundColor:"#0080FE"},className:"btn-xs btn-fill pull-right",title:"Chat",onClick:function(t){return v(e,void 0,void 0,function(){return y(this,function(e){return window.location.hash=b+"/"+p+"/ChatWindow/"+Object(s.g)(o.task)+"/SubTask/"+Object(s.g)(o.parentTask),[2]})})}},n.createElement("i",{style:{color:"white"},className:"fa fa-comments"})),!D&&""===Object(s.g)(o.subTasks)&&"Completed"!=Object(s.g)(o.status)&&n.createElement("button",{style:{backgroundColor:"#0080FE"},className:"btn-xs btn-fill pull-right",title:"Chat",onClick:function(t){return v(e,void 0,void 0,function(){return y(this,function(e){return window.location.hash=b+"/"+p+"/ChatWindow/"+Object(s.g)(o.task)+"/SubTask/"+Object(s.g)(o.task)+"/"+Object(s.g)(o.enteredBy),[2]})})}},n.createElement("i",{style:{color:"white"},className:"fa fa-comments"})),l&&D&&"Started"!=Object(s.g)(o.status)&&"Pending"!=Object(s.g)(o.status)&&"Completed"!=Object(s.g)(o.status)&&"true"!=Object(s.g)(o.isStage)&&"false"==Object(s.g)(o.isDeleted)&&"Started"!=Object(s.g)(o.status)&&"Paused"!=Object(s.g)(o.status)&&n.createElement("button",{className:"btn-xs btn-success btn-fill pull-right",title:"Edit Sub Task",onClick:function(t){return v(e,void 0,void 0,function(){return y(this,function(e){return window.location.hash=b+"/"+p+"/EditSubTaskForm/"+Object(s.g)(o.parentTask)+"/"+Object(s.g)(o.task),[2]})})}},n.createElement("i",{className:"fa fa-edit"})),l&&!D&&"DoingNow"==f&&Object(s.g)(o.spaceSubject)&&n.createElement("button",{className:"btn-xs btn-object-form-view btn-fill pull-right",title:"Matter Port",onClick:function(e){window.location.hash=b+"/"+p+"/MatterPort/"+Object(s.g)(o.spaceSubject)+"/"+Object(s.g)(o.floor)+"/"+Object(s.g)(o.building)+"/"+Object(s.g)(o.task)}},n.createElement("img",{style:{width:20,height:17},src:"assets/img/virtual-bim.png"})),l&&"false"==Object(s.g)(o.archived)&&"Started"!=Object(s.g)(o.status)&&"Paused"!=Object(s.g)(o.status)&&n.createElement("button",{className:"btn-xs btn-dark btn-fill pull-right",title:"Archive Task",onClick:function(e){document.getElementById("btnConfirmAllow"+u.toString()+Object(s.g)(o.task)).click()}},n.createElement("i",{className:"fa fa-archive"})),n.createElement("button",{style:{opacity:e.props.isTimedIn?1:.5,display:"none"},id:"btnConfirmAllow"+u.toString()+Object(s.g)(o.task),"data-toggle":"modal","data-target":"#ConfirmAllowDialog"+u.toString()+Object(s.g)(o.task)},"."),n.createElement(d.a,{instance:e.props.instance,id:"ConfirmAllowDialog"+u.toString()+Object(s.g)(o.task),showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to move Archived Tasks?",heading:"Confirm...",onConfirmButtonClick:function(){e.archiveTask(o,!0)}}),(!l||O)&&("Paused"==Object(s.g)(o.status)||"Pending"==Object(s.g)(o.status)||"Assigned"==Object(s.g)(o.status))&&"DoingNow"==f&&(""==Object(s.g)(o.isQRTask)||"false"==Object(s.g)(o.isQRTask))&&"true"!=Object(s.g)(o.isSequence)&&"false"==Object(s.g)(o.isDeleted)&&n.createElement("button",{className:"btn-xs btn-start btn-fill pull-right",title:"Start Task",onClick:function(t){return v(e,void 0,void 0,function(){return y(this,function(e){return c.isClockedIn?this.playTask(o):document.getElementById("ClockInConfirm").click(),[2]})})}},n.createElement("i",{className:"fa fa-play"})),""!==Object(s.g)(o.checklistID)&&"Started"==Object(s.g)(o.status)&&"DoingNow"==f&&n.createElement("button",{onClick:function(){window.location.hash=b+"/"+p+"/ObjectFormView/"+Object(s.g)(o.task)},title:"Do What Tasks",className:"btn-xs btn-object-form-view btn-fill pull-right"},n.createElement("i",{className:"fa fa-tasks"})),(!l||O)&&""!=Object(s.g)(o.QRTag)&&"true"==Object(s.g)(o.isQRTask)&&"DoingNow"==f&&n.createElement(n.Fragment,null,n.createElement("button",{className:"btn-xs btn-secondary btn-fill pull-right",title:"Scan Qr Code",onClick:function(t){return v(e,void 0,void 0,function(){return y(this,function(e){return this.setState({isQrCameraMode:!0,qrValdiationTask:o},function(){document.getElementById("qrDailogebtn").click()}),[2]})})}},n.createElement("i",{className:"fa fa-qrcode"})),n.createElement("button",{id:"qrDailogebtn",type:"button","data-toggle":"modal","data-target":"#qrDailoge",className:"hidden"},"."),n.createElement(r.a,{id:"qrDailoge",closeButtonId:"qrDailogeClose",heading:"Scan QR",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1,showSaveButton:!1},e.state.isQrCameraMode&&n.createElement("div",null,n.createElement("div",{className:"Qr-close-btn",onClick:function(){e.setState({isQrCameraMode:!e.state.isQrCameraMode})}},"X"),n.createElement(k.a,{delay:500,onError:function(e){console.log(e)},onScan:e.handleScan,style:{width:"100%"}})))),(!l||O)&&""!=Object(s.g)(o.contractFileUrl)&&n.createElement("button",{className:"btn-xs btn-"+("Started"==Object(s.g)(o.status)?"active":"start")+" btn-fill pull-right",title:"Open Contract",onClick:function(t){return v(e,void 0,void 0,function(){return y(this,function(e){return window.open(Object(s.g)(o.contractFileUrl),"_blank"),[2]})})}},n.createElement("i",{className:"fa fa-paperclip"})),(!l||O)&&"Started"==Object(s.g)(o.status)&&"DoIf"!=f&&"true"!=Object(s.g)(o.isSequence)&&n.createElement(n.Fragment,null,n.createElement("button",{id:"btn-PauseTask",className:"btn-xs btn-pause btn-fill pull-right","data-toggle":"modal","data-target":"#PauseDialog",title:"Pause Task",onClick:function(e){}},n.createElement("i",{className:"fa fa-pause"})),n.createElement(r.a,{id:"PauseDialog",heading:"",showSaveButton:!0,saveButtonText:"Submit",onSaveButtonClick:function(){return v(e,void 0,void 0,function(){var e;return y(this,function(a){switch(a.label){case 0:return""==N?(alert("Select any reason first...!"),[2]):"other"==N?[3,2]:[4,this._updateTaskStatus(Object(s.g)(o.task),"Paused","","",N)];case 1:return a.sent(),[3,4];case 2:return[4,this._updateTaskStatus(Object(s.g)(o.task),"Paused","","",w)];case 3:a.sent(),a.label=4;case 4:return this.updateRecentPerformance(),e={contact:t.contact,contactName:t.name,status:"Paused",reason:"other"!=N?N:w,taskOntology:Object(s.g)(o.task),taskDescription:Object(s.g)(o.description),startDate:new Date,endDate:new Date,building:p,entryTimestamp:new Date,floorOntology:Object(s.g)(o.floor),floorDescription:Object(s.g)(o.floorRdfsLabel),assetOntology:Object(s.g)(o.equipSubject),assetDescription:Object(s.g)(o.equipRdfsLabel),spaceOntology:Object(s.g)(o.spaceSubject),spaceDescription:Object(s.g)(o.spaceRdfsLabel),workOrder:""!=Object(s.g)(o.workOrder)?Object(s.g)(o.workOrder):"wo-55555",stageOntologyReference:Object(s.g)(o.task)?Object(s.g)(o.task):""},this.updateCrewPerformance(e),"Contract"==Object(s.g)(o.workflowType)&&Object(i.E)(Object(s.g)(o.contractFileName)),[2]}})})},isEditForm:!1,showCancelButton:!0,cancelButtonText:"cancel",cancelButtonId:"btnCloseDoIfDialog"},n.createElement("div",{className:"row padding-10"},n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"reason"},"why? "))),n.createElement("div",{className:"col-md-8"},n.createElement("div",{className:"form-group"},n.createElement("select",{id:"reason",className:"form-control col-md-6",onChange:function(t){e.setState({why:t.target.value})},value:N},n.createElement("option",{value:""},"Select Reason"),n.createElement("option",{value:"taking a break",key:-1},"Break"),n.createElement("option",{value:"taking lunch",key:-2},"Lunch"),n.createElement("option",{value:"other",key:-3},"Other"))))),"other"==N&&n.createElement("div",{className:"row padding-10"},n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"pauseNote"},"Reason "))),n.createElement("div",{className:"col-md-8"},n.createElement("div",{className:"form-group"},n.createElement("input",{className:"form-control",type:"text",id:"pauseNote",value:w,onChange:function(t){e.setState({pauseNote:t.target.value})}})))),T&&n.createElement("div",{className:"row padding-10"},n.createElement("div",{className:"col-md-8"},n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"pauseNote"},"You are Signing out of work, Correct?"))),n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"form-group"},n.createElement("button",{type:"button",className:"btn btn-primary btn-fill",onClick:function(){return v(e,void 0,void 0,function(){var e;return y(this,function(a){switch(a.label){case 0:return[4,this._updateTaskStatus(Object(s.g)(o.task),"Paused")];case 1:return a.sent(),this.updateRecentPerformance(),e={contact:t.contact,contactName:t.name,status:"Off",taskOntology:"",taskDescription:"",startDate:new Date,endDate:new Date,building:p,entryTimestamp:new Date,floorOntology:"",floorDescription:"",assetOntology:"",assetDescription:"",spaceOntology:"",spaceDescription:"",workOrder:"wo-00000",stageOntologyReference:""},this.updateCrewPerformance(e),this.handleStopWork(c),[2]}})})}},"Yes"),n.createElement("button",{type:"button",className:"btn btn-danger btn-fill",onClick:function(){e.toggleStopWorkButton(!1)}},"No"))))),n.createElement("button",{id:"statusDailogebtn",type:"button","data-toggle":"modal","data-target":"#statusDailoge",className:"hidden"},"."),n.createElement(r.a,{id:"statusDailoge",heading:"Cannot Complete Task",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1,showSaveButton:!1},n.createElement("div",{className:"card padding-10 no-margin"},n.createElement("div",{className:"dataCard"},n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12"},n.createElement("h6",{className:"center padding-10 no-margin"},"You still have activities to complete"))))))))),n.createElement("button",{style:{opacity:e.props.isTimedIn?1:.5,display:"none"},id:"ClockInConfirm","data-toggle":"modal","data-target":"#ClockInConfirmDialog"},"."),n.createElement(d.a,{instance:e.props.instance,id:"ClockInConfirmDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"You should be Clocked In to change task status. Clock In?",heading:"Alert",onConfirmButtonClick:function(){return v(e,void 0,void 0,function(){return y(this,function(e){return document.getElementById("clockInOutButton")&&document.getElementById("clockInOutButton").click(),[2]})})}})),l&&""!=Object(s.g)(o.pauseNote)&&n.createElement("div",{className:"col-sm-12 no-padding"},n.createElement("label",{className:"pause-note",title:"Reason: "+Object(s.g)(o.pauseNote).split(" at ")[0]},"Paused ",e.formatDate(new Date(Object(s.g)(o.pauseNote).split(" at ")[1])))))}))))})},t}(n.Component);t.default=N}});