webpackJsonp([67],{708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(2),a=(n.n(r),n(15)),i=n(30),l=n(6),s=n(10),c=n(31),u=n(81),d=n(22),m=n(796),f=n(11),h=n(82),b=n(9),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_zones:[],onlyZones:[],onlyFloors:[],sortOrder:1,zoneObj:Object(),isEdit:!1,zonetoDelete:Object(),currentView:"Zone",newFloor:Object(),deviceList:[],refreshMatterportDialog:!1,bimImage:""},o=n,n.handleZoneNameChange=n.handleZoneNameChange.bind(n),n.handleZoneTypeChange=n.handleZoneTypeChange.bind(n),n.handleSaveFloorMatterport=n.handleSaveFloorMatterport.bind(n),n.handleRefreshMatterport=n.handleRefreshMatterport.bind(n),n.urltoFile=n.urltoFile.bind(n),n.createZone=n.createZone.bind(n),n.resetForm=n.resetForm.bind(n),n.onDeleteZone=n.onDeleteZone.bind(n),n.deleteZone=n.deleteZone.bind(n),n.sortZone=n.sortZone.bind(n),n.handleNewFloorChange=n.handleNewFloorChange.bind(n),n.createFloor=n.createFloor.bind(n),n.fetchDevicesList=n.fetchDevicesList.bind(n),n.getControllerEndPointLabel=n.getControllerEndPointLabel.bind(n),n.getBimFloor=n.getBimFloor.bind(n),n.loadSDK=n.loadSDK.bind(n),n.setDialogState=n.setDialogState.bind(n),n}return p(t,e),t.prototype.componentDidMount=function(){return g(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this.fetchZones()]:[3,3];case 1:return e.sent(),[4,this.fetchDevicesList()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.fetchDevicesList=function(){return g(this,void 0,void 0,function(){var e,t;return v(this,function(n){switch(n.label){case 0:return[4,Object(h.e)(this.props.buildingName,!0)];case 1:return e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(l.g)(e.moncondevice),label:Object(l.g)(e.rdfsLabel)}}),this.setState({deviceList:t}),[2]}})})},t.prototype.getControllerEndPointLabel=function(e){var t=this.state.deviceList,n=Object();return(n=t&&t.find(function(t){return t.value==e}))&&n.label},t.prototype.fetchZones=function(){return g(this,void 0,void 0,function(){var e,t,n,r;return v(this,function(a){switch(a.label){case 0:return e=this.props,t=e.buildingName,n=e.equipmentName,r=e.spaceName,Object(i.a)(!0),[4,Object(m.a)(t).then(function(e){""==Object(l.g)(e[0].zone)&&(e=[]);for(var t=[],a=[],i=0;i<e.length;i++){var s=e[i];"Floor"==Object(l.g)(s.type)?t.push(s):a.push(s),Object(l.g)(s.zone),Object(l.g)(s.rdfsLabel)&&Object(f.p)(Object(l.g)(s.zone),Object(l.g)(s.rdfsLabel))}var c=[],u=[];if(n||r){for(var d=0;d<t.length;d++)Object(l.g)(t[d].serviceprovider).indexOf(n)>-1?c.push(t[d]):Object(l.g)(t[d].serviceprovider).indexOf(r)>-1&&c.push(t[d]);for(s=0;s<a.length;s++)Object(l.g)(a[s].serviceprovider).indexOf(n)>-1?u.push(a[s]):Object(l.g)(a[s].serviceprovider).indexOf(r)>-1&&u.push(a[s]);o.setState({_zones:e,onlyFloors:c,onlyZones:u})}else o.setState({_zones:e,onlyFloors:t,onlyZones:a})}).catch(function(e){return e})];case 1:return a.sent(),Object(i.a)(!1),[2]}})})},t.prototype.sortZone=function(e,t){var n=this.state._zones,o=this.state.sortOrder,r=n.sort(function(t,n){if(t&&n){var r="",a="";switch(e){case"Zone":t.rdfsLabel&&n.rdfsLabel&&(r=t.rdfsLabel.value,a=n.rdfsLabel.value);break;case"Type":t.type&&n.type&&(r=t.type.value,a=n.type.value);break;case"Service Provider":t.spRdfsLabel&&n.spRdfsLabel&&(r=t.spRdfsLabel.value,a=n.spRdfsLabel.value);break;case"Endpoint":t.controllerendpoint&&n.controllerendpoint&&(r=t.controllerendpoint.value,a=n.controllerendpoint.value)}var i=0;return r.toLocaleLowerCase()<a.toLocaleLowerCase()?i=-1:r.toLocaleLowerCase()>a.toLocaleLowerCase()&&(i=1),i*o}}),a=r.filter(function(e){return"Floor"==Object(l.g)(e.type)}),i=r.filter(function(e){return"Floor"!=Object(l.g)(e.type)});this.setState({_zones:r,sortOrder:-1*o,onlyFloors:a,onlyZones:i})},t.prototype.editZone=function(e){return g(this,void 0,void 0,function(){var t;return v(this,function(n){return(t=this.state.zoneObj).zone=Object(l.g)(e.zone),t.zonetype=Object(l.g)(e.type),this.setState({zoneObj:t,isEdit:!0}),[2]})})},t.prototype.handleZoneNameChange=function(e){var t=this.state.zoneObj;t.zone=e.target.value,this.setState({zoneObj:t})},t.prototype.handleZoneTypeChange=function(e){var t=this.state.zoneObj;t.zonetype=e.target.value,this.setState({zoneObj:t})},t.prototype.createZone=function(){return g(this,void 0,void 0,function(){return v(this,function(e){return this.state.zoneObj&&this.fetchZones(),[2]})})},t.prototype.resetForm=function(){var e=this.state.zoneObj;e.zone="",e.zonetype="",this.setState({zoneObj:e})},t.prototype.onDeleteZone=function(e){return g(this,void 0,void 0,function(){return v(this,function(t){return this.setState({zonetoDelete:e}),[2]})})},t.prototype.deleteZone=function(){return g(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return e=this.state.zonetoDelete,Object(i.a)(!0),[4,Object(m.d)(this.props.buildingName,Object(l.g)(e.zone))];case 1:return t.sent(),[4,this.fetchZones()];case 2:return t.sent(),Object(i.a)(!1),[2]}})})},t.prototype.handleNewFloorChange=function(e){var t=this.state.newFloor;t.rdfsLabel=e,this.setState({newFloor:t})},t.prototype.handleNewFloorLinkChange=function(e){var t=this.state.newFloor;t.linkBimism=e,t.bimFloor="",t.bimSid="",this.setState({newFloor:t,refreshMatterportDialog:!0})},t.prototype.handleRefreshMatterport=function(e){this.setState({refreshMatterportDialog:e})},t.prototype.urltoFile=function(e,t,n){return fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return new File([e],t,{type:n})})},t.prototype.handleSaveFloorMatterport=function(e,t,n,o,r){var a=this.state.newFloor;a.xOffsetMap=""+n,a.xScaleMap=""+e,a.yOffsetMap=""+o,a.yScaleMap=""+t,a.imgFloorMap=r,this.setState({newFloor:a})},t.prototype.createFloor=function(){return g(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return(e=this.state.newFloor)&&e.rdfsLabel?(e.floor=e.floor?e.floor:Object(f.j)(7),[4,Object(m.b)(this.props.buildingName,e)]):[3,3];case 1:return t.sent(),this.setState({newFloor:{floor:"",rdfsLabel:"",linkBimism:"",bimFloor:"",bimSid:"",xScaleMap:"",xOffsetMap:"",yScaleMap:"",yOffsetMap:""}}),[4,this.fetchZones()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.getBimFloor=function(){return g(this,void 0,void 0,function(){return v(this,function(e){return this.loadSDK(this.setDialogState,this.state),[2]})})},t.prototype.setDialogState=function(e){this.setState({newFloor:e})},t.prototype.loadSDK=function(e,t){var o=n(160),r=o.APIKey,a=o.Version,i=document.getElementById("showcase"),l=t.newFloor;window.MP_SDK.connect(i,r,a).then(function(t){function n(){return g(this,void 0,void 0,function(){return v(this,function(n){switch(n.label){case 0:return[4,t.Model.getData().then(function(n){t.Camera.getPose().then(function(o){t.Renderer.getWorldPositionData(o.position).then(function(t){console.log("Model data loaded for sid:",n.sid),l.bimSid=n.sid,l.bimFloor="Floor "+(parseInt(t.floor)+1),e(l)})})})];case 1:return n.sent(),[2]}})})}console.log("SDK Connected!"),t.App.state.subscribe(function(e){return g(this,void 0,void 0,function(){return v(this,function(o){return console.log(e.phase),e.phase===t.App.Phase.LOADING&&console.log("The app has started loading!"),e.phase===t.App.Phase.STARTING&&console.log("The transition into the start location begins!"),e.phase===t.App.Phase.PLAYING&&(console.log("The app is ready to take user input now!"),function e(t){return g(this,void 0,void 0,function(){return v(this,function(o){switch(o.label){case 0:return[4,t()];case 1:return o.sent(),l.bimSid&&l.bimFloor?[2]:[3,2];case 2:return[4,e(n)];case 3:o.sent(),o.label=4;case 4:return[2]}})})}(n)),[2]})})})}).catch(function(e){console.log("Error while connecting with Matterport SDK")})},t.prototype.render=function(){var e=this,t=this.state,n=t.onlyZones,o=t.onlyFloors,i=t.currentView,m=t.newFloor,f=t.isEdit,h=t.zoneObj,p=this.props,E=p.instance,y=p.buildingName,N=JSON.parse(b.a.getItem("user")),O=Object(d.b)(N,"info-zone","write");return r.createElement(a.AppContext.Consumer,null,function(t){return r.createElement("div",{className:"content"},r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12"},r.createElement("div",{className:"col-md-3 padding-5"},r.createElement("div",{className:"btn-group"},r.createElement("button",{className:"btn "+("Zone"==i?"btn-fill":"")+" btn-secondary btn-secondary-dark",onClick:function(){e.setState({currentView:"Zone"})}},"Zones"),r.createElement("button",{className:"btn "+("Floor"==i?"btn-fill":"")+" btn-secondary btn-secondary-dark",onClick:function(){e.setState({currentView:"Floor"})}},"Floors"))),r.createElement("div",{className:"col-md-9 padding-5"},r.createElement("div",{className:"dropdown pull-right"},r.createElement(u.a,{filename:"PointsList",data:"Zone"==i?n:o,ElementID:"ZonesList"})),O&&r.createElement("button",{type:"button",className:"btn btn-dark pull-right",onClick:function(){"Zone"==i?(window.location.hash=E+"/"+y+"/NewZone",e.resetForm(),e.setState({isEdit:!1})):e.setState({newFloor:{floor:"",rdfsLabel:"",linkBimism:""}},function(){document.getElementById("btnShowFloorForm").click()})}},r.createElement("i",{className:"fa fa-plus"})," Create New ","Zone"==i?"Zone":"Floor"," ")))),r.createElement("br",null),r.createElement("div",{className:"row"},r.createElement("div",{className:"Zone"==i?"col-md-12":"col-md-8 col-md-offset-2"},r.createElement("div",{className:"card  padding-10",id:"ZonesList",style:{paddingTop:"0px"}},r.createElement("div",{className:"content",style:{paddingTop:"10px"}},r.createElement("button",{type:"button",id:"btnOpenZoneForm",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#ZonesFormDialog"}," ."),r.createElement(s.a,{id:"ZonesFormDialog",heading:"Add Zone",showCancelButton:!0,cancelButtonText:"Cancel",onSaveButtonClick:function(){e.createZone()},saveButtonText:"Save",disableSaveButton:!1},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12"},r.createElement("label",{htmlFor:"zone"},"Zone Name:"),r.createElement("input",{id:"zone",disabled:f,type:"text",className:"form-control",value:h.zone,onChange:e.handleZoneNameChange}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12"},r.createElement("label",{htmlFor:"type"},"Zone Type:"),r.createElement("input",{id:"type",type:"text",className:"form-control",value:h.zonetype,onChange:e.handleZoneTypeChange})))),r.createElement(c.a,{instance:E,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this "+("Zone"==i?"Zone":"Floor")+"?",heading:"Confirm...",onConfirmButtonClick:function(){e.deleteZone()}}),r.createElement("div",{className:"dataCard"},r.createElement("div",{className:"row hidden-xs no-padding"},r.createElement("div",{className:"col-md-10 col-sm-12 no-padding dataCard"},r.createElement("div",{className:("Zone"==i?"col-md-3":"col-md-4")+" col-sm-12 small grid-header-left",onClick:function(){return e.sortZone("Zone")}},r.createElement("i",{className:"fa fas fa-sort"})," ","Zone"==i?"Zone ":"","Name "),r.createElement("div",{className:"col-md-2 col-sm-12 small grid-header",onClick:function(){return e.sortZone("Type")}},r.createElement("i",{className:"fa fas fa-sort"})," ","Zone"==i?"Zone ":""," Type"),"Floor"==i&&r.createElement("div",{className:"col-md-4 col-sm-12 small grid-header-left"},"Virtual Bim "),"Zone"==i&&r.createElement(r.Fragment,null,r.createElement("div",{className:"col-md-3 col-sm-12 small grid-header",onClick:function(){return e.sortZone("Service Provider")}},r.createElement("i",{className:"fa fas fa-sort"})," Service Provider "),r.createElement("div",{className:"col-md-3 col-sm-12 small grid-header",onClick:function(){return e.sortZone("Endpoint")}},r.createElement("i",{className:"fa fas fa-sort"})," Controller Endpoint "))),r.createElement("div",{className:"col-md-2 col-sm-12 small"})),("Zone"==i?n:o).map(function(n,o){var a=n.controllerendpoint&&Object(l.g)(n.controllerendpoint).split(",");return r.createElement("div",{key:o,className:"row no-padding"},r.createElement("div",{className:"col-md-10 col-sm-12 no-padding"},r.createElement("div",{className:("Zone"==i?"col-md-3":"col-md-4")+" col-sm-12 small padding-10 grid-left trim-data",title:Object(l.g)(n.rdfsLabel)},r.createElement("span",{className:"hidden visible-xs-inline headingText"},"Zone"==i?"Zone ":""," Name"),r.createElement("a",{href:"#"+E+"/"+y+"/Zone/Profile/"+Object(l.g)(n.zone)},Object(l.g)(n.rdfsLabel))),r.createElement("div",{className:"col-md-2 col-sm-12 small padding-10 grid trim-data",title:n.type&&Object(l.g)(n.type)},r.createElement("span",{className:"hidden visible-xs-inline headingText"},"Zone"==i?"Zone ":""," Type"),n.type&&Object(l.g)(n.type)),"Floor"==i&&r.createElement("div",{className:"col-md-4 col-sm-12 small padding-10 grid trim-data",title:n.linkBimism&&Object(l.g)(n.linkBimism)},r.createElement("span",{className:"hidden visible-xs-inline headingText"},"BIMISM"),Object(l.g)(n.linkBimism)&&r.createElement("a",{href:n.linkBimism&&Object(l.g)(n.linkBimism).indexOf("ttp")>0?n.linkBimism&&Object(l.g)(n.linkBimism):"http://"+(n.linkBimism&&Object(l.g)(n.linkBimism)),target:"_blank",title:"Click here to walk through your building."},"Click here to walk through your building.")),"Zone"==i&&r.createElement(r.Fragment,null,r.createElement("div",{className:"col-md-3 col-sm-12 padding-10 grid",title:n.spRdfsLabel&&Object(l.g)(n.spRdfsLabel)},r.createElement("span",{className:"hidden visible-xs-inline headingText"},"Service Provider"),n.spRdfsLabel&&n.spRdfsLabel.value.split(",").map(function(e,t){return r.createElement("p",{className:"small"},e,n.spRdfsLabel.value.split(",").length==t+1?"":",")})),r.createElement("div",{className:"col-md-3 col-sm-12 padding-10 grid trim-data"},r.createElement("span",{className:"hidden visible-xs-inline headingText"},"Controller Endpoint"),a&&a.map(function(t,n){return r.createElement("p",{className:"small",key:n},e.getControllerEndPointLabel(t)," ",n+1==a.length?"":",")})))),O&&r.createElement("div",{className:"col-md-2 col-sm-12 col-xs-12 no-padding",style:{display:"inline-flex"}},r.createElement("a",{className:"btn-sm btn-success active pull-right trim-data custom-outline-btn",onClick:function(o){"Zone"==i?(t.onChangeZone(Object(l.g)(n.zone)),window.location.hash=E+"/"+y+"/EditZone/"+Object(l.g)(n.zone)):e.setState({newFloor:{floor:Object(l.g)(n.zone),rdfsLabel:Object(l.g)(n.rdfsLabel),linkBimism:Object(l.g)(n.linkBimism),bimFloor:Object(l.g)(n.bimFloor),bimSid:Object(l.g)(n.bimSid),xOffsetMap:Object(l.g)(n.xOffsetMap),xScaleMap:Object(l.g)(n.xScaleMap),yOffsetMap:Object(l.g)(n.yOffsetMap),yScaleMap:Object(l.g)(n.yScaleMap)},refreshMatterportDialog:!0},function(){return g(e,void 0,void 0,function(){return v(this,function(e){return document.getElementById("btnShowFloorForm").click(),[2]})})})},title:"Edit"},r.createElement("i",{className:"fa fa-edit"})," "),r.createElement("a",{className:"btn-sm btn-danger active trim-data pull-right custom-outline-btn",onClick:function(t){e.onDeleteZone(n)},"data-toggle":"modal","data-target":"#ConfirmDeleteDialog",title:"Delete"},r.createElement("i",{className:"fa fa-trash"})," "),"Zone"!=i&&r.createElement("a",{className:"btn-sm btn-success active pull-right custom-icon-btn",title:"Matterport Map",onClick:function(e){window.location.hash=E+"/"+y+"/Zone/Floor/"+Object(l.g)(n.zone)+"/Matterport"},style:{visibility:n.linkBimism?"visible":"hidden",border:"1px solid transparent",backgroundColor:"#A69888"}},r.createElement("img",{className:"icon-img",src:"assets/img/virtual-bim.png"})," ")))}))),r.createElement("button",{type:"button",id:"btnShowFloorForm",className:"btn btn-primary btn-fill","data-toggle":"modal","data-target":"#floorFormDialog",style:{display:"none"}},"."),r.createElement(s.a,{id:"floorFormDialog",onSaveButtonClick:function(){e.createFloor()},saveButtonText:"Save",disableSaveButton:!(m.rdfsLabel&&m.bimFloor&&m.bimSid&&m.linkBimism)},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-8"},r.createElement("label",{htmlFor:"newfloor"},"Floor:"),r.createElement("input",{id:"newfloor",type:"text",className:"form-control",value:m.rdfsLabel,onChange:function(t){return e.handleNewFloorChange(t.target.value)}})),m.linkBimism&&r.createElement("div",{className:"col-md-4"},r.createElement("label",{htmlFor:"bimfloor"},"Bim Floor:"),r.createElement("input",{id:"bimfloor",type:"text",disabled:!0,className:"form-control",value:m.bimFloor}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-8"},r.createElement("label",{htmlFor:"newfloor"},"Virtual Bim:"),r.createElement("input",{id:"newfloor",type:"text",className:"form-control",value:m.linkBimism,onChange:function(t){return e.handleNewFloorLinkChange(t.target.value)}})),m.linkBimism&&r.createElement("div",{className:"col-md-4"},r.createElement("label",{htmlFor:"bimfloor"},"Bim Sid:"),r.createElement("input",{id:"bimfloor",type:"text",disabled:!0,className:"form-control",value:m.bimSid}))),m.linkBimism&&!m.bimFloor&&r.createElement(r.Fragment,null,r.createElement("br",null)," ",r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-4"}),r.createElement("div",{className:"col-md-1"},r.createElement("div",{className:"loader"})),r.createElement("div",{className:"col-md-6"},r.createElement("p",{style:{fontSize:"13px"}},"Fetching Data...")))),m.linkBimism&&r.createElement(r.Fragment,null,r.createElement("br",null),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12"},r.createElement("iframe",{id:"showcase",src:m.linkBimism+"&utm_source=sdkdebug&play=1&tourcta=0&dh=0&f=0",onLoad:function(){e.loadSDK(e.setDialogState,e.state)},width:"100%",height:"200",frameBorder:"0",allowFullScreen:!0}))))))))))})},t}(r.Component);t.default=E},796:function(e,t,n){"use strict";t.a=function(e,t,n){return i(this,void 0,void 0,function(){return l(this,function(r){switch(r.label){case 0:return[4,Object(a.e)({buildingName:e,zoneName:t,bimSid:n},a.a.ZONES.GETZONES,o.b.ZONE)];case 1:return[2,r.sent()]}})})},t.b=function(e,t){return i(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({buildingName:e,floor:t},a.a.ZONES.SAVEFLOOR,o.b.ZONE).then(function(){Object(r.b)("Floor Added Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Floor.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return i(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(a.f)({model:e,buildingName:t},a.a.ZONES.SAVEZONE,o.b.ZONE).then(function(){Object(r.b)("Zone Added Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Zone.")})];case 1:return[2,n.sent()]}})})},t.f=function(e){return i(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.ZONES.GETFLOORLIST,o.b.ZONE)];case 1:return[2,t.sent()]}})})},t.g=function(e,t){return i(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,equipmentType:t},a.a.ZONES.GETSERVICEPROVIDERSLIST,o.b.ZONE)];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return i(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(a.e)({buildingName:e,excludeFloors:t},a.a.ZONES.GetAllZonesList,o.b.ZONE)];case 1:return[2,n.sent()]}})})},t.h=function(e){return i(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,Object(a.e)({buildingName:e},a.a.ZONES.GetZoneTypesList,o.b.ZONE)];case 1:return[2,t.sent()]}})})},t.d=function(e,t){return i(this,void 0,void 0,function(){var n=this;return l(this,function(s){switch(s.label){case 0:return[4,Object(a.f)({buildingName:e,zoneName:t},a.a.ZONES.DELETEZONE,o.b.ZONE).then(function(){return i(n,void 0,void 0,function(){return l(this,function(e){return Object(r.b)("Zone Deleted Successfully."),[2]})})}).catch(function(e){Object(r.a)("Error occured while deleting.")})];case 1:return[2,s.sent()]}})})};var o=n(8),r=n(4),a=n(3),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,l)}s((o=o.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}}});