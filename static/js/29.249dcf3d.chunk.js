webpackJsonp([29,56],{1506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(1346)),a=n(117),l=n(676),r=n(10),s=n(22),c=n(673),d=n(1507),p=n(667),m=n(668),u=n(11),h=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function l(e){try{s(i.next(e))}catch(e){a(e)}}function r(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,r)}s((i=i.apply(e,t||[])).next())})},b=this&&this.__generator||function(e,t){var n,i,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,i=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}},g=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],l=0,r=a.length;l<r;l++,o++)i[o]=a[l];return i},v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_allPoints:[],_plannedPoints:[],pointObj:Object(),isEdit:!1,isView:!1,isDeviceForm:!1,ImportFileData:[],point:Object(),monconDevices:[],selectedMonconDeviceFilter:"",search:"",alertingStatus:!1,pointToPointDetails:[],pointToPointExportList:[],showLogs:!1},n.handlePointChange=n.handlePointChange.bind(n),n._fetchPoints=n._fetchPoints.bind(n),n.openEditForm=n.openEditForm.bind(n),n.closePointFormDailoge=n.closePointFormDailoge.bind(n),n.save=n.save.bind(n),n.handlePointForm=n.handlePointForm.bind(n),n.setPointState=n.setPointState.bind(n),n.handleMonconFilterChange=n.handleMonconFilterChange.bind(n),n.search_filter=n.search_filter.bind(n),n._getPointToPointDetails=n._getPointToPointDetails.bind(n),n}return h(t,e),t.prototype.componentDidMount=function(){return f(this,void 0,void 0,function(){var e;return b(this,function(t){switch(t.label){case 0:return this.props.buildingName?(this.props.asset?(e={point:"",tag:"",pointId:"",notes:"",unit:"",pointDevice:"",pointType:"Sensor",pointLabel:"",asset:this.props.asset,space:"",s3FileName:"",commissioningDate:"",installDate:"",link1:"",link2:"",monconDevice:"",sinkPointDescription:"",softwarePointDescription:"",sourcePointDescription:"",webhook:"",component:"",floor:"",assetLabel:"",componentLabel:"",floorLabel:"",spaceLabel:"",pointState:"",portDirection:""},this.setState({pointObj:e})):(e={point:"",tag:"",pointId:"",notes:"",unit:"",pointDevice:"",pointType:"Sensor",pointLabel:"",asset:"",space:"",s3FileName:"",commissioningDate:"",installDate:"",link1:"",link2:"",monconDevice:"",sinkPointDescription:"",softwarePointDescription:"",sourcePointDescription:"",webhook:"",component:"",floor:"",assetLabel:"",componentLabel:"",floorLabel:"",spaceLabel:"",pointState:"",portDirection:""},this.setState({pointObj:e})),[4,this._fetchPoints()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.closePointFormDailoge=function(e,t){var n=this.state.pointObj;n.pointDevice=t?t.monitoringControl:n.pointDevice,this.setState({isDeviceForm:e,pointObj:n})},t.prototype.save=function(){},t.prototype._fetchPoints=function(){return f(this,void 0,void 0,function(){var e,t,n,i,o,c,d,p,m;return b(this,function(u){switch(u.label){case 0:return e=this.props,t=e.asset,n=e.buildingName,i=e.equipmentName,o=e.spaceName,c=this.state.monconDevices,c=[],d=[],p=[],Object(a.a)(!0),t&&t.length>0?[4,Object(l.k)(n,null,t).then(function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t];Object(r.g)(n.point)&&Object(r.g)(n.pointLabel)&&Object(s.H)(Object(r.g)(n.point),Object(r.g)(n.pointLabel))}d=g(e),p=g(e)}).catch(function(e){return e})]:[3,2];case 1:return u.sent(),[3,4];case 2:return[4,Object(l.k)(n).then(function(e){d=g(e),p=g(e)}).catch(function(e){return e})];case 3:u.sent(),u.label=4;case 4:return d.forEach(function(e){-1==c.findIndex(function(t){return t.ontology==Object(r.g)(e.monconDevice)})&&Object(r.g)(e.monconDevice)&&c.push({ontology:Object(r.g)(e.monconDevice),rdfsLabel:Object(r.g)(e.monconRdfsLabel)})}),m=d&&d.filter(function(e){return Object(r.g)(e.asset)==i}),(i||o)&&(d=m.length>0?m:d&&d.filter(function(e){return Object(r.g)(e.space)==o}),this.setState({_allPoints:g(d),_plannedPoints:g(d),monconDevices:c})),i||o||this.setState({_allPoints:g(d),_plannedPoints:g(p),monconDevices:c}),Object(a.a)(!1),[2]}})})},t.prototype.handleMonconFilterChange=function(e){var t=this.state,n=t._plannedPoints,i=t._allPoints,o=t.point;i&&i.length>0&&(n=i,o.pointState?(n=i.filter(function(e){return Object(r.g)(e.pointState)==o.pointState}),o.pointType&&(n=n.filter(function(e){return Object(r.g)(e.pointType)==o.pointType}))):o.pointType&&(n=i.filter(function(e){return Object(r.g)(e.pointType)==o.pointType}))),e&&(n=n.filter(function(t){return Object(r.g)(t.monconDevice)==e})),this.setState({_plannedPoints:n,selectedMonconDeviceFilter:e})},t.prototype.handlePointChange=function(e){this.setState({pointObj:e})},t.prototype.openEditForm=function(e){var t=this.props,n=t.buildingName,i=t.instance;e?this.setState({isEdit:!1,isView:!0},function(){window.location.hash=i+"/"+n+"/PointForm"}):this.setState({isEdit:!0,isView:!1},function(){window.location.hash=i+"/"+n+"/PointForm"})},t.prototype.handlePointForm=function(e){return f(this,void 0,void 0,function(){var t,n,i,o;return b(this,function(a){return t=[],n=this.state.point,i=e.target.name,e.target.value&&""!=e.target.value?(n[""+i]=e.target.value,(o=this.state._allPoints)&&o&&o.length>0&&(t=o,n.pointState?(t=o.filter(function(e){return Object(r.g)(e.pointState)==n.pointState}),n.pointType&&(t=t.filter(function(e){return Object(r.g)(e.pointType)==n.pointType}))):n.pointType&&(t=o.filter(function(e){return Object(r.g)(e.pointType)==n.pointType}))),t||t.length>0?this.setState({point:n,_plannedPoints:t}):this.setState({point:n,_plannedPoints:[]})):this.setState({point:Object(),_plannedPoints:this.state._allPoints}),[2]})})},t.prototype.setPointState=function(){return f(this,void 0,void 0,function(){var e,t,n,i,o;return b(this,function(a){for(e=this.state._allPoints,t=[],n=this.state.point,i=0;i<e.length;i++)e&&e[i]&&e.length>0&&e[i]&&e[i].pointState&&Object(r.g)(e[i].pointState)&&Object(r.g)(e[i].pointState)==n.pointState&&(t||(t=[]),o=e[i],t.push(o));return t&&t.length,this.setState({_plannedPoints:t}),[2]})})},t.prototype.search_filter=function(e){return f(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,this.setState({search:e.target.value})];case 1:return t.sent(),[2]}})})},t.prototype._getPointToPointDetails=function(){return f(this,void 0,void 0,function(){var e,t=this;return b(this,function(n){return e=this.props.buildingName,this.setState({pointToPointDetails:[]},function(){return f(t,void 0,void 0,function(){var t,n,i,o;return b(this,function(a){switch(a.label){case 0:return[4,Object(l.n)(e)];case 1:if((t=a.sent())&&t.length>0){for(n=[],i=0;i<t.length;i++)(o=t[i]).point&&o.terminalPoint1Label&&o.terminalPoint2Label&&n.push.apply(n,[{aa_Description:o.monconRdfsLabel+" to "+o.sinkSourceAssetLabel,ab_Wired_Point:""+o.pointLabel,ac_Asset_1:""+o.monconRdfsLabel,ad_A1_Enclosure:""+o.enclosureRdfsLabel,ba_A1_Point:""+o.terminalPoint1Label,bb_Cabel:""+o.cableEquipmentLabel,bc_Wire_Color:""+(o.wireColor?o.wireColor:""),bd_Asset_2:""+o.sinkSourceAssetLabel,ca_A2_Enclosure:""+o.enclosureRdfsLabelAsset2,cb_A2_Point:""+o.terminalPoint2Label,cc_Point_To_Point_String:""+o.deviceID+o.enclosureRdfsLabel+o.terminalPoint1ID+"-"+o.cableEquipmentLabel+"-"+o.sinkSourceAssetID+o.enclosureRdfsLabelAsset2+o.terminalPoint2ID}]);this.setState({pointToPointDetails:t,pointToPointExportList:n},function(){document.getElementById("btnShowPointToPointDetails").click()})}return[2]}})})}),[2]})})},t.prototype.render=function(){var e=this,t=this.props,n=t.buildingName,a=t.instance,l=this.state,s=l._plannedPoints,h=l.point,f=l.monconDevices,b=l.selectedMonconDeviceFilter,g=l.search,v=l.alertingStatus,E=l.pointToPointExportList,P=l.showLogs,_=s.filter(function(e){return Object(r.g)(e.pointLabel).toLowerCase().includes(g.toLowerCase().trim())}),y=JSON.parse(u.a.getItem("user"));return P?i.createElement(p.a,{instance:a,buildingName:n,fromEntityList:!0,module:m.a.Assets,entityName:"Point",entityList:s.map(function(e){return{label:Object(r.g)(e.pointLabel),value:Object(r.g)(e.point)}}),onLogClose:function(){return e.setState({showLogs:!1})}}):i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-4 col-xs-12"},i.createElement("div",{className:"col-md-4 col-xs-12 px-0"},i.createElement("h6",{style:{marginTop:"10px"}},"Point State:")),i.createElement("div",{className:"col-md-8 col-xs-12"},i.createElement("select",{className:"form-control",id:"pointState",name:"pointState",onChange:function(t){return e.handlePointForm(t)},value:h.pointState?h.pointState:""},i.createElement("option",{value:""},"Select Point State"),i.createElement("option",{value:"Planned"},"Planned"),i.createElement("option",{value:"Ordered"},"Ordered"),i.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),i.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),i.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),i.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),i.createElement("option",{value:"Assembly"},"Assembly"),i.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),i.createElement("option",{value:"Kitting"},"Kitting"),i.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),i.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),i.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),i.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),i.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),i.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),i.createElement("option",{value:"Existing"},"Existing In Use"),i.createElement("option",{value:"Retired"},"Retired"),i.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),i.createElement("option",{value:"Sold"},"Sold"),i.createElement("option",{value:"DisposedOf"},"Disposed Of"),i.createElement("option",{value:"ErrorDeleted"},"Error Deleted")))),i.createElement("div",{className:"col-md-3 col-xs-12"},i.createElement("div",{className:"col-md-4 col-xs-12 px-0"},i.createElement("h6",{style:{marginTop:"10px"}},"Point Type:")),i.createElement("div",{className:"col-md-8 col-xs-12"},i.createElement("select",{className:"form-control",id:"pointType",name:"pointType",onChange:function(t){return e.handlePointForm(t)},value:h.pointType?h.pointType:""},i.createElement("option",{value:""},"Select Type"),i.createElement("option",{value:"Sensed"},"Sensed"),i.createElement("option",{value:"Manual"},"Manual"),i.createElement("option",{value:"Virtual"},"Virtual"),i.createElement("option",{value:"Wired"},"Wire"),i.createElement("option",{value:"Terminal"},"Terminal")))),i.createElement("div",{className:"col-md-5 col-xs-12"},y&&"1"==y.role&&i.createElement("button",{className:"btn btn-md btn-primary btn-fill pull-right",style:{marginLeft:5},title:"Logs",onClick:function(){e.setState({showLogs:!0})}}," ",i.createElement("img",{src:"assets/img/Logs.png",style:{width:25,height:18}})),i.createElement("div",{className:"dropdown pull-right"},i.createElement(c.a,{filename:"PointsList",data:s,ElementID:"PointsList"})),i.createElement("button",{type:"button",className:"btn btn-dark pull-right",style:{marginLeft:"5px"},onClick:function(){window.location.hash=a+"/"+n+"/AddMultiplePoints"}},i.createElement("i",{className:"fa fa-plus"}),"Add Multiple Points"),i.createElement("div",{className:"pull-right"},i.createElement("button",{type:"button",className:"btn btn-dark pull-right",onClick:function(){window.location.hash=a+"/"+n+"/PointForm"}},i.createElement("i",{className:"fa fa-plus"})," Create Point ")),"\xa0")),i.createElement("div",{className:"row",style:{marginTop:"5px"}},i.createElement("div",{className:"col-md-4 col-xs-12"},i.createElement("div",{className:"col-md-4 col-xs-12 px-0"},i.createElement("h6",{style:{marginTop:"10px"}},"Moncon Device:")),i.createElement("div",{className:"col-md-8 col-xs-12"},i.createElement("select",{className:"form-control",id:"monconDevice",name:"monconDevice",onChange:function(t){return e.handleMonconFilterChange(t.target.value)},value:b},i.createElement("option",{value:""},"Select Moncon Device"),f&&f.length>0&&f.map(function(e){return i.createElement("option",{key:e.ontology,value:e.ontology},e.rdfsLabel)})))),i.createElement("div",{className:"col-md-3 col-xs-12"},i.createElement("div",{className:"col-md-4 col-xs-12 px-0"},i.createElement("h6",{style:{marginTop:"10px"}},"Filter: \xa0")),i.createElement("div",{className:"col-md-8 col-xs-12"},i.createElement("input",{style:{outline:"green"},className:"form-control pull-right",onChange:function(t){e.search_filter(t)},id:"myInput",type:"text",placeholder:"Search.."}))),i.createElement("div",{className:"col-md-5 col-xs-12"},i.createElement("div",{className:"col-md-5 col-xs-12 px-0 inline-flex"},i.createElement("h6",{style:{marginTop:"10px"}},"Display Alerting Status: \xa0")),i.createElement("div",{className:"col-md-1"},i.createElement("div",{className:"switch-container",style:{top:"5%",right:"10%"}},i.createElement("label",null,i.createElement("input",{name:"isBoolean",checked:v,onChange:function(t){e.setState({alertingStatus:!v})},className:"switch1",type:"checkbox"}),i.createElement("div",null,i.createElement("div",null))))),i.createElement("div",{className:"col-md-6 col-xs-12 no-padding"},i.createElement("button",{type:"button",className:"btn btn-primary pull-right",style:{border:"1px dotted",fontWeight:"bold"},onClick:function(){e._getPointToPointDetails()}},"Point to Point"),i.createElement(d.a,{pointToPointExportList:E})))),i.createElement("div",{className:"row no-padding",id:"PointsList"},i.createElement("div",{className:"padding-10 small"},i.createElement(o.a,{instance:a,buildingName:n,points:_||s,handlePointChange:this.handlePointChange,_fetchPoints:this._fetchPoints,openEditDialog:this.openEditForm,isPlanned:h.pointState,alertingStatus:v}))))},t}(i.Component);t.default=v},1507:function(e,t,n){"use strict";var i=n(2),o=(n.n(i),n(652)),a=n(673),l=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return l(t,e),t.prototype.render=function(){var e=this.props.pointToPointExportList;this.state;return i.createElement(i.Fragment,null,i.createElement("button",{type:"button",id:"btnShowPointToPointDetails",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#pointToPointDetailsDialog"}," ."),i.createElement(o.a,{id:"pointToPointDetailsDialog",heading:"Point to Point details",cancelButtonText:"Ok",showCancelButton:!0,showSaveButton:!1,isFullWidth:!0,onSaveButtonClick:function(){}},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"dropdown pull-right"},i.createElement(a.a,{filename:"PointToPoint worksheet",data:e,ElementID:"dvPointToPoint"})),i.createElement("div",{className:"col-md-12 padding-10",id:"dvPointToPoint"},i.createElement("div",{className:"row hidden-xs small dataCard cell_border",style:{marginBottom:"10px"}},i.createElement("div",{className:"col-md-12 dataCard no-padding"},i.createElement("div",{className:"col-md-2 padding-10 trim-data headingText"},"Description"),i.createElement("div",{className:"col-md-1 padding-10 trim-data headingText"},"Wired Point"),i.createElement("div",{className:"col-md-1 padding-10 trim-data headingText"},"Asset 1"),i.createElement("div",{className:"col-md-1 padding-10 trim-data headingText"},"Enclosure"),i.createElement("div",{className:"col-md-1 padding-10 trim-data headingText"},"Point"),i.createElement("div",{className:"col-md-1 padding-10 trim-data headingText"},"Cable"),i.createElement("div",{className:"col-md-1 padding-10 trim-data headingText"},"Asset 2"),i.createElement("div",{className:"col-md-1 padding-10 trim-data headingText"},"Enclosure"),i.createElement("div",{className:"col-md-1 padding-10 trim-data headingText"},"Point"),i.createElement("div",{className:"col-md-2 padding-10 trim-data headingText"},"Point to Point String"))),i.createElement("div",{className:"dataCard"},e&&e.length>0&&e.map(function(e,t){return e.aa_Description?i.createElement("div",{key:t,className:"row no-padding small clickable"},i.createElement("div",{className:"col-md-12 no-padding"},i.createElement("div",{className:"col-md-2 padding-10 trim-data",title:""+e.aa_Description},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Description"),""+e.aa_Description),i.createElement("div",{className:"col-md-1 padding-10 trim-data",title:""+e.ab_Wired_Point},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Wired Point"),""+e.ab_Wired_Point),i.createElement("div",{className:"col-md-1 padding-10 trim-data",title:""+e.ac_Asset_1},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Asset 1"),""+e.ac_Asset_1),i.createElement("div",{className:"col-md-1 padding-10 trim-data",title:""+e.ad_A1_Enclosure},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Enclosure"),""+e.ad_A1_Enclosure),i.createElement("div",{className:"col-md-1 padding-10 trim-data",title:""+e.ba_A1_Point},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Point"),""+e.ba_A1_Point),i.createElement("div",{className:"col-md-1 padding-10 trim-data",title:""+e.bb_Cabel},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Cable"),""+e.bb_Cabel),i.createElement("div",{className:"col-md-1 padding-10 trim-data",title:""+e.bd_Asset_2},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Asset 2"),""+e.bd_Asset_2),i.createElement("div",{className:"col-md-1 padding-10 trim-data",title:""+e.ca_A2_Enclosure},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Enclosure"),""+e.ca_A2_Enclosure),i.createElement("div",{className:"col-md-1 padding-10 trim-data",title:""+e.cb_A2_Point},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Point"),""+e.cb_A2_Point),i.createElement("div",{className:"col-md-2 padding-10 trim-data",title:""+e.cc_Point_To_Point_String},i.createElement("span",{className:"hidden visible-xs-inline headingText"},"Point to Point String"),""+e.cc_Point_To_Point_String))):i.createElement(i.Fragment,null)})))))))},t}(i.Component);t.a=r},3425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(734)),a=n(676),l=n(1506),r=n(117),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function l(e){try{s(i.next(e))}catch(e){a(e)}}function r(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,r)}s((i=i.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,i,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,i=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_allPoints:[],_plannedPoints:[],pointObj:{point:"",tag:"",pointId:"",notes:"",unit:"",pointDevice:"",pointType:"Sensor",pointLabel:"",asset:"",space:"",s3FileName:"",commissioningDate:"",installDate:"",link1:"",link2:"",monconDevice:"",sinkPointDescription:"",softwarePointDescription:"",sourcePointDescription:"",webhook:"",component:"",floor:"",assetLabel:"",componentLabel:"",floorLabel:"",spaceLabel:"",pointNumber:"",pointState:"",portDirection:""},isEdit:!1},n.handlePointChange=n.handlePointChange.bind(n),n._fetchPoints=n._fetchPoints.bind(n),n.openEditForm=n.openEditForm.bind(n),n.savePoint=n.savePoint.bind(n),n}return s(t,e),t.prototype.componentDidMount=function(){return c(this,void 0,void 0,function(){return d(this,function(e){return this.props.buildingName,[2]})})},t.prototype._fetchPoints=function(){return c(this,void 0,void 0,function(){var e=this;return d(this,function(t){switch(t.label){case 0:return Object(r.a)(!0),[4,Object(a.k)(this.props.buildingName).then(function(t){e.setState({_allPoints:t})}).catch(function(e){return e})];case 1:return t.sent(),Object(r.a)(!1),[2]}})})},t.prototype.handlePointChange=function(e){this.setState({pointObj:e})},t.prototype.openEditForm=function(){this.setState({isEdit:!0},function(){document.getElementById("btnPointForm").click()})},t.prototype.savePoint=function(){return c(this,void 0,void 0,function(){var e,t,n,i;return d(this,function(o){switch(o.label){case 0:return e=this.state,t=e.pointObj,n=e.isEdit,i=this.props.buildingName,t?(Object(r.a)(!0),[4,Object(a.e)(t,i,n)]):[3,3];case 1:return o.sent(),[4,this._fetchPoints()];case 2:o.sent(),Object(r.a)(!1),o.label=3;case 3:return[2]}})})},t.prototype.render=function(){var e=this.props,t=e.buildingName,n=e.instance,a=e.entityName,r=e.infoEntity;return i.createElement("div",{className:""},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement(o.a,{instance:this.props.instance,buildingName:t,tabName:r,showComponentButton:"Equip"==r,itemName:a,showAuditTypes:!0,showBIMButtons:!0}))),i.createElement("div",{className:"row"},i.createElement(l.default,{buildingName:t,instance:n,asset:a}))))},t}(i.Component);t.default=p}});