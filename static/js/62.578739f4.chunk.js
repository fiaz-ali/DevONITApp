webpackJsonp([62],{709:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,c=n(2),i=(n.n(c),n(21)),s=n(54),r=n(34),o=n(149),l=n(842),u=n(7),d=n(53),h=n(29),m=n(159),f=n(9),b=n(17),p=n(30),v=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),g=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(c,i){function s(e){try{o(a.next(e))}catch(e){i(e)}}function r(e){try{o(a.throw(e))}catch(e){i(e)}}function o(e){e.done?c(e.value):new n(function(t){t(e.value)}).then(s,r)}o((a=a.apply(e,t||[])).next())})},N=this&&this.__generator||function(e,t){var n,a,c,i,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(c=2&i[0]?a.return:i[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,i[1])).done)return c;switch(a=0,c&&(i=[2&i[0],c.value]),i[0]){case 0:case 1:c=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(c=(c=s.trys).length>0&&c[c.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!c||i[1]>c[0]&&i[1]<c[3])){s.label=i[1];break}if(6===i[0]&&s.label<c[1]){s.label=c[1],c=i;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(i);break}c[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],a=0}finally{n=c=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},T=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_chats:[],sortOrder:1,chatToDelete:Object(),ChatToArchive:Object(),taskModalData:Object()},a=n,n.sortChats=n.sortChats.bind(n),n._fetchChats=n._fetchChats.bind(n),n.onDeleteChat=n.onDeleteChat.bind(n),n.deleteChat=n.deleteChat.bind(n),n.onArchiveChat=n.onArchiveChat.bind(n),n.archiveChat=n.archiveChat.bind(n),n.handlePerformanceDetail=n.handlePerformanceDetail.bind(n),n}return v(t,e),t.prototype.componentDidMount=function(){return g(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchChats()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.componentWillReceiveProps=function(e){return g(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.buildingName?[4,this._fetchChats()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype._fetchChats=function(){return g(this,void 0,void 0,function(){var e=this;return N(this,function(t){switch(t.label){case 0:return Object(r.a)(!0),this.props.buildingName?[4,Object(l.h)(this.props.buildingName,this.props.isArchivePage).then(function(t){var n=[];t.map(function(e){var t=-1==Object(u.g)(e.assignedToName).indexOf(Object(u.g)(e.enteredByName))?Object(u.g)(e.assignedToName)+", "+Object(u.g)(e.enteredByName):Object(u.g)(e.assignedToName);n.push({chatName:Object(u.g)(e.chatName),lastMessage:Object(u.g)(e.lastMessage),participants:t,participantsUserName:Object(u.g)(e.assignedTo),taskID:Object(u.g)(e.task),type:Object(u.g)(e.type),unreadMessageCount:Object(u.g)(e.unreadMessageCount)?parseInt(Object(u.g)(e.unreadMessageCount)):0,action:Object(u.g)(e.action),issue:Object(u.g)(e.issue),building:Object(u.g)(e.building),buildingLabel:Object(u.g)(e.buildingLabel)})}),e.setState({_chats:n})}).catch(function(e){return e})]:[3,2];case 1:t.sent(),t.label=2;case 2:return Object(r.a)(!1),[2]}})})},t.prototype.sortChats=function(e,t){var n=this.state._chats,a=this.state.sortOrder,c=n.sort(function(n,c){if(n&&c){var i="",s="";switch(e){case"Last Message":n.lastMessage&&c.lastMessage&&(i=n.lastMessage,s=c.lastMessage,a=t||1);break;case"Participant":n.participants&&c.participants&&(i=n.participants,s=c.participants);break;case"Chat Name":n.action&&c.action?(i=n.action,s=c.action):n.issue&&c.issue&&(i=n.issue,s=c.issue)}var r=0;return i.toLocaleLowerCase()<s.toLocaleLowerCase()?r=-1:i.toLocaleLowerCase()>s.toLocaleLowerCase()&&(r=1),r*a}});this.setState({_chats:c,sortOrder:-1*a})},t.prototype.onDeleteChat=function(e){this.setState({chatToDelete:e},function(){document.getElementById("btnConfirm").click()})},t.prototype.deleteChat=function(){return g(this,void 0,void 0,function(){var e,t=this;return N(this,function(n){switch(n.label){case 0:return(e=this.state.chatToDelete)&&e.taskID?(Object(r.a)(!0),[4,Object(l.f)(e.taskID,e.chatName).then(function(){(new d.b).DeleteFile(d.a.CHAT,"Chat-_-"+e.participants+".json"),t._fetchChats()})]):[3,2];case 1:n.sent(),Object(r.a)(!1),n.label=2;case 2:return[2]}})})},t.prototype.onArchiveChat=function(e){this.setState({ChatToArchive:e},function(){document.getElementById("btnConfirmArchive").click()})},t.prototype.archiveChat=function(){return g(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return e=this.state.ChatToArchive,[4,Object(m.a)(e.taskID)];case 1:return t.sent(),[4,this._fetchChats()];case 2:return t.sent(),[2]}})})},t.prototype.handlePerformanceDetail=function(e){var t=this;e&&(Object(r.a)(!0),Object(l.i)("",e).then(function(e){return g(t,void 0,void 0,function(){var t;return N(this,function(n){return t=e[0],this.setState({taskModalData:t},function(){document.getElementById("btnTaskDetail").click()}),Object(r.a)(!1),[2]})})}))},t.prototype.render=function(){var e=this,t=this.state,n=t._chats,r=t.taskModalData,l=this.props,d=l.isArchivePage,m=l.instance,v=l.buildingName,g=JSON.parse(f.a.getItem("user")),N=Object(h.b)(g,"task-ticket","write");return c.createElement(i.AppContext.Consumer,null,function(t){return c.createElement("div",{className:"content",id:"chats",style:{paddingTop:"0px"}},c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-12"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-12 "},!d&&c.createElement("a",{className:"btn-sm btn-success pull-left custom-icon-btn",title:"Archived Chats",style:{marginTop:"0px"},onClick:function(e){window.location.hash=m+"/"+v+"/ArchivedChats"}},c.createElement("img",{className:"icon-img",style:{backgroundColor:"#B3A2C7"},src:"assets/img/archive.png"})),d&&c.createElement("button",{type:"button",className:"btn btn-secondary btn-fill pull-left",onClick:function(){window.location.hash=m+"/"+v+"/Chat"}},c.createElement("i",{className:"fa fa-angle-double-left"})," Back to Chats"),c.createElement("div",{className:"dropdown pull-right"},c.createElement(o.a,{filename:"ChatsList",data:Object(),ElementID:"ChatsList"})))),c.createElement("br",null),c.createElement("div",{className:"card padding-10",id:"ChatsList",style:{paddingTop:"0px"}},c.createElement("div",{className:"content",style:{paddingTop:"10px"}},c.createElement("div",{className:"dataCard"},c.createElement("div",{className:"row hidden-xs no-padding"},c.createElement("div",{className:"col-md-9 dataCard no-padding"},c.createElement("div",{className:"col-md-3 small grid-header-left",onClick:function(){return e.sortChats("Chat Name")}},c.createElement("i",{className:"fa fas fa-sort"}),"Chat Name"),c.createElement("div",{className:"col-md-3 small grid-header",onClick:function(){return e.sortChats("Participant")}},c.createElement("i",{className:"fa fas fa-sort"}),"Participants"),c.createElement("div",{className:"col-md-3 small grid-header",onClick:function(){return e.sortChats("Last Message")}},c.createElement("i",{className:"fa fas fa-sort"}),"Last Message"),c.createElement("div",{className:"col-md-3 small grid-header",onClick:function(){return e.sortChats("building")}},c.createElement("i",{className:"fa fas fa-sort"}),"Building")),c.createElement("div",{className:"col-md-3"},"\xa0")),n.map(function(n,i){if(n&&n.taskID){var r=[];return t.unreadMessages.map(function(e){if(e&&e.from){var t=e.tag.split("-_-");"Ticket"==t[0]&&t[1]==n.taskID&&r.push(e)}}),c.createElement("div",{key:i,className:"row clickable"},c.createElement("div",{className:"col-md-9"},c.createElement("div",{className:"col-md-3 small trim-data",title:n.taskID.toString()},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Chat Name"),c.createElement("a",{onClick:function(){if(t&&t.unreadMessages){t.onRemoveUnreadMessages([]),setTimeout(function(){window.location.hash=a.props.instance+"/"+a.props.buildingName+"/ChatWindow/"+n.taskID+"/"+n.type},1e3)}}},n.action?n.action:n.issue?n.issue:"",r.length>0&&c.createElement(c.Fragment,null,c.createElement("label",{style:{color:"#d2202a",marginLeft:30}},c.createElement("i",{className:"fa fas fa-comment"}),"\xa0",r.length)))),c.createElement("div",{className:"col-md-3 small trim-data",title:n.participants},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Participants"),n.participants),c.createElement("div",{className:"col-md-3 small trim-data",title:n.lastMessage?new Date(n.lastMessage).YYMMDDHHMM():""},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Last Message"),n.lastMessage?new Date(n.lastMessage).YYMMDDHHMM():""),c.createElement("button",{id:"btnConfirm",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmDeleteDialog"},"."),c.createElement(s.a,{instance:e.props.instance,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this Chat?",heading:"Confirm...",onConfirmButtonClick:function(){e.deleteChat()}}),c.createElement("div",{className:"col-md-3 small trim-data",title:n.buildingLabel},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Building"),n.buildingLabel?n.buildingLabel:"")),N&&c.createElement("div",{className:"col-md-3",style:{display:"inline-flex"}},c.createElement("button",{className:"btn btn-secondary active pull-right",onClick:function(t){e.handlePerformanceDetail(n.taskID)}},c.createElement("i",{className:"fa fa-info-circle"})," Detail "),!d&&c.createElement("button",{className:"btn btn-success active pull-right",title:"Archive",onClick:function(t){e.onArchiveChat(n)}},c.createElement("i",{className:"fa fa-archive"}),"Archive"),c.createElement("button",{className:"btn btn-danger active pull-right",onClick:function(t){e.onDeleteChat(n)}},c.createElement("i",{className:"fa fa-trash"})," Delete ")))}}),c.createElement("button",{id:"btnConfirmArchive",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmArchiveDialog"},"."),c.createElement(s.a,{instance:e.props.instance,id:"ConfirmArchiveDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to archive this Chat?",heading:"Confirm...",onConfirmButtonClick:function(){e.archiveChat()}}),c.createElement("button",{type:"button",id:"btnTaskDetail",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#TaskDetail"}," ."),c.createElement(b.a,{id:"TaskDetail",heading:"",saveButtonText:"Done",onSaveButtonClick:function(){e.setState({taskModalData:Object()})},disableSaveButton:!1},c.createElement("div",{className:"img-thumbnail padding-10"},c.createElement("div",{className:"dataCard"},c.createElement("div",{className:"col-md-12"},c.createElement("div",{className:"col-md-4 headingText"},"Task Number: "),c.createElement("div",{className:"col-md-8 "},Object(u.g)(r.taskNumber))),c.createElement("div",{className:"col-md-12"},c.createElement("div",{className:"col-md-4 headingText"},"Task Description: "),c.createElement("div",{className:"col-md-8"},Object(u.g)(r.description))),c.createElement("div",{className:"col-md-12"},c.createElement("div",{className:"col-md-4 headingText"},"Work Assigned To: "),c.createElement("div",{className:"col-md-8"},Object(u.g)(r.assignedToName))),""!=Object(u.g)(r.floorRdfsLabel)&&c.createElement("div",{className:"col-md-12"},c.createElement("div",{className:"col-md-4 headingText"},"Floor: "),c.createElement("div",{className:"col-md-8"},Object(u.g)(r.floorRdfsLabel))),""!=Object(u.g)(r.spaceRdfsLabel)&&c.createElement("div",{className:"col-md-12"},c.createElement("div",{className:"col-md-4 headingText"},"Space: "),c.createElement("div",{className:"col-md-8"},Object(u.g)(r.spaceRdfsLabel))),""!=Object(u.g)(r.equipRdfsLabel)&&c.createElement("div",{className:"col-md-12"},c.createElement("div",{className:"col-md-4 headingText"},"Equipment: "),c.createElement("div",{className:"col-md-8"},Object(u.g)(r.equipRdfsLabel))),c.createElement("div",{className:"col-md-12"},c.createElement("div",{className:"col-md-4 headingText"},"Work Order #: "),c.createElement("div",{className:"col-md-8"},Object(u.g)(r.workOrder))),c.createElement("div",{className:"col-md-12"},c.createElement("div",{className:"col-md-4 headingText"},"Building: "),c.createElement("div",{className:"col-md-8"},Object(u.g)(r.buildingName))),c.createElement("div",{className:"col-md-12 padding-10"},c.createElement(p.b,{to:"javascript:void(0)",target:"_blank",style:{marginLeft:17},onClick:function(t){t.preventDefault(),window.location.origin.indexOf("/localhost")>-1?window.open("http://localhost:3000/#"+e.props.instance+"/"+e.props.buildingName+"/NewTask/"+Object(u.g)(r.task),"_blank"):window.open("https://app.onitnetwork.com/#"+e.props.instance+"/"+e.props.buildingName+"/NewTask/"+Object(u.g)(r.task),"_blank")}},"View Task Detail  "))))))))))))})},t}(c.Component);t.default=T},842:function(e,t,n){"use strict";t.n=function(){var e=JSON.parse(s.a.getItem("user"));return!(!e||e.workingStatus&&"Not Working"!=e.workingStatus)&&(!!document.getElementById("btnStatus")&&(document.getElementById("btnStatus").click(),!0))},t.l=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Object(i.e)({},i.a.TASKS.GetTaskTypeList,a.b.TASK)];case 1:return[2,e.sent()]}})})},t.m=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Object(i.e)({},i.a.TASKS.GetWorkTypeList,a.b.TASK)];case 1:return[2,e.sent()]}})})},t.h=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,getArchivedOnly:t},i.a.CHATS.GetChats,a.b.TASK)];case 1:return[2,n.sent()]}})})},t.f=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({taskID:e,chatName:t},i.a.CHATS.DeleteChat,a.b.TASK).then(function(){Object(c.b)("Chat Deleted Successfully.")}).catch(function(e){Object(c.a)("Error occured while deleting Chat.")})];case 1:return[2,n.sent()]}})})},t.r=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({taskID:e,chatName:t},i.a.TASKS.UpdateLastMessageOn,a.b.CHAT)];case 1:return[2,n.sent()]}})})},t.w=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(i.f)({chatName:e},i.a.TASKS.UpdateUnreadCount,a.b.TASK)];case 1:return[2,t.sent()]}})})},t.p=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(s){switch(s.label){case 0:return[4,Object(i.f)({buildingName:e,model:t,isEdit:n},i.a.TASKS.UpdateRootTask,a.b.TASK).then(function(){Object(c.b)("Task "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Task.")})];case 1:return[2,s.sent()]}})})},t.i=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(i.e)({buildingName:e,taskNumber:t,isArchived:n},i.a.TASKS.GETTASKS,a.b.TASK,!0)];case 1:return[2,c.sent()]}})})},t.j=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(i.e)({buildingName:e,parentTask:t,subTaskNumber:n},i.a.TASKS.GetSubTask,a.b.TASK)];case 1:return[2,c.sent()]}})})},t.t=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({taskID:e,isDeleted:t},i.a.TASKS.UpdateRootTaskDeleteStatus,a.b.TASK).then(function(){Object(c.b)("Task Deleted Successfully.")}).catch(function(e){Object(c.a)("Error occured while deleting Task.")})];case 1:return[2,n.sent()]}})})},t.v=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(s){switch(s.label){case 0:return[4,Object(i.f)({taskID:e,status:t},i.a.TASKS.UpdateTaskStatus,a.b.TASK).then(function(){n||Object(c.b)("Status Updated Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Task.")})];case 1:return[2,s.sent()]}})})},t.u=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({taskID:e,startTime:t},i.a.TASKS.UpdateTaskStartTime,a.b.TASK).then(function(){Object(c.b)("Start Time Updated Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Task.")})];case 1:return[2,n.sent()]}})})},t.d=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({taskID:e,isArchived:t},i.a.TASKS.ArchiveTask,a.b.TASK).then(function(){Object(c.b)((t?"Archived":"Unarchived")+" Successfully.")}).catch(function(e){Object(c.a)("Error occured while Archiving Task.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({taskID:e,note:t},i.a.TASKS.AddPauseNote,a.b.TASK).then(function(){}).catch(function(e){Object(c.a)("Error occured while saving Task.")})];case 1:return[2,n.sent()]}})})},t.g=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(i.f)({taskID:e},i.a.TASKS.DeletePauseNote,a.b.TASK).then(function(){}).catch(function(e){Object(c.a)("Error occured while saving Task.")})];case 1:return[2,t.sent()]}})})},t.b=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({taskID:e,note:t},i.a.TASKS.AddNote,a.b.TASK).then(function(){Object(c.b)("Note Added Successfully.")}).catch(function(e){Object(c.a)("Error occured while saving Task.")})];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({taskID:e,isAcknowledged:t},i.a.TASKS.AcknowledgeRootTask,a.b.TASK).then(function(){Object(c.b)(t?"Acknowledged Successfully.":"Unacknowledged Successfully.")}).catch(function(e){Object(c.a)("Error occured while Acknowledging.")})];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({taskID:e,checklistID:t},i.a.TASKS.AssignChecklist,a.b.TASK).then(function(){Object(c.b)("Checklist Assigned Successfully.")}).catch(function(e){Object(c.a)("Error occured while Assigning Checklist.")})];case 1:return[2,n.sent()]}})})},t.s=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(s){switch(s.label){case 0:return[4,Object(i.f)({email:e,roles:t,fileName:n},i.a.ONEDRIVE.UPDATEPERMISSION,a.b.TASK,"",!0).then(function(e){return e}).catch(function(e){Object(c.a)("Error occured while update Permission.")})];case 1:return[2,s.sent()]}})})},t.o=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(i.f)({fileName:e},i.a.ONEDRIVE.REMOVEPERMISSION,a.b.TASK,"",!0).then(function(e){return e}).catch(function(e){Object(c.a)("Error occured while removing Permission.")})];case 1:return[2,t.sent()]}})})},t.k=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,checklistID:t},i.a.TASKS.GetTaskHavingChecklist,a.b.TASK,!0)];case 1:return[2,n.sent()]}})})},t.q=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(i.f)({buildingName:e},i.a.TASKS.TriggerTaskManagement,a.b.TASK,"").then(function(e){return e}).catch(function(e){Object(c.a)("Error occured while triggering task automation.")})];case 1:return[2,t.sent()]}})})};var a=n(8),c=n(6),i=n(5),s=n(9),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(c,i){function s(e){try{o(a.next(e))}catch(e){i(e)}}function r(e){try{o(a.throw(e))}catch(e){i(e)}}function o(e){e.done?c(e.value):new n(function(t){t(e.value)}).then(s,r)}o((a=a.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,a,c,i,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(c=2&i[0]?a.return:i[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,i[1])).done)return c;switch(a=0,c&&(i=[2&i[0],c.value]),i[0]){case 0:case 1:c=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(c=(c=s.trys).length>0&&c[c.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!c||i[1]>c[0]&&i[1]<c[3])){s.label=i[1];break}if(6===i[0]&&s.label<c[1]){s.label=c[1],c=i;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(i);break}c[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],a=0}finally{n=c=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}}}});