webpackJsonp([17,18],{1032:function(e,t,n){"use strict";var o=n(2),a=(n.n(o),n(159)),i=n(5),r=n(154),l=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,l)}s((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={items:[],spaces:[],selectedRowIndex:0,spacesDropDownList:[],isAddDisable:!1},n.addItem=n.addItem.bind(n),n.handleDescriptionChange=n.handleDescriptionChange.bind(n),n.handleSpaceChange=n.handleSpaceChange.bind(n),n.getSweeps=n.getSweeps.bind(n),n.handleSpaceDropdownListChange=n.handleSpaceDropdownListChange.bind(n),n}return l(t,e),t.prototype.componentWillReceiveProps=function(e){e.items&&this.setState({items:e.items}),e.spaces&&this.setState({spaces:e.spaces}),e.destinationSpace&&this.setState({destinationSpace:e.destinationSpace}),e.destinationSweeps&&(console.log(e.destinationSweeps),this.setState({destinationSweeps:e.destinationSweeps},function(){console.log("Destination sweeps updated")}))},t.prototype.addItem=function(){var e=this.state.items;e.push({space:[this.state.destinationSpace],description:"",sweeps:this.state.destinationSweeps}),this.setState({items:e,isAddDisable:!0}),this.props.onItemChange(e)},t.prototype.handleSpaceChange=function(e){return s(this,void 0,void 0,function(){var t,n,o,a,i;return c(this,function(r){switch(r.label){case 0:if(this.props.isView)return[3,5];for((t=this.state.items)[this.state.selectedRowIndex].space=e,n=[],o=e.reverse(),a=0;a<o.length;a++)i=o[a],n.push(i);a=0,r.label=1;case 1:return a<n.length?(i=n[a],[4,this.getSweeps(this.props.building,i.value,t,a)]):[3,4];case 2:r.sent(),r.label=3;case 3:return a++,[3,1];case 4:this.state.selectedRowIndex==t.length-1&&this.setState({isAddDisable:!1}),r.label=5;case 5:return[2]}})})},t.prototype.handleSpaceDropdownListChange=function(){this.setState({spacesDropDownList:this.state.spaces.map(function(e){return{value:e.ontology.value,label:e.rdfsLabel.value}})})},t.prototype.handleDescriptionChange=function(e,t){if(!this.props.isView){var n=this.state.items;n[t].description=e,this.setState({items:n}),this.props.onItemChange(n)}},t.prototype.getSweeps=function(e,t,n,o){return s(this,void 0,void 0,function(){var r=this;return c(this,function(l){switch(l.label){case 0:return[4,Object(a.c)(e,t).then(function(e){return s(r,void 0,void 0,function(){var t,a,r,l,s;return c(this,function(c){for(t=[],a=0==o?0:n[this.state.selectedRowIndex].sweeps.length,r=0;r<e.length;r++)l=e[r],(s=Object()).assignedSpace=Object(i.g)(l.assignedSpace),s.buildingName=Object(i.g)(l.buildingName),s.ontology=Object(i.g)(l.ontology),s.uuid=Object(i.g)(l.uuid),s.uuidIndex=parseInt(Object(i.g)(l.uuidIndex)),s.stepNo=parseInt(l.stepNo.value)+a,t.push(s);return 0!=o&&n[this.state.selectedRowIndex].sweeps.forEach(function(e){t.push(e)}),n[this.state.selectedRowIndex].sweeps=t,this.setState({items:n}),this.props.onItemChange(n),[2]})})}).catch(function(e){return e})];case 1:return l.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.items,a=t.spaces,i=t.spacesDropDownList,l=t.isAddDisable,s=this.props.isView;return i=a.map(function(e){return{value:e.ontology.value,label:e.rdfsLabel.value}}),o.createElement(o.Fragment,null,o.createElement("div",{className:"dataCard"},o.createElement("div",{className:"row hidden-xs"},o.createElement("div",{className:"col-sm-6 headingText"},"Routes"),o.createElement("div",{className:"col-sm-6 headingText"},"Description")),n.map(function(t,n){return o.createElement("div",{key:n,className:"row"},o.createElement("div",{className:"col-sm-6 col-xs-12"},o.createElement("span",{className:"hidden visible-xs-inline headingText col-xs-6"},o.createElement("label",{htmlFor:"space"},"Routes")),o.createElement("span",{className:"fullWidth"},o.createElement(r.a,{isMulti:!0,closeMenuOnSelect:!1,value:t.space,onChange:e.handleSpaceChange,onFocus:function(){e.setState({selectedRowIndex:n})},placeholder:"Directions",options:i}))),o.createElement("div",{className:"col-sm-6 col-xs-12"},o.createElement("span",{className:"hidden visible-xs-inline headingText col-xs-3"},o.createElement("label",{htmlFor:"description"},"Description")),o.createElement("span",{className:"fullWidth"},o.createElement("input",{type:"text",className:"form-control",id:"description",value:t.description,placeholder:"Description",name:"description",onChange:function(t){return e.handleDescriptionChange(t.target.value,n)}}))))})),o.createElement("br",null),!s&&o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-11"},o.createElement("button",{disabled:l,type:"button",className:"btn btn-dark btn-fill btn-sm",onClick:this.addItem},o.createElement("i",{className:"fa fa-plus"}),n.length>0?"More":"Add"))))},t}(o.Component);t.a=u},1256:function(e,t,n){"use strict";var o=n(2),a=(n.n(o),n(10)),i=n(1032),r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isStarted:!1,isTourSelected:!1,selectedSteps:n.props.sweeps,modelDetails:Object(),spaceDetails:[],currentSweep:Object(),matterTags:[],floorDetails:Object(),logMessage:"",sdkReady:!1,hasStartSweep:!1,startSweep:Object(),isViewForm:n.props.isViewForm,prevSweepIndex:0,onPropsReceivedStateChanged:!1,linkBimism:n.props.bimURL,routes:n.props.routes,locationDropdownList:[],destinationSpace:n.props.selectedSpace,destinationSweeps:n.props.sweeps},n.loadFrame=n.loadFrame.bind(n),n.toggleTourStartStop=n.toggleTourStartStop.bind(n),n.toggleTourSweepsStartStop=n.toggleTourSweepsStartStop.bind(n),n.addCurrentSweep=n.addCurrentSweep.bind(n),n.toggleAddingSweep=n.toggleAddingSweep.bind(n),n.removeSweep=n.removeSweep.bind(n),n.setDialogState=n.setDialogState.bind(n),n.onSaveHandle=n.onSaveHandle.bind(n),n.handleRouteChange=n.handleRouteChange.bind(n),n}return r(t,e),t.prototype.componentWillReceiveProps=function(e){(0==this.state.selectedSteps.length&&e.sweeps.length>0||e.isSweepChangeable)&&(this.setState({selectedSteps:e.sweeps,hasStartSweep:!0,startSweep:e.sweeps.find(function(e){return 0==e.stepNo}),onPropsReceivedStateChanged:!0}),this.loadFrame(this.setDialogState,this.state),e.isSweepChangeable&&this.props.onSweepChangeable(e.isSweepChangeable)),e.bimURL&&this.setState({linkBimism:e.bimURL}),e.locationDropdownList&&this.setState({locationDropdownList:e.locationDropdownList}),e.sweeps&&this.setState({destinationSweeps:e.sweeps}),e.selectedSpace&&this.setState({destinationSpace:e.selectedSpace}),e.routes&&this.setState({routes:e.routes})},t.prototype.componentDidUpdate=function(){this.state.onPropsReceivedStateChanged&&(this.setState({onPropsReceivedStateChanged:!1}),this.loadFrame(this.setDialogState,this.state))},t.prototype.onSaveHandle=function(){if(this.props.isTaskForm){var e=this.state.routes;this.props.onSaveRouteClickButton(e)}else{var t=this.state.selectedSteps;this.props.onSaveClickButton(t)}},t.prototype.toggleAddingSweep=function(){window.toggleStartStopAddingSweep()},t.prototype.toggleTourStartStop=function(){window.toggleTourSelectedSweep()},t.prototype.toggleTourSweepsStartStop=function(e){window.toggleTourSweepsSelectedSweep(e)},t.prototype.addCurrentSweep=function(){window.addCurrentSweep()},t.prototype.removeSweep=function(e){window.removeSweep(e)},t.prototype.setDialogState=function(e,t,n,o,a,i,r,l){null!=e&&this.setState({isStarted:e}),null!=t&&this.setState({isTourSelected:t}),null!=n&&this.setState({selectedSteps:n}),null!=o&&this.setState({modelDetails:o}),null!=a&&this.setState({currentSweep:a}),null!=i&&this.setState({logMessage:i}),null!=l&&this.setState({prevSweepIndex:l}),null!=r&&(this.setState({sdkReady:r}),this.loadFrame(this.setDialogState,this.state))},t.prototype.loadFrame=function(e,t){var o=n(162),a=o.APIKey,i=o.Version,r=document.getElementById("showcase"),l=!1,s=t.modelDetails,c=t.currentSweep,u=t.isStarted,d=t.isTourSelected,p=t.selectedSteps,h=t.sdkReady,m=t.startSweep,f=t.hasStartSweep,g=t.isViewForm,v=t.prevSweepIndex;window.MP_SDK.connect(r,a,i).then(function(t){function n(o,a){u?(console.log("Tour Stopped"),e(null,null,null,null,null,"Tour Stopped")):(a.length>0&&a.length>o?(d=!0,t.Sweep.moveTo(a[o].uuid,{transition:t.Sweep.Transition.FLY}).then(function(t){var i="Arrived at sweep "+t+"at index "+a[o].uuidIndex;console.log(i),e(null,null,null,null,null,i),n(o+=1,a)}).catch(function(e){console.log("Error: "+JSON.stringify(e))})):(d=!1,console.log("Tour Ended"),e(null,null,null,null,null,"Tour Ended")),e(null,d))}console.log("SDK Connected!"),h||t.App.state.subscribe(function(n){n.phase===t.App.Phase.LOADING&&console.log("The app has started loading!"),n.phase===t.App.Phase.STARTING&&console.log("The transition into the start location begins!"),n.phase===t.App.Phase.PLAYING&&(console.log("The app is ready to take user input now!"),h=!0,e(null,null,null,null,null,null,!0),f&&window.goToSweep(m.uuid))}),t.Model.getData().then(function(t){console.log("Model data loaded for sid:",t.sid),e(null,null,null,s=t)}),window.toggleStartStopAddingSweep=function(){e(u=!u),u&&window.addCurrentSweep()},window.toggleTourSelectedSweep=function(){(e(null,d=!0),d)?(console.log("Tour Started"),e(null,null,null,null,null,"Tour Started"),n(0,p.sort(function(e,t){return e.stepNo-t.stepNo}))):(console.log("Tour Stopped"),e(null,d),e(null,null,null,null,null,"Tour Stopped"))},window.toggleTourSweepsSelectedSweep=function(t){(e(null,d=!0),d)?(console.log("Tour Started"),e(null,null,null,null,null,"Tour Started"),n(0,t.sort(function(e,t){return e.stepNo-t.stepNo}))):(console.log("Tour Stopped"),e(null,d),e(null,null,null,null,null,"Tour Stopped"))},window.addCurrentSweep=function(){t.Camera.getPose().then(function(t){var n=s.sweeps.find(function(e){return e.uuid==t.sweep});e(null,null,null,null,c=n);var o=s.sweeps.indexOf(n);if(!function(t){if(p.length>0){var n=p.find(function(e){return e.uuid==t});if(null!=n||""+n!="undefined"){var o="Sweep "+n.uuid+" of index "+n.uuidIndex+" is already added in the current list";return console.log(o),e(null,null,null,null,null,o),!0}}return!1}(c.uuid)){p.push({uuid:c.uuid,uuidIndex:o,stepNo:p.length}),e(null,null,p);var a="Sweep "+c.uuid+" of index "+o+" is added in the current list";console.log(a),e(null,null,null,null,null,a)}})},window.removeSweep=function(t){var n=p.find(function(e){return e.uuid==t}),o=p.indexOf(n);if(o>-1){p.splice(o,1),e(null,null,p);var a="Sweep "+n.uuid+" of index "+n.uuidIndex+" is removed from the current list";console.log(a),e(null,null,null,null,null,a)}},window.goToSweep=function(n){t.Sweep.moveTo(n,{transition:t.Sweep.Transition.FLY}).then(function(t){var o="Moved to sweep "+n;console.log(o),e(null,null,null,null,null,o)}).catch(function(e){console.log("Error: "+JSON.stringify(e))})},t.on(t.Sweep.Event.ENTER,function(){if(d)return!1;t.Camera.getPose().then(function(t){if("mode.inside"==t.mode||"mode.outside"==t.mode)if(g&&p.length>0){var n=p.find(function(e){return e.uuid==t.sweep});if(null!=n&&""+n!="undefined"){var o="Moved to sweep "+n.uuid;console.log(o),e(null,null,null,null,null,o),v=p.indexOf(n),e(null,null,null,null,null,null,null,v)}else{o="Not allowed in the current step ";if(console.log(o),e(null,null,null,null,null,o),l)return setTimeout(function(){l=!1},1500),l=!1,!1;l=!0,window.goToSweep(p[v].uuid)}}else console.log("Current Sweep is: "+JSON.stringify(t.sweep)),u&&window.addCurrentSweep()})})}).catch(function(e){console.log("Error while connecting with Matterport SDK")})},t.prototype.handleRouteChange=function(e){var t=[];e.forEach(function(e){e.sweeps.forEach(function(e){t.push(e)})}),this.setState({routes:e,selectedSteps:t})},t.prototype.render=function(){var e=this;this.props.isRefreshDialog&&(this.setState({isStarted:!1,isTourSelected:!1,selectedSteps:[],modelDetails:Object(),spaceDetails:[],currentSweep:Object(),matterTags:[],floorDetails:Object(),logMessage:"",sdkReady:!1,hasStartSweep:!1,startSweep:Object(),isViewForm:this.props.isViewForm,prevSweepIndex:0,onPropsReceivedStateChanged:!1,linkBimism:this.props.bimURL,destinationSpace:{label:"",value:""},destinationSweeps:[],routes:[],locationDropdownList:[]}),this.props.onRefreshMatterport(!1));var t=this.props,n=t.id,r=t.heading,l=t.isViewForm,s=t.isTaskForm,c=t.isTaskView,u=t.sweeps,d=t.selectedSpace,p=t.showSaveButton,h=this.state,m=h.isStarted,f=h.selectedSteps,g=h.isTourSelected,v=h.logMessage,b=h.sdkReady,y=h.routes,w=h.locationDropdownList,S=this.state.linkBimism;S&&!S.includes("&utm_source=sdkdebug&play=1&tourcta=0")&&(S+="&utm_source=sdkdebug&play=1&tourcta=0");var E=0,C=0,N=!1,_=!1;return b?(N=g,_=m):(N=!0,_=!0),o.createElement(a.a,{id:n,saveButtonText:"Save",heading:r,isEditForm:!0,showSaveButton:p,showCancelButton:l,onSaveButtonClick:function(){e.onSaveHandle()}},o.createElement("div",{className:"card dataCard padding-10 no-margin"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement("iframe",{id:"showcase",src:S,onLoad:function(){e.loadFrame(e.setDialogState,e.state)},width:"100%",height:"400",frameBorder:"0",allowFullScreen:!0}))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-7 col-xs-12"},!s&&!c&&o.createElement(o.Fragment,null,!l&&o.createElement("button",{type:"button",id:"btnStartStop",disabled:N,title:1==m?"Stop":"Start",className:"btn btn-primary btn-fill",onClick:this.toggleAddingSweep},o.createElement("i",{className:1==m?"fa fa-stop":"fa fa-plus"})),!l&&o.createElement("button",{type:"button",id:"btnAddCurrentStep",disabled:N&&_,title:"Add current step",className:"btn btn-primary btn-fill matterport-dialog-btn-tour-margin",onClick:this.addCurrentSweep},o.createElement("i",{className:"fa fa-thumb-tack"})),o.createElement("button",{type:"button",id:"btnTourSelectedSteps",disabled:_,title:1==m?"Tour selected steps stopped":"Tour selected steps started",className:"btn btn-primary btn-fill ",onClick:this.toggleTourStartStop},o.createElement("i",{className:1==g?"fa fa-stop":"fa fa-play"})),o.createElement("br",null),o.createElement("br",null)),!s&&o.createElement("span",{className:"small-font-list"},v),s&&o.createElement(i.a,{building:this.props.buildingName,items:y,onItemChange:this.handleRouteChange,isView:!1,spaces:w,destinationSpace:d,destinationSweeps:u})),!s&&o.createElement("div",{className:"col-md-5 col-xs-12"},o.createElement("table",null,o.createElement("tr",null,o.createElement("th",null,"Steps"),o.createElement("th",null)),f&&f.map(function(t){return E+=1,o.createElement("tr",null,o.createElement("td",{className:"link",onClick:function(){b&&window.goToSweep(t.uuid)}},"Step ",E,": ",t.uuid),o.createElement("td",null,!l&&b&&o.createElement("button",{type:"button",title:"Remove step",onClick:function(){e.removeSweep(t.uuid)},className:"btn btn-light matterport-dialog-btn-no-border"},o.createElement("i",{className:"fa fa-times"}))))}))),s&&o.createElement("div",{className:"col-md-5 col-xs-12"},o.createElement("br",null),y&&y.map(function(t){return E=0,C+=1,o.createElement(o.Fragment,null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-6"},o.createElement("b",null,"Route ",C)),o.createElement("div",{className:"col-md-6"},o.createElement("button",{type:"button",id:"btnTourSelectedSteps",disabled:_,title:1==m?"Tour selected steps stopped":"Tour selected steps started",className:"btn btn-primary btn-fill btn-sm float-right matterport-dialog-btn-play-sm",onClick:function(){e.toggleTourSweepsStartStop(t.sweeps)}},o.createElement("i",{className:1==g?"fa fa-stop":"fa fa-play"})))),o.createElement("span",{className:"small-font-list"},t.description),o.createElement("table",null,o.createElement("tr",null,o.createElement("th",null,"Steps")),t.sweeps.map(function(e){return E+=1,o.createElement("tr",null,o.createElement("td",{className:"link",onClick:function(){b&&window.goToSweep(e.uuid)}},"Step ",E,": ",e.uuid))})),o.createElement("br",null),o.createElement("br",null))}),";")))))},t}(o.Component);t.a=l},696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(2),i=(n.n(a),n(7)),r=n(155),l=n(79),s=n(11),c=n(56),u=n(154),d=n(5),p=n(10),h=n(30),m=n(9),f=n(1256),g=n(159),v=n(866),b=n(161),y=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),w=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,l)}s((o=o.apply(e,t||[])).next())})},S=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},E=["Drop Ceiling","Other Ceiling","Drywall","Plaster","Metal","None"],C=function(e){function t(t){var n=e.call(this,t)||this;return n.state={locationModel:{ontology:n.props.spaceName?n.props.spaceName:Object(s.j)(7),buildingName:n.props.buildingName,floor:"",type:"",name:"",rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:"",isDirectional:!1},floorsList:[],isEdit:!1,_spaceTypes:[],newFloor:Object(),panelIDs:[],zonesList:[],files:[],zoneName:"",zoneType:"",_zoneTypes:[],_serviceProvidersList:[],selectedBIMSweeps:[],refreshMatterportDialog:!1,showMatterportDialog:!0},o=n,n.handleDirectionalSpaceChange=n.handleDirectionalSpaceChange.bind(n),n.handleRefreshMatterport=n.handleRefreshMatterport.bind(n),n.handleSelectedSweepsChange=n.handleSelectedSweepsChange.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.handleTypeChange=n.handleTypeChange.bind(n),n.handleNameChange=n.handleNameChange.bind(n),n.handleCeilingTypeChange=n.handleCeilingTypeChange.bind(n),n.handleCeilingHeightChange=n.handleCeilingHeightChange.bind(n),n.handleDescriptionChange=n.handleDescriptionChange.bind(n),n.handleNotesChange=n.handleNotesChange.bind(n),n.createFloor=n.createFloor.bind(n),n.handlePanelIDChange=n.handlePanelIDChange.bind(n),n.handleNewPanelID=n.handleNewPanelID.bind(n),n.handleRemovePanelID=n.handleRemovePanelID.bind(n),n.handleZoneChange=n.handleZoneChange.bind(n),n.handleVirtualBIMChange=n.handleVirtualBIMChange.bind(n),n.handleCADBIMChange=n.handleCADBIMChange.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n._getZonesList=n._getZonesList.bind(n),n.saveZone=n.saveZone.bind(n),n.handleZoneNameChange=n.handleZoneNameChange.bind(n),n.handleZoneTypeChange=n.handleZoneTypeChange.bind(n),n._fetchServiceProvidersList=n._fetchServiceProvidersList.bind(n),n._getZoneTypesList=n._getZoneTypesList.bind(n),n.createLocation=n.createLocation.bind(n),n.getSpace=n.getSpace.bind(n),n.getMultiSelectDropDownLabel=n.getMultiSelectDropDownLabel.bind(n),n.getSweeps=n.getSweeps.bind(n),n.onDialogCancelButton=n.onDialogCancelButton.bind(n),n}return y(t,e),t.prototype.componentDidMount=function(){return w(this,void 0,void 0,function(){var e,t,n;return S(this,function(o){switch(o.label){case 0:return e=this.props,t=e.buildingName,n=e.spaceName,t?[4,this._getFloorsList()]:[3,7];case 1:return o.sent(),[4,this._getSpaceTypeList()];case 2:return o.sent(),[4,this._getZonesList()];case 3:return o.sent(),[4,this._getZoneTypesList()];case 4:return o.sent(),n?[4,this.getSpace(t,n)]:[3,7];case 5:return o.sent(),[4,this.getSweeps(t,n)];case 6:o.sent(),o.label=7;case 7:return[2]}})})},t.prototype.componentWillReceiveProps=function(e){return w(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return e.spaceName?[4,this.getSpace(e.buildingName,e.spaceName)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.createLocation=function(){return w(this,void 0,void 0,function(){var e,t,n,o,a,r,s,u=this;return S(this,function(d){switch(d.label){case 0:return e=this.state,t=e.locationModel,n=e.isEdit,t?(t.virtualBIM=t.linkBimism,Object(h.a)(!0),1!=n?[3,2]:[4,Object(l.a)(this.props.buildingName,t,t.floor,n)]):[3,5];case 1:return d.sent(),[3,4];case 2:return[4,Object(l.a)(this.props.buildingName,t,t.floor,n)];case 3:d.sent(),d.label=4;case 4:if(o=new c.b,(a=Object(i.d)())&&a.length)for(r=0;r<a.length;r++)s=a[r],o.UploadFile(c.a.DOCUMENT,t.profileFileName[r],s);Object(h.a)(!1),this.setState({locationModel:Object(),selectedBIMSweeps:[]},function(){window.location.hash=u.props.instance+"/"+u.props.buildingName+"/Space"}),d.label=5;case 5:return[2]}})})},t.prototype.getSweeps=function(e,t){return w(this,void 0,void 0,function(){var n,o=this;return S(this,function(a){switch(a.label){case 0:return n=[],[4,Object(g.c)(e,t).then(function(e){return w(o,void 0,void 0,function(){return S(this,function(t){return e.forEach(function(e){var t=Object();t.assignedSpace=Object(d.g)(e.assignedSpace),t.buildingName=Object(d.g)(e.buildingName),t.ontology=Object(d.g)(e.ontology),t.uuid=Object(d.g)(e.uuid),t.uuidIndex=parseInt(Object(d.g)(e.uuidIndex)),t.stepNo=parseInt(Object(d.g)(e.stepNo)),n.push(t)}),this.setState({selectedBIMSweeps:n}),[2]})})}).catch(function(e){return e})];case 1:return a.sent(),[2]}})})},t.prototype.getSpace=function(e,t){return w(this,void 0,void 0,function(){var n,o,a,i=this;return S(this,function(r){switch(r.label){case 0:return n=Object(),o=this.state.locationModel,Object(h.a)(!0),[4,Object(l.g)(e,t).then(function(e){return w(i,void 0,void 0,function(){return S(this,function(t){return""==Object(d.g)(e[0].space)&&(e=[]),n=e[0],[2]})})}).catch(function(e){return e})];case 1:return r.sent(),n&&(localStorage.setItem("spaceOntology",Object(d.g)(n.space)),o.buildingName=e,o.floor=Object(d.g)(n.floor&&n.floor),o.type=Object(d.g)(n.type),o.name=Object(d.g)(n.space),o.rdfsLabel=Object(d.g)(n.rdfsLabel),o.ceilingType=Object(d.g)(n.ceilingtype),o.ceilingHeight=Object(d.g)(n.ceilingheight),o.description=Object(d.g)(n.description),o.notes=Object(d.g)(n.notes),o.panelID=Object(d.g)(n.panelID),a=[],n.zone&&n.zone.value&&(a=n.zone.value.indexOf(",")>0?n.zone.value.split(","):[n.zone.value]),o.zone=a.map(function(e,t){return{label:i.getMultiSelectDropDownLabel(e,i.state.zonesList),value:e}}),o.virtualBIM=Object(d.g)(n.virtualBIM),o.cadBIM=Object(d.g)(n.cadBIM),o.profileFileName=Object(d.g)(n.profileFileName).split(","),o.isDirectional="true"===Object(d.g)(n.isDirectional),this.handleFloorChange(o.floor),this.setState({isEdit:!0,locationModel:o})),Object(h.a)(!1),[2]}})})},t.prototype.getMultiSelectDropDownLabel=function(e,t){var n=t,o=Object();return(o=n&&n.find(function(t){return t.value==e}))&&o.label},t.prototype.saveZone=function(){return w(this,void 0,void 0,function(){var e,t,n=this;return S(this,function(a){switch(a.label){case 0:return e=this.props.buildingName,(t=Object()).rdfsLabel=this.state.zoneName,t.type=this.state.zoneType,[4,Object(r.c)(t,e)];case 1:return a.sent(),this.setState({zoneName:"",zoneType:""},function(){setTimeout(function(){return w(n,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return[4,o._getZonesList()];case 1:return e.sent(),[2]}})})},2e3)}),[2]}})})},t.prototype.handleZoneNameChange=function(e){this.setState({zoneName:e})},t.prototype.handleZoneTypeChange=function(e){var t=this;this.setState({zoneType:e},function(){t._fetchServiceProvidersList(e)})},t.prototype._fetchServiceProvidersList=function(e){return w(this,void 0,void 0,function(){var t=this;return S(this,function(n){switch(n.label){case 0:return"zoneHeat"==e&&(e="both"),[4,Object(r.g)(this.props.buildingName,e).then(function(e){t.setState({_serviceProvidersList:e})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},t.prototype._getFloorsList=function(){return w(this,void 0,void 0,function(){var e=this;return S(this,function(t){switch(t.label){case 0:return[4,Object(r.f)(this.props.buildingName).then(function(t){e.setState({floorsList:t})})];case 1:return t.sent(),[2]}})})},t.prototype._getZonesList=function(){return w(this,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return(e=[])||(e=[]),[4,Object(r.e)(this.props.buildingName,!0).then(function(t){for(var n=0;n<t.length;n++){var a={value:Object(d.g)(t[n].ontology),label:Object(d.g)(t[n].rdfsLabel)};e.push(a)}o.setState({zonesList:e})})];case 1:return t.sent(),[2]}})})},t.prototype._getZoneTypesList=function(){return w(this,void 0,void 0,function(){var e,t=this;return S(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,[4,Object(r.h)(e).then(function(e){t.setState({_zoneTypes:e})})];case 1:return n.sent(),[2]}})})},t.prototype._getSpaceTypeList=function(){return w(this,void 0,void 0,function(){var e=this;return S(this,function(t){switch(t.label){case 0:return[4,Object(l.f)(this.props.buildingName).then(function(t){e.setState({_spaceTypes:t})})];case 1:return t.sent(),[2]}})})},t.prototype.handleFloorChange=function(e){return w(this,void 0,void 0,function(){var t,n=this;return S(this,function(o){switch(o.label){case 0:return(t=this.state.locationModel).floor=e,"newFloor"!==e?[3,1]:(document.getElementById("btnOpenFloorForm").click(),[3,3]);case 1:return[4,Object(r.a)(this.props.buildingName,e).then(function(e){e&&e.length>0&&(t.linkBimism=Object(d.g)(e[0].linkBimism)),n.setState({locationModel:t,refreshMatterportDialog:!0})}).catch(function(e){return e})];case 2:o.sent(),o.label=3;case 3:return[2]}})})},t.prototype.handleRefreshMatterport=function(e){this.setState({refreshMatterportDialog:e})},t.prototype.handleTypeChange=function(e){var t=this.state.locationModel;t.type=e,this.setState({locationModel:t})},t.prototype.handleZoneChange=function(e){var t=this.state.locationModel;t.zone=e,this.setState({locationModel:t})},t.prototype.handleNameChange=function(e){var t=this.state.locationModel;t.rdfsLabel=e,this.setState({locationModel:t})},t.prototype.handleVirtualBIMChange=function(e){var t=this.state.locationModel;t.virtualBIM=e,this.setState({locationModel:t})},t.prototype.handleCADBIMChange=function(e){var t=this.state.locationModel;t.cadBIM=e,this.setState({locationModel:t})},t.prototype.handlePanelIDChange=function(e,t){var n=this.state,o=n.locationModel,a=n.panelIDs;a[t]=e,o.panelID=a.join(","),this.setState({locationModel:o,panelIDs:a})},t.prototype.handleNewPanelID=function(){var e=this.state,t=e.locationModel,n=e.panelIDs;n.push(""),t.panelID=n.join(","),this.setState({locationModel:t,panelIDs:n})},t.prototype.handleRemovePanelID=function(e){var t=this.state,n=t.locationModel,o=t.panelIDs;o.splice(e,1),n.panelID=o.join(","),this.setState({locationModel:n,panelIDs:o})},t.prototype.handleCeilingTypeChange=function(e){var t=this.state.locationModel;t.ceilingType=e,this.setState({locationModel:t})},t.prototype.handleCeilingHeightChange=function(e){var t=this.state.locationModel;t.ceilingHeight=e,this.setState({locationModel:t})},t.prototype.handleDescriptionChange=function(e){var t=this.state.locationModel;t.description=e,this.setState({locationModel:t})},t.prototype.handleNotesChange=function(e){var t=this.state.locationModel;t.notes=e,this.setState({locationModel:t})},t.prototype.handleDirectionalSpaceChange=function(e){var t=this.state.locationModel;t.isDirectional=e,this.setState({locationModel:t})},t.prototype.handleNewFloorChange=function(e){var t=this.state.newFloor;t.rdfsLabel=e,this.setState({newFloor:t})},t.prototype.handleSelectedSweepsChange=function(e){this.setState({selectedBIMSweeps:e})},t.prototype.createFloor=function(){return w(this,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return(e=this.state.newFloor)?(e.floor=e.floor?e.floor:Object(s.j)(7),[4,Object(r.b)(this.props.buildingName,e).then(function(e){})]):[3,4];case 1:return t.sent(),[4,this._getFloorsList()];case 2:return t.sent(),[4,this.handleFloorChange(e.floor)];case 3:t.sent(),t.label=4;case 4:return[2]}})})},t.prototype.handlefileAttached=function(e){if(e.length>0){for(var t=this.state.locationModel,n=0;n<e.length;n++){var o=e[n].name.split(".").pop(),a=this.props.buildingName+"_"+Object(s.j)(15)+"."+o.toLowerCase();t.profileFileName&&(t.profileFileName[n]=a)}Object(i.g)(e),this.setState({files:e,locationModel:t},function(){})}},t.prototype.onDialogCancelButton=function(e){this.setState({showMatterportDialog:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.isView,o=void 0!==n&&n,i=t.buildingName,r=t.spaceName,l=this.state.locationModel,s=l.floor,c=l.ceilingHeight,h=l.ceilingType,g=l.description,y=l.notes,w=l.type,S=l.zone,C=l.virtualBIM,N=(l.cadBIM,l.rdfsLabel),_=l.linkBimism,O=l.isDirectional,k=this.state,x=k._spaceTypes,I=k.newFloor,T=k.panelIDs,M=k.zonesList,D=k.zoneName,P=k.zoneType,j=k._zoneTypes,L=k.showMatterportDialog,B=this.state.selectedBIMSweeps,A=this.state.floorsList,R=JSON.parse(m.a.getItem("user")),F=R&&"1"==R.role,z=N&&w&&w.length>0&&s&&!0,Z=T.map(function(e){return!!e}).find(function(e){return 0==e}),U=_||localStorage.getItem("BIMURL"),H=!(B.length>0)&&(U&&U.includes("camera_position"));return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"card padding-10"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",{className:"col-md-4"},a.createElement("label",{htmlFor:"name"},"Name:")),a.createElement("div",{className:"col-md-7"},a.createElement("input",{type:"text",id:"name",disabled:o,className:"form-control",value:N,onChange:function(t){return e.handleNameChange(t.target.value)}})),a.createElement("div",{className:"col-md-1"},a.createElement("label",null,a.createElement("i",{className:"fa fas fa-asterisk"})))),a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",{className:"col-md-4"},a.createElement("label",{htmlFor:"type"},"Type:")),a.createElement("div",{className:"col-md-7"},a.createElement("select",{id:"type",className:"form-control",disabled:o,onChange:function(t){return e.handleTypeChange(t.target.value)},value:w},a.createElement("option",{value:""},"Select Type"),x.map(function(e,t){return 0===t?a.createElement("option",{key:t,selected:!0,value:e.value},e.value):a.createElement("option",{key:t,value:e.value},e.value)}))),a.createElement("div",{className:"col-md-1"},a.createElement("label",null,a.createElement("i",{className:"fa fas fa-asterisk"})))))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",{className:"col-md-4"},a.createElement("label",{htmlFor:"floor"},"Floor:")),a.createElement("div",{className:"col-md-7"},a.createElement("select",{className:"form-control",id:"floor",disabled:o,onChange:function(t){return e.handleFloorChange(t.target.value)},value:s},a.createElement("option",{value:""},"Select Floor"),a.createElement("option",{value:"newFloor",key:-1},"New Floor"),a.createElement("hr",null),A.map(function(e,t){return e.ontology.value===s?a.createElement("option",{key:t,selected:!0,value:Object(d.g)(e.ontology)},Object(d.g)(e.rdfsLabel)):a.createElement("option",{key:t,value:Object(d.g)(e.ontology)},Object(d.g)(e.rdfsLabel))}))),a.createElement("div",{className:"col-md-1"},a.createElement("label",null,a.createElement("i",{className:"fa fas fa-asterisk"})))),a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",{className:"col-md-4"},a.createElement("label",{htmlFor:"zone"},"Is in Zone:")),a.createElement("div",{className:"col-md-7"},a.createElement("div",null,a.createElement(u.a,{isDisabled:o,closeMenuOnSelect:!1,isMulti:!0,value:S,onChange:this.handleZoneChange,placeholder:"Select IS IN ZONE",options:M}))),a.createElement("div",{className:"col-md-1",style:{paddingTop:"2px"}},!o&&a.createElement("button",{id:"zoneColapsBtn",type:"button",disabled:o,className:"btn btn-dark btn-fill btn-sm pull-right",onClick:function(){document.getElementById("btnOpenZoneForm").click()}},a.createElement("i",{id:"icons",className:"fa fa-plus"})))))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",{className:"col-md-4"},a.createElement("label",{htmlFor:"ceilingType"},"Ceiling Type:")),a.createElement("div",{className:"col-md-8"},a.createElement("select",{id:"ceilingType",className:"form-control",disabled:o,onChange:function(t){return e.handleCeilingTypeChange(t.target.value)},value:h},a.createElement("option",{value:""},"Select Ceiling Type"),E.map(function(e,t){return 0===t?a.createElement("option",{key:t,selected:!0,value:e},e):a.createElement("option",{key:t,value:e},e)})))),a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",{className:"col-md-4"},a.createElement("label",{htmlFor:"ceilingHeight"},"Ceiling Height:")),a.createElement("div",{className:"col-md-8"},a.createElement("input",{type:"text",id:"ceilingHeight",disabled:o,className:"form-control col-md-6",value:c,onChange:function(t){return e.handleCeilingHeightChange(t.target.value)}}))))),!1,!1,a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",{className:"col-md-4 col-xs-12"},a.createElement("label",{htmlFor:"directionalSpace"},"Directional Space:")),!o&&a.createElement("div",{className:"col-md-8 col-xs-12"},a.createElement("div",{className:"switch-container"},a.createElement("label",null,a.createElement("input",{id:"directionalSpace",disabled:o,name:"directionalSpace",checked:O,onChange:function(t){e.handleDirectionalSpaceChange(t.target.checked)},className:"switch",type:"checkbox"}),a.createElement("div",null,a.createElement("div",null))))),o&&a.createElement("div",{className:"col-md-8 col-xs-12"},a.createElement("label",{htmlFor:"directionalSpace"},O?"Yes":"No"),a.createElement("button",{className:"btn-sm btn-success active pull-right custom-icon-btn",title:C,onClick:function(){B&&B.length>0?document.getElementById("btnVirtualBIMDialog").click():document.getElementById("btnNoStepsFound").click()},style:{border:"1px solid transparent",backgroundColor:"#A69888"}},a.createElement("img",{className:"icon-img",src:"assets/img/virtual-bim.png"})))))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-2"},a.createElement("label",{htmlFor:"description"},"Description:")),a.createElement("div",{className:"col-md-10"},a.createElement("textarea",{id:"description",disabled:o,className:"form-control",value:g,onChange:function(t){return e.handleDescriptionChange(t.target.value)}}))))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-2"},a.createElement("label",{htmlFor:"notes"},"Notes:")),a.createElement("div",{className:"col-md-10"},a.createElement("textarea",{id:"notes",className:"form-control",disabled:o,value:y,onChange:function(t){return e.handleNotesChange(t.target.value)}}))))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement(v.a,{buildingName:i,assetOntology:r,showUploader:!o,entityType:"Space"})))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",{className:"col-md-4 padding-10"},a.createElement("label",{htmlFor:"panelID"},"Panel ID:")),a.createElement("div",{className:"col-md-8"},T.map(function(t,n){return a.createElement("div",{key:n,className:"row padding-5"},a.createElement("div",{className:"col-md-10"},a.createElement("input",{disabled:!F,type:"text",id:"panelID",className:"form-control",value:t,onChange:function(t){return e.handlePanelIDChange(t.target.value,n)}})),a.createElement("div",{className:"col-md-2 center"},a.createElement("button",{disabled:!F||o,type:"button",className:"remove-button btn btn-secondary btn-sm",onClick:function(){return e.handleRemovePanelID(n)},title:"Remove"},a.createElement("i",{className:"fa fa-remove"}))))}),a.createElement("div",{className:"col-md-12"},!o&&a.createElement("button",{disabled:!F||o||T.length>0&&0==Z,type:"button",className:"btn btn-dark btn-fill btn-sm",onClick:this.handleNewPanelID,title:"Add"},a.createElement("i",{className:"fa fa-plus"}))))))),!o&&a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("div",{className:"col-md-10 col-md-offset-2"},a.createElement("button",{type:"button",disabled:!z,className:"btn btn-dark btn-fill",onClick:function(){e.createLocation()}},"Save"),"\xa0\xa0",a.createElement("button",{type:"button",className:"btn btn-danger active",onClick:function(){window.history.back()}},"Cancel")),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null)),a.createElement("button",{id:"btnVirtualBIMDialog",className:"hidden","data-toggle":"modal","data-target":"#virtualBIMDialog",title:"Add"},". "),L&&a.createElement(b.a,{id:"virtualBIMDialog",heading:"Virtual BIM Space View",showSaveButton:!1,sweeps:B,bimURL:U,isViewForm:!0,addCurrentSweep:H,buildingName:this.props.buildingName,isRefreshDialog:!1,isSweepChangeable:!1,showFloorMap:!0,floor:s,onDialogCancelButton:this.onDialogCancelButton,showInBuildingRoutes:!0,space:r}),a.createElement("button",{id:"btnNoStepsFound",className:"hidden","data-toggle":"modal","data-target":"#NoStepsFound",title:"Add"},". "),a.createElement(p.a,{id:"NoStepsFound",heading:"Virtual BIM Equipment View",showSaveButton:!1,showCancelButton:!0},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("h4",{className:"modal-title",style:{textAlign:"center"}},"No Steps' Added")))),a.createElement("button",{type:"button",id:"btnOpenZoneForm",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#zoneFormDialog"}," ."),a.createElement(p.a,{id:"zoneFormDialog",onSaveButtonClick:function(){e.saveZone()},saveButtonText:"Add",disableSaveButton:!D,heading:"Add Zone"},a.createElement("div",{className:"card dataCard padding-10 no-margin"},a.createElement("div",{className:""},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-3"},a.createElement("label",{htmlFor:"type"},"Zone Name:")),a.createElement("div",{className:"col-md-9"},a.createElement("input",{value:D,onChange:function(t){return e.handleZoneNameChange(t.target.value)},type:"text",className:"form-control"})," "))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-3"},a.createElement("label",{htmlFor:"type"},"Zone Type:")),a.createElement("div",{className:"col-md-9"},a.createElement("button",{className:"btn btn-default btn-block dropdown-toggle",type:"button","data-toggle":"dropdown"},P&&j&&j.find(function(e){return-1!==e.z.value.indexOf(P.substring(3))})?j.find(function(e){return-1!==e.z.value.indexOf(P.substring(3))}).zone.value:"Select Zone Type",a.createElement("span",{className:"caret"})),a.createElement("ul",{className:"dropdown-menu"},a.createElement("li",{className:"dropdown-header"},a.createElement("h5",null,a.createElement("b",null,"Space Group"))),j.filter(function(e){return"Space Group"==e.yname.value}).map(function(t,n){return a.createElement("li",{key:n},a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.handleZoneTypeChange(t.z.value)}},t.zone.value))}),a.createElement("li",{className:"dropdown-header"},a.createElement("h5",null,a.createElement("b",null,"Service Zone"))),j.filter(function(e){return"Service Zone"==e.yname.value}).map(function(t,n){return a.createElement("li",{key:n},a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.handleZoneTypeChange(t.z.value)}},t.zone.value))})))))))),a.createElement("button",{type:"button",id:"btnOpenFloorForm",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#floorFormDialog"}," ."),a.createElement(p.a,{id:"floorFormDialog",onSaveButtonClick:function(){e.createFloor()},saveButtonText:"Add",disableSaveButton:!I.rdfsLabel,heading:"Add Floor"},a.createElement("div",{className:"card dataCard padding-10 no-margin"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement("div",{className:"col-md-4 padding-10"},a.createElement("label",{htmlFor:"floor"},"Floor")),a.createElement("div",{className:"col-md-8"},a.createElement("input",{type:"text",id:"floor",className:"form-control col-md-6",value:I.rdfsLabel,onChange:function(t){return e.handleNewFloorChange(t.target.value)}}))))))),a.createElement("button",{type:"button",id:"btnVirtualBIM",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#virtualBIMDialog"}," ."),a.createElement(f.a,{id:"virtualBIMDialog",heading:"Select Steps",isViewForm:o,showSaveButton:!o,isSweepChangeable:!1,sweeps:B,onSaveClickButton:this.handleSelectedSweepsChange,bimURL:U,isRefreshDialog:this.state.refreshMatterportDialog,onRefreshMatterport:this.handleRefreshMatterport}))))))},t}(a.Component);t.default=C},718:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=(n.n(o),n(15)),i=n(696),r=n(158),l=n(22),s=n(9),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,l)}s((o=o.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return c(t,e),t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.componentWillReceiveProps=function(e){return u(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,c=t.buildingName,u=t.spaceName,d=t.workFlowSpaceList,p=JSON.parse(s.a.getItem("user")),h=Object(l.b)(p,"info-space","write");return o.createElement(a.AppContext.Consumer,null,function(t){return o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"content"},o.createElement("div",{className:""},o.createElement("div",{className:"row"},o.createElement("div",{className:h?"col-md-10":"col-md-12"},o.createElement(r.a,{workFlowSpaceList:d,inspectionOntology:e.props.inspectionOntology,instance:n,buildingName:c,tabName:"Space",itemName:u,showAuditTypes:!0,showBIMButtons:!0})),h&&o.createElement("div",{className:"col-sm-2 padding-10"},o.createElement("button",{className:"btn-sm btn-success btn-fill pull-right",onClick:function(){window.location.hash=n+"/"+c+"/Space/SpaceForm/"+u}},o.createElement("i",{className:"fa fa-edit"})," Edit "))),o.createElement("br",null),o.createElement("div",{className:""},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12 col-sm-12 no-padding"},o.createElement(i.default,{instance:n,buildingName:c,spaceName:u,isView:!0})))))))})},t}(o.Component);t.default=p},810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(842)).default,a=o.canUseDOM?window.HTMLElement:{};t.canUseDOM=o.canUseDOM;t.default=a},816:function(e,t,n){e.exports=n(836)()},817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(r)};var o=/input|select|textarea|button|object/;function a(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function i(e,t){var n=e.nodeName.toLowerCase();return(o.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(a(t))return!1;t=t.parentNode}return!0}(e)}function r(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&i(e,!n)}e.exports=t.default},818:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=r,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);r(n,t),t="length"in n?n[0]:n}return i=t||i},t.validateElement=l,t.hide=function(e){l(e)&&(e||i).setAttribute("aria-hidden","true")},t.show=function(e){l(e)&&(e||i).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){i=null},t.resetForTesting=function(){i=null};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(841)),a=n(810);var i=null;function r(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){return!(!e&&!i)||((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},819:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach(function(n){return n(e,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]};t.default=o,e.exports=t.default},826:function(e,t,n){"use strict";t.f=function(e){return r(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,Object(i.f)({model:e},i.a.DOCUMENTS.SaveDocument,o.b.DOCS).then(function(){Object(a.b)("Document Added Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Document.")})];case 1:return[2,t.sent()]}})})},t.d=function(e,t,n){return r(this,void 0,void 0,function(){return l(this,function(a){switch(a.label){case 0:return[4,Object(i.e)({buildingName:e,entityType:t,entityOntology:n},i.a.DOCUMENTS.GetDocuments,o.b.DOCS,!0)];case 1:return[2,a.sent()]}})})},t.a=function(e){return r(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,Object(i.f)({ontology:e},i.a.DOCUMENTS.DeleteDocument,o.b.DOCS)];case 1:return[2,t.sent()]}})})},t.e=function(e,t,n,s){return r(this,void 0,void 0,function(){return l(this,function(r){switch(r.label){case 0:return[4,Object(i.f)({buildingName:e,model:t,isEdit:n,itemToUpdate:s},i.a.DOCUMENTS.SaveCommunityDoc,o.b.DOCS).then(function(){Object(a.b)("Community Document "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Community Document.")})];case 1:return[2,r.sent()]}})})},t.b=function(e){return r(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.DOCUMENTS.GetCommunityDocs,o.b.DOCS,!0)];case 1:return[2,t.sent()]}})})},t.c=function(e){return r(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({fileName:e},i.a.DOCUMENTS.GetDocumentFilesList,o.b.DOCS,!0)];case 1:return[2,t.sent()]}})})};var o=n(7),a=n(3),i=n(4),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,l)}s((o=o.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}},833:function(e,t,n){"use strict";(function(e){var o=n(2),a=n.n(o),i=n(6),r=n.n(i),l=n(834),s=n.n(l);function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){d(e,t,n[t])})}return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,a=!1,i=void 0;try{for(var r,l=e[Symbol.iterator]();!(o=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return"";var n=e;return t&&Object.keys(t).forEach(function(e){n=n.replace(e,t[e])}),n}function w(){return"undefined"!==typeof e.window?e.window.innerWidth:0}var S=0,E=27,C=37,N=39,_=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?g(e):t}(this,m(n).call(this,e))).state={isClosing:!e.animationDisabled,shouldAnimate:!1,zoomLevel:S,offsetX:0,offsetY:0,loadErrorStatus:{}},t.outerEl=a.a.createRef(),t.zoomInBtn=a.a.createRef(),t.zoomOutBtn=a.a.createRef(),t.caption=a.a.createRef(),t.closeIfClickInner=t.closeIfClickInner.bind(g(g(t))),t.handleImageDoubleClick=t.handleImageDoubleClick.bind(g(g(t))),t.handleImageMouseWheel=t.handleImageMouseWheel.bind(g(g(t))),t.handleKeyInput=t.handleKeyInput.bind(g(g(t))),t.handleMouseUp=t.handleMouseUp.bind(g(g(t))),t.handleMouseDown=t.handleMouseDown.bind(g(g(t))),t.handleMouseMove=t.handleMouseMove.bind(g(g(t))),t.handleOuterMousewheel=t.handleOuterMousewheel.bind(g(g(t))),t.handleTouchStart=t.handleTouchStart.bind(g(g(t))),t.handleTouchMove=t.handleTouchMove.bind(g(g(t))),t.handleTouchEnd=t.handleTouchEnd.bind(g(g(t))),t.handlePointerEvent=t.handlePointerEvent.bind(g(g(t))),t.handleCaptionMousewheel=t.handleCaptionMousewheel.bind(g(g(t))),t.handleWindowResize=t.handleWindowResize.bind(g(g(t))),t.handleZoomInButtonClick=t.handleZoomInButtonClick.bind(g(g(t))),t.handleZoomOutButtonClick=t.handleZoomOutButtonClick.bind(g(g(t))),t.requestClose=t.requestClose.bind(g(g(t))),t.requestMoveNext=t.requestMoveNext.bind(g(g(t))),t.requestMovePrev=t.requestMovePrev.bind(g(g(t))),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,o["Component"]),u(n,null,[{key:"isTargetMatchImage",value:function(e){return e&&/ril-image-current/.test(e.className)}},{key:"parseMouseEvent",value:function(e){return{id:"mouse",source:1,x:parseInt(e.clientX,10),y:parseInt(e.clientY,10)}}},{key:"parseTouchPointer",value:function(e){return{id:e.identifier,source:2,x:parseInt(e.clientX,10),y:parseInt(e.clientY,10)}}},{key:"parsePointerEvent",value:function(e){return{id:e.pointerId,source:3,x:parseInt(e.clientX,10),y:parseInt(e.clientY,10)}}},{key:"getTransform",value:function(e){var t=e.x,n=void 0===t?0:t,o=e.y,a=void 0===o?0:o,i=e.zoom,r=void 0===i?1:i,l=e.width,s=e.targetWidth,c=n,u=w();l>u&&(c+=(u-l)/2);var d=r*(s/l);return{transform:"translate3d(".concat(c,"px,").concat(a,"px,0) scale3d(").concat(d,",").concat(d,",1)")}}}]),u(n,[{key:"componentWillMount",value:function(){this.timeouts=[],this.currentAction=0,this.eventsSource=0,this.pointerList=[],this.preventInnerClose=!1,this.preventInnerCloseTimeout=null,this.keyPressed=!1,this.imageCache={},this.lastKeyDownTime=0,this.resizeTimeout=null,this.wheelActionTimeout=null,this.resetScrollTimeout=null,this.scrollX=0,this.scrollY=0,this.moveStartX=0,this.moveStartY=0,this.moveStartOffsetX=0,this.moveStartOffsetY=0,this.swipeStartX=0,this.swipeStartY=0,this.swipeEndX=0,this.swipeEndY=0,this.pinchTouchList=null,this.pinchDistance=0,this.keyCounter=0,this.moveRequested=!1,this.props.animationDisabled||this.setState({isClosing:!1})}},{key:"componentDidMount",value:function(){var t=this;this.windowContext=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.window.self,o=n.document.referrer;if(n===e.window.top||!o)return n;var a=function(e){return e.match(/(.*\/\/.*?)(\/|$)/)[1]};return a(n.location.href)===a(o)?t(n.parent):n}(),this.listeners={resize:this.handleWindowResize,mouseup:this.handleMouseUp,touchend:this.handleTouchEnd,touchcancel:this.handleTouchEnd,pointerdown:this.handlePointerEvent,pointermove:this.handlePointerEvent,pointerup:this.handlePointerEvent,pointercancel:this.handlePointerEvent},Object.keys(this.listeners).forEach(function(e){t.windowContext.addEventListener(e,t.listeners[e])}),this.loadAllImages()}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=!1,o={},a={};this.getSrcTypes().forEach(function(i){t.props[i.name]!==e[i.name]&&(n=!0,o[t.props[i.name]]=!0,a[e[i.name]]=!0)}),(n||this.moveRequested)&&(Object.keys(o).forEach(function(e){!(e in a)&&e in t.imageCache&&(t.imageCache[e].loaded=!1)}),this.moveRequested=!1,this.loadAllImages(e))}},{key:"shouldComponentUpdate",value:function(){return!this.moveRequested}},{key:"componentWillUnmount",value:function(){var e=this;this.didUnmount=!0,Object.keys(this.listeners).forEach(function(t){e.windowContext.removeEventListener(t,e.listeners[t])}),this.timeouts.forEach(function(e){return clearTimeout(e)})}},{key:"setTimeout",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=this,o=setTimeout(function(){n.timeouts=n.timeouts.filter(function(e){return e!==o}),e()},t);return this.timeouts.push(o),o})},{key:"setPreventInnerClose",value:function(){var e=this;this.preventInnerCloseTimeout&&this.clearTimeout(this.preventInnerCloseTimeout),this.preventInnerClose=!0,this.preventInnerCloseTimeout=this.setTimeout(function(){e.preventInnerClose=!1,e.preventInnerCloseTimeout=null},100)}},{key:"getBestImageForType",value:function(e){var t=this.props[e],n={};if(this.isImageLoaded(t))n=this.getFitSizes(this.imageCache[t].width,this.imageCache[t].height);else{if(!this.isImageLoaded(this.props["".concat(e,"Thumbnail")]))return null;t=this.props["".concat(e,"Thumbnail")],n=this.getFitSizes(this.imageCache[t].width,this.imageCache[t].height,!0)}return{src:t,height:this.imageCache[t].height,width:this.imageCache[t].width,targetHeight:n.height,targetWidth:n.width}}},{key:"getFitSizes",value:function(e,t,n){var o=this.getLightboxRect(),a=o.height-2*this.props.imagePadding,i=o.width-2*this.props.imagePadding;return n||(a=Math.min(a,t),i=Math.min(i,e)),i/a>e/t?{width:e*a/t,height:a}:{width:i,height:t*i/e}}},{key:"getMaxOffsets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.zoomLevel,t=this.getBestImageForType("mainSrc");if(null===t)return{maxX:0,minX:0,maxY:0,minY:0};var n=this.getLightboxRect(),o=this.getZoomMultiplier(e),a=0,i=0;return{maxX:a=o*t.width-n.width<0?(n.width-o*t.width)/2:(o*t.width-n.width)/2,maxY:i=o*t.height-n.height<0?(n.height-o*t.height)/2:(o*t.height-n.height)/2,minX:-1*a,minY:-1*i}}},{key:"getSrcTypes",value:function(){return[{name:"mainSrc",keyEnding:"i".concat(this.keyCounter)},{name:"mainSrcThumbnail",keyEnding:"t".concat(this.keyCounter)},{name:"nextSrc",keyEnding:"i".concat(this.keyCounter+1)},{name:"nextSrcThumbnail",keyEnding:"t".concat(this.keyCounter+1)},{name:"prevSrc",keyEnding:"i".concat(this.keyCounter-1)},{name:"prevSrcThumbnail",keyEnding:"t".concat(this.keyCounter-1)}]}},{key:"getZoomMultiplier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.zoomLevel;return Math.pow(1.007,e)}},{key:"getLightboxRect",value:function(){return this.outerEl.current?this.outerEl.current.getBoundingClientRect():{width:w(),height:"undefined"!==typeof e.window?e.window.innerHeight:0,top:0,right:0,bottom:0,left:0}}},{key:"clearTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this.timeouts=this.timeouts.filter(function(t){return t!==e}),clearTimeout(e)})},{key:"changeZoom",value:function(e,t,n){if(this.props.enableZoom){var o=Math.max(S,Math.min(300,e));if(o!==this.state.zoomLevel)if(o!==S){var a=this.getBestImageForType("mainSrc");if(null!==a){var i=this.getZoomMultiplier(),r=this.getZoomMultiplier(o),l=this.getLightboxRect(),s="undefined"!==typeof t?t-l.left:l.width/2,c="undefined"!==typeof n?n-l.top:l.height/2,u=(l.width-a.width*i)/2,d=(l.height-a.height*i)/2,p=s-(s-(u-this.state.offsetX))/i*r,h=c-(c-(d-this.state.offsetY))/i*r,m=(l.width-a.width*r)/2-p,f=(l.height-a.height*r)/2-h;if(3!==this.currentAction){var g=this.getMaxOffsets();this.state.zoomLevel>o&&(m=Math.max(g.minX,Math.min(g.maxX,m)),f=Math.max(g.minY,Math.min(g.maxY,f)))}this.setState({zoomLevel:o,offsetX:m,offsetY:f})}}else this.setState({zoomLevel:o,offsetX:0,offsetY:0})}}},{key:"closeIfClickInner",value:function(e){!this.preventInnerClose&&e.target.className.search(/\bril-inner\b/)>-1&&this.requestClose(e)}},{key:"handleKeyInput",value:function(e){if(e.stopPropagation(),!this.isAnimating())if("keyup"!==e.type){var t=e.which||e.keyCode,n=new Date;if(!(n.getTime()-this.lastKeyDownTime<this.props.keyRepeatLimit&&t!==E))switch(this.lastKeyDownTime=n.getTime(),t){case E:e.preventDefault(),this.requestClose(e);break;case C:if(!this.props.prevSrc)return;e.preventDefault(),this.keyPressed=!0,this.requestMovePrev(e);break;case N:if(!this.props.nextSrc)return;e.preventDefault(),this.keyPressed=!0,this.requestMoveNext(e)}}else this.lastKeyDownTime-=this.props.keyRepeatKeyupBonus}},{key:"handleOuterMousewheel",value:function(e){var t=this;e.stopPropagation();var n=0;if(this.clearTimeout(this.resetScrollTimeout),this.resetScrollTimeout=this.setTimeout(function(){t.scrollX=0,t.scrollY=0},300),null===this.wheelActionTimeout&&!this.isAnimating()){if(Math.abs(e.deltaY)<Math.abs(e.deltaX)){this.scrollY=0,this.scrollX+=e.deltaX;this.scrollX>=200||e.deltaX>=100?(this.requestMoveNext(e),n=500,this.scrollX=0):(this.scrollX<=-200||e.deltaX<=-100)&&(this.requestMovePrev(e),n=500,this.scrollX=0)}0!==n&&(this.wheelActionTimeout=this.setTimeout(function(){t.wheelActionTimeout=null},n))}}},{key:"handleImageMouseWheel",value:function(e){if(Math.abs(e.deltaY)>=Math.abs(e.deltaX)){if(e.stopPropagation(),Math.abs(e.deltaY)<1)return;this.scrollX=0,this.scrollY+=e.deltaY,this.changeZoom(this.state.zoomLevel-e.deltaY,e.clientX,e.clientY)}}},{key:"handleImageDoubleClick",value:function(e){this.state.zoomLevel>S?this.changeZoom(S,e.clientX,e.clientY):this.changeZoom(this.state.zoomLevel+100,e.clientX,e.clientY)}},{key:"shouldHandleEvent",value:function(e){if(this.eventsSource===e)return!0;if(0===this.eventsSource)return this.eventsSource=e,!0;switch(e){case 1:return!1;case 2:return this.eventsSource=2,this.filterPointersBySource(),!0;case 3:return 1===this.eventsSource&&(this.eventsSource=3,this.filterPointersBySource(),!0);default:return!1}}},{key:"addPointer",value:function(e){this.pointerList.push(e)}},{key:"removePointer",value:function(e){this.pointerList=this.pointerList.filter(function(t){return t.id!==e.id})}},{key:"filterPointersBySource",value:function(){var e=this;this.pointerList=this.pointerList.filter(function(t){return t.source===e.eventsSource})}},{key:"handleMouseDown",value:function(e){this.shouldHandleEvent(1)&&n.isTargetMatchImage(e.target)&&(this.addPointer(n.parseMouseEvent(e)),this.multiPointerStart(e))}},{key:"handleMouseMove",value:function(e){this.shouldHandleEvent(1)&&this.multiPointerMove(e,[n.parseMouseEvent(e)])}},{key:"handleMouseUp",value:function(e){this.shouldHandleEvent(1)&&(this.removePointer(n.parseMouseEvent(e)),this.multiPointerEnd(e))}},{key:"handlePointerEvent",value:function(e){if(this.shouldHandleEvent(3))switch(e.type){case"pointerdown":n.isTargetMatchImage(e.target)&&(this.addPointer(n.parsePointerEvent(e)),this.multiPointerStart(e));break;case"pointermove":this.multiPointerMove(e,[n.parsePointerEvent(e)]);break;case"pointerup":case"pointercancel":this.removePointer(n.parsePointerEvent(e)),this.multiPointerEnd(e)}}},{key:"handleTouchStart",value:function(e){var t=this;this.shouldHandleEvent(2)&&n.isTargetMatchImage(e.target)&&([].forEach.call(e.changedTouches,function(e){return t.addPointer(n.parseTouchPointer(e))}),this.multiPointerStart(e))}},{key:"handleTouchMove",value:function(e){this.shouldHandleEvent(2)&&this.multiPointerMove(e,[].map.call(e.changedTouches,function(e){return n.parseTouchPointer(e)}))}},{key:"handleTouchEnd",value:function(e){var t=this;this.shouldHandleEvent(2)&&([].map.call(e.changedTouches,function(e){return t.removePointer(n.parseTouchPointer(e))}),this.multiPointerEnd(e))}},{key:"decideMoveOrSwipe",value:function(e){this.state.zoomLevel<=S?this.handleSwipeStart(e):this.handleMoveStart(e)}},{key:"multiPointerStart",value:function(e){switch(this.handleEnd(null),this.pointerList.length){case 1:e.preventDefault(),this.decideMoveOrSwipe(this.pointerList[0]);break;case 2:e.preventDefault(),this.handlePinchStart(this.pointerList)}}},{key:"multiPointerMove",value:function(e,t){switch(this.currentAction){case 1:e.preventDefault(),this.handleMove(t[0]);break;case 2:e.preventDefault(),this.handleSwipe(t[0]);break;case 3:e.preventDefault(),this.handlePinch(t)}}},{key:"multiPointerEnd",value:function(e){switch(0!==this.currentAction&&(this.setPreventInnerClose(),this.handleEnd(e)),this.pointerList.length){case 0:this.eventsSource=0;break;case 1:e.preventDefault(),this.decideMoveOrSwipe(this.pointerList[0]);break;case 2:e.preventDefault(),this.handlePinchStart(this.pointerList)}}},{key:"handleEnd",value:function(e){switch(this.currentAction){case 1:this.handleMoveEnd(e);break;case 2:this.handleSwipeEnd(e);break;case 3:this.handlePinchEnd(e)}}},{key:"handleMoveStart",value:function(e){var t=e.x,n=e.y;this.props.enableZoom&&(this.currentAction=1,this.moveStartX=t,this.moveStartY=n,this.moveStartOffsetX=this.state.offsetX,this.moveStartOffsetY=this.state.offsetY)}},{key:"handleMove",value:function(e){var t=e.x,n=e.y,o=this.moveStartX-t+this.moveStartOffsetX,a=this.moveStartY-n+this.moveStartOffsetY;this.state.offsetX===o&&this.state.offsetY===a||this.setState({offsetX:o,offsetY:a})}},{key:"handleMoveEnd",value:function(){var e=this;this.currentAction=0,this.moveStartX=0,this.moveStartY=0,this.moveStartOffsetX=0,this.moveStartOffsetY=0;var t=this.getMaxOffsets(),n=Math.max(t.minX,Math.min(t.maxX,this.state.offsetX)),o=Math.max(t.minY,Math.min(t.maxY,this.state.offsetY));n===this.state.offsetX&&o===this.state.offsetY||(this.setState({offsetX:n,offsetY:o,shouldAnimate:!0}),this.setTimeout(function(){e.setState({shouldAnimate:!1})},this.props.animationDuration))}},{key:"handleSwipeStart",value:function(e){var t=e.x,n=e.y;this.currentAction=2,this.swipeStartX=t,this.swipeStartY=n,this.swipeEndX=t,this.swipeEndY=n}},{key:"handleSwipe",value:function(e){var t=e.x,n=e.y;this.swipeEndX=t,this.swipeEndY=n}},{key:"handleSwipeEnd",value:function(e){var t=this.swipeEndX-this.swipeStartX,n=Math.abs(t),o=Math.abs(this.swipeEndY-this.swipeStartY);if(this.currentAction=0,this.swipeStartX=0,this.swipeStartY=0,this.swipeEndX=0,this.swipeEndY=0,!(!e||this.isAnimating()||n<1.5*o)){if(n<200)if(n<this.getLightboxRect().width/4)return;t>0&&this.props.prevSrc?(e.preventDefault(),this.requestMovePrev()):t<0&&this.props.nextSrc&&(e.preventDefault(),this.requestMoveNext())}}},{key:"calculatePinchDistance",value:function(){var e=v(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pinchTouchList,2),t=e[0],n=e[1];return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}},{key:"calculatePinchCenter",value:function(){var e=v(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pinchTouchList,2),t=e[0],n=e[1];return{x:t.x-(t.x-n.x)/2,y:t.y-(t.y-n.y)/2}}},{key:"handlePinchStart",value:function(e){this.props.enableZoom&&(this.currentAction=3,this.pinchTouchList=e.map(function(e){return{id:e.id,x:e.x,y:e.y}}),this.pinchDistance=this.calculatePinchDistance())}},{key:"handlePinch",value:function(e){this.pinchTouchList=this.pinchTouchList.map(function(t){for(var n=0;n<e.length;n+=1)if(e[n].id===t.id)return e[n];return t});var t=this.calculatePinchDistance(),n=this.state.zoomLevel+t-this.pinchDistance;this.pinchDistance=t;var o=this.calculatePinchCenter(this.pinchTouchList),a=o.x,i=o.y;this.changeZoom(n,a,i)}},{key:"handlePinchEnd",value:function(){this.currentAction=0,this.pinchTouchList=null,this.pinchDistance=0}},{key:"handleWindowResize",value:function(){this.clearTimeout(this.resizeTimeout),this.resizeTimeout=this.setTimeout(this.forceUpdate.bind(this),100)}},{key:"handleZoomInButtonClick",value:function(){var e=this.state.zoomLevel+100;this.changeZoom(e),300===e&&this.zoomOutBtn.current.focus()}},{key:"handleZoomOutButtonClick",value:function(){var e=this.state.zoomLevel-100;this.changeZoom(e),e===S&&this.zoomInBtn.current.focus()}},{key:"handleCaptionMousewheel",value:function(e){if(e.stopPropagation(),this.caption.current){var t=this.caption.current.getBoundingClientRect().height,n=this.caption.current,o=n.scrollHeight,a=n.scrollTop;(e.deltaY>0&&t+a>=o||e.deltaY<0&&a<=0)&&e.preventDefault()}}},{key:"isAnimating",value:function(){return this.state.shouldAnimate||this.state.isClosing}},{key:"isImageLoaded",value:function(e){return e&&e in this.imageCache&&this.imageCache[e].loaded}},{key:"loadImage",value:function(t,n,o){var a=this;if(this.isImageLoaded(n))this.setTimeout(function(){o()},1);else{var i=new e.Image;this.props.imageCrossOrigin&&(i.crossOrigin=this.props.imageCrossOrigin),i.onerror=function(e){a.props.onImageLoadError(n,t,e),a.setState(function(e){return{loadErrorStatus:h({},e.loadErrorStatus,d({},t,!0))}}),o(e)},i.onload=function(){a.props.onImageLoad(n,t,i),a.imageCache[n]={loaded:!0,width:i.width,height:i.height},o()},i.src=n}}},{key:"loadAllImages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.getSrcTypes().forEach(function(n){var o=n.name;t[o]&&e.state.loadErrorStatus[o]&&e.setState(function(e){return{loadErrorStatus:h({},e.loadErrorStatus,d({},o,!1))}}),t[o]&&!e.isImageLoaded(t[o])&&e.loadImage(o,t[o],function(t,n){return function(o){o||e.props[t]!==n||e.didUnmount||e.forceUpdate()}}(o,t[o]))})}},{key:"requestClose",value:function(e){var t=this,n=function(){return t.props.onCloseRequest(e)};this.props.animationDisabled||"keydown"===e.type&&!this.props.animationOnKeyInput?n():(this.setState({isClosing:!0}),this.setTimeout(n,this.props.animationDuration))}},{key:"requestMove",value:function(e,t){var n=this,o={zoomLevel:S,offsetX:0,offsetY:0};this.props.animationDisabled||this.keyPressed&&!this.props.animationOnKeyInput||(o.shouldAnimate=!0,this.setTimeout(function(){return n.setState({shouldAnimate:!1})},this.props.animationDuration)),this.keyPressed=!1,this.moveRequested=!0,"prev"===e?(this.keyCounter-=1,this.setState(o),this.props.onMovePrevRequest(t)):(this.keyCounter+=1,this.setState(o),this.props.onMoveNextRequest(t))}},{key:"requestMoveNext",value:function(e){this.requestMove("next",e)}},{key:"requestMovePrev",value:function(e){this.requestMove("prev",e)}},{key:"render",value:function(){var t=this,o=this.props,i=o.animationDisabled,r=o.animationDuration,l=o.clickOutsideToClose,c=o.discourageDownloads,u=o.enableZoom,d=o.imageTitle,m=o.nextSrc,f=o.prevSrc,g=o.toolbarButtons,v=o.reactModalStyle,w=o.onAfterOpen,E=o.imageCrossOrigin,C=o.reactModalProps,N=this.state,_=N.zoomLevel,O=N.offsetX,k=N.offsetY,x=N.isClosing,I=N.loadErrorStatus,T=this.getLightboxRect(),M={};!i&&this.isAnimating()&&(M=h({},M,{transition:"transform ".concat(r,"ms")}));var D={};this.getSrcTypes().forEach(function(e){var t=e.name,n=e.keyEnding;D[t]=n});var P=[],j=function(e,o,i){if(t.props[e]){var r=t.getBestImageForType(e),l=h({},M,n.getTransform(h({},i,r)));_>S&&(l.cursor="move");if(null===r&&function(e){return Object.keys(e).some(function(t){return e[t]})}(I))P.push(a.a.createElement("div",{className:"".concat(o," ril__image ril-errored"),style:l,key:t.props[e]+D[e]},a.a.createElement("div",{className:"ril__errorContainer"},t.props.imageLoadErrorMessage)));else if(null!==r){var s=r.src;c?(l.backgroundImage="url('".concat(s,"')"),P.push(a.a.createElement("div",{className:"".concat(o," ril__image ril__imageDiscourager"),onDoubleClick:t.handleImageDoubleClick,onWheel:t.handleImageMouseWheel,style:l,key:s+D[e]},a.a.createElement("div",{className:"ril-download-blocker ril__downloadBlocker"})))):P.push(a.a.createElement("img",p({},E?{crossOrigin:E}:{},{className:"".concat(o," ril__image"),onDoubleClick:t.handleImageDoubleClick,onWheel:t.handleImageMouseWheel,onDragStart:function(e){return e.preventDefault()},style:l,src:s,key:s+D[e],alt:"string"===typeof d?d:y("Image"),draggable:!1})))}else{var u=a.a.createElement("div",{className:"ril-loading-circle ril__loadingCircle ril__loadingContainer__icon"},b(new Array(12)).map(function(e,t){return a.a.createElement("div",{key:t,className:"ril-loading-circle-point ril__loadingCirclePoint"})}));P.push(a.a.createElement("div",{className:"".concat(o," ril__image ril-not-loaded"),style:l,key:t.props[e]+D[e]},a.a.createElement("div",{className:"ril__loadingContainer"},u)))}}},L=this.getZoomMultiplier();j("nextSrc","ril-image-next ril__imageNext",{x:T.width}),j("mainSrc","ril-image-current",{x:-1*O,y:-1*k,zoom:L}),j("prevSrc","ril-image-prev ril__imagePrev",{x:-1*T.width});var B={overlay:h({zIndex:1e3,backgroundColor:"transparent"},v.overlay),content:h({backgroundColor:"transparent",overflow:"hidden",border:"none",borderRadius:0,padding:0,top:0,left:0,right:0,bottom:0},v.content)};return a.a.createElement(s.a,p({isOpen:!0,onRequestClose:l?this.requestClose:void 0,onAfterOpen:function(){t.outerEl.current&&t.outerEl.current.focus(),w()},style:B,contentLabel:y("Lightbox"),appElement:"undefined"!==typeof e.window?e.window.document.body:void 0},C),a.a.createElement("div",{className:"ril-outer ril__outer ril__outerAnimating ".concat(this.props.wrapperClassName," ").concat(x?"ril-closing ril__outerClosing":""),style:{transition:"opacity ".concat(r,"ms"),animationDuration:"".concat(r,"ms"),animationDirection:x?"normal":"reverse"},ref:this.outerEl,onWheel:this.handleOuterMousewheel,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,tabIndex:"-1",onKeyDown:this.handleKeyInput,onKeyUp:this.handleKeyInput},a.a.createElement("div",{className:"ril-inner ril__inner",onClick:l?this.closeIfClickInner:void 0},P),f&&a.a.createElement("button",{type:"button",className:"ril-prev-button ril__navButtons ril__navButtonPrev",key:"prev","aria-label":this.props.prevLabel,onClick:this.isAnimating()?void 0:this.requestMovePrev}),m&&a.a.createElement("button",{type:"button",className:"ril-next-button ril__navButtons ril__navButtonNext",key:"next","aria-label":this.props.nextLabel,onClick:this.isAnimating()?void 0:this.requestMoveNext}),a.a.createElement("div",{className:"ril-toolbar ril__toolbar"},a.a.createElement("ul",{className:"ril-toolbar-left ril__toolbarSide ril__toolbarLeftSide"},a.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},a.a.createElement("span",{className:"ril-toolbar__item__child ril__toolbarItemChild"},d))),a.a.createElement("ul",{className:"ril-toolbar-right ril__toolbarSide ril__toolbarRightSide"},g&&g.map(function(e,t){return a.a.createElement("li",{key:"button_".concat(t+1),className:"ril-toolbar__item ril__toolbarItem"},e)}),u&&a.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},a.a.createElement("button",{type:"button",key:"zoom-in","aria-label":this.props.zoomInLabel,className:["ril-zoom-in","ril__toolbarItemChild","ril__builtinButton","ril__zoomInButton"].concat(b(300===_?["ril__builtinButtonDisabled"]:[])).join(" "),ref:this.zoomInBtn,disabled:this.isAnimating()||300===_,onClick:this.isAnimating()||300===_?void 0:this.handleZoomInButtonClick})),u&&a.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},a.a.createElement("button",{type:"button",key:"zoom-out","aria-label":this.props.zoomOutLabel,className:["ril-zoom-out","ril__toolbarItemChild","ril__builtinButton","ril__zoomOutButton"].concat(b(_===S?["ril__builtinButtonDisabled"]:[])).join(" "),ref:this.zoomOutBtn,disabled:this.isAnimating()||_===S,onClick:this.isAnimating()||_===S?void 0:this.handleZoomOutButtonClick})),a.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},a.a.createElement("button",{type:"button",key:"close","aria-label":this.props.closeLabel,className:"ril-close ril-toolbar__item__child ril__toolbarItemChild ril__builtinButton ril__closeButton",onClick:this.isAnimating()?void 0:this.requestClose})))),this.props.imageCaption&&a.a.createElement("div",{onWheel:this.handleCaptionMousewheel,onMouseDown:function(e){return e.stopPropagation()},className:"ril-caption ril__caption",ref:this.caption},a.a.createElement("div",{className:"ril-caption-content ril__captionContent"},this.props.imageCaption))))}}]),n}();_.propTypes={mainSrc:r.a.string.isRequired,prevSrc:r.a.string,nextSrc:r.a.string,mainSrcThumbnail:r.a.string,prevSrcThumbnail:r.a.string,nextSrcThumbnail:r.a.string,onCloseRequest:r.a.func.isRequired,onMovePrevRequest:r.a.func,onMoveNextRequest:r.a.func,onImageLoadError:r.a.func,onImageLoad:r.a.func,onAfterOpen:r.a.func,discourageDownloads:r.a.bool,animationDisabled:r.a.bool,animationOnKeyInput:r.a.bool,animationDuration:r.a.number,keyRepeatLimit:r.a.number,keyRepeatKeyupBonus:r.a.number,imageTitle:r.a.node,imageCaption:r.a.node,imageCrossOrigin:r.a.string,reactModalStyle:r.a.shape({}),imagePadding:r.a.number,wrapperClassName:r.a.string,toolbarButtons:r.a.arrayOf(r.a.node),clickOutsideToClose:r.a.bool,enableZoom:r.a.bool,reactModalProps:r.a.shape({}),nextLabel:r.a.string,prevLabel:r.a.string,zoomInLabel:r.a.string,zoomOutLabel:r.a.string,closeLabel:r.a.string,imageLoadErrorMessage:r.a.node},_.defaultProps={imageTitle:null,imageCaption:null,toolbarButtons:null,reactModalProps:{},animationDisabled:!1,animationDuration:300,animationOnKeyInput:!1,clickOutsideToClose:!0,closeLabel:"Close lightbox",discourageDownloads:!1,enableZoom:!0,imagePadding:10,imageCrossOrigin:null,keyRepeatKeyupBonus:40,keyRepeatLimit:180,mainSrcThumbnail:null,nextLabel:"Next image",nextSrc:null,nextSrcThumbnail:null,onAfterOpen:function(){},onImageLoadError:function(){},onImageLoad:function(){},onMoveNextRequest:function(){},onMovePrevRequest:function(){},prevLabel:"Previous image",prevSrc:null,prevSrcThumbnail:null,reactModalStyle:{},wrapperClassName:"",zoomInLabel:"Zoom in",zoomOutLabel:"Zoom out",imageLoadErrorMessage:"This image failed to load"},t.a=_}).call(t,n(12))},834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(835));t.default=o.default,e.exports=t.default},835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(2),r=m(i),l=m(n(19)),s=m(n(816)),c=m(n(838)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(818)),d=n(810),p=m(d),h=n(84);function m(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",b=void 0!==l.default.createPortal,y=function(){return b?l.default.createPortal:l.default.unstable_renderSubtreeIntoContainer};function w(e){return e()}var S=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=a=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.removePortal=function(){!b&&l.default.unmountComponentAtNode(a.node);var e=w(a.props.parentSelector);e?e.removeChild(a.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},a.portalRef=function(e){a.portal=e},a.renderPortal=function(e){var n=y()(a,r.default.createElement(c.default,o({defaultStyles:t.defaultStyles},e)),a.node);a.portalRef(n)},f(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(b||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:w(e.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var o=this.props,a=o.isOpen,i=o.portalClassName;e.portalClassName!==i&&(this.node.className=i);var r=n.prevParent,l=n.nextParent;l!==r&&(r.removeChild(this.node),l.appendChild(this.node)),(e.isOpen||a)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&b?(!this.node&&b&&(this.node=document.createElement("div")),y()(r.default.createElement(c.default,o({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}();S.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.instanceOf(p.default),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func},S.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},S.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,h.polyfill)(S),t.default=S},836:function(e,t,n){"use strict";var o=n(837);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,r){if(r!==o){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},837:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(2),l=g(r),s=g(n(816)),c=f(n(839)),u=g(n(840)),d=f(n(818)),p=f(n(843)),h=g(n(810)),m=g(n(819));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(844);var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},b=9,y=27,w=0,S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,o=e.ariaHideApp,a=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&p.remove(document.body,i),a&&p.remove(document.getElementsByTagName("html")[0],a),o&&w>0&&0===(w-=1)&&d.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),m.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===b&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===y&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var o="object"===("undefined"===typeof t?"undefined":a(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},i=o.base;return n.state.afterOpen&&(i=i+" "+o.afterOpen),n.state.beforeClose&&(i=i+" "+o.beforeClose),"string"===typeof t&&t?i+" "+t:i},n.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(n,o){return n[e+"-"+o]=t[o],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,o=e.htmlOpenClassName,a=e.bodyOpenClassName;a&&p.add(document.body,a),o&&p.add(document.getElementsByTagName("html")[0],o),n&&(w+=1,d.hide(t)),m.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,a=e.overlayClassName,i=e.defaultStyles,r=n?{}:i.content,s=a?{}:i.overlay;return this.shouldBeClosed()?null:l.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",a),style:o({},s,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},l.default.createElement("div",o({id:t,ref:this.setContentRef,style:o({},r,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}();S.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},S.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.instanceOf(h.default),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,testId:s.default.string},t.default=S,e.exports=t.default},839:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=l,t.handleFocus=s,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==a.length&&(e=a.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){i=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",s,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",s))},t.teardownScopedFocus=function(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",s)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",s))};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(817));var a=[],i=null,r=!1;function l(){r=!0}function s(){if(r){if(r=!1,!i)return;setTimeout(function(){i.contains(document.activeElement)||((0,o.default)(i)[0]||i).focus()},0)}}},840:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var a=void 0,i=t.shiftKey,r=n[0],l=n[n.length-1];if(e===document.activeElement){if(!i)return;a=l}l!==document.activeElement||i||(a=r);r===document.activeElement&&i&&(a=l);if(a)return t.preventDefault(),void a.focus();var s=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==s||"Chrome"==s[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=i?-1:1);if("undefined"===typeof(a=n[c]))return t.preventDefault(),void(a=i?l:r).focus();t.preventDefault(),a.focus()};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(817));e.exports=t.default},841:function(e,t,n){"use strict";var o=function(){};e.exports=o},842:function(e,t,n){var o;!function(){"use strict";var a=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:a,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:a&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen};void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o)}()},843:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){};var o={},a={};t.add=function(e,t){return function(e,t,n){n.forEach(function(n){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(t,n),e.add(n)})}(e.classList,"html"==e.nodeName.toLowerCase()?o:a,t.split(" "))},t.remove=function(e,t){return function(e,t,n){n.forEach(function(n){!function(e,t){e[t]&&(e[t]-=1)}(t,n),0===t[n]&&e.remove(n)})}(e.classList,"html"==e.nodeName.toLowerCase()?o:a,t.split(" "))}},844:function(e,t,n){"use strict";var o=void 0,a=void 0,i=[];function r(){0!==i.length&&i[i.length-1].focusContent()}(function(e){return e&&e.__esModule?e:{default:e}})(n(819)).default.subscribe(function(e,t){o&&a||((o=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),o.style.position="absolute",o.style.opacity="0",o.setAttribute("tabindex","0"),o.addEventListener("focus",r),(a=o.cloneNode()).addEventListener("focus",r)),(i=t).length>0?(document.body.firstChild!==o&&document.body.insertBefore(o,document.body.firstChild),document.body.lastChild!==a&&document.body.appendChild(a)):(o.parentElement&&o.parentElement.removeChild(o),a.parentElement&&a.parentElement.removeChild(a))})},845:function(e,t,n){var o=n(846);"string"===typeof o&&(o=[[e.i,o,""]]);var a={hmr:!1,transform:void 0};n(686)(o,a);o.locals&&(e.exports=o.locals)},846:function(e,t,n){(e.exports=n(685)(!1)).push([e.i,'@-webkit-keyframes closeWindow{0%{opacity:1}to{opacity:0}}@keyframes closeWindow{0%{opacity:1}to{opacity:0}}.ril__outer{background-color:rgba(0,0,0,.85);outline:none;top:0;left:0;right:0;bottom:0;z-index:1000;width:100%;height:100%;-ms-content-zooming:none;-ms-user-select:none;-ms-touch-select:none;-ms-touch-action:none;touch-action:none}.ril__outerClosing{opacity:0}.ril__image,.ril__imageNext,.ril__imagePrev,.ril__inner{position:absolute;top:0;left:0;right:0;bottom:0}.ril__image,.ril__imageNext,.ril__imagePrev{margin:auto;max-width:none;-ms-content-zooming:none;-ms-user-select:none;-ms-touch-select:none;-ms-touch-action:none;touch-action:none}.ril__imageDiscourager{background-repeat:no-repeat;background-position:50%;background-size:contain}.ril__navButtons{border:none;position:absolute;top:0;bottom:0;width:20px;height:34px;padding:40px 30px;margin:auto;cursor:pointer;opacity:.7}.ril__navButtons:hover{opacity:1}.ril__navButtons:active{opacity:.7}.ril__navButtonPrev{left:0;background:rgba(0,0,0,.2) url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjM0Ij48cGF0aCBkPSJtIDE5LDMgLTIsLTIgLTE2LDE2IDE2LDE2IDEsLTEgLTE1LC0xNSAxNSwtMTUgeiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg==") no-repeat 50%}.ril__navButtonNext{right:0;background:rgba(0,0,0,.2) url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjM0Ij48cGF0aCBkPSJtIDEsMyAyLC0yIDE2LDE2IC0xNiwxNiAtMSwtMSAxNSwtMTUgLTE1LC0xNSB6IiBmaWxsPSIjRkZGIi8+PC9zdmc+") no-repeat 50%}.ril__downloadBlocker{position:absolute;top:0;left:0;right:0;bottom:0;background-image:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");background-size:cover}.ril__caption,.ril__toolbar{background-color:rgba(0,0,0,.5);position:absolute;left:0;right:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.ril__caption{bottom:0;max-height:150px;overflow:auto}.ril__captionContent{padding:10px 20px;color:#fff}.ril__toolbar{top:0;height:50px}.ril__toolbarSide{height:50px;margin:0}.ril__toolbarLeftSide{padding-left:20px;padding-right:0;-ms-flex:0 1 auto;flex:0 1 auto;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.ril__toolbarRightSide{padding-left:0;padding-right:20px;-ms-flex:0 0 auto;flex:0 0 auto}.ril__toolbarItem{display:inline-block;line-height:50px;padding:0;color:#fff;font-size:120%;max-width:100%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.ril__toolbarItemChild{vertical-align:middle}.ril__builtinButton{width:40px;height:35px;cursor:pointer;border:none;opacity:.7}.ril__builtinButton:hover{opacity:1}.ril__builtinButton:active{outline:none}.ril__builtinButtonDisabled{cursor:default;opacity:.5}.ril__builtinButtonDisabled:hover{opacity:.5}.ril__closeButton{background:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48cGF0aCBkPSJtIDEsMyAxLjI1LC0xLjI1IDcuNSw3LjUgNy41LC03LjUgMS4yNSwxLjI1IC03LjUsNy41IDcuNSw3LjUgLTEuMjUsMS4yNSAtNy41LC03LjUgLTcuNSw3LjUgLTEuMjUsLTEuMjUgNy41LC03LjUgLTcuNSwtNy41IHoiIGZpbGw9IiNGRkYiLz48L3N2Zz4=") no-repeat 50%}.ril__zoomInButton{background:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PGcgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTEgMTlsNi02Ii8+PHBhdGggZD0iTTkgOGg2Ii8+PHBhdGggZD0iTTEyIDV2NiIvPjwvZz48Y2lyY2xlIGN4PSIxMiIgY3k9IjgiIHI9IjciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+") no-repeat 50%}.ril__zoomOutButton{background:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PGcgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTEgMTlsNi02Ii8+PHBhdGggZD0iTTkgOGg2Ii8+PC9nPjxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4=") no-repeat 50%}.ril__outerAnimating{-webkit-animation-name:closeWindow;animation-name:closeWindow}@-webkit-keyframes pointFade{0%,19.999%,to{opacity:0}20%{opacity:1}}@keyframes pointFade{0%,19.999%,to{opacity:0}20%{opacity:1}}.ril__loadingCircle{width:60px;height:60px;position:relative}.ril__loadingCirclePoint{width:100%;height:100%;position:absolute;left:0;top:0}.ril__loadingCirclePoint:before{content:"";display:block;margin:0 auto;width:11%;height:30%;background-color:#fff;border-radius:30%;-webkit-animation:pointFade .8s infinite ease-in-out both;animation:pointFade .8s infinite ease-in-out both}.ril__loadingCirclePoint:first-of-type{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}.ril__loadingCirclePoint:first-of-type::before,.ril__loadingCirclePoint:nth-of-type(7):before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.ril__loadingCirclePoint:nth-of-type(2){-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.ril__loadingCirclePoint:nth-of-type(8){-webkit-transform:rotate(210deg);-ms-transform:rotate(210deg);transform:rotate(210deg)}.ril__loadingCirclePoint:nth-of-type(2):before,.ril__loadingCirclePoint:nth-of-type(8):before{-webkit-animation-delay:-666ms;animation-delay:-666ms}.ril__loadingCirclePoint:nth-of-type(3){-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.ril__loadingCirclePoint:nth-of-type(9){-webkit-transform:rotate(240deg);-ms-transform:rotate(240deg);transform:rotate(240deg)}.ril__loadingCirclePoint:nth-of-type(3):before,.ril__loadingCirclePoint:nth-of-type(9):before{-webkit-animation-delay:-533ms;animation-delay:-533ms}.ril__loadingCirclePoint:nth-of-type(4){-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.ril__loadingCirclePoint:nth-of-type(10){-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.ril__loadingCirclePoint:nth-of-type(4):before,.ril__loadingCirclePoint:nth-of-type(10):before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.ril__loadingCirclePoint:nth-of-type(5){-webkit-transform:rotate(120deg);-ms-transform:rotate(120deg);transform:rotate(120deg)}.ril__loadingCirclePoint:nth-of-type(11){-webkit-transform:rotate(300deg);-ms-transform:rotate(300deg);transform:rotate(300deg)}.ril__loadingCirclePoint:nth-of-type(5):before,.ril__loadingCirclePoint:nth-of-type(11):before{-webkit-animation-delay:-266ms;animation-delay:-266ms}.ril__loadingCirclePoint:nth-of-type(6){-webkit-transform:rotate(150deg);-ms-transform:rotate(150deg);transform:rotate(150deg)}.ril__loadingCirclePoint:nth-of-type(12){-webkit-transform:rotate(330deg);-ms-transform:rotate(330deg);transform:rotate(330deg)}.ril__loadingCirclePoint:nth-of-type(6):before,.ril__loadingCirclePoint:nth-of-type(12):before{-webkit-animation-delay:-133ms;animation-delay:-133ms}.ril__loadingCirclePoint:nth-of-type(7){-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.ril__loadingCirclePoint:nth-of-type(13){-webkit-transform:rotate(1turn);-ms-transform:rotate(1turn);transform:rotate(1turn)}.ril__loadingCirclePoint:nth-of-type(7):before,.ril__loadingCirclePoint:nth-of-type(13):before{-webkit-animation-delay:0ms;animation-delay:0ms}.ril__loadingContainer{position:absolute;top:0;right:0;bottom:0;left:0}.ril__imageNext .ril__loadingContainer,.ril__imagePrev .ril__loadingContainer{display:none}.ril__errorContainer{position:absolute;top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#fff}.ril__imageNext .ril__errorContainer,.ril__imagePrev .ril__errorContainer{display:none}.ril__loadingContainer__icon{color:#fff;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}',""])},866:function(e,t,n){"use strict";var o=n(2),a=(n.n(o),n(10)),i=n(156),r=n(3),l=n(7),s=n(826),c=n(56),u=n(9),d=n(882),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,l)}s((o=o.apply(e,t||[])).next())})},m=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},f=function(e){function t(t){var n=e.call(this,t)||this,o=JSON.parse(u.a.getItem("user"));return n.state={documentList:[],files:[],isOpen:!1,photoIndex:0,documentObj:{docOntology:"",entityOntology:n.props.assetOntology?[{label:n.props.assetOntology,value:n.props.assetOntology}]:[],entityType:n.props.entityType,documentType:n.props.documentType?n.props.documentType:"Media",documentSubtype:"",rdfsLabel:"",s3FileName:"",entryTimeStamp:"",enteredBy:o.contact,enteredByName:"",linkToDocument:"",building:n.props.buildingName,buildingName:""}},n.handleTitleChange=n.handleTitleChange.bind(n),n.saveImage=n.saveImage.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n._fetchDocs=n._fetchDocs.bind(n),n.saveDoc=n.saveDoc.bind(n),n}return p(t,e),t.prototype.componentDidMount=function(){this._fetchDocs()},t.prototype._fetchDocs=function(){var e=this,t=this.props,n=t.buildingName,o=t.assetOntology,a=t.entityType;Object(s.d)(n,[a],[o]).then(function(t){e.setState({documentList:t})})},t.prototype.saveDoc=function(){return h(this,void 0,void 0,function(){return m(this,function(e){switch(e.label){case 0:return[4,Object(s.f)(this.state.documentObj).then(function(){})];case 1:return e.sent(),[2]}})})},t.prototype.componentWillReceiveProps=function(e){},t.prototype.handleTitleChange=function(e){var t=this.state.documentObj;t.rdfsLabel=e,this.setState({documentObj:t},function(){t.rdfsLabel?document.getElementById("fileTitle").style.boxShadow="0px 0px 15px gainsboro":document.getElementById("fileTitle").style.boxShadow="0px 0px 15px red"})},t.prototype.saveImage=function(){return h(this,void 0,void 0,function(){var e,t,n,o,a,i=this;return m(this,function(s){switch(s.label){case 0:return(e=this.state.documentObj).entityOntology&&e.entityOntology.length?(t=new c.b,(n=Object(l.d)())&&n.length?(o=n[0],a=o,[4,t.UploadFile(c.a.DOCUMENT,e.s3FileName,a,function(e){i.saveDoc().then(function(){i._fetchDocs(),i.setState({files:[],documentObj:Object()},function(){return h(i,void 0,void 0,function(){return m(this,function(e){return[2]})})})}),Object(r.b)("Attachment Uploaded Successfully")})]):[3,2]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,4];case 3:Object(r.a)("To Upload Attachments, You need to save Form first "),s.label=4;case 4:return[2]}})})},t.prototype.handlefileAttached=function(e){var t=this,n=this.state.documentObj;if(e.length>0){var o=this.state.files,a=JSON.parse(u.a.getItem("user"));o||(o=[]);var i=e[0].name.split(".").pop(),r=(new Date).YYMMDDHHMMSS2()+"-"+n.rdfsLabel+"."+i.toLowerCase();r=r.replace(new RegExp(" ","g"),"-"),n.s3FileName=r,n.enteredBy=a.contact,Object(l.g)(e),this.setState({files:e,documentObj:n},function(){return h(t,void 0,void 0,function(){return m(this,function(e){return[2]})})})}},t.prototype.render=function(){var e=this,t=this.props,n=t.showGrid,r=void 0===n||n,l=t.showUploader,s=void 0===l||l,c=this.state,u=c.files,p=c.documentObj;return o.createElement(o.Fragment,null,o.createElement("br",null),o.createElement("div",{className:"card"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"content"},s&&o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-2"},o.createElement("h5",{className:""},o.createElement("strong",null,"Upload Files:"))),o.createElement("div",{className:"col-md-10"},o.createElement("button",{className:"margin-5 btn btn-primary btn-fill",onClick:function(){var t={docOntology:"",entityOntology:e.props.assetOntology?[{label:e.props.assetOntology,value:e.props.assetOntology}]:[],entityType:e.props.entityType,documentType:e.props.documentType?e.props.documentType:"Media",documentSubtype:"",rdfsLabel:"",s3FileName:"",entryTimeStamp:"",enteredBy:"",enteredByName:"",linkToDocument:"",building:e.props.buildingName,buildingName:""};e.setState({documentObj:t,files:[]})},title:"Upload File","data-toggle":"modal","data-target":"#filesUploadDailogeBox"},o.createElement("i",{className:"fa fa-plus"})))),r&&o.createElement("div",{className:"row padding-10",style:{}},o.createElement(d.a,{isView:this.props.showUploader,documentList:this.state.documentList,refreshDocs:this._fetchDocs}))))),s&&o.createElement("div",{className:""},o.createElement(a.a,{id:"filesUploadDailogeBox",heading:"File Upload",saveButtonText:"Upload",isEditForm:!1,cancelButtonId:"closeAttachmentDialogue",onSaveButtonClick:function(){e.saveImage()},disableSaveButton:!p.rdfsLabel||0==u.length},o.createElement("div",{className:"card no-margin"},o.createElement("div",{className:"container-fluid dataCard"},o.createElement("div",{className:"content"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 headingText padding-10"},"Title:"),o.createElement("div",{className:"col-md-9"},o.createElement("input",{id:"fileTitle",onChange:function(t){e.handleTitleChange(t.target.value)},type:"text",name:"fileTitle",value:p.rdfsLabel,className:"form-control"})))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 headingText padding-10 center"},"File Upload:"),o.createElement("div",{className:"col-md-9",onClick:function(){p.rdfsLabel?document.getElementById("fileTitle").style.boxShadow="0px 0px 15px gainsboro":document.getElementById("fileTitle").style.boxShadow="0px 0px 15px red"}},o.createElement(i.a,{disable:!p.rdfsLabel,single:!0,handleAttachedFile:this.handlefileAttached,files:u}))))))))))},t}(o.Component);t.a=f},882:function(e,t,n){"use strict";var o=n(2),a=n.n(o),i=n(833),r=n(845),l=(n.n(r),n(10)),s=n(3),c=n(30),u=n(5),d=n(826),p=n(56),h=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,l)}s((o=o.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isOpen:!1,photoIndex:0,documentList:n.props.documentList,deleteImage:Object()},n.onUpdate=n.onUpdate.bind(n),n}return h(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({documentList:e.documentList})},t.prototype.deleteFile=function(e){return m(this,void 0,void 0,function(){var t=this;return f(this,function(n){return Object(c.a)(!0),Object(d.a)(Object(u.g)(e.docOntology)).then(function(){(new p.b).DeleteFile(p.a.DOCUMENT,Object(u.g)(e.s3FileName)),t.props.refreshDocs(),Object(c.a)(!1),Object(s.b)("Attachment Delete Sucessfully")}),[2]})})},t.prototype.onUpdate=function(){window.scrollTo(0,0)},t.prototype.render=function(){var e=this,t=this.props.isView,n=this.state,o=n.documentList,r=n.isOpen,s=n.photoIndex,c=n.deleteImage,d=p.c+"/"+p.a.DOCUMENT+"/";return a.a.createElement(a.a.Fragment,null,o&&o.length>0&&a.a.createElement("div",{className:"col-md-12 no-padding"},a.a.createElement("div",{className:""},a.a.createElement("div",{className:"row col-md-12 hidden-xs hidden-sm"},a.a.createElement("div",{className:"col-md-1 small grid-header-left"},"Image "),a.a.createElement("div",{className:"col-md-2 small grid-header"},"Label "),a.a.createElement("div",{className:"col-md-3 small grid-header"},"File Name "),a.a.createElement("div",{className:"col-md-1 small grid-header"},"Extension "),a.a.createElement("div",{className:"col-md-2 small grid-header"},"Date "),a.a.createElement("div",{className:"col-md-2 small grid-header"},"Entered By "),a.a.createElement("div",{className:"col-md-1 small grid-header"},"Action")),o&&o.map(function(n,o){var i=Object(u.g)(n.s3FileName).split(".").pop(),r=Object(u.g)(n.s3FileName),l="";return r?(r.toLowerCase().indexOf(".mp4")>0&&(l="assets/img/video-file-icon.png"),r.toLowerCase().indexOf(".pdf")>0&&(l="assets/img/pdf-file-icon.png"),(r.toLowerCase().indexOf(".xls")>0||r.toLowerCase().indexOf(".csv")>0)&&(l="assets/img/excel-file-icon.png"),(r.toLowerCase().indexOf(".docx")>0||r.toLowerCase().indexOf(".txt")>0)&&(l="assets/img/doc-file-icon.png"),(r.toLowerCase().indexOf(".png")>0||r.toLowerCase().indexOf(".jpeg")>0||r.toLowerCase().indexOf(".jpg")>0||r.toLowerCase().indexOf(".tiff")>0)&&(l=p.c+"/"+p.a.DOCUMENT+"/"+r)):l=p.c+"/"+p.a.DOCUMENT+"/"+r,a.a.createElement("div",{className:"row col-md-12 padding-10"},a.a.createElement("div",{className:"col-sm-1 small trim-data",title:Object(u.g)(n.rdfsLabel)},a.a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Image"),a.a.createElement("img",{src:l,style:{height:40,cursor:"pointer"},onClick:function(){e.setState({isOpen:!0,photoIndex:o})}})),a.a.createElement("div",{className:"col-sm-2 small trim-data",title:Object(u.g)(n.rdfsLabel)},a.a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"Label"),Object(u.g)(n.rdfsLabel)),a.a.createElement("div",{className:"col-sm-3 small trim-data",title:Object(u.g)(n.s3FileName)},a.a.createElement("span",{className:"hidden visible-xs-inline visible-sm-inline headingText"},"File Name"),Object(u.g)(n.s3FileName)),a.a.createElement("div",{className:"col-sm-1 trim-data",title:i.toLowerCase()},a.a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Extension"),i.toLowerCase()),a.a.createElement("div",{className:"col-sm-2 trim-data",title:Object(u.g)(n.entryTimeStamp)?new Date(Object(u.g)(n.entryTimeStamp)).toLocaleString():""},a.a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Date"),""!=Object(u.g)(n.entryTimeStamp)?new Date(Object(u.g)(n.entryTimeStamp)).toLocaleString():""),a.a.createElement("div",{className:"col-sm-2 trim-data",title:Object(u.g)(n.enteredByName)},a.a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Entered By"),""!=Object(u.g)(n.enteredByName)?Object(u.g)(n.enteredByName):Object(u.g)(n.enteredBy)),a.a.createElement("div",{className:"col-sm-1 small trim-data",title:"Action"},a.a.createElement("a",{className:"no-text-decor",href:""+d+Object(u.g)(n.s3FileName)}," ",a.a.createElement("i",{className:"fa fa-download icn-download"})),a.a.createElement("a",{className:"no-text-decor",href:""+d+Object(u.g)(n.s3FileName)}),t&&a.a.createElement("span",{onClick:function(){var t=e.state.deleteImage;t=n,e.setState({deleteImage:t},function(){}),document.getElementById("deleteImageDialogueConfirm").click()},style:{cursor:"pointer"}},a.a.createElement("i",{className:"fa fa-trash icn-delete"}))))}))),a.a.createElement("button",{id:"deleteImageDialogueConfirm",style:{display:"none"},"data-toggle":"modal","data-target":"#deleteImageDialogue"},"."),a.a.createElement(l.a,{id:"deleteImageDialogue",showCancelButton:!0,showSaveButton:!0,heading:"Delete Image",onSaveButtonClick:function(){e.deleteFile(c)},saveButtonText:"Ok",onCancelButtonClick:function(){e.onUpdate()}},a.a.createElement("h5",null,"Are you sure want to delete? ")),r&&o.length&&a.a.createElement("div",null,a.a.createElement(i.a,{mainSrc:p.c+"/"+p.a.DOCUMENT+"/"+(o&&Object(u.g)(o[s].s3FileName)),onCloseRequest:function(){e.setState({isOpen:!1,photoIndex:0})},onMovePrevRequest:function(){},onMoveNextRequest:function(){}})))},t}(a.a.Component);t.a=g}});