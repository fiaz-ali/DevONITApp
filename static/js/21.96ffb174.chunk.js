webpackJsonp([21],{1153:function(e,t,n){"use strict";var a,s,o,i,l;n.d(t,"c",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return m}),function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON"}(a||(a={})),function(e){e[e.INACTIVE=0]="INACTIVE",e[e.ACTIVE=1]="ACTIVE"}(s||(s={})),function(e){e[e.NOTALARMING=0]="NOTALARMING",e[e.ALARMING=1]="ALARMING"}(o||(o={})),function(e){e[e.ENABLED=0]="ENABLED",e[e.DISABLED=1]="DISABLED"}(i||(i={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.OPEN=1]="OPEN"}(l||(l={}));var c,r={AUTO:"auto",HEAT:"heat",DRY:"dry",FAN:"fan",COOL:"cool"};!function(e){e[e.AUTO=0]="AUTO",e[e.LOW=1]="LOW",e[e.MID=2]="MID",e[e.HIGH=3]="HIGH",e[e.POWERFUL=4]="POWERFUL"}(c||(c={}));var m={AUTO:"auto",LOW:"position-one",MID:"position-two",HIGH:"position-three",POWERFUL:"position-four"}},3192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s,o=n(2),i=(n.n(o),n(678)),l=n(656),c=n(10),r=n(23),m=n(655),u=n(32),d=n(727),p=n(1153),h=n(116),b=n(768),v=n(665),f=n(666),g=n(11),E=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),y=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(s,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function l(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){e.done?s(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,l)}c((a=a.apply(e,t||[])).next())})},N=this&&this.__generator||function(e,t){var n,a,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(s=2&o[0]?a.return:o[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,o[1])).done)return s;switch(a=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},C=function(e){function t(t){var n=e.call(this,t)||this;return n.state={IntesisChanged:!1,Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},isSchedule:!1,deviceNumber:"",enclosure:""},EquipmentList:[],currentChange:"",detailsExpanded:!1,localBTNState:!1,intesisHome_Device:Object(),serviceName:"",serviceValue:void 0,scheduleSelected:!1,showLogs:!1},s=s,a=a=n,n.changeService=n.changeService.bind(n),n._fetchData=n._fetchData.bind(n),n._fetchIntesisInfo=n._fetchIntesisInfo.bind(n),n._getIntesisData=n._getIntesisData.bind(n),n.changeStateLocal=n.changeStateLocal.bind(n),n.cancelSend=n.cancelSend.bind(n),n.resetChanges=n.resetChanges.bind(n),n.applyChanges=n.applyChanges.bind(n),n.handleScheduleSelection=n.handleScheduleSelection.bind(n),n.getRelatedEquipmentLabel=n.getRelatedEquipmentLabel.bind(n),n}return E(t,e),t.prototype.componentDidMount=function(){return y(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchData()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.componentWillUnmount=function(){return y(this,void 0,void 0,function(){return N(this,function(e){return[2]})})},t.prototype.handleScheduleSelection=function(e){return y(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,Object(i.X)(this.props.IntesisName,e)];case 1:return t.sent(),e?Object(u.b)("Successfully Selected Schedule. "):Object(u.b)("Successfully unSelected Schedule. "),this.setState({scheduleSelected:e}),this._fetchData(),[2]}})})},t.prototype._getIntesisData=function(){return y(this,void 0,void 0,function(){var e,t,n,a,s,o,l,c;return N(this,function(r){switch(r.label){case 0:return Object(h.a)(!0),e=this.state,t=e.Moncon,n=e.intesisHome_Device,a=this.props.buildingName,t.deviceID&&t.deviceID.length>15?(s=["com.intesishome.power","com.intesishome.wifi-signal","com.intesishome.unit-error","com.intesishome.user-mode","com.intesishome.fan-speed","com.intesishome.ac-fan-speed","com.intesishome.setpoint-temp","com.intesishome.current-temp","com.intesishome.vertical-vanes","com.intesishome.horizontal-vanes","com.intesishome.economy-mode","com.intesishome.window-contact"],[4,Object(i.E)(a,t.deviceID,s)]):[3,2];case 1:if((o=r.sent())&&!o.errors){for(n.device_id=t.deviceID,l=0;l<o.length;l++)c=o[l],n.services||(n.services=Object()),n.services[c.service_id]=c;localStorage.setItem(t.deviceID,JSON.stringify(n)),this.setState({intesisHome_Device:n}),Object(h.a)(!1)}else Object(u.a)("Service not responding. "),Object(h.a)(!1);console.log(o),r.label=2;case 2:return[2]}})})},t.prototype._fetchData=function(){return y(this,void 0,void 0,function(){var e,t,n,a,s,o,i,r,u=this;return N(this,function(d){switch(d.label){case 0:return e=this.props,t=e.IntesisName,n=e.buildingName,a=this.state.scheduleSelected,t&&n?(Object(h.a)(!0),[4,Object(m.i)(this.props.buildingName)]):[3,3];case 1:return s=d.sent(),o=s&&s.length>0&&s.map(function(e){return{value:Object(c.g)(e.ontology),label:Object(c.g)(e.rdfsLabel)}}),[4,Object(l.t)(t,n)];case 2:i=d.sent(),a=i.isSchedule,localStorage.getItem(i.deviceID)&&localStorage.getItem(i.deviceID).length>0&&(r=JSON.parse(localStorage.getItem(i.deviceID)),this.setState({intesisHome_Device:r})),this.setState({Moncon:i,EquipmentList:o,scheduleSelected:a},function(){return y(u,void 0,void 0,function(){return N(this,function(e){return this._getIntesisData(),[2]})})}),Object(h.a)(!1),d.label=3;case 3:return[2]}})})},t.prototype._fetchIntesisInfo=function(){return y(this,void 0,void 0,function(){var e,t,n;return N(this,function(a){switch(a.label){case 0:return Object(h.a)(!0),e=this.state.Moncon,[4,Object(i.v)(this.props.buildingName)];case 1:return(t=a.sent())&&t.devices&&(n=t.devices.find(function(t){return t.device_id==e.deviceID}))&&this.setState({intesisHome_Device:n,IntesisChanged:!1}),Object(h.a)(!1),[2]}})})},t.prototype.changeService=function(e,t,n){var a=this.state.intesisHome_Device;a.services[e].value=t,this.setState({intesisHome_Device:a,serviceName:e,serviceValue:t,IntesisChanged:!0,currentChange:n})},t.prototype.cancelSend=function(){this.setState({IntesisChanged:!1,currentChange:""})},t.prototype.resetChanges=function(){return y(this,void 0,void 0,function(){var e=this;return N(this,function(t){return this.setState({IntesisChanged:!1,currentChange:""},function(){return y(e,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this._getIntesisData()];case 1:return e.sent(),[2]}})})}),[2]})})},t.prototype.applyChanges=function(){return y(this,void 0,void 0,function(){var e,t,n,s,o=this;return N(this,function(l){return Object(h.a)(!0),e=this.state,t=e.intesisHome_Device,n=e.serviceName,s=e.serviceValue,this.setState({IntesisChanged:!1,currentChange:""},function(){return y(o,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,Object(i.K)(t.device_id,n,s,this.props.buildingName).then(function(e){e&&e[0]&&e[0][0]==t.device_id?Object(u.b)("Changes applied successfully. "):e.errors&&Object(u.a)("Service not responding while applying changes. ")}).catch(function(e){Object(u.a)("Some error orccured. ")})];case 1:return e.sent(),setTimeout(function(){a._getIntesisData()},5e3),Object(h.a)(!1),[2]}})})}),[2]})})},t.prototype.changeStateLocal=function(e){this.setState({localBTNState:e}),this.state.scheduleSelected&&this.handleScheduleSelection(!1)},t.prototype.getRelatedEquipmentLabel=function(e){var t=this.state.EquipmentList,n=Object();return(n=t&&t.find(function(t){return t.value==e}))&&n.label},t.prototype.render=function(){var e=this,t=this.state,n=t.Moncon,a=t.intesisHome_Device,s=t.IntesisChanged,i=t.currentChange,l=t.detailsExpanded,c=t.localBTNState,m=t.scheduleSelected,u=t.showLogs,h=this.props,E=h.instance,y=h.buildingName,N=h.IntesisName,C=h.type,w=a&&a.services&&a.services["com.intesishome.user-mode"]&&a.services&&a.services["com.intesishome.user-mode"].value,_=a&&a.services&&a.services["com.intesishome.power"]&&a.services["com.intesishome.power"].value,S=a&&a.services&&a.services["com.intesishome.fan-speed"]&&a.services["com.intesishome.fan-speed"].value,L=a&&a.services&&a.services["com.intesishome.ac-fan-speed"]&&a.services["com.intesishome.ac-fan-speed"].value,k=a&&a.services&&a.services["com.intesishome.horizontal-vanes"]&&a.services["com.intesishome.horizontal-vanes"].value,O=a&&a.services&&a.services["com.intesishome.vertical-vanes"]&&a.services["com.intesishome.vertical-vanes"].value,x=a&&a.services&&a.services["com.intesishome.setpoint-temp"]?a.services["com.intesishome.setpoint-temp"].value:0,A=a&&a.services&&a.services["com.intesishome.wifi-signal"]&&a.services["com.intesishome.wifi-signal"].value?a.services["com.intesishome.wifi-signal"].value:"",I=a&&a.services&&a.services["com.intesishome.economy-mode"]&&a.services["com.intesishome.economy-mode"].value,D=a&&a.services&&a.services["com.intesishome.window-contact"]&&a.services["com.intesishome.window-contact"].value;if(u)return o.createElement(v.a,{instance:E,buildingName:y,fromEntityList:!0,module:f.a.Assets,ontology:n.monitoringControl,entityName:"Device",onLogClose:function(){return e.setState({showLogs:!1})}});var F=JSON.parse(g.a.getItem("user"));return o.createElement("div",{className:"content"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},F&&"1"==F.role&&o.createElement("button",{className:"btn btn-md btn-primary btn-fill pull-right",style:{margin:10},title:"Logs",onClick:function(){e.setState({showLogs:!0})}}," ",o.createElement("img",{src:"assets/img/Logs.png",style:{width:25,height:18}})),o.createElement(d.a,{InsightName:N,ControlName:"IntesisControl",buildingName:y,instance:E,type:C}),o.createElement("div",{className:"card",id:"IntesisList"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"header"},o.createElement("h3",{className:"title"},o.createElement("strong",null,n.rdfsLabel)," "),o.createElement("button",{type:"button",className:"btn btn-fill btn-secondary pull-right",onClick:function(){return e.resetChanges()}},o.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"}),"Refresh"),"\xa0",o.createElement("h4",{className:"title inline-flex"},o.createElement("strong",{className:"padding-10"},this.props.type.toUpperCase(),":",n&&n.relatedEquipment&&n.relatedEquipment.map(function(t,a){return o.createElement("span",{key:a},e.getRelatedEquipmentLabel(t.value),a+1==n.relatedEquipment.length?"":",")}),"STATUS:"),void 0!=_&&o.createElement(o.Fragment,null,o.createElement("span",{className:"padding-10 "+(_?"text-primary":"text-danger")},"(",p.c[_?1:0],")"),o.createElement("button",{className:"btn btn-sm btn-round "+(_?"btn-primary":"btn-danger")+" btn-fill",disabled:""!=i&&"onoff"!=i,onClick:function(){return e.changeService("com.intesishome.power",!_,"onoff")}},o.createElement("i",{className:"fa fa-power-off"})))))),o.createElement("div",{className:"content"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-6 col-xs-12 tempCounter roomTemp pull-right"},o.createElement("div",null,"Room Temp"),o.createElement("div",{className:"counter"},Object(r.a)(a&&a.services?a.services["com.intesishome.current-temp"].value:0).toFixed(2),"\xb0F")),o.createElement("div",{className:"col-md-3 col-xs-6 tempCounter"},o.createElement("div",{className:"counter"},Object(r.a)(x).toFixed(2),"\xb0F")),o.createElement("div",{className:"col-md-3 col-xs-6 IntesisControls"},o.createElement("div",{className:"btn-group-vertical"},o.createElement("button",{type:"button",className:"btn tempButton heatTo",disabled:""!=i&&"temp"!=i,onClick:function(){e.changeService("com.intesishome.setpoint-temp",x+1,"temp")}},o.createElement("div",null,o.createElement("i",{className:"fa fa-angle-up"})),o.createElement("div",null,"Warmer")),o.createElement("button",{type:"button",className:"btn tempButton coolTo",disabled:""!=i&&"temp"!=i,onClick:function(){e.changeService("com.intesishome.setpoint-temp",x-1,"temp")}},o.createElement("div",null,"Cooler"),o.createElement("div",null,o.createElement("i",{className:"fa fa-angle-down"})))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-6 col-xs-12 InsightRow pull-right"},o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",className:"btn btn-success",disabled:""!=i&&"state"!=i,onClick:function(){e.changeStateLocal(!0)}},"Local")," \xa0",o.createElement("button",{type:"button",className:"btn btn-defualt",disabled:""!=i&&"state"!=i,onClick:function(){m&&e.handleScheduleSelection(!1)}},"Remote")," \xa0",o.createElement("button",{type:"button",className:"btn btn-defualt",disabled:""!=i&&"state"!=i||c,onClick:function(){m&&e.handleScheduleSelection(!1)}},"Manual")," \xa0",!m&&o.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){e.handleScheduleSelection(!0)},disabled:""!=i&&"state"!=i||c},"Schedule"),m&&o.createElement("button",{type:"button",className:"btn btn-fill btn-success",onClick:function(){e.handleScheduleSelection(!1)},disabled:""!=i&&"state"!=i||c},"Schedule")," \xa0",o.createElement("button",{type:"button",className:"btn btn-success",disabled:""!=i&&"state"!=i||c},"Optimize"))),w&&o.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",className:w==p.b.AUTO?"btn btn-fill":"btn",disabled:""!=i&&"mode"!=i,onClick:function(){return e.changeService("com.intesishome.user-mode",p.b.AUTO,"mode")}},"Auto"),o.createElement("button",{type:"button",className:w==p.b.HEAT?"btn btn-fill":"btn",disabled:""!=i&&"mode"!=i,onClick:function(){return e.changeService("com.intesishome.user-mode",p.b.HEAT,"mode")}},"Heat"),o.createElement("button",{type:"button",className:w==p.b.DRY?"btn btn-fill":"btn",disabled:""!=i&&"mode"!=i,onClick:function(){return e.changeService("com.intesishome.user-mode",p.b.DRY,"mode")}},"Dry"),o.createElement("button",{type:"button",className:w==p.b.FAN?"btn btn-fill":"btn",disabled:""!=i&&"mode"!=i,onClick:function(){return e.changeService("com.intesishome.user-mode",p.b.FAN,"mode")}},"Fan"),o.createElement("button",{type:"button",className:w==p.b.COOL?"btn btn-fill":"btn",disabled:""!=i&&"mode"!=i,onClick:function(){return e.changeService("com.intesishome.user-mode",p.b.COOL,"mode")}},"Cool")))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},L&&o.createElement("div",{className:"col-md-offset-1 col-md-3 col-xs-12 InsightRow"},o.createElement("div",{className:"IntesisHeading"},o.createElement("i",{className:"fa fa-first-order"})," Max Fan Speed"),o.createElement("select",{className:"form-control",id:"maxFanspeed",disabled:""!=i&&"maxFanSpeed"!=i&&"acFanSpeed"!=i,value:0,onChange:function(e){}},o.createElement("option",{value:"0"},"AUTO"),o.createElement("option",{value:"1"},"1 "),o.createElement("option",{value:"2"},"2 "),o.createElement("option",{value:"3"},"3 "),o.createElement("option",{value:"4"},"4 "))),S&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-3 col-xs-12 InsightRow"},o.createElement("div",{className:"IntesisHeading"},o.createElement("i",{className:"fa fa-first-order"})," AC Fan Speed"),o.createElement("select",{className:"form-control",id:"ACFanSpeed",disabled:""!=i&&"maxFanSpeed"!=i&&"acFanSpeed"!=i,value:S,onChange:function(t){return e.changeService("com.intesishome.fan-speed",t.target.value,"maxFanSpeed")}},o.createElement("option",{value:"auto"},"AUTO"),o.createElement("option",{value:"position-one"},"LOW "),o.createElement("option",{value:"position-two"},"MED "),o.createElement("option",{value:"position-three"},"HIGH "),o.createElement("option",{value:"position-four"},"POWERFUL "))),o.createElement("div",{className:"col-md-5 col-xs-12 InsightRow",style:{paddingTop:"40px"}},o.createElement("span",{className:"vanpos"},"Fan Speed:"),o.createElement("span",{className:"vanpos "+(S==p.a.LOW?"text-danger":"")},"(low)"),o.createElement("span",{className:"vanpos "+(S==p.a.MID?"text-danger":"")},"(med)"),o.createElement("span",{className:"vanpos "+(S==p.a.HIGH?"text-danger":"")},"(high)"),o.createElement("span",{className:"vanpos "+(S==p.a.POWERFUL?"text-danger":"")},"(powerful)")))),o.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},I&&o.createElement(o.Fragment,null,o.createElement("br",null),o.createElement("br",null),o.createElement("div",{className:"col-md-12 padding-5",style:{position:"absolute"}},o.createElement("div",{className:"col-md-3 col-md-offset-3 vanpos padding-10",style:{textAlign:"right"}},"Economy Mode:"),o.createElement("div",{className:"col-md-1 padding-5"},o.createElement("label",null,o.createElement("input",{name:"Economy",className:"switch",disabled:""!=i&&"economymode"!=i,onChange:function(e){},checked:!1,type:"checkbox"}),o.createElement("div",null,o.createElement("div",null)))))),o.createElement("br",null),o.createElement("br",null),o.createElement("div",{className:"col-md-12 padding-5",style:{position:"absolute"}},o.createElement("div",{className:"col-md-3 col-md-offset-3 vanpos padding-10",style:{textAlign:"right"}},"Feedback Status:"),o.createElement("div",{className:"col-md-1 vanpos"},o.createElement("div",{className:"excellent"==A||"good"==A?"feedback-status-ok":"feedback-status-alerting"}))),D&&o.createElement(o.Fragment,null,o.createElement("br",null),o.createElement("br",null),o.createElement("div",{className:"col-md-12 padding-5",style:{position:"absolute"}},o.createElement("div",{className:"col-md-3 col-md-offset-3 vanpos padding-10",style:{textAlign:"right"}},"Window Contact:"),o.createElement("div",{className:"col-md-1 vanpos padding-10 padding-left-right-5"},"(","Closed",")"))),o.createElement("br",null),o.createElement("br",null))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-8 col-xs-12 InsightRow"},k&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-4 col-xs-12 InsightRow"},o.createElement("div",{className:"col-md-12 padding-5",style:{position:"absolute"}},o.createElement("span",{className:"vanpos"},"Horizontal Van Position:"),o.createElement("span",{className:"vanpos "+("auto"==k?"text-danger":"")},"(auto)"),o.createElement("span",{className:"vanpos "+("swing"==k?"text-danger":"")},"(swing)"))),o.createElement("div",{className:"col-md-1 col-xs-12"},o.createElement("div",{className:"btn-group-vertical"},o.createElement("button",{type:"button",className:"btn vanposButton heatTo",disabled:""!=i&&"horzvanepos"!=i,onClick:function(){e.changeService("com.intesishome.horizontal-vanes","auto"==k?"swing":"auto","horzvanepos")}},o.createElement("div",null,o.createElement("i",{className:"fa fa-arrow-up"}))),o.createElement("button",{type:"button",className:"btn vanposButton coolTo",disabled:""!=i&&"horzvanepos"!=i,onClick:function(){e.changeService("com.intesishome.horizontal-vanes","auto"==k?"swing":"auto","horzvanepos")}},o.createElement("div",null,o.createElement("i",{className:"fa fa-arrow-down"})))))),O&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-4 col-xs-12 InsightRow"},o.createElement("div",{className:"col-md-12 padding-5",style:{position:"absolute"}},o.createElement("span",{className:"vanpos"},"Vertical Van Position:"),o.createElement("span",{className:"vanpos "+("auto"==O?"text-danger":"")},"(auto)"),o.createElement("span",{className:"vanpos "+("swing"==O?"text-danger":"")},"(swing)"))),o.createElement("div",{className:"col-md-1 col-xs-12"},o.createElement("div",{className:"btn-group-vertical"},o.createElement("button",{type:"button",className:"btn vanposButton heatTo",disabled:""!=i&&"vertvanepos"!=i,onClick:function(){e.changeService("com.intesishome.vertical-vanes","auto"==O?"swing":"auto","vertvanepos")}},o.createElement("div",null,o.createElement("i",{className:"fa fa-arrow-up"}))),o.createElement("button",{type:"button",className:"btn vanposButton coolTo",disabled:""!=i&&"vertvanepos"!=i,onClick:function(){e.changeService("com.intesishome.vertical-vanes","auto"==O?"swing":"auto","vertvanepos")}},o.createElement("div",null,o.createElement("i",{className:"fa fa-arrow-down"})))))))),n.monitoringControl&&n.monitoringControlDeviceType&&o.createElement(b.a,{instance:E,buildingName:y,monconType:n.monitoringControlDeviceType,moncon:n.monitoringControl,deviceId:n.deviceID,monconRDFsLabel:n.rdfsLabel}),o.createElement("div",{className:"accordion row padding-10",id:"accordionExample",style:{paddingLeft:"30px",border:"1px solid #80808066",margin:"10px",borderRadius:"7px"}},o.createElement("div",{className:"",id:"headingOne"},o.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne",style:{border:0,left:"-25px",position:"relative"},"aria-expanded":"true","aria-controls":"collapseOne",onClick:function(){e.setState({detailsExpanded:!l})}},o.createElement("i",{className:l?"fa fa-minus":"fa fa-plus","aria-hidden":"true"}),"\xa0 Device Info")),o.createElement("div",{id:"collapseOne",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"},o.createElement("div",{className:"col-md-6 col-xs-12 padding-10"},o.createElement("h5",{className:"title"},o.createElement("strong",null,"IP Address:")," ",n.wirelessConfig&&n.wirelessConfig.ipAddress),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Controller IP Address:")," ",n.wirelessConfig.controllerIPAddress),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Manufacturer:")," ",n.manufacturer),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Model:")," ",n.model),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Device ID:")," ",n.deviceID?n.deviceID:"")))),o.createElement("div",{className:s?"InsightApplyChanges":"hidden"},o.createElement("h4",null,"Do you want to apply these changes?"),o.createElement("div",null,o.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){return e.resetChanges()}},"Cancel"),"\xa0",o.createElement("button",{type:"button",className:"btn btn-fill btn-danger",onClick:function(){return e.resetChanges()}},"Reset"),"\xa0",o.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:function(){return e.applyChanges()}},"Apply Changes")))))))))},t}(o.Component);t.default=C},768:function(e,t,n){"use strict";var a=n(2),s=(n.n(a),n(783)),o=n(656),i=n(652),l=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(s,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function l(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){e.done?s(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,l)}c((a=a.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,a,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(s=2&o[0]?a.return:o[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,o[1])).done)return s;switch(a=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={deviceSensedList:[],addNew:!1,customAlarms:[Object(),Object(),Object()],newCustomAlarm:Object(),idToDelete:"",detailsExpanded:!1},n.getData=n.getData.bind(n),n.handleNewCustomAlarmChange=n.handleNewCustomAlarmChange.bind(n),n.handleSave=n.handleSave.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handleEdit=n.handleEdit.bind(n),n}return l(t,e),t.prototype.componentDidMount=function(){return c(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.getData()];case 1:return e.sent(),[2]}})})},t.prototype.getData=function(){return c(this,void 0,void 0,function(){var e,t,n,a,s;return r(this,function(i){switch(i.label){case 0:return e=this.props,t=e.moncon,n=e.monconType,a=this.state.customAlarms,n&&t?[4,Object(o.h)(n)]:[3,3];case 1:return s=i.sent(),[4,Object(o.f)(t)];case 2:a=i.sent(),this.setState({deviceSensedList:s,customAlarms:a}),i.label=3;case 3:return[2]}})})},t.prototype.handleNewCustomAlarmChange=function(e){var t=this.state.newCustomAlarm;t[e.target.name]=e.target.value,t.instance=this.props.instance,t.buildingName=this.props.buildingName,t.moncon=this.props.moncon,t.deviceId=this.props.deviceId,this.setState({newCustomAlarm:t})},t.prototype.handleSave=function(){return c(this,void 0,void 0,function(){var e,t=this;return r(this,function(n){switch(n.label){case 0:return e=this.state.newCustomAlarm,[4,Object(o.m)(e)];case 1:return n.sent(),this.setState({newCustomAlarm:Object(),addNew:!1},function(){t.getData()}),[2]}})})},t.prototype.handleDelete=function(){return c(this,void 0,void 0,function(){var e,t=this;return r(this,function(n){switch(n.label){case 0:return e=this.state.idToDelete,[4,Object(o.c)(e)];case 1:return n.sent(),this.setState({newCustomAlarm:Object(),addNew:!1,idToDelete:""},function(){t.getData()}),[2]}})})},t.prototype.handleEdit=function(e){return c(this,void 0,void 0,function(){var t,n,a;return r(this,function(s){return t=this.state,n=t.customAlarms,a=t.newCustomAlarm,(a=n.find(function(t){return t._id==e}))&&a._id&&this.setState({newCustomAlarm:a,addNew:!0}),[2]})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,o=t.monconRDFsLabel,l=t.moncon,c=this.state,r=c.deviceSensedList,m=c.addNew,u=c.customAlarms,d=c.newCustomAlarm,p=c.detailsExpanded;return a.createElement(a.Fragment,null,a.createElement("div",{className:"accordion row padding-10",id:"accordionCustomerSensedAlarms"+l,style:{paddingLeft:"30px",border:"1px solid #80808066",margin:"10px",borderRadius:"7px"}},a.createElement("div",{className:"",id:"headingOne"},a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseCustomerSensedAlarms"+l,style:{border:0,left:"-25px",position:"relative"},"aria-expanded":"true","aria-controls":"collapseCustomerSensedAlarms"+l,onClick:function(){e.setState({detailsExpanded:!p})}},a.createElement("i",{className:p?"fa fa-minus":"fa fa-plus","aria-hidden":"true"}),"\xa0 Setup Custom Alarms for ",o)),a.createElement("div",{id:"collapseCustomerSensedAlarms"+l,className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionCustomerSensedAlarms"+l},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row"},!m&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-6 col-xs-12",style:{paddingLeft:25}},a.createElement("button",{type:"button",className:"btn btn-sm btn-fill btn-primary",onClick:function(){e.setState({addNew:!0})}},a.createElement("i",{className:"fa fa-plus"})))),m&&a.createElement("div",{className:"row padding-5"},a.createElement("div",{className:"col-md-4 col-xs-12"},a.createElement("div",{className:"col-md-4"},a.createElement("label",{htmlFor:"sensedKey"},"Sensed Value:")),a.createElement("div",{className:"col-md-8"},a.createElement("select",{className:"form-control "+(d.sensedKey?"":"addFieldValidate"),name:"sensedKey",id:"sensedKey",disabled:!1,value:d.sensedKey,onChange:this.handleNewCustomAlarmChange},a.createElement("option",{value:""},"Select Attribute"),r&&r.map(function(e,t){return a.createElement("option",{value:e.sensedValue,key:t},s.a.find(function(t){return t.key==e.sensedValue})?s.a.find(function(t){return t.key==e.sensedValue}).Label:e.sensedValue)})))),a.createElement("div",{className:"col-md-3 col-xs-12"},a.createElement("div",{className:"col-md-6"},a.createElement("label",{htmlFor:"minimumValue"},"Minimum Value:")),a.createElement("div",{className:"col-md-6"},a.createElement("input",{type:"number",className:"form-control "+(d.minimumValue>=0?"":"addFieldValidate"),name:"minimumValue",disabled:!1,value:d.minimumValue,onChange:this.handleNewCustomAlarmChange}))),a.createElement("div",{className:"col-md-3 col-xs-12"},a.createElement("div",{className:"col-md-6"},a.createElement("label",{htmlFor:"maximumValue"},"Maximum Value:")),a.createElement("div",{className:"col-md-6"},a.createElement("input",{type:"number",className:"form-control "+(d.maximumValue>=0?"":"addFieldValidate"),name:"maximumValue",disabled:!1,value:d.maximumValue,onChange:this.handleNewCustomAlarmChange}))),a.createElement("div",{className:"col-md-2 col-xs-12"},a.createElement("div",{className:"col-md-6"},a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary",disabled:!(d.sensedKey&&d.minimumValue&&d.maximumValue),onClick:function(){e.handleSave()}},"Save")),a.createElement("div",{className:"col-md-6"},a.createElement("button",{type:"button",className:"btn btn-sm btn-danger",onClick:function(){e.setState({newCustomAlarm:Object(),addNew:!1},function(){e.getData()})}},"Cancel")))),u&&u.map(function(t){if(t._id!=d._id)return a.createElement("div",{className:"row padding-5"},a.createElement("div",{className:"col-md-5 col-xs-12"},a.createElement("div",{className:"col-md-4"},a.createElement("label",{htmlFor:"sensedValue"},"Sensed Value:")),a.createElement("div",{className:"col-md-8"},s.a.find(function(e){return e.key==t.sensedKey})?s.a.find(function(e){return e.key==t.sensedKey}).Label:t.sensedKey)),a.createElement("div",{className:"col-md-3 col-xs-12"},a.createElement("div",{className:"col-md-6"},a.createElement("label",{htmlFor:"minimumExtremeValue"},"Minimum Value:")),a.createElement("div",{className:"col-md-6"},t.minimumValue)),a.createElement("div",{className:"col-md-3 col-xs-12"},a.createElement("div",{className:"col-md-6"},a.createElement("label",{htmlFor:"minimumNormalValue"},"Maximum Value:")),a.createElement("div",{className:"col-md-6"},t.maximumValue)),a.createElement("div",{className:"col-md-1 col-xs-12"},a.createElement("button",{type:"button",className:"btn btn-xs btn-primary",onClick:function(){e.handleEdit(t._id)}},a.createElement("i",{className:"fa fa-edit"})),"\xa0",a.createElement("button",{type:"button",className:"btn btn-xs btn-danger",onClick:function(){e.setState({idToDelete:t._id},function(){document.getElementById("btnConfirmCustom").click()})}},a.createElement("i",{className:"fa fa-trash"}))))}))))),a.createElement("button",{id:"btnConfirmCustom",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmDeleteDialogCustom"},"."),a.createElement(i.a,{instance:n,id:"ConfirmDeleteDialogCustom",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this alarm?",heading:"Confirm...",onConfirmButtonClick:function(){e.handleDelete()}}))},t}(a.Component);t.a=m},783:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=[{key:"altitude_m",Label:"Altitude (meter)"},{key:"equiCO2_ppm",Label:"CO2 (ppm)"},{key:"gasResistance_kOhm",Label:"Gas Resistance (KOhm)"},{key:"illuminance_lux",Label:"Illuminance (lux)"},{key:"motion_sensed",Label:"Motion Sensed"},{key:"pressure_hPa",Label:"Pressure (hPa)"},{key:"relhumidity_pct",Label:"Humidity (%)"},{key:"temp_celsius",Label:"Temperature"},{key:"tvoc_ppm",Label:"TVOC (ppm)"},{key:"wifiTemp1_celsius",Label:"Wifi Temp 1"},{key:"wifiTemp2_celsius",Label:"Wifi Temp 2"},{key:"wifiTemp3_celsius",Label:"Wifi Temp 3"},{key:"censor_adrs",Label:"Censor Address"},{key:"fan",Label:"Fan"},{key:"fanstate",Label:"Fan State"},{key:"heattemp",Label:"Heat Temperature Setpoint"},{key:"cooltemp",Label:"Cool Temperature Setpoint"},{key:"setpoint",Label:"Setpoint"},{key:"roomtemp",Label:"Room Temperature"},{key:"i1relay_state",Label:"Relay State"},{key:"active_power_Watts",Label:"Active Power (Watts)"},{key:"current_Amperes",Label:"Current (Ampares)"},{key:"frequency_Hz",Label:"Frequency (Hz)"},{key:"import_active_energy_Wh",Label:"Active Energy (Wh)"},{key:"power_factor",Label:"Power Factor"},{key:"voltage_volts",Label:"Voltage (Volts)"},{key:"active_power_Watts_Ch1",Label:"Power Ch1 (Watts)"},{key:"active_power_Watts_Ch2",Label:"Power Ch2 (Watts)"},{key:"active_power_Watts_Ch3",Label:"Power Ch3 (Watts)"},{key:"active_power_Watts_Ch4",Label:"Power Ch4 (Watts)"},{key:"current_Amperes_Ch1",Label:"Current Ch1 (Amperes)"},{key:"current_Amperes_Ch2",Label:"Current Ch2 (Amperes)"},{key:"current_Amperes_Ch3",Label:"Current Ch3 (Amperes)"},{key:"current_Amperes_Ch4",Label:"Current Ch4 (Amperes)"},{key:"frequency_Hz_Ch1",Label:"Frequency Ch1 (Hz)"},{key:"frequency_Hz_Ch2",Label:"Frequency Ch2 (Hz)"},{key:"frequency_Hz_Ch3",Label:"Frequency Ch3 (Hz)"},{key:"frequency_Hz_Ch4",Label:"Frequency Ch4 (Hz)"},{key:"import_active_energy_Wh_Ch1",Label:"Active Energy Ch1 (Wh)"},{key:"import_active_energy_Wh_Ch2",Label:"Active Energy Ch2 (Wh)"},{key:"import_active_energy_Wh_Ch3",Label:"Active Energy Ch3 (Wh)"},{key:"import_active_energy_Wh_Ch4",Label:"Active Energy Ch4 (Wh)"},{key:"power_factor_Ch1",Label:"Power Factor Ch1"},{key:"power_factor_Ch2",Label:"Power Factor Ch2"},{key:"power_factor_Ch3",Label:"Power Factor Ch3"},{key:"power_factor_Ch4",Label:"Power Factor Ch4"},{key:"voltage_volts_Ch1",Label:"Voltage Ch1 (volts)"},{key:"voltage_volts_Ch2",Label:"Voltage Ch2 (volts)"},{key:"voltage_volts_Ch3",Label:"Voltage Ch3 (volts)"},{key:"voltage_volts_Ch4",Label:"Voltage Ch4 (volts)"},{key:"",Label:""},{key:"",Label:""},{key:"",Label:""},{key:"",Label:""}]}});