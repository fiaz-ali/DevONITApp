webpackJsonp([64],{923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,c=n(1),i=(n.n(c),n(106)),l=n(26),s=n(25),r=n(5),o=n(13),u=n(21),d=n(8),h=n(103),m=n(14),p=n(18),g=n(30),b=n(11),f=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),O=this&&this.__assign||function(){return(O=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)},v=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(c,i){function l(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){e.done?c(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((a=a.apply(e,t||[])).next())})},I=this&&this.__generator||function(e,t){var n,a,c,i,l={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(c=2&i[0]?a.return:i[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,i[1])).done)return c;switch(a=0,c&&(i=[2&i[0],c.value]),i[0]){case 0:case 1:c=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(c=(c=l.trys).length>0&&c[c.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!c||i[1]>c[0]&&i[1]<c[3])){l.label=i[1];break}if(6===i[0]&&l.label<c[1]){l.label=c[1],c=i;break}if(c&&l.label<c[2]){l.label=c[2],l.ops.push(i);break}c[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=c=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},S=0,E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={InsightInfo:Object(),Old_InsightInfo:Object(),InsightChanged:!1,Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},isSchedule:!1,deviceNumber:"",enclosure:""},space:{graphURL:"",rdfsLabel:"",spaceName:"",spaceInsights:[],detailsExpanded:!1},EquipmentList:[],currentChange:"",detailsExpanded:!1,localBTNState:!1,filteredInsight:[],buildingOptimalTStat:[],spaceOptimalTStat:[],spaces:[],spacesOptimalInfo:[],avgBuildingOptimalTStat:Object(),buildingInsightInfos:[],spaceInsightInfos:[],avgSpaceOptimalTStat:Object(),buildingOptimal:!1,spaceOptimal:!1,scheduleSelected:!1,callInterval:!0,controlStatus:"Manual"},n.changeMode=n.changeMode.bind(n),n.changeOverrideState=n.changeOverrideState.bind(n),n.changeFanSetting=n.changeFanSetting.bind(n),n.increaseTemp=n.increaseTemp.bind(n),n.decreaseTemp=n.decreaseTemp.bind(n),n._fetchData=n._fetchData.bind(n),n._fetchInsightInfo=n._fetchInsightInfo.bind(n),n.changeStateLocal=n.changeStateLocal.bind(n),n.cancelSend=n.cancelSend.bind(n),n.resetChanges=n.resetChanges.bind(n),n.applyChanges=n.applyChanges.bind(n),n.handleOptimize=n.handleOptimize.bind(n),n._fetchInsights=n._fetchInsights.bind(n),n._fetchSelectedTStatData=n._fetchSelectedTStatData.bind(n),n.handleOptimalSelection=n.handleOptimalSelection.bind(n),n.handleScheduleSelection=n.handleScheduleSelection.bind(n),n.getRelatedEquipmentLabel=n.getRelatedEquipmentLabel.bind(n),n.setIntervalStart=n.setIntervalStart.bind(n),n}return f(t,e),t.prototype.componentDidMount=function(){return v(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchData()]:[3,4];case 1:return e.sent(),[4,this._fetchInsights()];case 2:return e.sent(),[4,this.fetchThermostatInfo()];case 3:e.sent(),this._fetchInsightInfo(!1),e.label=4;case 4:return this.setIntervalStart(),[2]}})})},t.prototype.setIntervalStart=function(){var e=this;a&&clearInterval(a),setInterval(function(){S++},1e3),a=setInterval(function(){var t=e.state,n=t.callInterval;!t.InsightChanged&&n&&S>=15&&(e._fetchInsightInfo(!1),Object(m.a)(!1))},15e3)},t.prototype.componentWillUnmount=function(){return v(this,void 0,void 0,function(){return I(this,function(e){return clearInterval(a),[2]})})},t.prototype.handleScheduleSelection=function(e){return v(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,Object(l.N)(this.props.InsightName,e)];case 1:return t.sent(),e?Object(d.b)("Successfully Selected Schedule"):Object(d.b)("Successfully unSelected Schedule"),this.setState({scheduleSelected:e}),this._fetchData(),[2]}})})},t.prototype.handleOptimalSelection=function(e,t){var n=this.state,a=n.buildingOptimal,c=n.spaceOptimal;"spaceOptimal"==e?c=t:a=t,this.setState({spaceOptimal:c,buildingOptimal:a}),this.handleOptimize()},t.prototype.handleOptimize=function(){return v(this,void 0,void 0,function(){var e,t,n,a;return I(this,function(c){return e=this.state,t=e.avgBuildingOptimalTStat,n=e.avgSpaceOptimalTStat,a=e.spaceOptimal,e.buildingOptimal&&!a?this.setState({InsightInfo:t,InsightChanged:!0,currentChange:"Avg",controlStatus:"Optimize"}):this.setState({InsightInfo:n,InsightChanged:!0,currentChange:"Avg",controlStatus:"Optimize"}),[2]})})},t.prototype._fetchSelectedTStatData=function(){return v(this,void 0,void 0,function(){var e,t,n,a,c,i,o,u,h,m,p,g,b,f,O,v,S,E,N;return I(this,function(I){switch(I.label){case 0:e=this.state,t=e.buildingOptimalTStat,n=e.buildingInsightInfos,a=e.spaceInsightInfos,c=e.spaceOptimalTStat,i=e.buildingOptimal,o=e.spaceOptimal,m=0,I.label=1;case 1:return m<t.length?(u=t[m],(O=Object(r.g)(u.moncondevice))?[4,Object(s.f)(O,this.props.buildingName)]:[3,4]):[3,5];case 2:return v=I.sent(),[4,Object(l.p)(v).then(function(e){return!e||e&&e.error?(Object(d.a)("Error occurred while fetching thermostat info."),Object()):e}).catch(function(e){return Object()})];case 3:h=I.sent(),n.push(h),I.label=4;case 4:return m++,[3,1];case 5:m=0,I.label=6;case 6:if(!(m<c.length))return[3,12];if(p=c[m],!((g=p.spaceInsights)&&g.length>0))return[3,11];b=0,I.label=7;case 7:return b<g.length?(f=g[b],(O=Object(r.g)(f.moncondevice))?[4,Object(s.f)(O,this.props.buildingName)]:[3,10]):[3,11];case 8:return v=I.sent(),[4,Object(l.p)(v).then(function(e){return!e||e&&e.error?(Object(d.a)("Error occurred while fetching thermostat info."),Object()):e}).catch(function(e){return Object()})];case 9:S=I.sent(),a.push(S),I.label=10;case 10:return b++,[3,7];case 11:return m++,[3,6];case 12:return i=n.length>0,o=a.length>0,[4,Object(l.z)(n)];case 13:return E=I.sent(),[4,Object(l.z)(a)];case 14:return N=I.sent(),this.setState({avgBuildingOptimalTStat:E,avgSpaceOptimalTStat:N,buildingInsightInfos:n,spaceInsightInfos:a,buildingOptimal:i,spaceOptimal:o}),[2]}})})},t.prototype._fetchInsights=function(){return v(this,void 0,void 0,function(){var e,t,n,a,c,i,s,u,d,h,m,b,f,O,v;return I(this,function(S){switch(S.label){case 0:return(e=this.props.buildingName)?[4,Object(l.r)(e)]:[3,7];case 1:for(t=S.sent(),v=0;v<t.length;v++)n=t[v],Object(r.g)(n.moncondevice)&&Object(r.g)(n.rdfsLabel)&&Object(o.s)(Object(r.g)(n.moncondevice),Object(r.g)(n.rdfsLabel));for(a=this.state,c=a.spaces,i=a.spacesOptimalInfo,s=a.spaceOptimalTStat,u=a.buildingOptimalTStat,c=[],d=function(e){var n=t[e],a=Object(r.g)(n.space),i=Object(r.g)(n.spaceRdfsLabel);a&&i&&-1==c.findIndex(function(e){return e.ontology==a})&&c.push({ontology:a,rdfsLabel:i})},v=0;v<t.length;v++)d(v);i=[],s=[],u=[],h=function(e){var n,a,l,o,u,d,h;return I(this,function(m){switch(m.label){case 0:return n=c[e],[4,Object(p.e)(n.ontology)];case 1:return a=m.sent(),l=t.filter(function(e){return Object(r.g)(e.space)==n.ontology}),o={graphURL:a.graphURL?a.graphURL:"",rdfsLabel:n.rdfsLabel,spaceName:n.ontology,spaceInsights:l},i.push.apply(i,[o]),u=t.find(function(e){return Object(r.g)(e.space)==n.ontology}),d=[],u&&(d=Object(r.g)(u.spaceOptimalTStats).split(",")),h={graphURL:a.graphURL?a.graphURL:"",rdfsLabel:n.rdfsLabel,spaceName:n.ontology,spaceInsights:t.filter(function(e){return-1!=d.findIndex(function(t){return t==Object(r.g)(e.moncondevice)})})},s.push.apply(s,[h]),[2]}})},m=0,S.label=2;case 2:return m<c.length?[5,h(m)]:[3,5];case 3:S.sent(),S.label=4;case 4:return m++,[3,2];case 5:return[4,Object(g.c)(this.props.buildingName)];case 6:if((b=S.sent())&&b[0])for(f=b[0],f=(f=Object(r.g)(f.buildingOptimal)).split(","),O=function(e){var n=f[e],a=t&&t.length>0&&t[0]&&t.find(function(e){return Object(r.g)(e.moncondevice)==n});a&&u.push.apply(u,[a])},v=0;v<f.length;v++)O(v);this.setState({spaces:c,spacesOptimalInfo:i,spaceOptimalTStat:s,buildingOptimalTStat:u}),S.label=7;case 7:return[2]}})})},t.prototype._fetchData=function(){return v(this,void 0,void 0,function(){var e,t,n,a,c,i,l,o,d,h,g=this;return I(this,function(b){switch(b.label){case 0:return e=this.state.scheduleSelected,t=this.props,n=t.InsightName,a=t.buildingName,c=t.type,n?(Object(m.a)(!0),[4,Object(u.g)(this.props.buildingName)]):[3,6];case 1:return i=b.sent(),l=i&&i.length>0&&i.map(function(e){return{value:Object(r.g)(e.ontology),label:Object(r.g)(e.rdfsLabel)}}),o=Object(),d=Object(),"Optimal"!=c?[3,3]:[4,Object(p.e)(n)];case 2:return d=b.sent(),[3,5];case 3:return[4,Object(s.f)(n,a)];case 4:o=b.sent(),b.label=5;case 5:localStorage.getItem(o.deviceID)&&localStorage.getItem(o.deviceID).length>0&&(h=JSON.parse(localStorage.getItem(o.deviceID)),this.setState({InsightInfo:h,Old_InsightInfo:O({},h),InsightChanged:!1,currentChange:""})),e=o.isSchedule,this.setState({Moncon:o,space:d,EquipmentList:l,scheduleSelected:e},function(){return v(g,void 0,void 0,function(){return I(this,function(e){return[2]})})}),Object(m.a)(!1),b.label=6;case 6:return[2]}})})},t.prototype.fetchThermostatInfo=function(){return v(this,void 0,void 0,function(){var e,t,n,a,c,i,s;return I(this,function(r){switch(r.label){case 0:return Object(m.a)(!0),e=this.props,t=e.InsightName,n=e.buildingName,a=this.state,c=a.Moncon,i=a.controlStatus,this.setState({callInterval:!1}),[4,Object(l.x)(n,t).then(function(e){return!e||e&&e.error?(Object(d.a)("Error occurred while fetching thermostat info."),Object()):(e&&localStorage.setItem(c.deviceID,JSON.stringify(e)),e)}).catch(function(e){return Object()})];case 1:return s=r.sent(),this.setState({InsightInfo:s,Old_InsightInfo:O({},s),InsightChanged:!1,currentChange:"",callInterval:!0,controlStatus:s.thermostatControlStatus?s.thermostatControlStatus:i}),Object(m.a)(!1),[2]}})})},t.prototype._fetchInsightInfo=function(e){return v(this,void 0,void 0,function(){var t,n,a,c;return I(this,function(i){switch(i.label){case 0:return e&&Object(m.a)(!0),t=this.state,n=t.Moncon,a=t.controlStatus,this.setState({callInterval:!1}),[4,Object(l.p)(n).then(function(e){return!e||e&&e.error?(Object(d.a)("Error occurred while fetching thermostat info."),Object()):(e&&localStorage.setItem(n.deviceID,JSON.stringify(e)),e)}).catch(function(e){return Object()})];case 1:return(c=i.sent())?(c.thermostatControlStatus=a,c.insightName=this.props.InsightName,[4,Object(l.O)(this.props.buildingName,c)]):[3,3];case 2:i.sent(),this.setState({InsightInfo:c,Old_InsightInfo:O({},c),InsightChanged:!1,currentChange:"",callInterval:!0}),i.label=3;case 3:return e&&Object(m.a)(!1),[2]}})})},t.prototype.changeMode=function(e,t){e.mode=t,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"mode"})},t.prototype.changeOverrideState=function(e,t,n){e.override=t,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"state",controlStatus:n,localBTNState:!1})},t.prototype.changeFanSetting=function(e,t){e.fan=t,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"fan"})},t.prototype.increaseTemp=function(e,t){"Heat"==t?e.heattemp=(e.heattemp?e.heattemp:0)+.555556:e.cooltemp=(e.cooltemp?e.cooltemp:0)+.555556,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"temp"})},t.prototype.decreaseTemp=function(e,t){"Heat"==t?e.heattemp=e.heattemp-.555556:e.cooltemp=e.cooltemp-.555556,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"temp"})},t.prototype.cancelSend=function(){this.setState({InsightChanged:!1,currentChange:""}),this._fetchInsightInfo(!1)},t.prototype.resetChanges=function(e){return v(this,void 0,void 0,function(){var t=this;return I(this,function(n){return this.setState({InsightChanged:!1,currentChange:""},function(){return v(t,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this._fetchInsightInfo(e)];case 1:return t.sent(),[2]}})})}),[2]})})},t.prototype.applyChanges=function(e,t){return v(this,void 0,void 0,function(){var n=this;return I(this,function(c){return Object(m.a)(!0),this.setState({InsightChanged:!1,currentChange:""},function(){return v(n,void 0,void 0,function(){var n;return I(this,function(c){switch(c.label){case 0:return S=0,a&&clearInterval(a),"Local"!=(n=this.state.controlStatus)?[3,2]:[4,Object(l.N)(this.props.InsightName,!1)];case 1:return c.sent(),[3,10];case 2:return"Manual"!=n?[3,4]:[4,Object(l.N)(this.props.InsightName,!1)];case 3:return c.sent(),[3,10];case 4:return"Remote"!=n?[3,6]:[4,Object(l.N)(this.props.InsightName,!1)];case 5:return c.sent(),[3,10];case 6:return"Schedule"!=n?[3,8]:[4,Object(l.N)(this.props.InsightName,!0)];case 7:return c.sent(),[3,10];case 8:return"Optimize"!=n?[3,10]:[4,Object(l.N)(this.props.InsightName,!1)];case 9:c.sent(),c.label=10;case 10:return t.thermostatControlStatus=n,t.insightName=this.props.InsightName,[4,Object(l.O)(this.props.buildingName,t)];case 11:return c.sent(),Object(l.E)(e,t,this.state.Old_InsightInfo).then(function(e){e.success?Object(d.b)("Changes applied successfully. "):e.error&&Object(d.a)(e.reason)}).catch(function(e){Object(d.a)("Some error orccured. ")}),this.setIntervalStart(),Object(m.a)(!1),[2]}})})}),[2]})})},t.prototype.changeStateLocal=function(e){this.setState({localBTNState:e,controlStatus:"Local",InsightChanged:!0,currentChange:"state"})},t.prototype.getRelatedEquipmentLabel=function(e){var t=this.state.EquipmentList,n=Object();return(n=t&&t.find(function(t){return t.value==e}))&&n.label},t.prototype.render=function(){var e=this,t=this.state,n=t.InsightInfo,a=t.Moncon,l=t.space,s=t.InsightChanged,r=t.detailsExpanded,u=t.buildingOptimal,d=t.spaceOptimal,m=t.controlStatus,p=this.props,g=p.instance,f=p.buildingName,O=p.InsightName,v=p.type,I="Optimal"==v,S="Local"==m,E=n.mode==i.c.AUTO&&n.cooltemp<n.heattemp+.5;return c.createElement("div",{className:"content"},c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-12"},c.createElement(h.a,{InsightName:O,ControlName:"InsightControl",buildingName:f,instance:g,type:v}),c.createElement("div",{className:"card",id:"InsightsList"},c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"header"},c.createElement("h3",{className:"title"},c.createElement("strong",null,I?l.rdfsLabel:a.rdfsLabel)," "),!I&&c.createElement("h4",{className:"title"},c.createElement("strong",null,this.props.type.toUpperCase(),":",a&&a.relatedEquipment.map(function(t,n){return c.createElement("span",{key:n},e.getRelatedEquipmentLabel(t.value),n+1==a.relatedEquipment.length?"":",")}),"STATUS:")," (",i.d[n.state],")"))),c.createElement("div",{className:"content"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-6 col-xs-12 tempCounter roomTemp pull-right"},c.createElement("div",null,"Room Temp"),c.createElement("div",{className:"counter"},Object(o.a)(n.spacetemp).toFixed(2),"\xb0F")),c.createElement("div",{className:"col-md-6 col-xs-12"},c.createElement("div",{className:"row"},(n.mode==i.c.HEAT||n.mode==i.c.AUTO)&&c.createElement(c.Fragment,null,c.createElement("div",{className:(n.mode==i.c.AUTO?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" tempCounter"},c.createElement("div",null,"Heat To"),c.createElement("div",{className:"counter"},Object(o.a)(n.heattemp).toFixed(2),"\xb0F")),c.createElement("div",{className:(n.mode==i.c.AUTO?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" InsightControls"},c.createElement("div",{className:"btn-group-vertical"},c.createElement("button",{type:"button",className:"btn tempButton heatTo",disabled:S||E,onClick:function(){return e.increaseTemp(n,"Heat")}},c.createElement("div",null,c.createElement("i",{className:"fa fa-angle-up"})),c.createElement("div",null,"Warmer")),c.createElement("button",{type:"button",className:"btn tempButton coolTo",disabled:S,onClick:function(){return e.decreaseTemp(n,"Heat")}},c.createElement("div",null,"Cooler"),c.createElement("div",null,c.createElement("i",{className:"fa fa-angle-down"})))))),(n.mode==i.c.COOL||n.mode==i.c.AUTO)&&c.createElement(c.Fragment,null,c.createElement("div",{className:(n.mode==i.c.AUTO?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" tempCounter"},c.createElement("div",null,"Cool To"),c.createElement("div",{className:"counter"},Object(o.a)(n.cooltemp).toFixed(2),"\xb0F")),c.createElement("div",{className:(n.mode==i.c.AUTO?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" InsightControls"},c.createElement("div",{className:"btn-group-vertical"},c.createElement("button",{type:"button",className:"btn tempButton heatTo",disabled:S,onClick:function(){return e.increaseTemp(n,"Cool")}},c.createElement("div",null,c.createElement("i",{className:"fa fa-angle-up"})),c.createElement("div",null,"Warmer")),c.createElement("button",{type:"button",className:"btn tempButton coolTo",disabled:S||E,onClick:function(){return e.decreaseTemp(n,"Cool")}},c.createElement("div",null,"Cooler"),c.createElement("div",null,c.createElement("i",{className:"fa fa-angle-down"}))))))))),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-6 col-xs-12 InsightRow pull-right"},c.createElement("div",{className:"btn-group"},!I&&c.createElement(c.Fragment,null,c.createElement("button",{type:"button",className:"btn btn-success "+("Local"==m?"btn-fill":""),onClick:function(){e.changeStateLocal(!0)}},"Local"),c.createElement("button",{type:"button",className:"btn btn-success "+("Remote"==m||"Schedule"==m||"Manual"==m||"Optimize"==m?"btn-fill":""),onClick:function(){return e.changeOverrideState(n,i.e.ON,"Manual")}},"Remote"),c.createElement("button",{type:"button",disabled:S,className:"btn btn-success "+("Manual"==m?"btn-fill":""),onClick:function(){return e.changeOverrideState(n,i.e.OFF,"Manual")}},"Manual")),c.createElement("button",{type:"button",className:"btn btn-success "+("Schedule"==m?"btn-fill":""),disabled:S,onClick:function(){e.setState({InsightChanged:!0,currentChange:"state",controlStatus:"Schedule"})}},"Schedule"),c.createElement("button",{type:"button",disabled:S,className:"btn btn-success "+("Optimize"==m?"btn-fill":""),onClick:function(){u&&d?document.getElementById("btnOptimize").click():e.handleOptimize()}},"Optimize"))),c.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},c.createElement("div",{className:"btn-group"},c.createElement("button",{type:"button",disabled:S,className:n.mode===i.c.OFF?"btn btn-fill":"btn",onClick:function(){return e.changeMode(n,i.c.OFF)}},"Off"),c.createElement("button",{type:"button",className:n.mode===i.c.HEAT?"btn btn-fill":"btn",disabled:S,onClick:function(){return e.changeMode(n,i.c.HEAT)}},"Heat"),c.createElement("button",{type:"button",className:n.mode===i.c.COOL?"btn btn-fill":"btn",disabled:S,onClick:function(){return e.changeMode(n,i.c.COOL)}},"Cool"),c.createElement("button",{type:"button",className:n.mode===i.c.AUTO?"btn btn-fill":"btn",disabled:S,onClick:function(){return e.changeMode(n,i.c.AUTO)}},"Auto")))),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},c.createElement("div",{className:"InsightHeading"},c.createElement("i",{className:"fa fa-first-order"})," Fan"),c.createElement("div",{className:"btn-group"},c.createElement("button",{type:"button",className:n.fan===i.b.AUTO?"btn btn-fill":"btn",disabled:S,onClick:function(){return e.changeFanSetting(n,i.b.AUTO)}},"Auto"),c.createElement("button",{type:"button",className:n.fan===i.b.ON?"btn btn-fill":"btn",disabled:S,onClick:function(){return e.changeFanSetting(n,i.b.ON)}},"On")))),!I&&c.createElement("div",{className:"accordion row padding-10",id:"accordionExample",style:{paddingLeft:"30px",border:"1px solid #80808066",margin:"10px",borderRadius:"7px"}},c.createElement("div",{className:"",id:"headingOne"},c.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne",style:{border:0,left:"-25px",position:"relative"},"aria-expanded":"true","aria-controls":"collapseOne",onClick:function(){e.setState({detailsExpanded:!r})}},c.createElement("i",{className:r?"fa fa-minus":"fa fa-plus","aria-hidden":"true"}))),c.createElement("div",{id:"collapseOne",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"},c.createElement("div",{className:"col-md-6 col-xs-12 padding-10"},c.createElement("h5",{className:"title"},c.createElement("strong",null,"IP Address:")," ",a.wirelessConfig&&a.wirelessConfig.ipAddress),c.createElement("h5",{className:"title"},c.createElement("strong",null,"Controller IP Address:")," ",a.wirelessConfig.controllerIPAddress),c.createElement("h5",{className:"title"},c.createElement("strong",null,"Manufacturer:")," ",a.manufacturer),c.createElement("h5",{className:"title"},c.createElement("strong",null,"Model:")," ",a.model),c.createElement("h5",{className:"title"},c.createElement("strong",null,"Device ID:")," ",a.deviceID?a.deviceID:"")))),c.createElement("div",{className:s?"InsightApplyChanges":"hidden"},!E&&n.mode==i.c.AUTO&&c.createElement("h4",null,"Your requested set point will result in times when both cooling and heating will be turned on at the same time.  Please change your request by placing in heat only or cooling only or making sure set points are not in conflict ",c.createElement("br",null),"Do you want to apply these changes?"),!E&&n.mode!=i.c.AUTO&&c.createElement("h4",null,"Do you want to apply these changes?"),E&&c.createElement("h4",null," Both heating and cooling could be on at the same time with these setpoints, please modify your request"),!E&&c.createElement("div",null,c.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){return e.cancelSend()}},"Cancel"),"\xa0",c.createElement("button",{type:"button",className:"btn btn-fill btn-danger",onClick:function(){return e.resetChanges(!0)}},"Reset"),"\xa0",c.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:function(){return e.applyChanges(a,n)}},"Apply Changes"))))),c.createElement("button",{id:"btnOptimize",style:{display:"none"},"data-toggle":"modal","data-target":"#showOptimizeDialog"},"."),c.createElement(b.a,{id:"showOptimizeDialog",cancelButtonId:"cancelOptimizeDialog",onSaveButtonClick:function(){e.handleOptimize()},saveButtonText:"Yes",showCancelButton:!0,showSaveButton:!1,cancelButtonText:"Cancel",heading:"Select One"},c.createElement("div",{className:"card padding-10"},c.createElement("div",{className:"row text-center col-md-offset-1"},u&&c.createElement("div",{onClick:function(){e.handleOptimalSelection("buildingOptimal",!0),e.setState({spaceOptimal:!1},function(){document.getElementById("cancelOptimizeDialog").click()})},className:"col-md-5 padding-10 margin-5 text-center btn btn-lg btn-secondary",style:{cursor:"pointer"}},c.createElement("label",{className:"text-center title"}," Building Optimal ")),d&&c.createElement("div",{onClick:function(){e.handleOptimalSelection("spaceOptimal",!0),e.setState({buildingOptimal:!1},function(){document.getElementById("cancelOptimizeDialog").click()})},className:"col-md-5 padding-10 margin-5 text-center btn btn-lg btn-secondary",style:{cursor:"pointer"}},c.createElement("label",{className:"text-center title"}," Space Optimal ")))))))))},t}(c.Component);t.default=E}});