webpackJsonp([7,11,12,18,22,37,39,40,59,66,70,71,86],{1027:function(e,t,n){"use strict";t.a=function(e,t){var n="";if(t&&"3.1"==t){var o=0;o=e+3,o/=10,n=Object(a.a)(o).toFixed(1)}else n=Object(a.a)(e).toFixed(1);return n};var a=n(23)},1154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(2),l=(n.n(o),n(686)),i=n(10),r=n(875),c=n(1105),s=n(803),m=n(710),u=n(650),d=n(661),p=n(117),h=n(23),g=n(11),f=n(744),v=n(647),b=n(845),E=n(680),y=n(651),N=n(671),C=n(672),S=n(715),w=n(762),O=n(1110),D=n(839),T=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),x=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},L=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},I=function(e){function t(t){var n=e.call(this,t)||this;return n.state={equipment:Object(),equipmentInformation:l.k,componentInformation:Object(),plugLoadModel:l.n,heatingInformation:l.l,lightingInformation:l.m,lampTypes:[],equipmentSweeps:[],selectedComponent:Object(),selectedInventory:Object(),showMatterportDialog:!0,relatedEquipmentDevice:[],relatedComputingDevices:[],relatedNetworkDevices:[],relatedPoints:[],openComponentDetails:!1,invent:[],organizeLogs:[],inventory:[],selectedAssetInventoryObj:Object(),isShowModelDialog:!1,selectedModelAsset:"",inventoryLightingInformation:[]},a=n,n.fetchLightingInfo=n.fetchLightingInfo.bind(n),n.fetchPlugLoad=n.fetchPlugLoad.bind(n),n.fetchComponent=n.fetchComponent.bind(n),n.fetchEquipment=n.fetchEquipment.bind(n),n.onDialogCancelButton=n.onDialogCancelButton.bind(n),n.fetchRelatedDevices=n.fetchRelatedDevices.bind(n),n.fetchEnclosureDevices=n.fetchEnclosureDevices.bind(n),n.fetchPoints=n.fetchPoints.bind(n),n.fetchInventoryStateLogs=n.fetchInventoryStateLogs.bind(n),n}return T(t,e),t.prototype.componentDidMount=function(){return x(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.equipmentName?(Object(p.a)(!0),[4,this.fetchEquipment(this.props.equipmentName,this.props.buildingName)]):[3,10];case 1:return e.sent(),this.props.showEquipmentInfoOnly?[3,7]:[4,this.fetchComponent(this.props.equipmentName)];case 2:return e.sent(),[4,this.fetchRelatedDevices(this.props.equipmentName)];case 3:return e.sent(),[4,this.fetchEnclosureDevices(this.props.equipmentName)];case 4:return e.sent(),[4,this.fetchPoints()];case 5:return e.sent(),[4,this.fetchInventoryStateLogs()];case 6:e.sent(),e.label=7;case 7:return[4,this.fetchPowerSource(this.props.equipmentName,this.props.buildingName)];case 8:return e.sent(),[4,this.fetchInventoriesLightingInfo(this.props.buildingName)];case 9:e.sent(),Object(p.a)(!1),e.label=10;case 10:return[2]}})})},t.prototype.fetchInventoriesLightingInfo=function(e){return x(this,void 0,void 0,function(){var t,n,a,o,l,r;return L(this,function(c){switch(c.label){case 0:t=this.state,n=t.inventory,a=t.equipment,o=this.state.inventoryLightingInformation,o=[],l=function(t){var l,r;return L(this,function(c){switch(c.label){case 0:return l=n[t],(r=Object()).fixtureQuantity="1",r.fixtureName=Object(h.w)(12),r.fixtureType=a.subclassType,[4,Object(u.s)(e,l.ontology).then(function(e){if(e&&e.length>0){var t=e[0];r.ballast=Object(i.g)(t.ballast),r.color=Object(i.g)(t.color),r.control=Object(i.g)(t.control),r.description=Object(i.g)(t.description),r.fixtureName=Object(i.g)(t.fixture),r.lampType=Object(i.g)(t.lampType),r.lensType=Object(i.g)(t.lensType),r.numberOfLampFixtures=Object(i.g)(t.numberOfLampFixtures),r.switchType=Object(i.g)(t.switchType),r.wattsPerLamp=Object(i.g)(t.wattsPerLamp),r.dimmableToday=Object(i.g)(t.dimmableToday),r.translucentCover=Object(i.g)(t.translucentCover),r.lightLocation=Object(i.g)(t.lightLocation),r.existingFixtureWattage=Object(i.g)(t.existingFixtureWattage),r.fixtureHeight=Object(i.g)(t.fixtureHeight),r.operatingSchedule=Object(i.g)(t.operatingSchedule),r.operatingHourPerYear=Object(i.g)(t.operatingHourPerYear)}}).catch(function(e){return e})];case 1:return c.sent(),o.push.apply(o,[r]),[2]}})},r=0,c.label=1;case 1:return r<n.length?[5,l(r)]:[3,4];case 2:c.sent(),c.label=3;case 3:return r++,[3,1];case 4:return this.setState({inventoryLightingInformation:o}),[2]}})})},t.prototype.fetchInventoryStateLogs=function(){return x(this,void 0,void 0,function(){var e,t,n;return L(this,function(a){switch(a.label){case 0:return Object(p.a)(!0),e=this.props.assetType,t=this.state.inventory,n=[],this.props.equipmentName?[4,Object(w.c)("",this.props.equipmentName)]:[3,2];case 1:return n=a.sent(),[3,4];case 2:return[4,Object(w.c)("","",e)];case 3:n=a.sent(),a.label=4;case 4:return t=n,this.setState({inventory:t}),Object(p.a)(!1),[2]}})})},t.prototype.fetchEquipment=function(e,t){return x(this,void 0,void 0,function(){var n=this;return L(this,function(o){switch(o.label){case 0:return[4,Object(u.q)(t,e).then(function(o){if(o&&o.length>0){var l=o[0],r=n.state.equipment,c=n.state.equipmentInformation;if(r.equipmentName=Object(i.g)(l.equip),r.rdfsLabel=Object(i.g)(l.rdfsLabel),r.equipmentType=Object(i.g)(l.type),r.subclassType=Object(i.g)(l.subtype),r.floor=Object(i.g)(l.floor),r.floorRdfsLabel=Object(i.g)(l.floorRdfsLabel),r.location=Object(i.g)(l.location),r.locationRdfsLabel=Object(i.g)(l.locationRdfsLabel),r.locationDescription=Object(i.g)(l.locationDescription),r.manufacturer=Object(i.g)(l.manufacturer),r.userType=Object(i.g)(l.userType),r.manufacturerDate=l.manufacturerDate?new Date(Object(i.g)(l.manufacturerDate)).toLocaleString():"",r.lastInspectionDate=l.lastInspectionDate?new Date(Object(i.g)(l.lastInspectionDate)).toLocaleString():"",r.lastServiceDate=l.lastServiceDate?new Date(Object(i.g)(l.lastServiceDate)).toLocaleString():"",r.lastRechargeDate=l.lastRechargeDate?new Date(Object(i.g)(l.lastRechargeDate)).toLocaleString():"",r.nextInspectionDate=l.nextInspectionDate?new Date(Object(i.g)(l.nextInspectionDate)).toLocaleString():"",r.model=Object(i.g)(l.model),r.serial=Object(i.g)(l.serial),r.uploadedby=Object(i.g)(l.uploadedby),r.uploadedtime=Object(i.g)(l.uploadedtime),r.virtualBIM=Object(i.g)(l.virtualBIM),r.cadBIM=Object(i.g)(l.cadBIM),r.sweep=Object(i.g)(l.sweep),r.capacity=Object(i.g)(l.capacity),r.refrigerantType=Object(i.g)(l.refrigerantType),r.units=Object(i.g)(l.units),r.coilType=Object(i.g)(l.coilType),r.inputCapacity=Object(i.g)(l.inputCapacity),r.inputUnits=Object(i.g)(l.inputUnits),r.outputCapacity=Object(i.g)(l.outputCapacity),r.outputUnits=Object(i.g)(l.outputUnits),r.sourceName=Object(i.g)(l.sourceName),r.powerSource=Object(i.g)(l.powerSource),r.profileFileName=Object(i.g)(l.profileFileName).split(","),r.panelID=Object(i.g)(l.panelID),r.enclosure=Object(h.r)(Object(i.g)(l.enclosure)),r.cableLength=Object(i.g)(l.cableLength),r.cableColor=Object(i.g)(l.cableColor),r.cableUnit=Object(i.g)(l.cableUnit),r.installEquipmentDate=l.installEquipmentDate?new Date(Object(i.g)(l.installEquipmentDate)).toLocaleString():"",r.age=parseInt(Object(i.g)(l.age)),r.age&&(r.ageMonth=Math.trunc(r.age%12),r.ageYear=Math.trunc(r.age/12)),r.notes=Object(i.g)(l.notes),r.sourceName=Object(i.g)(l.sourceName),r.rdfsLabelSource=Object(i.g)(l.rdfsLabelSource),r.powerSource=Object(i.g)(l.powerSource),r.profileFileName=Object(i.g)(l.profileFileName).split(","),r.panelID=Object(i.g)(l.panelID),r.equipmentState=Object(i.g)(l.equipmentState),c.capacity=Object(i.g)(l.capacity),c.refrigerantType=Object(i.g)(l.refrigerantType),c.units=Object(i.g)(l.units),c.notes=Object(i.g)(l.notes),localStorage.setItem("spaceOntology",r.location),localStorage.setItem("equipmentType",r.equipmentType),e&&r.rdfsLabel&&Object(h.H)(e,r.rdfsLabel),r.sweep){var s=[],m=Object();m.uuid=r.sweep,s.push(m),n.setState({equipmentSweeps:s})}a.setState({equipment:r,equipmentInformation:c},function(){return x(n,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return"Lighting"!==r.equipmentType?[3,2]:[4,a.fetchLightingInfo(e,t)];case 1:return n.sent(),[3,6];case 2:return"PlugLoad"!==r.subclassType?[3,4]:[4,a.fetchPlugLoad(e,t)];case 3:return n.sent(),[3,6];case 4:return[4,a.fetchComponent(e)];case 5:n.sent(),n.label=6;case 6:return[2]}})})})}}).catch(function(e){return e})];case 1:return o.sent(),[2]}})})},t.prototype.fetchPoints=function(){return x(this,void 0,void 0,function(){var e,t,n,a;return L(this,function(o){switch(o.label){case 0:return e=this.props,t=e.buildingName,n=e.equipmentName,a=[],[4,Object(N.k)(t,null,n)];case 1:return a=o.sent(),this.setState({relatedPoints:a}),[2]}})})},t.prototype.fetchPowerSource=function(e,t){return x(this,void 0,void 0,function(){var n=this;return L(this,function(o){return Object(u.b)(t,e).then(function(e){if(e&&e.length>0){var t=n.state.equipment;e.map(function(e,n){switch(Object(i.g)(e.sequence)){case"1":t.breaker1=Object(i.g)(e.breaker).replace("breaker","");break;case"2":t.breaker2=Object(i.g)(e.breaker).replace("breaker","");break;case"3":t.breaker3=Object(i.g)(e.breaker).replace("breaker","")}}),a.setState({equipment:t})}}).catch(function(e){return e}),[2]})})},t.prototype.fetchLightingInfo=function(e,t){return x(this,void 0,void 0,function(){var n,o=this;return L(this,function(l){switch(l.label){case 0:return n={fixtureName:"",fixtureQuantity:"",fixtureType:"",ballast:"",lensType:"",switchType:"",control:"",lampType:"",color:"",wattsPerLamp:"",numberOfLampFixtures:"",description:""},[4,Object(u.s)(t,e).then(function(e){var t=o.state.lightingInformation;if(e&&e.length>0){var l=e[0];t.ballast=Object(i.g)(l.ballast),t.color=Object(i.g)(l.color),t.control=Object(i.g)(l.control),t.description=Object(i.g)(l.description),t.fixtureName=Object(i.g)(l.fixture),t.fixtureQuantity=Object(i.g)(l.fixtureQuantity),t.fixtureType=Object(i.g)(l.fixtureType),t.lampType=Object(i.g)(l.lampType),t.lensType=Object(i.g)(l.lensType),t.numberOfLampFixtures=Object(i.g)(l.numberOfLampFixtures),t.switchType=Object(i.g)(l.switchType),t.wattsPerLamp=Object(i.g)(l.wattsPerLamp),t.dimmableToday=Object(i.g)(l.dimmableToday),t.translucentCover=Object(i.g)(l.translucentCover),t.lightLocation=Object(i.g)(l.lightLocation),t.existingFixtureWattage=Object(i.g)(l.existingFixtureWattage),t.fixtureHeight=Object(i.g)(l.fixtureHeight),t.operatingSchedule=Object(i.g)(l.operatingSchedule),t.operatingHourPerYear=Object(i.g)(l.operatingHourPerYear);var r=a.state.equipment,c=s.a[r.subclassType]?s.a[r.subclassType]:[];a.setState({lightingInformation:t,lampTypes:c})}else a.setState({lightingInformation:n})}).catch(function(e){return e})];case 1:return[2,l.sent()]}})})},t.prototype.fetchPlugLoad=function(e,t){return x(this,void 0,void 0,function(){var n=this;return L(this,function(o){return Object(u.a)(t,e).then(function(e){var t=n.state.plugLoadModel;if(e&&e.length>0){var o=e[0];t.ontology=Object(i.g)(o.ontology),t.rdfsLabel=Object(i.g)(o.rdfsLabel),t.amps=Object(i.g)(o.amps),t.volts=Object(i.g)(o.volts),t.notes=Object(i.g)(o.notes),t.plugLoadType=Object(i.g)(o.plugLoadType),t.receptecale=Object(i.g)(o.receptecale),a.setState({plugLoadModel:t})}else a.setState({plugLoadModel:l.n})}).catch(function(e){return e}),[2]})})},t.prototype.fetchComponent=function(e){return x(this,void 0,void 0,function(){var t=this;return L(this,function(n){return Object(u.o)(this.props.buildingName,e).then(function(e){return x(t,void 0,void 0,function(){var t,n;return L(this,function(o){switch(o.label){case 0:return t=this.state.equipmentInformation,e&&e.length>0?(n=[],[4,e.map(function(e){var t={ampere:Object(i.g)(e.ampere),location:Object(i.g)(e.location),rdfsLabelLocation:Object(i.g)(e.rdfsLabelLocation),profileLink:Object(i.g)(e.profile),name:Object(i.g)(e.name),rdfsLabel:Object(i.g)(e.rdfsLabel),phase:Object(i.g)(e.phase),volts:Object(i.g)(e.volts),quantity:Object(i.g)(e.quantity),description:Object(i.g)(e.description),notes:Object(i.g)(e.notes),componentType:Object(i.g)(e.type),userType:Object(i.g)(e.userType),manufacturer:Object(i.g)(e.manufacturer),manufactureDate:Object(i.g)(e.manufactureDate),lastInspectionDate:Object(i.g)(e.lastInspectionDate),lastServiceDate:Object(i.g)(e.lastServiceDate),lastRechargeDate:Object(i.g)(e.lastRechargeDate),nextInspectionDate:Object(i.g)(e.nextInspectionDate),model:Object(i.g)(e.model),inputCapacity:Object(i.g)(e.inputCapacity),inputCapacityUnits:Object(i.g)(e.inputCapacityUnits),outputCapacity:Object(i.g)(e.outputCapacity),outputCapacityUnits:Object(i.g)(e.outputCapacityUnits),componentFileName:Object(i.g)(e.componentFileName).split(","),enclosure:Object(i.g)(e.enclosure)};n.push(t)})]):[3,2];case 1:return o.sent(),t.components=n,a.setState({componentInformation:t}),[3,3];case 2:t.components=[],a.setState({componentInformation:t}),o.label=3;case 3:return[2]}})})}).catch(function(e){return e}),[2]})})},t.prototype.fetchRelatedDevices=function(e){return x(this,void 0,void 0,function(){var t=this;return L(this,function(n){switch(n.label){case 0:return[4,Object(u.d)(this.props.buildingName,e).then(function(e){return x(t,void 0,void 0,function(){var t,n,a,o;return L(this,function(l){switch(l.label){case 0:if(t=[],!(e&&e.length>0))return[3,4];n=0,l.label=1;case 1:return n<e.length?(a=e[n],[4,Object(y.q)(a)]):[3,4];case 2:o=l.sent(),t.push(o),l.label=3;case 3:return n++,[3,1];case 4:return this.setState({relatedEquipmentDevice:t}),[2]}})})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},t.prototype.fetchEnclosureDevices=function(e){return x(this,void 0,void 0,function(){var t,n=this;return L(this,function(a){switch(a.label){case 0:return t=this.props.buildingName,[4,Object(C.a)(t,e).then(function(e){return x(n,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return t=[],[4,Object(C.d)(e)];case 1:return t=n.sent(),this.setState({relatedComputingDevices:t}),[2]}})})})];case 1:return a.sent(),[4,Object(S.b)(t,e).then(function(e){return x(n,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return t=[],[4,Object(S.e)(e)];case 1:return t=n.sent(),this.setState({relatedNetworkDevices:t}),[2]}})})})];case 2:return a.sent(),[4,Object(y.g)(t,e).then(function(e){return x(n,void 0,void 0,function(){var t,n,a,o;return L(this,function(l){switch(l.label){case 0:if(t=this.state.relatedEquipmentDevice,!(e&&e.length>0))return[3,4];n=0,l.label=1;case 1:return n<e.length?(a=e[n],[4,Object(y.q)(a)]):[3,4];case 2:o=l.sent(),t.push(o),l.label=3;case 3:return n++,[3,1];case 4:return this.setState({relatedEquipmentDevice:t}),[2]}})})})];case 3:return a.sent(),[2]}})})},t.prototype.onDialogCancelButton=function(e){this.setState({showMatterportDialog:e})},t.prototype.setCollapseIcon=function(e){var t=e.currentTarget.children[0].className;e.currentTarget.children[0].className="fa fa-plus"==t?"fa fa-minus":"fa fa-plus"},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,a=t.buildingName,l=t.equipmentName,s=t.showEquipmentInfoOnly,u=this.state,p=u.componentInformation,y=u.equipment,N=u.equipmentInformation,C=u.lightingInformation,S=u.plugLoadModel,w=u.lampTypes,T=u.equipmentSweeps,x=u.selectedComponent,L=u.showMatterportDialog,I=u.relatedEquipmentDevice,j=u.relatedPoints,k=u.openComponentDetails,A=u.relatedComputingDevices,_=u.relatedNetworkDevices,F=u.inventory,R=u.selectedAssetInventoryObj,P=u.isShowModelDialog,M=u.selectedModelAsset,B=y.equipmentType,q=y.subclassType,H=y.profileFileName,V=y.ageMonth,W=y.ageYear,G=y.virtualBIM,z=y.floor,U=y.location,Q=JSON.parse(g.a.getItem("user")),J=Object(d.b)(Q,"info-equip","write"),Y=!(T&&T.length>0)&&(G&&G.includes("camera_position"));return o.createElement(o.Fragment,null,o.createElement("div",{className:"container-fluid"},!s&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement(m.a,{instance:n,buildingName:a,tabName:"Equip",itemName:l,showComponentButton:!0,showAuditTypes:!0,showBIMButtons:!1}),"\xa0",J&&o.createElement("button",{className:"btn-sm btn-success btn-fill pull-right",onClick:function(e){setTimeout(function(){window.location.hash=n+"/"+a+"/EditEquipment/"+l},200)}},o.createElement("i",{className:"fa fa-edit"})," Edit "))),o.createElement("br",null)),o.createElement("div",{className:"card"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("h3",null," ",y.rdfsLabel," Details"),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Floor"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.floorRdfsLabel}))),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group "},o.createElement("label",null,"Space"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.locationRdfsLabel}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Location Description"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.locationDescription})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Type"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.equipmentType&&y.equipmentType.replace(new RegExp("MiscAndProcess","g"),"Misc & Process")}))),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Source name/Descrp"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.rdfsLabelSource}))),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group "},o.createElement("label",null,"Sub Class"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.subclassType})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group "},o.createElement("label",null,"Cabinet / Panel"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.enclosure}))),y.subclassType&&"cable"==y.subclassType.toLocaleLowerCase()&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-2 col-sm-4"},o.createElement("div",{className:"form-group "},o.createElement("label",null,"Length"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.cableLength}))),o.createElement("div",{className:"col-md-1 col-sm-2"},o.createElement("div",{className:"form-group "},o.createElement("label",{style:{marginBottom:"15px"}}),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.cableUnit}))),o.createElement("div",{className:"col-md-2 col-sm-4"},o.createElement("div",{className:"form-group "},o.createElement("label",null,"Color"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.cableColor}))))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group "},o.createElement("label",null,"Power Source"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.powerSource}))),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group "},o.createElement("label",null,"Panel ID"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.panelID}))),o.createElement("div",{className:"col-md-3"},G&&o.createElement(o.Fragment,null," ",o.createElement("div",{className:"form-group margin-top"},o.createElement("br",null),o.createElement("button",{className:"btn btn-success",title:G,onClick:function(){T&&T.length>0?e.setState({showMatterportDialog:!0},function(){document.getElementById("btnVirtualBIMDialog").click()}):document.getElementById("btnNoStepsFound").click()}},"Virtual BIM")),o.createElement("button",{id:"btnVirtualBIMDialog",className:"hidden","data-toggle":"modal","data-target":"#virtualBIMDialog",title:"Add"},". "),L&&o.createElement(f.a,{id:"virtualBIMDialog",heading:"Virtual BIM Equipment View",showSaveButton:!1,sweeps:T,bimURL:G,isViewForm:!0,addCurrentSweep:Y,buildingName:this.props.buildingName,isRefreshDialog:!1,isSweepChangeable:!1,showFloorMap:!0,floor:z,onDialogCancelButton:this.onDialogCancelButton,showInBuildingRoutes:!0,space:U}),o.createElement("button",{id:"btnNoStepsFound",className:"hidden","data-toggle":"modal","data-target":"#NoStepsFound",title:"Add"},". "),o.createElement(v.a,{id:"NoStepsFound",heading:"Virtual BIM Equipment View",showSaveButton:!1,showCancelButton:!0},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("h4",{className:"modal-title",style:{textAlign:"center"}},"No Virtual Equipment View"),o.createElement("div",{className:"text-center"},o.createElement("br",null),o.createElement("a",{className:"modal-title","data-dismiss":"modal",style:{color:"black"},onClick:function(){window.location.href="#"+n+"/"+a+"/EditEquipment/"+l}},"Click here to add virtual equipment view")))))))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"Equipment Age:"),o.createElement("input",{id:"age",type:"number",disabled:!0,className:"form-control",value:y.age}))),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Year(s)"),o.createElement("input",{id:"age",type:"number",disabled:!0,className:"form-control",min:0,value:W}))),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Month(s)"),o.createElement("input",{id:"age",type:"number",disabled:!0,className:"form-control",min:0,value:V})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group "},o.createElement("label",null,"Breaker number 1"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.breaker1}))),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group "},o.createElement("label",null,"Breaker number 2"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.breaker2}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Breaker number 3"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.breaker3})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Manufacturer"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.manufacturer?y.manufacturer:""}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," Model#"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.model}))),o.createElement("div",{className:"col-md-3"},o.createElement("div",{className:"form-group "},o.createElement("div",{className:"col-md-8 p-0"},o.createElement("label",null," Serial"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.serial})),o.createElement("div",{className:"col-md-4 p-0"},o.createElement("label",null),o.createElement("div",{style:{marginTop:"3%"}},o.createElement(D.a,{isDisabled:!y||!y.serial,serialNumber:y&&y.serial?y.serial:""})))))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Manufacturer Date"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.manufacturerDate}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Last Inspection Date"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.lastInspectionDate?y.lastInspectionDate:""}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Last Service Date"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.lastServiceDate?y.lastServiceDate:""})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Last Recharge Date"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.lastRechargeDate?y.lastRechargeDate:""}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Next Inspection Date"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.nextInspectionDate?y.nextInspectionDate:""}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Install Date"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.installEquipmentDate})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"User Type"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.userType}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Equipment State"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:y.equipmentState})))),"Cooling"==y.equipmentType&&o.createElement("div",{className:"col-md-12 form-group"},o.createElement("h4",{className:"title padding-10"},"Cooling"),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"capacity"},"Capacity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"capacity",type:"text",disabled:!0,className:"form-control",value:y.capacity})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"units"},"Units:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"units",type:"text",disabled:!0,className:"form-control",value:y.units})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"refrigeranttype"},"Refrigerant Type:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"refrigeranttype",type:"text",disabled:!0,className:"form-control",value:y.refrigerantType}))),("Cooling"==y.equipmentType||"Heating"==y.equipmentType)&&o.createElement("div",{className:"col-md-12 form-group"},o.createElement("h4",{className:"title padding-10"},"Heating"),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"coiltype"},"Coil Type:")),o.createElement("div",{className:"col-md-2"},o.createElement("select",{id:"coiltype",className:"form-control",disabled:!0,value:y.coilType},o.createElement("option",{value:"",key:-2},"Select Coil Type"),o.createElement("option",{value:"Electric"},"Electric"),o.createElement("option",{value:"HotWater"},"Hot Water "),o.createElement("option",{value:"Steam"},"Steam"),o.createElement("option",{value:"NaturalGas"},"Natural Gas"))),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"inputcapacity"},"Input Capacity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"inputcapacity",type:"text",disabled:!0,className:"form-control",value:y.inputCapacity})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"inputunits"},"Input Units:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"inputunits",type:"text",disabled:!0,className:"form-control",value:y.inputUnits})),o.createElement("div",{className:"col-md-4"}),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"outputcapacity"},"Output Capacity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"outputcapacity",type:"text",disabled:!0,className:"form-control",value:y.outputCapacity})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"outputunits"},"Output Units:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"outputunits",type:"text",disabled:!0,className:"form-control",value:y.outputUnits}))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-9"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Notes"),o.createElement("textarea",{className:"form-control",disabled:!0,value:N.notes})))),H&&o.createElement("div",{className:"col-md-12"},"  ",o.createElement("br",null),o.createElement(E.a,{buildingName:a,assetOntology:l,showUploader:!1,entityType:"Equipment"})),o.createElement("br",null),"Lighting"===B&&C&&o.createElement("div",{className:"row m-0"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"panel-heading",style:{backgroundColor:"#174b54",color:"white",borderRadius:"5px"}},o.createElement("h4",{className:"panel-title"},o.createElement("div",null,o.createElement("span",{style:{marginLeft:"15px"}},"Lighting Information"),o.createElement("a",{className:"icn-collapse pull-right color-white","data-toggle":"collapse",id:"btn-collapse4",href:"#collapse4",onClick:function(t){e.setCollapseIcon(t)}},o.createElement("i",{className:"fa fa-minus"}))))),o.createElement("div",{id:"collapse4",className:"panel-collapse collapse in"},o.createElement("div",{className:"panel-body"},o.createElement("div",{style:{height:"auto"}},o.createElement(r.a,{lightingInformation:C,lampTypes:w,isView:!0,onLightingInformationChange:function(){}})))))),o.createElement("br",null),"MiscAndProcess"===B&&("PlugLoad"===q||"Custom"===q)&&S&&S.ontology&&o.createElement("div",{className:"row m-0"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"panel-heading",style:{backgroundColor:"#174b54",color:"white",borderRadius:"5px"}},o.createElement("h4",{className:"panel-title"},o.createElement("div",null,o.createElement("span",{style:{marginLeft:"15px"}},"Miscellaneous and Process Information"),o.createElement("a",{className:"icn-collapse pull-right color-white","data-toggle":"collapse",id:"btn-collapse5",href:"#collapse5",onClick:function(t){e.setCollapseIcon(t)}},o.createElement("i",{className:"fa fa-minus"}))))),o.createElement("div",{id:"collapse5",className:"panel-collapse collapse in"},o.createElement("div",{className:"panel-body"},o.createElement("div",{style:{height:"auto"}},("PlugLoad"===q||"Custom"===q)&&o.createElement(c.a,{isView:!0,plugLoadModel:S,heading:"PlugLoad"===q?"Plug Load":"Custom"===q?"Equipment":"",onPlugLoadModelChange:function(){}})))))),!s&&o.createElement(o.Fragment,null,o.createElement("br",null),o.createElement("div",{className:"row m-0"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"panel-heading",style:{backgroundColor:"#174b54",color:"white",borderRadius:"5px"}},o.createElement("h4",{className:"panel-title"},o.createElement("div",null,o.createElement("span",{style:{marginLeft:"15px"}},"Components"),o.createElement("a",{className:"icn-collapse pull-right color-white","data-toggle":"collapse",id:"btn-collapse",href:"#collapse",onClick:function(t){e.setCollapseIcon(t)}},o.createElement("i",{className:"fa fa-minus"}))))),o.createElement("div",{id:"collapse",className:"panel-collapse collapse in"},o.createElement("div",{className:"panel-body"},o.createElement("div",{style:{height:"auto"}},p.components&&p.components.length>0&&p.components.map(function(t,n){if(t.name){var l=Object(h.r)(t.location);return o.createElement("div",{key:n,className:"row padding-10"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-10 col-sm-9 col-xs-9",style:{paddingLeft:"30px"}},o.createElement("h5",null,o.createElement("b",null,n+1,"\xa0 - \xa0",t.rdfsLabel," - ",t.componentType,":"))),o.createElement("div",{className:"col-md-2 col-sm-3 col-xs-3 "},o.createElement("button",{className:"btn btn-primary active",style:{cursor:"pointer"},onClick:function(){e.setState({selectedComponent:t,openComponentDetails:!0},function(){document.getElementById("btnComponentDialog").click()})}},o.createElement("b",null," Detail ")))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Type"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:t.componentType})),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Component Label"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:t.rdfsLabel}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," Location"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:l})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-6"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," Description"),o.createElement("textarea",{className:"form-control",disabled:!0,value:t.description})))),o.createElement("div",{className:"col-md-12",style:{marginBottom:"0px"}},o.createElement("br",null),o.createElement(E.a,{buildingName:a,assetOntology:t.name,showUploader:!1,entityType:"Component"})),o.createElement("div",{className:"col-md-12"},o.createElement("hr",{style:{marginTop:"0px",marginBottom:"10px"}})))}})))))),o.createElement("br",null),o.createElement("div",{className:"row m-0"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"panel-heading",style:{backgroundColor:"#174b54",color:"white",borderRadius:"5px"}},o.createElement("h4",{className:"panel-title"},o.createElement("div",null,o.createElement("span",{style:{marginLeft:"15px"}},"Devices"),o.createElement("a",{className:"icn-collapse pull-right color-white","data-toggle":"collapse",id:"btn-collapse2",href:"#collapse2",onClick:function(t){e.setCollapseIcon(t)}},o.createElement("i",{className:"fa fa-minus"}))))),o.createElement("div",{id:"collapse2",className:"panel-collapse collapse in"},o.createElement("div",{className:"panel-body"},o.createElement("div",{style:{height:"auto"}},I&&I.length>0&&I.map(function(e,t){if(e.deviceName){var l=Object(h.r)(e.floor),i=Object(h.r)(e.location);return o.createElement("div",{key:t,className:"row padding-10"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-10 col-sm-9 col-xs-9",style:{paddingLeft:"30px"}},o.createElement("h5",null,o.createElement("b",null,t+1,"\xa0 - \xa0",e.rdfsLabel,":"))),o.createElement("div",{className:"col-md-2 col-sm-3 col-xs-3 "},o.createElement("button",{className:"btn btn-primary active",style:{cursor:"pointer"},onClick:function(){window.location.hash=n+"/"+a+"/Point/ViewDevice/Electronic/"+e.deviceName}},o.createElement("b",null," Detail ")))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Device Type"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:"Electronic Device"})),o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Moncon Type"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:e.monitoringControlDeviceType})),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Floor"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:l}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," Location"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:i})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Device ID"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:e.deviceID})),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Device State"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:e.deviceState}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"IP Address"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:e.wirelessConfig&&e.wirelessConfig.ipAddress}))),o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Mac Address"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:e.wirelessConfig&&e.wirelessConfig.thermostatMacAddress}))),o.createElement("div",{className:"col-md-12",style:{marginBottom:"0px"}},o.createElement("br",null),o.createElement(E.a,{buildingName:a,assetOntology:e.deviceName,showUploader:!1,entityType:"ElectronicDevice"})),o.createElement("div",{className:"col-md-12"},o.createElement("hr",{style:{marginTop:"0px",marginBottom:"10px"}})))}}),A&&A.length>0&&A.map(function(e,t){if(e.ontology){var l=Object(h.r)(e.floor),i=Object(h.r)(e.space);return o.createElement("div",{key:t,className:"row padding-10"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-10 col-sm-9 col-xs-9",style:{paddingLeft:"30px"}},o.createElement("h5",null,o.createElement("b",null,t+1,"\xa0 - \xa0",e.name,":"))),o.createElement("div",{className:"col-md-2 col-sm-3 col-xs-3 "},o.createElement("button",{className:"btn btn-primary active",style:{cursor:"pointer"},onClick:function(){window.location.hash=n+"/"+a+"/Point/ViewDevice/Computing/"+e.ontology}},o.createElement("b",null," Detail ")))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Device Type"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:"Computing Device"})),o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Controller IP Address"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:e.controllerIpAddress})),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Floor"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:l}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," Location"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:i})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Device ID"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:e.deviceID})),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Device State"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:e.deviceState})))),o.createElement("div",{className:"col-md-12",style:{marginBottom:"0px"}},o.createElement("br",null),o.createElement(E.a,{buildingName:a,assetOntology:e.ontology,showUploader:!1,entityType:"ComputingDevice"})),o.createElement("div",{className:"col-md-12"},o.createElement("hr",{style:{marginTop:"0px",marginBottom:"10px"}})))}}),_&&_.length>0&&_.map(function(e,t){if(e.ontology){var l=Object(h.r)(e.floor),i=Object(h.r)(e.location);return o.createElement("div",{key:t,className:"row padding-10"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-10 col-sm-9 col-xs-9",style:{paddingLeft:"30px"}},o.createElement("h5",null,o.createElement("b",null,t+1,"\xa0 - \xa0",e.name,":"))),o.createElement("div",{className:"col-md-2 col-sm-3 col-xs-3 "},o.createElement("button",{className:"btn btn-primary active",style:{cursor:"pointer"},onClick:function(){window.location.hash=n+"/"+a+"/Point/ViewDevice/Network/"+e.ontology}},o.createElement("b",null," Detail ")))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Device Type"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:"Network Device"})),o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"IP Address"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:e.ipAddress})),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Floor"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:l}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," Location"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:i})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Device ID"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:e.deviceID})),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Device State"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:e.deviceState}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Network Type"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:e.networkType}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Model"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:e.modelNo})))),o.createElement("div",{className:"col-md-12",style:{marginBottom:"0px"}},o.createElement("br",null),o.createElement(E.a,{buildingName:a,assetOntology:e.ontology,showUploader:!1,entityType:"ComputingDevice"})),o.createElement("div",{className:"col-md-12"},o.createElement("hr",{style:{marginTop:"0px",marginBottom:"10px"}})))}})))))),o.createElement("br",null),o.createElement("div",{className:"row m-0"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"panel-heading",style:{backgroundColor:"#174b54",color:"white",borderRadius:"5px"}},o.createElement("h4",{className:"panel-title"},o.createElement("div",null,o.createElement("span",{style:{marginLeft:"15px"}},"Points"),o.createElement("a",{className:"icn-collapse pull-right color-white","data-toggle":"collapse",id:"btn-collapse3",href:"#collapse3",onClick:function(t){e.setCollapseIcon(t)}},o.createElement("i",{className:"fa fa-minus"}))))),o.createElement("div",{id:"collapse3",className:"panel-collapse collapse in"},o.createElement("div",{className:"panel-body"},o.createElement("div",{style:{height:"auto"}},j&&j.length>0&&j.map(function(e,t){if(e.point){var l=Object(h.r)(Object(i.g)(e.floor)),r=Object(h.r)(Object(i.g)(e.space)),c=Object(h.r)(Object(i.g)(e.pointDevice));return o.createElement("div",{key:t,className:"row padding-10"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-10 col-sm-9 col-xs-9",style:{paddingLeft:"30px"}},o.createElement("h5",null,o.createElement("b",null,t+1,"\xa0 - \xa0",Object(i.g)(e.pointLabel),":"))),o.createElement("div",{className:"col-md-2 col-sm-3 col-xs-3 "},o.createElement("button",{className:"btn btn-primary active",style:{cursor:"pointer"},onClick:function(){window.location.hash=n+"/"+a+"/PointForm/View/"+Object(i.g)(e.point)}},o.createElement("b",null," Detail ")))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Type"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:Object(i.g)(e.pointType)})),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Function"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:c}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," P&ID Name"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:Object(i.g)(e.pointPIDName)}))),o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Device ID"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:Object(i.g)(e.pointId)}))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Point State"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:Object(i.g)(e.pointState)}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Floor"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:l}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," Location"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:r})))),o.createElement("div",{className:"col-md-12",style:{marginBottom:"0px"}},o.createElement("br",null),o.createElement(E.a,{buildingName:a,assetOntology:Object(i.g)(e.point),showUploader:!1,entityType:"Point"})))}})))))),o.createElement("br",null),o.createElement("div",{className:"row m-0"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"panel-heading",style:{backgroundColor:"#174b54",color:"white",borderRadius:"5px"}},o.createElement("h4",{className:"panel-title"},o.createElement("div",null,o.createElement("span",{style:{marginLeft:"15px"}},"Inventories"),o.createElement("a",{className:"icn-collapse pull-right color-white","data-toggle":"collapse",id:"btn-collapse6",href:"#collapse6",onClick:function(t){e.setCollapseIcon(t)}},o.createElement("i",{className:"fa fa-minus"}))))),o.createElement("div",{id:"collapse6",className:"panel-collapse collapse in"},o.createElement("div",{className:"panel-body"},o.createElement("div",{style:{height:"auto"}},F&&F.length>0&&F.map(function(t,n){if(t.ontology)return o.createElement("div",{key:n,className:"row padding-10"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-8 col-sm-8 col-xs-8",style:{paddingLeft:"30px"}},o.createElement("h5",null,o.createElement("b",null,n+1,"\xa0 ",t.manufacturer,":"))),o.createElement("div",{className:"col-md-4 col-sm-4 col-xs-4 "},o.createElement("button",{className:"btn btn-primary active",style:{cursor:"pointer"},onClick:function(){e.setState({selectedAssetInventoryObj:t,isShowModelDialog:!0,selectedModelAsset:t.modeledAsset},function(){document.getElementById("btn-assetInventoryViewDialog").click()})}},o.createElement("b",null," Detail ")))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Manufacturer"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:t.manufacturer})),o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Model"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:t.modelNo})),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"Serial"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:t.serialNo})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"State"),o.createElement("input",{disabled:!0,type:"text",className:"form-control",value:t.assetState})),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null,"WareHouse"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:Object(h.r)(t.warehouseOntology)}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," Mac Address"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:t.macAddress})))),o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-6"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," Notes"),o.createElement("textarea",{className:"form-control",disabled:!0,value:t.notes}))),o.createElement("div",{className:"col-md-3"}," ",o.createElement("div",{className:"form-group "},o.createElement("label",null," Lot Area"),o.createElement("input",{type:"text",disabled:!0,className:"form-control",value:Object(h.r)(t.lotAreaOntology)})))),o.createElement("div",{className:"col-md-12",style:{marginBottom:"0px"}},o.createElement("br",null),o.createElement(E.a,{buildingName:a,assetOntology:t.manufacturer,showUploader:!1,entityType:"Component"})),o.createElement("div",{className:"col-md-12"},o.createElement("hr",{style:{marginTop:"0px",marginBottom:"10px"}})))})))))),o.createElement("br",null)),o.createElement("br",null)))),o.createElement("button",{id:"btnComponentDialog",className:"hidden","data-toggle":"modal","data-target":"#addComponentDialog",title:"Details"},". "),o.createElement(v.a,{id:"addComponentDialog",isEditForm:!0,showCancelButton:!0,showSaveButton:!1,cancelButtonText:"Close",heading:"Component Detail",onCancelButtonClickActive:!0,onCancelButtonClick:function(){e.setState({openComponentDetails:!1})}},k&&o.createElement(b.a,{instance:this.props.instance,buildingName:a,isEdit:!0,redirectURL:window.location.hash,onComponentChange:function(){},component:x,isView:!0})),o.createElement("button",{id:"btn-assetInventoryViewDialog","data-toggle":"modal","data-target":"#assetInventoryViewDialog",type:"button",className:"btn btn-primary btn-fill hidden"},"."),P&&o.createElement(v.a,{isEditForm:!0,id:"assetInventoryViewDialog",heading:Object(h.r)(M)+" details",showSaveButton:!1,showCancelButton:!0,cancelButtonText:"Cancel",onCancelButtonClick:function(){e.setState({isShowModelDialog:!1})},onCancelButtonClickActive:!0},o.createElement(O.a,{buildingName:a,instance:n,assetInventoryModel:R,isView:!0})))},t}(o.Component);t.default=I},1156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(2),l=(n.n(o),n(727)),i=n(659),r=n(651),c=n(10),s=n(23),m=n(650),u=n(24),d=n(683),p=n(117),h=n(653),g=n(666),f=n(647),v=n(55),b=n(11),E=n(725),y=n(662),N=n(663),C=n(721),S=n(672),w=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),O=this&&this.__assign||function(){return(O=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},D=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},T=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},x=function(e){function t(t){var n=e.call(this,t)||this;return n.state={InsightInfo:Object(),Old_InsightInfo:Object(),InsightChanged:!1,Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},isSchedule:!1,deviceNumber:"",enclosure:""},space:{graphURL:"",rdfsLabel:"",spaceName:"",spaceInsights:[],detailsExpanded:!1},EquipmentList:[],currentChange:"",detailsExpanded:!1,localBTNState:!1,filteredInsight:[],buildingOptimalTStat:[],spaceOptimalTStat:[],spaces:[],spacesOptimalInfo:[],avgBuildingOptimalTStat:Object(),buildingInsightInfos:[],spaceInsightInfos:[],avgSpaceOptimalTStat:Object(),buildingOptimal:!1,spaceOptimal:!1,scheduleSelected:!1,callInterval:!0,controlStatus:"Manual",showLogs:!1,computingDevice:Object()},n.changeMode=n.changeMode.bind(n),n.changeOverrideState=n.changeOverrideState.bind(n),n.changeFanSetting=n.changeFanSetting.bind(n),n.increaseTemp=n.increaseTemp.bind(n),n.decreaseTemp=n.decreaseTemp.bind(n),n._fetchData=n._fetchData.bind(n),n._fetchInsightInfo=n._fetchInsightInfo.bind(n),n.changeStateLocal=n.changeStateLocal.bind(n),n.cancelSend=n.cancelSend.bind(n),n.resetChanges=n.resetChanges.bind(n),n.applyChanges=n.applyChanges.bind(n),n.handleOptimize=n.handleOptimize.bind(n),n._fetchInsights=n._fetchInsights.bind(n),n._fetchSelectedTStatData=n._fetchSelectedTStatData.bind(n),n.handleOptimalSelection=n.handleOptimalSelection.bind(n),n.handleScheduleSelection=n.handleScheduleSelection.bind(n),n.getRelatedEquipmentLabel=n.getRelatedEquipmentLabel.bind(n),n.setIntervalStart=n.setIntervalStart.bind(n),n}return w(t,e),t.prototype.componentDidMount=function(){return D(this,void 0,void 0,function(){var e;return T(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,this._fetchData()]:[3,4];case 1:return t.sent(),[4,this._fetchInsights()];case 2:return t.sent(),[4,this.fetchThermostatInfo()];case 3:t.sent(),this._fetchInsightInfo(!0),t.label=4;case 4:return e=JSON.parse(b.a.getItem("user")),v.q.emit("device remote control",e.contact),this.setIntervalStart(),[2]}})})},t.prototype.setIntervalStart=function(){var e=this;a&&clearInterval(a);var t=0;a=setInterval(function(){++t>=20&&(t=0,e._fetchInsightInfo(!1),Object(p.a)(!1))},1e3)},t.prototype.componentWillUnmount=function(){clearInterval(a)},t.prototype.handleScheduleSelection=function(e){return D(this,void 0,void 0,function(){return T(this,function(t){switch(t.label){case 0:return[4,Object(i.Y)(this.props.InsightName,e)];case 1:return t.sent(),e?Object(u.b)("Successfully Selected Schedule"):Object(u.b)("Successfully unSelected Schedule"),this.setState({scheduleSelected:e}),this._fetchData(),[2]}})})},t.prototype.handleOptimalSelection=function(e,t){var n=this.state,a=n.buildingOptimal,o=n.spaceOptimal;"spaceOptimal"==e?o=t:a=t,this.setState({spaceOptimal:o,buildingOptimal:a}),this.handleOptimize()},t.prototype.handleOptimize=function(){return D(this,void 0,void 0,function(){var e,t,n,a;return T(this,function(o){return e=this.state,t=e.avgBuildingOptimalTStat,n=e.avgSpaceOptimalTStat,a=e.spaceOptimal,e.buildingOptimal&&!a?this.setState({InsightInfo:t,InsightChanged:!0,currentChange:"Avg",controlStatus:"Optimize"}):this.setState({InsightInfo:n,InsightChanged:!0,currentChange:"Avg",controlStatus:"Optimize"}),[2]})})},t.prototype._fetchSelectedTStatData=function(){return D(this,void 0,void 0,function(){var e,t,n,a,o,l,s,m,d,p,h,g,f,v,b,E,y,N,C;return T(this,function(S){switch(S.label){case 0:e=this.state,t=e.buildingOptimalTStat,n=e.buildingInsightInfos,a=e.spaceInsightInfos,o=e.spaceOptimalTStat,l=e.buildingOptimal,s=e.spaceOptimal,p=0,S.label=1;case 1:return p<t.length?(m=t[p],(b=Object(c.g)(m.moncondevice))?[4,Object(r.v)(b,this.props.buildingName)]:[3,4]):[3,5];case 2:return E=S.sent(),[4,Object(i.s)(E).then(function(e){return!e||e&&e.error?(Object(u.a)("Error occurred while fetching thermostat info."),Object()):e}).catch(function(e){return Object()})];case 3:d=S.sent(),n.push(d),S.label=4;case 4:return p++,[3,1];case 5:p=0,S.label=6;case 6:if(!(p<o.length))return[3,12];if(h=o[p],!((g=h.spaceInsights)&&g.length>0))return[3,11];f=0,S.label=7;case 7:return f<g.length?(v=g[f],(b=Object(c.g)(v.moncondevice))?[4,Object(r.v)(b,this.props.buildingName)]:[3,10]):[3,11];case 8:return E=S.sent(),[4,Object(i.s)(E).then(function(e){return!e||e&&e.error?(Object(u.a)("Error occurred while fetching thermostat info."),Object()):e}).catch(function(e){return Object()})];case 9:y=S.sent(),a.push(y),S.label=10;case 10:return f++,[3,7];case 11:return p++,[3,6];case 12:return l=n.length>0,s=a.length>0,[4,Object(i.D)(n)];case 13:return N=S.sent(),[4,Object(i.D)(a)];case 14:return C=S.sent(),this.setState({avgBuildingOptimalTStat:N,avgSpaceOptimalTStat:C,buildingInsightInfos:n,spaceInsightInfos:a,buildingOptimal:l,spaceOptimal:s}),[2]}})})},t.prototype._fetchInsights=function(){return D(this,void 0,void 0,function(){var e,t,n,a,o,l,r,m,u,d,p,f,v,b,E;return T(this,function(y){switch(y.label){case 0:return(e=this.props.buildingName)?[4,Object(i.u)(e)]:[3,7];case 1:for(t=y.sent(),E=0;E<t.length;E++)n=t[E],Object(c.g)(n.moncondevice)&&Object(c.g)(n.rdfsLabel)&&Object(s.H)(Object(c.g)(n.moncondevice),Object(c.g)(n.rdfsLabel));for(a=this.state,o=a.spaces,l=a.spacesOptimalInfo,r=a.spaceOptimalTStat,m=a.buildingOptimalTStat,o=[],u=function(e){var n=t[e],a=Object(c.g)(n.space),l=Object(c.g)(n.spaceRdfsLabel);a&&l&&-1==o.findIndex(function(e){return e.ontology==a})&&o.push({ontology:a,rdfsLabel:l})},E=0;E<t.length;E++)u(E);l=[],r=[],m=[],d=function(e){var n,a,i,s,m,u,d;return T(this,function(p){switch(p.label){case 0:return n=o[e],[4,Object(h.f)(n.ontology)];case 1:return a=p.sent(),i=t.filter(function(e){return Object(c.g)(e.space)==n.ontology}),s={graphURL:a.graphURL?a.graphURL:"",rdfsLabel:n.rdfsLabel,spaceName:n.ontology,spaceInsights:i},l.push.apply(l,[s]),m=t.find(function(e){return Object(c.g)(e.space)==n.ontology}),u=[],m&&(u=Object(c.g)(m.spaceOptimalTStats).split(",")),d={graphURL:a.graphURL?a.graphURL:"",rdfsLabel:n.rdfsLabel,spaceName:n.ontology,spaceInsights:t.filter(function(e){return-1!=u.findIndex(function(t){return t==Object(c.g)(e.moncondevice)})})},r.push.apply(r,[d]),[2]}})},p=0,y.label=2;case 2:return p<o.length?[5,d(p)]:[3,5];case 3:y.sent(),y.label=4;case 4:return p++,[3,2];case 5:return[4,Object(g.c)(this.props.buildingName)];case 6:if((f=y.sent())&&f[0])for(v=f[0],v=(v=Object(c.g)(v.buildingOptimal)).split(","),b=function(e){var n=v[e],a=t&&t.length>0&&t[0]&&t.find(function(e){return Object(c.g)(e.moncondevice)==n});a&&m.push.apply(m,[a])},E=0;E<v.length;E++)b(E);this.setState({spaces:o,spacesOptimalInfo:l,spaceOptimalTStat:r,buildingOptimalTStat:m}),y.label=7;case 7:return[2]}})})},t.prototype._fetchData=function(){return D(this,void 0,void 0,function(){var e,t,n,a,o,l,i,s,u,d,g,f,v,b=this;return T(this,function(E){switch(E.label){case 0:return e=this.state.scheduleSelected,t=this.props,n=t.InsightName,a=t.buildingName,o=t.type,n?(Object(p.a)(!0),[4,Object(m.h)(this.props.buildingName)]):[3,8];case 1:return l=E.sent(),i=l&&l.length>0&&l.map(function(e){return{value:Object(c.g)(e.ontology),label:Object(c.g)(e.rdfsLabel)}}),s=Object(),u=Object(),d=Object(),"Optimal"!=o?[3,3]:[4,Object(h.f)(n)];case 2:return d=E.sent(),[3,7];case 3:return[4,Object(r.v)(n,a)];case 4:return(s=E.sent()).computingDevice?[4,Object(S.f)(s.computingDevice)]:[3,7];case 5:return g=E.sent(),[4,Object(S.d)(g)];case 6:(f=E.sent())&&f.length>0&&(u=f[0]),E.label=7;case 7:localStorage.getItem(s.deviceID)&&localStorage.getItem(s.deviceID).length>0&&(v=JSON.parse(localStorage.getItem(s.deviceID)),this.setState({InsightInfo:v,Old_InsightInfo:O({},v),InsightChanged:!1,currentChange:""})),e=s.isSchedule,this.setState({Moncon:s,computingDevice:u,space:d,EquipmentList:i,scheduleSelected:e},function(){return D(b,void 0,void 0,function(){return T(this,function(e){return[2]})})}),Object(p.a)(!1),E.label=8;case 8:return[2]}})})},t.prototype.fetchThermostatInfo=function(){return D(this,void 0,void 0,function(){var e,t,n,a,o,l,r;return T(this,function(c){switch(c.label){case 0:return Object(p.a)(!0),e=this.props,t=e.InsightName,n=e.buildingName,a=this.state,o=a.Moncon,l=a.controlStatus,this.setState({callInterval:!1}),[4,Object(i.B)(n,t).then(function(e){return!e||e&&e.error?(Object(u.a)("Error occurred while fetching thermostat info."),Object()):(e&&localStorage.setItem(o.deviceID,JSON.stringify(e)),e)}).catch(function(e){return Object()})];case 1:return r=c.sent(),this.setState({InsightInfo:r,Old_InsightInfo:O({},r),InsightChanged:!1,currentChange:"",callInterval:!0,controlStatus:r.thermostatControlStatus?r.thermostatControlStatus:l}),Object(p.a)(!1),[2]}})})},t.prototype._fetchInsightInfo=function(e){return D(this,void 0,void 0,function(){var t,n,a,o;return T(this,function(l){switch(l.label){case 0:return t=this.state,n=t.Moncon,a=t.controlStatus,n&&n.monitoringControl?(e&&Object(p.a)(!0,"Fetching data from Thermostat"),o=Object(),[4,Object(i.s)(n).then(function(e){return!e||e&&e.error?(Object(u.a)("Error occurred while fetching thermostat info."),Object()):(e&&localStorage.setItem(n.deviceID,JSON.stringify(e)),e)}).catch(function(e){return Object()})]):[2];case 1:return(o=l.sent())?(o.thermostatControlStatus=a,o.insightName=this.props.InsightName,o.timestamp=(new Date).toString(),[4,Object(i._0)(this.props.buildingName,o)]):[3,3];case 2:l.sent(),this.setState({InsightInfo:o,Old_InsightInfo:O({},o),InsightChanged:!1,currentChange:"",callInterval:!0}),l.label=3;case 3:return e&&Object(p.a)(!1),[2]}})})},t.prototype.changeMode=function(e,t){e.mode=t,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"mode"})},t.prototype.changeOverrideState=function(e,t,n){"Local"==this.state.controlStatus&&"Remote"==n?(n="Manual",e.override=t,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"state",controlStatus:n,localBTNState:!1})):"Manual"==n&&(e.override=t,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"state",controlStatus:n,localBTNState:!1}))},t.prototype.changeFanSetting=function(e,t){e.fan=t,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"fan"})},t.prototype.increaseTemp=function(e,t){"Heat"==t?e.heattemp=(e.heattemp?e.heattemp:0)+.555556:e.cooltemp=(e.cooltemp?e.cooltemp:0)+.555556,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"temp"})},t.prototype.decreaseTemp=function(e,t){"Heat"==t?e.heattemp=e.heattemp-.555556:e.cooltemp=e.cooltemp-.555556,this.setState({InsightInfo:e,InsightChanged:!0,currentChange:"temp"})},t.prototype.cancelSend=function(){this.setState({InsightChanged:!1,currentChange:""}),this._fetchInsightInfo(!1)},t.prototype.resetChanges=function(e){return D(this,void 0,void 0,function(){var t=this;return T(this,function(n){return this.setState({InsightChanged:!1,currentChange:""},function(){return D(t,void 0,void 0,function(){return T(this,function(t){switch(t.label){case 0:return[4,this._fetchInsightInfo(e)];case 1:return t.sent(),[2]}})})}),[2]})})},t.prototype.applyChanges=function(e,t){return D(this,void 0,void 0,function(){var n=this;return T(this,function(a){return Object(p.a)(!0),this.setState({InsightChanged:!1,currentChange:""},function(){return D(n,void 0,void 0,function(){var n;return T(this,function(a){switch(a.label){case 0:return"Local"!=(n=this.state.controlStatus)?[3,2]:[4,Object(i.Y)(this.props.InsightName,!1)];case 1:return a.sent(),[3,10];case 2:return"Manual"!=n?[3,4]:[4,Object(i.Y)(this.props.InsightName,!1)];case 3:return a.sent(),[3,10];case 4:return"Remote"!=n?[3,6]:[4,Object(i.Y)(this.props.InsightName,!1)];case 5:return a.sent(),[3,10];case 6:return"Schedule"!=n?[3,8]:[4,Object(i.Y)(this.props.InsightName,!0)];case 7:return a.sent(),[3,10];case 8:return"Optimize"!=n?[3,10]:[4,Object(i.Y)(this.props.InsightName,!1)];case 9:a.sent(),a.label=10;case 10:return t.thermostatControlStatus=n,t.insightName=this.props.InsightName,[4,Object(i._0)(this.props.buildingName,t)];case 11:return a.sent(),Object(i.J)(e,t,this.state.Old_InsightInfo,this.props.buildingName).then(function(e){e.success?Object(u.b)("Changes applied successfully. "):e.error&&Object(u.a)(e.reason)}).catch(function(e){Object(u.a)("Some error orccured. ")}),this.setIntervalStart(),Object(p.a)(!1),[2]}})})}),[2]})})},t.prototype.changeStateLocal=function(e){this.setState({localBTNState:e,controlStatus:"Local",InsightChanged:!0,currentChange:"state"})},t.prototype.getRelatedEquipmentLabel=function(e){var t=this.state.EquipmentList,n=Object();return(n=t&&t.find(function(t){return t.value==e}))&&n.label},t.prototype.bootDevice=function(){return D(this,void 0,void 0,function(){var e,t,n,a=this;return T(this,function(o){switch(o.label){case 0:return e=this.props.buildingName,t=this.state.computingDevice,!(n=JSON.parse(b.a.getItem("user")))||!n.role||"1"!=n.role&&"2"!=n.role?[3,3]:t.controllerIpAddress&&t.macID?(Object(p.a)(!0,"Booting Device"),[4,Object(i.L)(t,e).then(function(e){return D(a,void 0,void 0,function(){return T(this,function(t){return e.error?Object(u.a)(e.error):e&&setTimeout(function(){Object(u.b)("Device booted successfully. ")},3e3),Object(p.a)(!1),[2]})})}).catch(function(e){Object(u.a)("Some error orccured. ")})]):[3,2];case 1:return o.sent(),[3,3];case 2:Object(u.a)("No Mac ID or Controller IP for Computing Device: "+t.name),o.label=3;case 3:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.InsightInfo,a=t.Moncon,i=t.space,r=t.InsightChanged,c=t.detailsExpanded,m=t.buildingOptimal,u=t.spaceOptimal,p=t.controlStatus,h=t.showLogs,g=this.props,v=g.instance,S=g.buildingName,w=g.InsightName,O=g.type,D=g.hideTabs,T="Optimal"==O,x="Local"==p,L=n.mode==l.c.AUTO&&n.cooltemp<n.heattemp+.5,I="not refreshed";if(n&&n.timestamp&&(I=new Date(n.timestamp).toLocaleString()),h)return o.createElement(y.a,{instance:v,buildingName:S,fromEntityList:!0,module:N.a.Assets,ontology:a.monitoringControl,entityName:"Device",onLogClose:function(){return e.setState({showLogs:!1})}});var j=JSON.parse(b.a.getItem("user"));return o.createElement("div",{className:"content"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},!D&&o.createElement(d.a,{InsightName:w,ControlName:"InsightControl",buildingName:S,instance:v,type:O}),j&&"1"==j.role&&o.createElement("button",{className:"btn btn-md btn-primary btn-fill pull-right",style:{margin:10},title:"Logs",onClick:function(){e.setState({showLogs:!0})}}," ",o.createElement("img",{src:"assets/img/Logs.png",style:{width:25,height:18}})),j&&j.role&&("1"==j.role||"2"==j.role)&&o.createElement("button",{className:"btn btn-success active pull-right custom-outline-btn m-3",title:"Boot PI Board","data-toggle":"modal","data-target":"#bootDevice"}," ",o.createElement("i",{className:"fa fa-refresh"})," Boot PI Board"),o.createElement("div",{className:"card",id:"InsightsList"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"header"},o.createElement("h3",{className:"title"},o.createElement("strong",null,T?i.rdfsLabel:a.rdfsLabel)," "),!T&&o.createElement("h4",{className:"title"},o.createElement("strong",null,this.props.type.toUpperCase(),":",a&&a.relatedEquipment&&a.relatedEquipment.map(function(t,n){return o.createElement("span",{key:n},e.getRelatedEquipmentLabel(t.value),n+1==a.relatedEquipment.length?"":",")}),"STATUS:")," (",l.d[n.state],")"))),o.createElement("div",{className:"content"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-6 col-xs-12 tempCounter roomTemp pull-right"},o.createElement("div",null,"Room Temp"),o.createElement("div",{className:"counter"},Object(s.a)(n.spacetemp).toFixed(1),"\xb0F")),o.createElement("div",{className:"col-md-6 col-xs-12"},o.createElement("div",{className:"row"},(n.mode==l.c.HEAT||n.mode==l.c.AUTO)&&o.createElement(o.Fragment,null,o.createElement("div",{className:(n.mode==l.c.AUTO?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" tempCounter"},o.createElement("div",null,"Heat To"),o.createElement("div",{className:"counter"},Math.round(Object(s.a)(n.heattemp)),"\xb0F")),o.createElement("div",{className:(n.mode==l.c.AUTO?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" InsightControls"},o.createElement("div",{className:"btn-group-vertical"},o.createElement("button",{type:"button",className:"btn tempButton heatTo",disabled:x||L,onClick:function(){return e.increaseTemp(n,"Heat")}},o.createElement("div",null,o.createElement("i",{className:"fa fa-angle-up"})),o.createElement("div",null,"Warmer")),o.createElement("button",{type:"button",className:"btn tempButton coolTo",disabled:x,onClick:function(){return e.decreaseTemp(n,"Heat")}},o.createElement("div",null,"Cooler"),o.createElement("div",null,o.createElement("i",{className:"fa fa-angle-down"})))))),(n.mode==l.c.COOL||n.mode==l.c.AUTO)&&o.createElement(o.Fragment,null,o.createElement("div",{className:(n.mode==l.c.AUTO?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" tempCounter"},o.createElement("div",null,"Cool To"),o.createElement("div",{className:"counter"},Math.round(Object(s.a)(n.cooltemp)),"\xb0F")),o.createElement("div",{className:(n.mode==l.c.AUTO?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" InsightControls"},o.createElement("div",{className:"btn-group-vertical"},o.createElement("button",{type:"button",className:"btn tempButton heatTo",disabled:x,onClick:function(){return e.increaseTemp(n,"Cool")}},o.createElement("div",null,o.createElement("i",{className:"fa fa-angle-up"})),o.createElement("div",null,"Warmer")),o.createElement("button",{type:"button",className:"btn tempButton coolTo",disabled:x||L,onClick:function(){return e.decreaseTemp(n,"Cool")}},o.createElement("div",null,"Cooler"),o.createElement("div",null,o.createElement("i",{className:"fa fa-angle-down"}))))))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-6 col-xs-12 InsightRow pull-right"},o.createElement("div",{className:"btn-group"},!T&&o.createElement(o.Fragment,null,o.createElement("button",{type:"button",className:"btn btn-success "+("Local"==p?"btn-fill":""),onClick:function(){e.changeStateLocal(!0)}},"Local"),o.createElement("button",{type:"button",className:"btn btn-success "+("Remote"==p||"Schedule"==p||"Manual"==p||"Optimize"==p?"btn-fill":""),onClick:function(){return e.changeOverrideState(n,l.e.ON,"Remote")}},"Remote"),o.createElement("button",{type:"button",disabled:x,className:"btn btn-success "+("Manual"==p?"btn-fill":""),onClick:function(){return e.changeOverrideState(n,l.e.OFF,"Manual")}},"Manual")),o.createElement("button",{type:"button",className:"btn btn-success "+("Schedule"==p?"btn-fill":""),disabled:x,onClick:function(){e.setState({InsightChanged:!0,currentChange:"state",controlStatus:"Schedule"})}},"Schedule"),o.createElement("button",{type:"button",disabled:x,className:"btn btn-success "+("Optimize"==p?"btn-fill":""),onClick:function(){m&&u?document.getElementById("btnOptimize").click():e.handleOptimize()}},"Optimize"))),o.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",disabled:x,className:n.mode===l.c.OFF?"btn btn-fill":"btn",onClick:function(){return e.changeMode(n,l.c.OFF)}},"Off"),o.createElement("button",{type:"button",className:n.mode===l.c.HEAT?"btn btn-fill":"btn",disabled:x,onClick:function(){return e.changeMode(n,l.c.HEAT)}},"Heat"),o.createElement("button",{type:"button",className:n.mode===l.c.COOL?"btn btn-fill":"btn",disabled:x,onClick:function(){return e.changeMode(n,l.c.COOL)}},"Cool"),o.createElement("button",{type:"button",className:n.mode===l.c.AUTO?"btn btn-fill":"btn",disabled:x,onClick:function(){return e.changeMode(n,l.c.AUTO)}},"Auto")))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},o.createElement("div",{className:"InsightHeading"},o.createElement("i",{className:"fa fa-first-order"})," Fan"),o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",className:n.fan===l.b.AUTO?"btn btn-fill":"btn",disabled:x,onClick:function(){return e.changeFanSetting(n,l.b.AUTO)}},"Auto"),o.createElement("button",{type:"button",className:n.fan===l.b.ON?"btn btn-fill":"btn",disabled:x,onClick:function(){return e.changeFanSetting(n,l.b.ON)}},"On")))),a.monitoringControl&&a.monitoringControlDeviceType&&o.createElement(E.a,{instance:v,buildingName:S,monconType:a.monitoringControlDeviceType,moncon:a.monitoringControl,deviceId:a.deviceID,monconRDFsLabel:a.rdfsLabel}),!T&&o.createElement("div",{className:"accordion row padding-10",id:"accordionExample"+w,style:{paddingLeft:"30px",border:"1px solid #80808066",margin:"10px",borderRadius:"7px"}},o.createElement("div",{className:"",id:"headingOne"},o.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne"+w,style:{border:0,left:"-25px",position:"relative"},"aria-expanded":"true","aria-controls":"collapseOne"+w,onClick:function(){e.setState({detailsExpanded:!c})}},o.createElement("i",{className:c?"fa fa-minus":"fa fa-plus","aria-hidden":"true"}),"\xa0 Device Info")),o.createElement("div",{id:"collapseOne"+w,className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"+w},o.createElement("div",{className:"col-md-6 col-xs-12 padding-10"},o.createElement("h5",{className:"title"},o.createElement("strong",null,"IP Address:")," ",a.wirelessConfig&&a.wirelessConfig.ipAddress),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Controller IP Address:")," ",a.wirelessConfig.controllerIPAddress),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Manufacturer:")," ",a.manufacturer),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Model:")," ",a.model),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Device ID:")," ",a.deviceID?a.deviceID:""),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Last Data Synced At:")," ",I)))),o.createElement("div",{className:r?"InsightApplyChanges":"hidden"},!L&&o.createElement("h4",null,"Do you want to apply these changes?"),L&&o.createElement("h4",null," Both heating and cooling could be on at the same time with these setpoints, please modify your request"),!L&&o.createElement("div",null,o.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){return e.cancelSend()}},"Cancel"),"\xa0",o.createElement("button",{type:"button",className:"btn btn-fill btn-danger",onClick:function(){return e.resetChanges(!0)}},"Reset"),"\xa0",o.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:function(){return e.applyChanges(a,n)}},"Apply Changes"))))),o.createElement("button",{id:"btnOptimize",style:{display:"none"},"data-toggle":"modal","data-target":"#showOptimizeDialog"},"."),o.createElement(f.a,{id:"showOptimizeDialog",cancelButtonId:"cancelOptimizeDialog",onSaveButtonClick:function(){e.handleOptimize()},saveButtonText:"Yes",showCancelButton:!0,showSaveButton:!1,cancelButtonText:"Cancel",heading:"Select One"},o.createElement("div",{className:"card padding-10"},o.createElement("div",{className:"row text-center col-md-offset-1"},m&&o.createElement("div",{onClick:function(){e.handleOptimalSelection("buildingOptimal",!0),e.setState({spaceOptimal:!1},function(){document.getElementById("cancelOptimizeDialog").click()})},className:"col-md-5 padding-10 margin-5 text-center btn btn-lg btn-secondary",style:{cursor:"pointer"}},o.createElement("label",{className:"text-center title"}," Building Optimal ")),u&&o.createElement("div",{onClick:function(){e.handleOptimalSelection("spaceOptimal",!0),e.setState({buildingOptimal:!1},function(){document.getElementById("cancelOptimizeDialog").click()})},className:"col-md-5 padding-10 margin-5 text-center btn btn-lg btn-secondary",style:{cursor:"pointer"}},o.createElement("label",{className:"text-center title"}," Space Optimal "))))),o.createElement(C.a,{id:"bootDevice",heading:"Boot Device",cancelButtonText:"Cancel",showCreateButton:!0,createButtonText:"Boot",showRestoreButton:!0,showCancelButton:!0,onSaveButtonClick:function(){return e.bootDevice()}},o.createElement("h4",null,"Are you sure you want to boot device?"))))))},t}(o.Component);t.default=x},1175:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(727)),l=n(657),i=n.n(l),r=n(24),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},d=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={schedule:Object(),relayBoardsList:[],isDefrost:n.props.isDefrost,compressorADPDB:n.props.compressorADPDB?n.props.compressorADPDB:Object(),refEquipment:n.props.equipmentOntology?n.props.equipmentOntology:"",solutionEquipmentControlScreenSettings:n.props.solutionEquipmentControlScreenSettings?n.props.solutionEquipmentControlScreenSettings:Object()},n.addItem=n.addItem.bind(n),n.setDropdownValues=n.setDropdownValues.bind(n),n.onchangeHandler=n.onchangeHandler.bind(n),n.onSelectChangeHandler=n.onSelectChangeHandler.bind(n),n.onRelayStatusChangeHandler=n.onRelayStatusChangeHandler.bind(n),n}return c(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){return m(this,void 0,void 0,function(){var t=this;return u(this,function(n){return this.setState({schedule:e.schedule,deviceType:e.DeviceType,isDefrost:e.isDefrost,compressorADPDB:e.compressorADPDB,refEquipment:e.equipmentOntology,solutionEquipmentControlScreenSettings:e.solutionEquipmentControlScreenSettings},function(){t.setDropdownValues()}),[2]})})},t.prototype.setDropdownValues=function(){var e=this.state.deviceType,t=[];e&&-1==e.indexOf("OneRelay")?(t.push({ontology:"all",rdfsLabel:"All"}),t.push({ontology:"1",rdfsLabel:"Relay 1"}),t.push({ontology:"2",rdfsLabel:"Relay 2"}),t.push({ontology:"3",rdfsLabel:"Relay 3"}),t.push({ontology:"4",rdfsLabel:"Relay 4"})):t.push({ontology:"OneRelay",rdfsLabel:"Relay"}),this.setState({schedule:this.props.schedule,relayBoardsList:t})},t.prototype.addItem=function(){var e=this,t=this.state,n=t.schedule,a=t.deviceType,o=t.compressorADPDB,l=t.refEquipment,i=t.isDefrost,r=this.props,c=r.day,s=r.ControlName;n&&!n[c]&&(n[c]=[]);var m=new Date(new Date(new Date(new Date(Date.now()).setMinutes(0)).setHours(9)).setSeconds(0)),u=m;if(u=n[c].length>0&&n[c][n[c].length-1]&&n[c][n[c].length-1].start?new Date(new Date(new Date(new Date(Date.now()).setHours(new Date(n[c][n[c].length-1].start).getHours()+1)).setMinutes(0)).setSeconds(0)):m,a&&-1!=a.indexOf("OneRelay"))n[c].push({setPoint:"",setRelayName:"OneRelay",setRelayStatus:"",start:u});else if(s&&"CompressorControl"==s){var d=i?void 0:o&&o.LowTemp?o.LowTemp:0,p=i?"Defrost":"Box";n[c].push({setCoolPoint:""+d,setRelayStatus:"",start:u,compressorScheduleType:p,refEquipment:l,setRelayName:""})}else s&&"PTACControl"==s?n[c].push({setCoolPoint:"",setRelayStatus:"",start:u,setHeatPoint:""}):n[c].push({setPoint:"",setRelayName:"",setRelayStatus:"",start:u});this.setState({schedule:n},function(){e.props.update_Schedule(n)})},t.prototype.removeItem=function(e){var t=this,n=this.state.schedule,a=this.props.day;n[a].splice(e,1),this.setState({schedule:n},function(){t.props.update_Schedule(n)})},t.prototype.onchangeHandler=function(e,t){var n=this,a=this.state.schedule,o=this.props.day;a[o][e][t.target.name]=t.target.value,this.setState({schedule:a},function(){n.props.update_Schedule(a)})},t.prototype.onBlurSetPoint=function(e,t){var n=this,a=this.state.schedule,l=this.props,i=l.day,c=l.InsightInfo;c&&c.mode==o.c.AUTO&&a[i][e].setHeatPoint>=a[i][e].setCoolPoint&&("setHeatPoint"==t.target.name?a[i][e].setCoolPoint=a[i][e].setHeatPoint?parseInt(a[i][e].setHeatPoint)+1:parseInt(t.target.value)+1:a[i][e].setHeatPoint=a[i][e].setCoolPoint?parseInt(a[i][e].setCoolPoint)-1:parseInt(t.target.value)-1,Object(r.a)("Both heating and cooling could be on at the same time with these setpoints, please modify your request")),a[i][e][t.target.name]=t.target.value,this.setState({schedule:a},function(){n.props.update_Schedule(a)})},t.prototype.onBlurSetPointCompressor=function(e,t){var n=this,a=this.state,o=a.schedule,l=a.compressorADPDB,i=this.props,r=i.day,c=i.ControlName;o[r][e][t.target.name]=t.target.value,"CompressorControl"==c&&l&&(t.target.value<=l.LowTemp&&(o[r][e][t.target.name]=""+l.LowTemp),t.target.value>=l.HighTemp&&(o[r][e][t.target.name]=""+l.HighTemp)),this.setState({schedule:o},function(){n.props.update_Schedule(o)})},t.prototype.onSelectChangeHandler=function(e,t){var n=this,a=this.state.schedule,o=this.props.day;a[o][e][t.target.name]=t.target.value,this.setState({schedule:a},function(){n.props.update_Schedule(a)})},t.prototype.onRelayStatusChangeHandler=function(e,t,n){var a=this,o=this.state.schedule,l=this.props.day;o[l][e][t.target.name]=n,this.setState({schedule:o},function(){a.props.update_Schedule(o)})},t.prototype.startChangeHandler=function(e,t){var n=this,a=this.state.schedule,o=this.props.day;if(t){var l=t.getHours(),i=t.getMinutes(),r=t.getSeconds(),c=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),l,i,r);a[o][e].start=c.toString(),this.setState({schedule:a},function(){n.props.update_Schedule(a)})}},t.prototype.render=function(){var e=this,t=this.props,n=t.day,l=t.ControlName,r=t.InsightInfo,c=t.solutionEquipmentControlScreenSettings,m=this.state,u=m.schedule,p=m.relayBoardsList,h=m.deviceType,g=m.isDefrost,f=h&&-1!=h.indexOf("OneRelay"),v=function(e){var t=e.value,n=d(e,["value"]);return a.createElement("input",s({value:t.toLocaleString()},n))};return a.createElement(a.Fragment,null,a.createElement("div",{className:"card"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-3 col-sm-12 col-xs-12 headingText",style:{paddingLeft:30,paddingTop:15}},n),a.createElement("div",{className:"col-md-9 col-sm-12 col-xs-12 headingText no-padding"},u[n]&&u[n].map(function(t,n){var s=new Date(new Date(new Date(new Date(Date.now()).setMinutes(0)).setHours(9)).setSeconds(0)),m=t.start&&t.start.toString().length>10?new Date(t.start):s;return a.createElement("div",{className:"row padding-5"},"RelayControl"==l&&a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 headingText"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement("select",{className:"form-control",name:"setRelayName",disabled:f,value:t.setRelayName,onChange:function(t){e.onSelectChangeHandler(n,t)}},!f&&a.createElement("option",{value:"",key:-2},"Select"),p.map(function(e,t){return a.createElement("option",{key:t,value:e.ontology},e.rdfsLabel," ")}))),a.createElement("div",{className:"col-sm-6"},a.createElement("button",{type:"button",className:"off"==t.setRelayStatus?"btn btn-sm btn-fill":"btn btn-sm",name:"setRelayStatus",onClick:function(t){e.onRelayStatusChangeHandler(n,t,"off")}},"Off"),a.createElement("button",{type:"button",className:"on"==t.setRelayStatus?"btn btn-sm btn-fill":"btn btn-sm",name:"setRelayStatus",onClick:function(t){e.onRelayStatusChangeHandler(n,t,"on")}},"On")))),"CompressorControl"==l&&g&&c&&c.defrostAttached&&-1==c.defrostAttached.indexOf("no")&&a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 headingText"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12 center"},a.createElement("button",{type:"button",className:t.setRelayStatus==(c.defrostAttached.indexOf("inhibi")>-1?"Inhibited":"Active")?"btn btn-sm btn-fill":"btn btn-sm",name:"setRelayStatus",onClick:function(t){e.onRelayStatusChangeHandler(n,t,c.defrostAttached.indexOf("inhi")>-1?"Inhibited":"Active")}},c.defrostAttached.indexOf("inhi")>-1?"Inhibited":"Active"),a.createElement("button",{type:"button",className:t.setRelayStatus==(c.defrostAttached.indexOf("inhi")>-1?"Released":"Inactive")?"btn btn-sm btn-fill":"btn btn-sm",name:"setRelayStatus",onClick:function(t){e.onRelayStatusChangeHandler(n,t,c.defrostAttached.indexOf("inhibi")>-1?"Released":"Inactive")}},c.defrostAttached.indexOf("inhibi")>-1?"Allow Defrost":"Inactive")))),"CompressorControl"==l&&!g&&a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 headingText"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Set Cool Point"),a.createElement("input",{type:"number",max:"100",min:"0",className:"form-control",placeholder:"70 F\xb0",value:t.setPoint,name:"setPoint",onChange:function(t){return e.onchangeHandler(n,t)},onBlur:function(t){return e.onBlurSetPointCompressor(n,t)},style:{border:"1px solid gray"}})))),"PTACControl"==l&&a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 headingText"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-8"},a.createElement("input",{type:"number",max:"100",min:"0",className:"form-control",placeholder:"70 F\xb0",value:t.setPoint,name:"setPoint",onChange:function(t){return e.onchangeHandler(n,t)},style:{border:"1px solid gray"}})))),h&&h.toLowerCase().indexOf("thermostat")>-1&&a.createElement(a.Fragment,null," ","RelayControl"!=l&&r&&r.mode==o.c.HEAT&&a.createElement("div",{className:"col-md-4 col-sm-3 col-xs-3 headingText"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Set Heat Point"),a.createElement("input",{type:"number",max:"100",min:"0",className:"form-control",placeholder:"70 F\xb0",value:t.setHeatPoint,name:"setHeatPoint",onChange:function(t){e.onchangeHandler(n,t)},style:{border:"1px solid gray"}})),"RelayControl"!=l&&r&&r.mode==o.c.COOL&&a.createElement("div",{className:"col-md-4 col-sm-3 col-xs-3 headingText"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Set Cool Point"),a.createElement("input",{type:"number",max:"100",min:"0",className:"form-control",placeholder:"70 F\xb0",value:t.setCoolPoint,name:"setCoolPoint",onChange:function(t){e.onchangeHandler(n,t)},style:{border:"1px solid gray"}})),"RelayControl"!=l&&r&&(r.mode==o.c.AUTO||r.mode==o.c.OFF)&&a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 headingText"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6",style:{padding:"4px"}},a.createElement("span",null,"Heat To"),a.createElement("input",{type:"number",max:"100",min:"0",className:"form-control",placeholder:"70 F\xb0",value:t.setHeatPoint,name:"setHeatPoint",onChange:function(t){e.onchangeHandler(n,t)},onBlur:function(t){e.onBlurSetPoint(n,t)},style:{border:"1px solid gray"}})),a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6",style:{padding:"4px"}},a.createElement("span",null,"Cool To"),a.createElement("input",{type:"number",max:"100",min:"0",className:"form-control",placeholder:"70 F\xb0",value:t.setCoolPoint,name:"setCoolPoint",onChange:function(t){e.onchangeHandler(n,t)},onBlur:function(t){e.onBlurSetPoint(n,t)},style:{border:"1px solid gray"}}))))," "),h&&h.toLowerCase().indexOf("intesis")>-1&&a.createElement(a.Fragment,null," ",a.createElement("div",{className:"col-md-4 col-sm-3 col-xs-3 headingText"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Set Point"),a.createElement("input",{type:"number",max:"100",min:"0",className:"form-control",placeholder:"70 F\xb0",value:t.setPoint,name:"setPoint",onChange:function(t){e.onchangeHandler(n,t)},style:{border:"1px solid gray"}}))),a.createElement("div",{className:"col-md-4 col-sm-3 col-xs-3 headingText"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Start"),a.createElement(i.a,{className:"form-control",selected:m,name:"start",onChange:function(t){e.startChangeHandler(n,t)},showTimeSelect:!0,timeFormat:"HH:mm",showTimeSelectOnly:!0,dateFormat:"hh:mm aa",timeIntervals:15,customInput:a.createElement(v,{value:m.toLocaleTimeString(),onChange:function(t){e.startChangeHandler(n,t)}})})),a.createElement("div",{className:"col-md-2 col-sm-3 col-xs-3 headingText"},a.createElement("button",{className:"btn-sm btn-danger active shortcut-btn",onClick:function(){e.removeItem(n)}},"X")))}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2",style:{paddingTop:"10px",textAlign:"center"}},a.createElement("button",{className:"btn btn-success",onClick:function(){e.addItem()}},a.createElement("i",{className:"fa fa-plus"}))))))},t}(a.Component);t.a=p},1176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(683)),l=n(997),i=n(651),r=n(11),c=n(686),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),m=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},enclosure:"",deviceNumber:""}},n}return s(t,e),t.prototype.componentDidMount=function(){return m(this,void 0,void 0,function(){var e,t,n,a;return u(this,function(o){switch(o.label){case 0:return e=this.props,t=e.buildingName,n=e.InsightName,[4,Object(i.v)(n,t)];case 1:return a=o.sent(),this.setState({Moncon:a}),[2]}})})},t.prototype.render=function(){var e=this.props,t=e.instance,n=e.buildingName,i=e.InsightName,s=e.ControlName,m=e.type,u=e.hideTabs,d=this.state.Moncon,p=JSON.parse(r.a.getItem("user")),h=parseInt(p.role);return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},!u&&a.createElement(o.a,{InsightName:i,buildingName:n,instance:t,ControlName:s,type:m}),a.createElement("div",{className:"card",id:"InsightsList"},a.createElement(l.default,{instance:t,alarmType:4==h?c.a.CustomerAlarm:c.a.OperationalAlarm,deviceName:i,buildingName:n,isInTab:!0,deviceId:d.deviceID}))))))},t}(a.Component);t.default=d},1177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(683)),l=n(651),i=n(653),r=n(1178),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),s=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},m=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.graphTypes={"Ambient Temp":"http://18.188.22.84:5601/app/kibana#/visualize/edit/ac22fe30-2a9c-11e9-ac7b-91aa8480a091?embed=true&_g=(refreshInterval:(pause:!f,value:5000),time:(from:now-4h,mode:quick,to:now))&_a=(filters:!(),linked:!f,query:(language:lucene,query:''),uiState:(),vis:(aggs:!(),params:(expression:'.es(index%3D+test*,metric%3Davg:properties.cooltemp,timefield%3Dproperties.@timestamp),.es(index%3D+test*,metric%3Davg:properties.spacetemp,timefield%3Dproperties.@timestamp),.es(index%3Dtest*,metric%3Davg:properties.heattemp,timefield%3Dproperties.@timestamp),.es(index%3Dtest*,metric%3Davg:properties.fan,timefield%3Dproperties.@timestamp),.es(index%3D+test*,metric%3Davg:properties.fanstate,timefield%3Dproperties.@timestamp),.es(index%3D+test*,metric%3Davg:properties.mode,timefield%3Dproperties.@timestamp)',interval:auto),title:thermostat,type:timelion))","Set Point":"","Outside Temp":"",Combined:"http://18.188.117.70:3000/d/Hgyp5OpZz/office-lab?tab=queries&orgId=1&fullscreen&edit&panelId=4&_g=(refreshInterval:(pause:!f,value:3000),time:(from:now-4h,mode:quick,to:now))&refresh=3s"},n.state={selectedMode:"Combined",selectedGraph:"",InsightInfo:Object(),HVAC_List:[],Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},deviceNumber:"",enclosure:""},space:{graphURL:"",rdfsLabel:"",spaceName:"",spaceInsights:[],detailsExpanded:!1}},n.onGraphTypeChange=n.onGraphTypeChange.bind(n),n._fetchData=n._fetchData.bind(n),n}return c(t,e),t.prototype.componentDidMount=function(){return s(this,void 0,void 0,function(){return m(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchData()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.onGraphTypeChange=function(e){this.setState({selectedMode:e,selectedGraph:this.graphTypes[e]})},t.prototype._fetchData=function(){return s(this,void 0,void 0,function(){var e,t,n,a,o,r;return m(this,function(c){switch(c.label){case 0:return e=this.props,t=e.InsightName,n=e.buildingName,a=e.type,t?(o=Object(),r=Object(),"Optimal"!=a?[3,2]:[4,Object(i.f)(t)]):[3,5];case 1:return r=c.sent(),[3,4];case 2:return[4,Object(l.v)(t,n)];case 3:o=c.sent(),c.label=4;case 4:this.setState({selectedGraph:"Optimal"==a?r.graphURL:o.graphURL,Moncon:o,space:r}),c.label=5;case 5:return[2]}})})},t.prototype.render=function(){var e=this.props,t=e.instance,n=e.buildingName,l=e.InsightName,i=e.ControlName,c=e.type,s=e.hideTabs,m=this.state,u=m.selectedGraph,d=m.Moncon,p=d&&d.monitoringControlDeviceType&&-1!=d.monitoringControlDeviceType.toLowerCase().indexOf("intesis"),h=d&&d.monitoringControlDeviceType&&-1!=d.monitoringControlDeviceType.toLowerCase().indexOf("relayv4"),g=d&&d.monitoringControlDeviceType&&-1!=d.monitoringControlDeviceType.toLowerCase().indexOf("relayi1"),f=d&&d.monitoringControlDeviceType&&-1!=d.monitoringControlDeviceType.toLowerCase().indexOf("wattnode"),v=d&&d.monitoringControlDeviceType&&-1!=d.monitoringControlDeviceType.toLowerCase().indexOf("ats"),b=d&&d.monitoringControlDeviceType&&-1!=d.monitoringControlDeviceType.toLowerCase().indexOf("generator"),E=d&&d.monitoringControlDeviceType&&"CBW406"==d.monitoringControlDeviceType,y=d&&d.monitoringControlDeviceType&&"CBW418"==d.monitoringControlDeviceType,N=f||E||y||v||b,C=f||E||y||v||b,S=f||E||y||v||b;return u=u&&-1!=u.indexOf("http")?u:"https://"+u,a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},!s&&a.createElement(o.a,{InsightName:l,buildingName:n,instance:t,ControlName:i,type:c,hideADP:C,hideAlarms:S,hideSchedule:N}),a.createElement("div",{className:"card InsightsListGraph",id:"InsightsList"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 padding-10 "},a.createElement("div",{className:"content"},!p&&!h&&!g&&!y&&!E&&!f&&!v&&a.createElement(a.Fragment,null,!u&&a.createElement("p",{id:"txtnograph"},"No Graph Available"),u&&a.createElement("iframe",{src:u,height:"600",width:"100%"})),(p||h||g||f||v||b||E||y)&&a.createElement(a.Fragment,null,a.createElement(r.a,{Moncon:d,buildingName:n,instance:t}))))))))))))},t}(a.Component);t.default=u},1178:function(e,t,n){"use strict";var a,o=n(2),l=(n.n(o),n(998)),i=n.n(l),r=n(866),c=(n.n(r),n(23)),s=n(657),m=n.n(s),u=n(117),d=n(659),p=n(10),h=n(647),g=n(24),f=n(678),v=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),b=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},E=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},y={height:600},N={x:{type:"timeseries",tick:{fit:!0,format:"%m-%d %H:%M:%S"}},y:{label:"\xb0F"}},C={x:{type:"timeseries",tick:{fit:!0,format:"%m-%d %H:%M:%S"}},y:{label:"Amp, W, On/Off, Volts"}},S={x:{type:"timeseries",tick:{fit:!0,format:"%m-%d %H:%M:%S"}},y:{label:"Amp"}},w={x:{type:"timeseries",tick:{fit:!1,format:"%m-%d %H:%M:%S"}},y:{label:"W"}},O={x:{type:"timeseries",tick:{fit:!0,format:"%m-%d %H:%M:%S"}},y:{label:"State"}},D={x:{type:"timeseries",tick:{fit:!0,format:"%m-%d %H:%M:%S"}},y:{label:"Volts"}},T={x:{type:"timeseries",tick:{fit:!0,format:"%m-%d %H:%M:%S"}},y:{label:"Hz"}},x={x:{type:"timeseries",tick:{fit:!0,format:"%m-%d %H:%M:%S"}},y:{label:"MWh"}},L=function(e){function t(t){var n=e.call(this,t)||this,a=new Date(new Date(Date.now()).setHours(new Date(Date.now()).getHours()-1)),o=new Date(Date.now());return n.state={graphData:{x:"x",columns:[]},graphData1:{x:"x",columns:[]},graphData2:{x:"x",columns:[]},graphData3:{x:"x",columns:[]},graphData4:{x:"x",columns:[]},graphData5:{x:"x",columns:[]},graphData6:{x:"x",columns:[]},fourRelayGraphData:{x:"x",columns:[]},sixwattNodeGraphData:{x:"x",columns:[]},from:a,to:o,timeIntervalLog:{buildingName:n.props.buildingName,minutes:0,seconds:0},isRelayV4Device:!1,isRelayI1Device:!1,isIntesisDevice:!1,btnSeparateGraph:!1,btngraph:!1,showGraph:!1,isCBW406:!1,isCBW418:!1,isWattNode:!1,isATS:!1,showLoading:!0},n.handleGraph=n.handleGraph.bind(n),n.handleFromTimeChange=n.handleFromTimeChange.bind(n),n.handleToTimeChange=n.handleToTimeChange.bind(n),n.fetchIntesisGraphData=n.fetchIntesisGraphData.bind(n),n.getRelayV4GraphData=n.getRelayV4GraphData.bind(n),n.fetchGraphData=n.fetchGraphData.bind(n),n.handleTimeIntervalChange=n.handleTimeIntervalChange.bind(n),n.saveTimeLog=n.saveTimeLog.bind(n),n.getTimeLog=n.getTimeLog.bind(n),n.showgraphData=n.showgraphData.bind(n),n.getCBW406GraphData=n.getCBW406GraphData.bind(n),n.getCBW418GparhData=n.getCBW418GparhData.bind(n),n.getATSGraphData=n.getATSGraphData.bind(n),n.validation=n.validation.bind(n),n}return v(t,e),t.prototype.componentDidMount=function(){return b(this,void 0,void 0,function(){return E(this,function(e){switch(e.label){case 0:return Object(c.G)(!1),[4,this.getTimeLog()];case 1:return e.sent(),this.validation(),[2]}})})},t.prototype.validation=function(){var e=this.props.Moncon,t=e&&e.monitoringControlDeviceType&&-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("relayv4"),n=e&&e.monitoringControlDeviceType&&-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("intesis"),a=e&&e.monitoringControlDeviceType&&-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("relayi1"),o=e&&e.monitoringControlDeviceType&&"WattNode"==e.monitoringControlDeviceType;this.setState({isRelayV4Device:t,isIntesisDevice:n,isRelayI1Device:a,isWattNode:o})},t.prototype.handleGraph=function(){var e=[75,72,70,65,66,68,77,80],t=[73,78,72,68,74,80,65,69],n=[70,82,65,62,76,78,67,60],a=[];a=Object(c.t)(new Date(2020,0,1),new Date,8),e.unshift("heattemp"),t.unshift("cooltemp"),n.unshift("roomtemp"),a.unshift("x");var o={x:"x",columns:[a,e,t,n]};this.setState({graphData:o})},t.prototype.handleFromTimeChange=function(e){this.setState({from:e,graphData:{x:"x",columns:[]},graphData2:{x:"x",columns:[]},graphData3:{x:"x",columns:[]},graphData4:{x:"x",columns:[]},graphData5:{x:"x",columns:[]},graphData6:{x:"x",columns:[]}})},t.prototype.handleToTimeChange=function(e){this.setState({to:e,graphData:{x:"x",columns:[]},graphData2:{x:"x",columns:[]},graphData3:{x:"x",columns:[]},graphData4:{x:"x",columns:[]},graphData5:{x:"x",columns:[]},graphData6:{x:"x",columns:[]}})},t.prototype.handleTimeIntervalChange=function(e){var t=this.state.timeIntervalLog;t[e.target.name]=e.target.value,this.setState({timeIntervalLog:t})},t.prototype.fetchGraphData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r;return E(this,function(c){return e=this.props.Moncon,t=e&&e.monitoringControlDeviceType&&-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("relayv4"),n=e&&e.monitoringControlDeviceType&&-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("intesis"),a=e&&e.monitoringControlDeviceType&&-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("relayi1"),o=e&&e.monitoringControlDeviceType&&-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("ats"),l=e&&e.monitoringControlDeviceType&&"WattNode"==e.monitoringControlDeviceType,i=e&&e.monitoringControlDeviceType&&"CBW406"==e.monitoringControlDeviceType,r=e&&e.monitoringControlDeviceType&&"CBW418"==e.monitoringControlDeviceType,t&&(this.getRelayV4GraphData(),this.setState({isRelayV4Device:t})),a&&(this.getRelayI1GraphData(),this.setState({isRelayI1Device:a})),n&&(this.fetchIntesisGraphData(),this.setState({isIntesisDevice:n})),i&&(this.getCBW406GraphData(),this.setState({isCBW406:i})),r&&(this.getCBW418GparhData(),this.setState({isCBW418:r})),l&&(this.GetWattNodeBasicGraphData(),this.setState({isWattNode:l})),o&&(this.getATSGraphData(),this.setState({isATS:o})),[2]})})},t.prototype.fetchIntesisGraphData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,s,m,p,h,g=this;return E(this,function(f){switch(f.label){case 0:return e=this.props.Moncon,t=this.state,n=t.from,a=t.to,Object(u.a)(!0),o=[],l=[],i=[],r=[],s=[],m=[],p=[],h=[],e.deviceID?[4,Object(d.d)(e.deviceID,n,a).then(function(e){e.forEach(function(e){1!=isNaN(e.roomtemp)&&l.push(Object(c.a)(e.roomtemp)),1!=isNaN(e.setpoint)&&o.push(Object(c.a)(e.setpoint)),e.fanspeed?r.push(e.fanspeed):r.push("undefined"),e.horizontalvans?s.push(e.horizontalvans):s.push("undefined"),e.usermode?i.push(e.usermode):i.push("undefined"),e.verticalvans?m.push(e.verticalvans):m.push("undefined"),e.wifiSignal?p.push(e.wifiSignal):p.push("undefined"),h.push(new Date(e.timestamp))}),o.unshift("setpoint"),l.unshift("roomtemp"),r.unshift("fanspeed"),s.unshift("horizontalvans"),i.unshift("mode"),m.unshift("verticalvans"),p.unshift("wifiSignal"),h.unshift("x");var t={x:"x",columns:[h,o,l,r,s,i,m,p]};g.setState({graphData:t})})]:[3,2];case 1:f.sent(),f.label=2;case 2:return Object(u.a)(!1),[2]}})})},t.prototype.getRelayV4GraphData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,c,s,m,h,g,f,v,b,y,N,C,S,w,O,D,T,x,L,I,j,k,A,_,F,R,P,M;return E(this,function(E){switch(E.label){case 0:return e=this.props.Moncon,t=this.state,n=t.from,a=t.to,o=[],l=[],i=[],r=[],c=[],s=[],m=[],h=[],g=[],f=[],v=[],b=[],y=[],N=this.state.btngraph,e.deviceID?(N||Object(u.a)(!0,"loading graph data..."),[4,Object(d.g)(e.topic,n,a)]):[3,4];case 1:if(!((C=E.sent()).length>0))return[3,3];for(S=0;S<C.length;S++)(w=C[S])&&(o.push(w.mAmps_relay1),l.push(w.mAmps_relay2),i.push(w.mAmps_relay3),r.push(w.mAmps_relay4),c.push(w.nominal_src_volts),s.push(w.power_Wt_relay1),m.push(w.power_Wt_relay2),h.push(w.power_Wt_relay3),O=Object(d.a)(parseInt(w.v4relay_state)),y.push(new Date(w.timestamp)),3==O.length?O="0"+O:2==O.length?O="00"+O:1==O.length&&(O="000"+O),D=O[3],T=O[2],x=O[1],L=O[0],g.push(D||"0"),f.push(T||"0"),v.push(x||"0"),b.push(L||"0"));return[4,Object(d.x)(e.deviceName)];case 2:I=E.sent(),j=[],I[0]?(k=I[0],A=Object(p.g)(k.relayNames),j=A.split(",")):(j.push("Relay 1"),j.push("Relay 2"),j.push("Relay 3"),j.push("Relay 4")),o.unshift(j[0]+" Amp"),l.unshift(j[1]+" Amp"),i.unshift(j[2]+" Amp"),r.unshift(j[3]+" Amp"),c.unshift("Nominal Source Volts"),s.unshift(j[0]+" Watts"),m.unshift(j[1]+" Watts"),h.unshift(j[2]+" Watts"),y.unshift("x"),g.unshift(j[0]+" State"),f.unshift(j[1]+" State"),v.unshift(j[2]+" State"),b.unshift(j[3]+" State"),F={x:"x",columns:[y,o,l,i,r]},R={x:"x",columns:[y,s,m,h]},P={x:"x",columns:[y,g,f,v,b]},M={x:"x",columns:[y,c]},(_={x:"x",columns:[y,o,l,i,r,s,m,h,g,f,v,b,c]}).columns[_.columns.length-1][1]&&this.setState({fourRelayGraphData:_}),F.columns[F.columns.length-1][1]&&this.setState({graphData:F}),R.columns[R.columns.length-1][1]&&this.setState({graphData2:R}),P.columns[P.columns.length-1][1]&&this.setState({graphData3:P}),c[c.length-1]&&this.setState({graphData4:M}),E.label=3;case 3:N||Object(u.a)(!1),E.label=4;case 4:return[2]}})})},t.prototype.GetWattNodeBasicGraphData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,c,s,m,d,p,h,g,v,b,y,N,C,S,w,O,D,T,x,L,I,j,k;return E(this,function(E){switch(E.label){case 0:return e=this.props.Moncon,t=this.state,n=t.to,a=t.from,o=t.btngraph,l=e.topic.split(","),r=[],c=[],s=[],m=[],d=[],p=[],h=[],g=[],v=[],b=[],y=[],N=[],C=[],S=[],w=[],O=[],(i=[]).push("EnerygySum"),r.push("energyPOSSUM"),c.push("energySumR"),s.push("energyPosSumNR"),m.push("powerSum"),d.push("powerA"),p.push("powerB"),h.push("powerC"),g.push("voltA"),v.push("voltB"),b.push("voltC"),y.push("VoltAvgLL"),N.push("voltAB"),C.push("voltAC"),S.push("voltBC"),w.push("freq"),O.push("x"),e.deviceID?(o||Object(u.a)(!0,"loading graph data..."),[4,Object(f.h)(l[0],a,n)]):[3,2];case 1:(D=E.sent()).length>0&&(D.forEach(function(e){e&&(i.push(e.EnergySum),r.push(e.EnergyPosSum),c.push(e.EnergySumNR),s.push(e.EnergyPosSumNR),m.push(e.PowerSum),d.push(e.PowerA),p.push(e.PowerB),h.push(e.PowerC),g.push(e.VoltA),v.push(e.VoltC),b.push(e.VoltC),y.push(e.VoltAvgLL),N.push(e.VoltAB),C.push(e.VoltAC),S.push(e.VoltBC),w.push(e.Freq),O.push(new Date(e.timestamp)))}),x={x:"x",columns:[O,N,S,C]},L={x:"x",columns:[O,g,v,b]},I={x:"x",columns:[O,w]},j={x:"x",columns:[O,c]},k={x:"x",columns:[O,s]},(T={x:"x",columns:[O,d,p,h,m]}).columns[T.columns.length-1][1]&&this.setState({graphData:T}),x.columns[x.columns.length-1][1]&&this.setState({graphData2:x}),L.columns[L.columns.length-1][1]&&this.setState({graphData3:L}),I.columns[I.columns.length-1][1]&&this.setState({graphData4:I}),j.columns[j.columns.length-1][1]&&this.setState({graphData5:j}),k.columns[k.columns.length-1][1]&&this.setState({graphData6:k})),o||Object(u.a)(!1),E.label=2;case 2:return[2]}})})},t.prototype.getRelayI1GraphData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,c,s,m,u,h,g,f,v,b,y;return E(this,function(E){switch(E.label){case 0:return e=this.props.Moncon,t=this.state,n=t.to,a=t.from,o=[],l=[],i=[],r=[],c=[],s=[],m=[],u=[],[4,Object(d.f)(e.topic,a,n)];case 1:return(h=E.sent()).length>0?(h.forEach(function(e){e&&(o.push(e.i1relay_state),l.push(e.active_power_Watts),l.push(e.active_power_Watts),i.push(e.current_Amperes),r.push(e.frequency_Hz),c.push(e.import_active_energy_Wh),s.push(e.power_factor),m.push(e.voltage_volts),u.push(new Date(e.timestamp)))}),[4,Object(d.x)(e.deviceName)]):[3,3];case 2:g=E.sent(),f=[],g[0]?(v=g[0],b=Object(p.g)(v.relayNames),f=b.split(",")):f.push("Relay"),o.unshift(f[0]+" State"),l.unshift(f[0]+" Watts"),i.unshift(f[0]+"Amps"),r.unshift(f[0]+" frequency_Hz"),c.unshift(f[0]+" Watts/Hour"),s.unshift(f[0]+" Power Factor"),m.unshift(f[0]+" Volts"),u.unshift("x"),y={x:"x",columns:[u,o,l,l,i,r,c,s,m]},this.setState({graphData:y}),E.label=3;case 3:return[2]}})})},t.prototype.getCBW406GraphData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,c,s,m,d,p,h,g,v,b,y,N,C,S,w,O;return E(this,function(E){switch(E.label){case 0:return e=this.props.Moncon,t=this.state,n=t.from,a=t.to,(o=t.showLoading)&&Object(u.a)(!0),l=[],i=[],r=[],c=[],s=[],m=[],d=[],p=[],h=[],g=[],v=[],b=[],y=[],N=[],C=[],[4,Object(f.f)(e.topic,n,a)];case 1:return(S=E.sent()).length>0&&S.forEach(function(e){e&&(l.push(""+e.vin),i.push(""+e.register1),r.push(""+e.t3frontRefrigerator1.toFixed(2)),c.push(""+e.t4backRefrigerator1.toFixed(2)),s.push(""+e.t5evapfanRefrigerator1.toFixed(2)),m.push(""+e.t6comprinRefrigerator1.toFixed(2)),d.push(""+e.t7comproutRefrigerator1.toFixed(2)),p.push(""+e.t8probeRefrigerator1.toFixed(2)),h.push(""+e.t3frontRefrigerator2.toFixed(2)),g.push(""+e.t4backRefrigerator2.toFixed(2)),v.push(""+e.t5evapfanRefrigerator2.toFixed(2)),b.push(""+e.t6comprinRefrigerator2.toFixed(2)),y.push(""+e.t7comproutRefrigerator2.toFixed(2)),N.push(""+e.t8probeRefrigerator2.toFixed(2)),C.push(new Date(e.timestamp)))}),l.unshift("Vin"),i.unshift("Register"),r.unshift("Front"),c.unshift("Back"),s.unshift("Evaporator Fan"),m.unshift("Compressor In"),d.unshift("Compressor Out"),p.unshift("Solid"),h.unshift("Front"),g.unshift("Back"),v.unshift("Evaporator Fan"),b.unshift("Compressor In"),y.unshift("Compressor Out"),N.unshift("Solid"),C.unshift("x"),w={x:"x",columns:[l,i,r,c,s,m,d,p,C]},O={x:"x",columns:[l,i,h,g,v,b,y,N,C]},this.setState({graphData:w,graphData2:O}),o&&Object(u.a)(!1),[2]}})})},t.prototype.getCBW418GparhData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,c,s,m,d,p,h,g,v,b,y,N,C,S,w,O,D,T;return E(this,function(E){switch(E.label){case 0:return e=this.props.Moncon,t=this.state,n=t.from,a=t.to,Object(u.a)(!0),o=[],l=[],i=[],r=[],c=[],s=[],m=[],d=[],p=[],h=[],g=[],v=[],b=[],y=[],N=[],C=[],S=[],[4,Object(f.g)(e.topic,n,a)];case 1:return(w=E.sent()).length>0&&w.forEach(function(e){e&&(o.push(""+e.a13comprcurrRefrigerator1),l.push(""+e.a14efmcurrRefrigerator1),i.push(""+e.a15prRefrigerator1),r.push(""+e.a16doorRefrigerator1),c.push(""+e.a13comprcurrRefrigerator2),s.push(""+e.a14efmcurrRefrigerator2),m.push(""+e.a15prRefrigerator2),d.push(""+e.a16doorRefrigerator2),p.push(""+e.register1),h.push(""+e.serialNumber),g.push(""+e.minRecRefresh),v.push(""+e.poweranalogInput5),b.push(""+e.poweranalogInput6),y.push(""+e.poweranalogInput7),N.push(""+e.poweranalogInput8),C.push(new Date(e.timestamp)),S.push(""+360*e.a13comprcurrRefrigerator1))}),o.unshift("Compressor"),l.unshift("Freezer Defrost"),i.unshift("Pressure Sensor"),r.unshift("Door Contact"),c.unshift("Analog Input 5"),s.unshift("Analog Input 6"),m.unshift("Analog Input 7"),d.unshift("Analog Input 8"),p.unshift("Register"),h.unshift("Serial Number"),g.unshift("Refresh"),v.unshift("Power Analog Input 5"),b.unshift("Power Analog Input 6"),y.unshift("Power Analog Input 7"),N.unshift("Power Analog Input 8"),S.unshift("Amalgamated Watts"),C.unshift("x"),D={x:"x",columns:[C,c,s,m,d]},T={x:"x",columns:[C,v,b,y,N]},(O={x:"x",columns:[C,o,l,i,r]}).columns[O.columns.length-1][1]&&this.setState({graphData:O}),D.columns[D.columns.length-1][1]&&this.setState({graphData2:D}),T.columns[T.columns.length-1][1]&&this.setState({graphData3:T}),Object(u.a)(!1),[2]}})})},t.prototype.getATSGraphData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,c,s;return E(this,function(m){switch(m.label){case 0:return e=this.props.Moncon,t=this.state,n=t.to,a=t.from,o=[],l=[],i=[],r=e.topic&&e.topic.split(",")&&e.topic.split(",").length>0?e.topic.split(",")[0]:e.topic,[4,Object(f.e)(r,a,n)];case 1:return(c=m.sent()).length>0&&(c.forEach(function(e){e&&(o.push(e.Normal_Frequency),l.push(e.Emergency_Frequency),i.push(new Date(e.timestamp)))}),l.unshift("Emergency Frequency"),o.unshift("Normal Frequency"),i.unshift("x"),s={x:"x",xFormat:"%Y-%m-%dT%H:%M:%S.%LZ",columns:[i,l,o]},this.setState({graphData:s})),[2]}})})},t.prototype.saveTimeLog=function(){return b(this,void 0,void 0,function(){var e;return E(this,function(t){switch(t.label){case 0:return e=this.state.timeIntervalLog,[4,Object(d.l)(e)];case 1:return t.sent()&&Object(g.b)("Successfully Save TimeInterval"),[2]}})})},t.prototype.getTimeLog=function(){return b(this,void 0,void 0,function(){var e,t;return E(this,function(n){switch(n.label){case 0:return(e=this.props.buildingName)?[4,Object(d.h)(e)]:[3,2];case 1:(t=n.sent())[0]?this.setState({timeIntervalLog:t[0]}):this.setState({timeIntervalLog:{buildingName:this.props.buildingName,minutes:0,seconds:0}}),n.label=2;case 2:return[2]}})})},t.prototype.showgraphData=function(){var e=this,t=this.state,n=t.btngraph,o=t.to,l=t.from;n=!n,this.setState({btngraph:n},function(){n?(a&&clearInterval(a),a=setInterval(function(){o=new Date,(l=new Date).setMinutes(l.getMinutes()-30),e.setState({to:o,from:l},function(){e.fetchGraphData()})},5e3)):clearInterval(a)})},t.prototype.render=function(){var e=this,t=this.state,n=t.from,a=t.to,l=t.graphData,r=t.isRelayV4Device,c=t.graphData2,s=t.graphData3,u=t.graphData4,d=t.graphData5,p=t.graphData6,g=t.isRelayI1Device,f=t.isIntesisDevice,v=t.btnSeparateGraph,b=t.fourRelayGraphData,E=t.timeIntervalLog,L=t.btngraph,I=t.isCBW406,j=t.isCBW418,k=t.isWattNode,A=t.isATS,_={x:{show:!0},y:{show:!0}},F=o.createElement(i.a,{data:l,size:y,axis:r?S:N,unloadBeforeLoad:!0,grid:_}),R=o.createElement(i.a,{data:l,size:y,axis:g?S:N,unloadBeforeLoad:!0,grid:_}),P=o.createElement(i.a,{data:b,size:y,axis:C,unloadBeforeLoad:!0,grid:_}),M=o.createElement(i.a,{data:c,size:y,axis:w,unloadBeforeLoad:!0,grid:_}),B=o.createElement(i.a,{data:s,size:y,axis:O,unloadBeforeLoad:!0,grid:_}),q=o.createElement(i.a,{data:u,size:y,axis:D,unloadBeforeLoad:!0,grid:_}),H=o.createElement(i.a,{data:l,size:y,axis:N,unloadBeforeLoad:!0,grid:_}),V=o.createElement(i.a,{data:c,size:y,axis:N,unloadBeforeLoad:!0,grid:_}),W=o.createElement(i.a,{data:l,size:y,axis:S,unloadBeforeLoad:!0,grid:_}),G=o.createElement(i.a,{data:l,size:y,axis:w,unloadBeforeLoad:!0,grid:_}),z=o.createElement(i.a,{data:c,size:y,axis:D,unloadBeforeLoad:!0,grid:_}),U=o.createElement(i.a,{data:s,size:y,axis:D,unloadBeforeLoad:!0,grid:_}),Q=o.createElement(i.a,{data:u,size:y,axis:T,unloadBeforeLoad:!0,grid:_}),J=o.createElement(i.a,{data:d,size:y,axis:x,unloadBeforeLoad:!0,grid:_}),Y=o.createElement(i.a,{data:p,size:y,axis:x,unloadBeforeLoad:!0,grid:_}),K=o.createElement(i.a,{data:c,size:y,axis:S,unloadBeforeLoad:!0,grid:_}),X=o.createElement(i.a,{data:s,size:y,axis:S,unloadBeforeLoad:!0,grid:_}),Z=o.createElement(i.a,{data:l,size:y,axis:T,unloadBeforeLoad:!0,grid:_});return o.createElement("div",{className:"row col-md-12",id:"divGraphs"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-2 col-md-offset-10"})),o.createElement("br",null),!L&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row showhide timeLine col-md-6"},o.createElement("div",{className:"col-md-4 col-sm-6"},o.createElement("div",{className:"col-md-2 padding-5"},o.createElement("label",null,"From: \xa0")),o.createElement("div",{className:"col-md-10 no-padding"},o.createElement(m.a,{id:"startTime",className:"form-control",selected:n,onChange:function(t){return e.handleFromTimeChange(t)},timeFormat:"HH:mm",timeIntervals:15,showTimeSelect:!0,dateFormat:"yyyy/MM/d h:mm aa",timeCaption:"time"}))),o.createElement("div",{className:"col-md-4 col-sm-6"},o.createElement("div",{className:"col-md-1 padding-5"},o.createElement("label",null,"To: \xa0")),o.createElement("div",{className:"col-md-10 no-padding"},o.createElement(m.a,{id:"startTime",className:"form-control",selected:a,onChange:function(t){return e.handleToTimeChange(t)},timeFormat:"HH:mm",timeIntervals:15,showTimeSelect:!0,dateFormat:"yyyy/MM/d h:mm aa",timeCaption:"time"}))))),o.createElement("div",{className:"row"},!L&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"col-md-2 padding-5"},o.createElement("label",{style:{color:"#fff"}},"From: \xa0")),o.createElement("div",{className:"col-md-10 no-padding"},o.createElement(m.a,{id:"startTime",className:"form-control",selected:n,onChange:function(t){return e.handleFromTimeChange(t)},timeFormat:"HH:mm",timeIntervals:15,showTimeSelect:!0,dateFormat:"yyyy/MM/d h:mm aa",timeCaption:"time"}))),o.createElement("div",{className:"col-md-3 col-sm-3"},o.createElement("div",{className:"col-md-1 padding-5"},o.createElement("label",{style:{color:"#fff"}},"To: \xa0")),o.createElement("div",{className:"col-md-10 no-padding"},o.createElement(m.a,{id:"startTime",className:"form-control",selected:a,onChange:function(t){return e.handleToTimeChange(t)},timeFormat:"HH:mm",timeIntervals:15,showTimeSelect:!0,dateFormat:"yyyy/MM/d h:mm aa",timeCaption:"time"})))),o.createElement("div",{className:"col-md-6 col-sm-6"},o.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){return e.fetchGraphData()}},o.createElement("i",{className:"fa fa-bar-chart","aria-hidden":"true"}),"Load Graph"),o.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){e.setState({btnSeparateGraph:!v})},style:{margin:"0 5px"}},o.createElement("i",{className:"fa fa-bar-chart","aria-hidden":"true"}),v?"Combine":"Separate"," Graphs"),o.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:this.showgraphData,style:{margin:"0 5px"}},o.createElement("i",{className:"fa fa-bar-chart","aria-hidden":"true"}),L?"Hide":"Show"," Live Graph"))),f&&l&&l.columns&&l.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},F),g&&l&&l.columns&&l.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},R),I&&l&&l.columns&&l.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Refrigerator 1")),H),I&&l&&l.columns&&l.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Refrigerator 2")),V),j&&l&&l.columns&&l.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Refrigerator ")),W),j&&c&&c.columns&&c.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Analog Inputs")),K),j&&s&&s.columns&&s.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Power Analog Inputs")),X),A&&l&&l.columns&&l.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},Z),k&&l&&l.columns&&l.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Power")),G),k&&c&&c.columns&&c.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Phase Voltage")),z),k&&s&&s.columns&&s.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Voltage")),U),k&&u&&u.columns&&u.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Frequency")),Q),k&&d&&d.columns&&d.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Energy Sum Non-resettable")),J),k&&p&&p.columns&&p.columns.length>0&&o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},o.createElement("h4",{className:"no-padding no-margin-color-textalign"},o.createElement("strong",null,"Positive Energy Sum Non-resettable")),Y),!v&&r&&b&&b.columns&&b.columns.length>0&&o.createElement("div",{className:"row margin-top-25px  pdfDiv",id:"DeviceStatusGraph"},P),v&&r&&l&&c&&s&&u&&s.columns[1]&&u.columns[1]&&s.columns&&l.columns&&s.columns.length>0&&u.columns&&u.columns.length>0&&l.columns.length>0&&o.createElement(o.Fragment,null," ",o.createElement("div",{id:"DeviceStatusGraph"},o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},F),o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceGraphWatt"},M),o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceGraphState"},B),o.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceGraphVolts"},q))," "),o.createElement("button",{id:"addTimeIntervalLog",className:"hidden","data-toggle":"modal","data-target":"#addTimeIntervalLogDialog",title:"Add"}," "," ",o.createElement("i",{className:"fa fa-plus"})," "),o.createElement(h.a,{id:"addTimeIntervalLogDialog",saveButtonText:"Save",heading:"Time Interval Log",onSaveButtonClick:function(){e.saveTimeLog()},disableSaveButton:!1},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 padding-5"},o.createElement("label",null,"Time Interval:")))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12 col-md-offset-2"},o.createElement("div",{className:"col-md-1 padding-5"},o.createElement("label",null,"Minute:")," "),o.createElement("div",{className:"col-md-3"},o.createElement("input",{className:"form-control",type:"number",name:"minutes",value:E.minutes,onChange:function(t){e.handleTimeIntervalChange(t)}})),o.createElement("div",{className:"col-md-1 padding-5"},o.createElement("label",null,"Second:")," "),o.createElement("div",{className:"col-md-3"},o.createElement("input",{className:"form-control",type:"number",name:"seconds",value:E.seconds,onChange:function(t){e.handleTimeIntervalChange(t)}}))))))},t}(o.Component);t.a=L},1179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var a,o=n(2),l=(n.n(o),n(985)),i=n(19),r=n(653),c=n(691),s=n(53),m=n(671),u=n(651),d=n(10),p=n(657),h=n.n(p),g=n(647),f=n(117),v=n(846),b=n(1106),E=n(686),y=n(803),N=n(650),C=n(23),S=n(780),w=n(665),O=n(11),D=n(660),T=n(719),x=n(716),L=n(680),I=n(654),j=n(1107),k=n(672),A=n(715),_=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),F=this&&this.__assign||function(){return(F=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},R=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},P=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},M=n(879),B=n(877),q=function(t){function n(e){var n=t.call(this,e)||this;return n.state={point:Object(),oldModel:Object(),assets:[],_spaceList:[],floors:[],cableEquipments:[],components:[],sourceSinkcomponents:[],isEdit:!1,_pointFunctions:[],selectedPointFunctions:[],_pointTypes:[],deviceList:[],newLocation:Object(),equipment:Object(),lightingInformation:Object(),lampTypes:[],isQrCameraMode:!1,isHistorian:!1,pointsListDD:[],relatedPointsListDD:[],terminalPointsListForAsset1:[],terminalPointsListForAsset2:[],selectedDevice:Object(),deviceSensedList:[],isSensedValueBoolean:!1,isChecked:!1,wireColors:[]},a=n,n.handlePointForm=n.handlePointForm.bind(n),n.handlePointFunctions=n.handlePointFunctions.bind(n),n.getData=n.getData.bind(n),n._getAssets=n._getAssets.bind(n),n._getSpacesList=n._getSpacesList.bind(n),n.handleFileAttachment=n.handleFileAttachment.bind(n),n._fetchPointFunctions=n._fetchPointFunctions.bind(n),n.handleInstallDateChange=n.handleInstallDateChange.bind(n),n.handleCommissioningDateChange=n.handleCommissioningDateChange.bind(n),n.handleDeviceSelect=n.handleDeviceSelect.bind(n),n.savePoint=n.savePoint.bind(n),n.mergePoint=n.mergePoint.bind(n),n.getNewDeviceLabel=n.getNewDeviceLabel.bind(n),n.handleSpaceSelect=n.handleSpaceSelect.bind(n),n.getNewSpaceLabel=n.getNewSpaceLabel.bind(n),n.handleAssetSelect=n.handleAssetSelect.bind(n),n.onEquipmentChange=n.onEquipmentChange.bind(n),n._saveEquipment=n._saveEquipment.bind(n),n.getNewAssetLabel=n.getNewAssetLabel.bind(n),n.onChangeFunction=n.onChangeFunction.bind(n),n.addNewPointFunction=n.addNewPointFunction.bind(n),n.handlePointTypeSelect=n.handlePointTypeSelect.bind(n),n.onChangePointType=n.onChangePointType.bind(n),n.addNewPointType=n.addNewPointType.bind(n),n._fetchPointTypes=n._fetchPointTypes.bind(n),n.updateSpace=n.updateSpace.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n.handleScan=n.handleScan.bind(n),n.restoreSelectedVersion=n.restoreSelectedVersion.bind(n),n.fetchSourceSinkPointsList=n.fetchSourceSinkPointsList.bind(n),n.handleSinkSourceAssetSelect=n.handleSinkSourceAssetSelect.bind(n),n.handleSinkSourceComponentSelect=n.handleSinkSourceComponentSelect.bind(n),n.handleRelatedPoints=n.handleRelatedPoints.bind(n),n.onChangePointConnectedHandler=n.onChangePointConnectedHandler.bind(n),n.onChangeSoftwareAssetTypeHandler=n.onChangeSoftwareAssetTypeHandler.bind(n),n.onSpaceConnectedHandler=n.onSpaceConnectedHandler.bind(n),n.getMonconSensedAttributes=n.getMonconSensedAttributes.bind(n),n.getValuesFromMonconSensedAttribute=n.getValuesFromMonconSensedAttribute.bind(n),n.handleRulesChange=n.handleRulesChange.bind(n),n.handleWireColor=n.handleWireColor.bind(n),n}return _(n,t),n.prototype.componentDidMount=function(){return R(this,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:return this.props.buildingName?(Object(f.a)(!0),[4,this.getData()]):[3,3];case 1:return t.sent(),[4,this._getAssets()];case 2:t.sent(),Object(f.a)(!1),t.label=3;case 3:return this.props.PointName||((e=this.state.point).point=Object(C.w)(12),e.pointState="Planned",this.setState({point:e})),[2]}})})},n.prototype.getData=function(){return R(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,c,s,p,h,g,f,v,b=this;return P(this,function(E){switch(E.label){case 0:return e=this.props,t=e.buildingName,n=e.PointName,a=Object(),[4,Object(m.m)()];case 1:return o=E.sent(),[4,Object(m.o)()];case 2:return l=E.sent(),[4,Object(D.f)(this.props.buildingName)];case 3:return i=E.sent(),[4,Object(N.k)(this.props.buildingName)];case 4:return r=E.sent(),c=[],[4,Object(u.z)(this.props.buildingName)];case 5:return c=E.sent(),[4,Object(k.f)()];case 6:return[4,E.sent().map(function(e){return e.moncondevice=e.ontology,e.rdfsLabel=e.name,e.isComputing=!0,e})];case 7:return s=E.sent(),[4,Object(A.f)()];case 8:return[4,E.sent().map(function(e){return e.moncondevice=e.ontology,e.rdfsLabel=e.name,e.isNetwork=!0,e})];case 9:return p=E.sent(),n?[4,Object(m.l)(t,n).then(function(e){return R(b,void 0,void 0,function(){var t,n;return P(this,function(a){switch(a.label){case 0:return t=e[0],n=Object(),t&&t.point&&Object(d.g)(t.point)?[4,this.mergePoint(t)]:[3,2];case 1:n=a.sent(),a.label=2;case 2:return[2,n]}})})})]:[3,11];case 10:return a=E.sent(),[3,12];case 11:a.assetConnectedAs="None",a.isConnectedTo="Device",E.label=12;case 12:return""!=a.pointId&&a.pointId?[3,14]:(h=Object(C.u)(7).toString(),[4,Object(m.a)(h,this.props.buildingName).then(function(e){e&&e[0]?a.pointId="":a.pointId=h})]);case 13:E.sent(),E.label=14;case 14:return g=Object(),a.monconDevice?(f=c.find(function(e){return Object(d.g)(e.moncondevice)==a.monconDevice}))?[4,Object(u.q)(f)]:[3,16]:[3,16];case 15:g=E.sent(),E.label=16;case 16:return s&&s.length>0&&s[0]&&c.push.apply(c,s),p&&p.length>0&&p[0]&&c.push.apply(c,p),c=c.filter(function(e,t){var n=JSON.stringify(e);return t===c.findIndex(function(e){return JSON.stringify(e)===n})}),v=[],v="Sensed"==a.pointType?o.filter(function(e){return"Actuator"==Object(d.g)(e.point)||"Sensor"==Object(d.g)(e.point)}):o,this.setState({floors:i,_pointFunctions:o,_pointTypes:l,cableEquipments:r,deviceList:c,point:a,selectedDevice:g,oldModel:F({},a),selectedPointFunctions:v,isEdit:a.point==this.props.PointName},function(){return R(b,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return n?"Component"!=a.isConnectedTo?[3,2]:[4,this._getComponents(!1)]:[3,10];case 1:e.sent(),e.label=2;case 2:return"Component"!=a.sinkSourceAssetType?[3,4]:[4,this._getComponents(!0)];case 3:e.sent(),e.label=4;case 4:return[4,this.fetchSourceSinkPointsList(!0)];case 5:return e.sent(),[4,this.fetchSourceSinkPointsList(!1)];case 6:return e.sent(),"Sensed"!=a.pointType?[3,8]:[4,this.getMonconSensedAttributes(g.monitoringControlDeviceType,a.sensedValue)];case 7:e.sent(),e.label=8;case 8:return[4,this.handleWireSelect(a.cableEquipment)];case 9:e.sent(),e.label=10;case 10:return[2]}})})}),[2]}})})},n.prototype.fetchSourceSinkPointsList=function(e){return R(this,void 0,void 0,function(){var t,n,a,o,i,r,c;return P(this,function(s){switch(s.label){case 0:return t=this.props.buildingName,n=this.state.point,e?(a=[],o=[],n.isConnectedTo?(i="","Component"==n.isConnectedTo&&n.component?i=n.component:"Equipment"==n.isConnectedTo&&n.asset?i=n.asset:"Device"!=n.isConnectedTo&&"NetworkDevice"!=n.isConnectedTo&&"ComputingDevice"!=n.isConnectedTo||!n.monconDevice||(i=n.monconDevice),[4,Object(m.i)(t,"Terminal",n.isConnectedTo,i,l.a.Output)]):[3,3]):[3,4];case 1:return o=s.sent(),[4,Object(m.i)(t,"",n.isConnectedTo,i)];case 2:a=s.sent(),s.label=3;case 3:return this.setState({relatedPointsListDD:a,terminalPointsListForAsset1:o,point:n}),[3,10];case 4:return r=[],n.sinkSourceAssetType?"Component"==n.sinkSourceAssetType&&n.sinkSourceComponent?[4,Object(m.i)(t,"",n.sinkSourceAssetType,n.sinkSourceComponent)]:[3,6]:[3,8];case 5:return r=s.sent(),[3,8];case 6:return n.sinkSourceAsset?[4,Object(m.i)(t,"",n.sinkSourceAssetType,n.sinkSourceAsset)]:[3,8];case 7:r=s.sent(),s.label=8;case 8:return c=[],[4,Object(m.i)(t,"Terminal",n.sinkSourceAssetType,n.sinkSourceAsset,l.a.Input)];case 9:c=s.sent(),this.setState({pointsListDD:r,terminalPointsListForAsset2:c}),s.label=10;case 10:return[2]}})})},n.prototype.fetchRelatedPointForSinkAssets=function(){return R(this,void 0,void 0,function(){var e,t,n,a;return P(this,function(o){switch(o.label){case 0:return e=this.props.buildingName,t=this.state.point,n=[],t.isConnectedTo?(a="","Component"==t.sinkSourceAssetType&&t.sinkSourceComponent?a=t.sinkSourceComponent:"Equipment"==t.sinkSourceAssetType&&t.sinkSourceAsset?a=t.sinkSourceAsset:"Device"==t.sinkSourceAssetType&&t.sinkSourceAsset&&(a=t.sinkSourceAsset),a?[4,Object(m.i)(e,"",t.sinkSourceAssetType,a)]:[3,2]):[3,2];case 1:n=o.sent(),o.label=2;case 2:return this.setState({relatedPointsListDD:n}),[2]}})})},n.prototype.fetchDevicesList=function(){return R(this,void 0,void 0,function(){var e,t,n;return P(this,function(a){switch(a.label){case 0:return[4,Object(u.z)(this.props.buildingName)];case 1:return e=a.sent(),[4,Object(k.f)()];case 2:return[4,a.sent().map(function(e){return e.moncondevice=e.ontology,e.rdfsLabel=e.name,e.isComputing=!0,e})];case 3:return t=a.sent(),[4,Object(A.f)()];case 4:return[4,a.sent().map(function(e){return e.moncondevice=e.ontology,e.rdfsLabel=e.name,e.isNetwork=!0,e})];case 5:return n=a.sent(),t&&t.length>0&&t[0]&&e.push.apply(e,t),n&&n.length>0&&n[0]&&e.push.apply(e,n),this.setState({deviceList:e}),[2]}})})},n.prototype._getAssets=function(){return R(this,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:return[4,Object(c.g)(this.props.buildingName,i.b.POINT)];case 1:return e=t.sent(),this.setState({assets:e}),[2]}})})},n.prototype._getComponents=function(e,t){return R(this,void 0,void 0,function(){var n,a,o=this;return P(this,function(l){return n=this.state.point,e?(a=n.sinkSourceAsset?n.sinkSourceAsset:t||"")&&Object(N.o)(this.props.buildingName,a).then(function(e){if(e.length>0){var t=[];e.map(function(e){var n={ontology:e.name,rdfsLabel:e.rdfsLabel};t.push(n)}),o.setState({sourceSinkcomponents:t})}else o.setState({sourceSinkcomponents:[]})}).catch(function(e){return e}):n.asset&&Object(N.o)(this.props.buildingName,n.asset).then(function(e){if(e.length>0){var t=[];e.map(function(e){var n={ontology:e.name,rdfsLabel:e.rdfsLabel};t.push(n)}),o.setState({components:t})}else o.setState({components:[]})}).catch(function(e){return e}),[2]})})},n.prototype._getSpacesList=function(e){return R(this,void 0,void 0,function(){var t,n;return P(this,function(a){switch(a.label){case 0:return t=this.props.buildingName,[4,Object(r.d)(e,t)];case 1:return n=a.sent(),this.setState({_spaceList:n}),[2]}})})},n.prototype._fetchPointFunctions=function(){return R(this,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:return[4,Object(m.m)()];case 1:return e=t.sent(),this.setState({_pointFunctions:e}),[2]}})})},n.prototype.getNewDeviceLabel=function(e){return R(this,void 0,void 0,function(){var t,n=this;return P(this,function(o){return(t=this.state.point).monconDevice=e,this.setState({point:t},function(){return R(n,void 0,void 0,function(){return P(this,function(e){return a.fetchDevicesList(),[2]})})}),[2]})})},n.prototype._fetchPointTypes=function(){return R(this,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:return[4,Object(m.o)()];case 1:return e=t.sent(),this.setState({_pointTypes:e}),[2]}})})},n.prototype.getMonconSensedAttributes=function(e,t){return R(this,void 0,void 0,function(){var n,a,o;return P(this,function(l){switch(l.label){case 0:return[4,Object(u.h)(e)];case 1:return n=l.sent(),a=!1,t&&(o=n.find(function(e){return e.ontology==t}))&&(a=o.isBoolean),this.setState({deviceSensedList:n,isSensedValueBoolean:a}),[2]}})})},n.prototype.getValuesFromMonconSensedAttribute=function(e){return R(this,void 0,void 0,function(){var t,n,a,o,l;return P(this,function(i){return t=this.state,n=t.deviceSensedList,a=t.point,o=n.find(function(t){return t.sensedValue==e}),a&&o&&(a.sensedValue=e,a.unit=o.unit?o.unit:"",a.minimumExtremeValue=o.extremeMinimumRange?o.extremeMinimumRange.toString():"0",a.maximumExtremeValue=o.extremeMaximumRange?o.extremeMaximumRange.toString():"0",a.minimumNormalValue=o.minimumRange?o.minimumRange.toString():"0",a.maximumNormalValue=o.maximumRange?o.maximumRange.toString():"0",a.supervisoryMaximumRange=o.supervisoryMaximumRange?o.supervisoryMaximumRange.toString():"0",a.supervisoryMinimumRange=o.supervisoryMinimumRange?o.supervisoryMinimumRange.toString():"0",a.showError=!!o.showError,a.errorTimeDelay=o.errorTimeDelay?o.errorTimeDelay.toString():"60",a.generateAlarms=!!o.generateAlarms,l=o.isBoolean,this.setState({point:a,isSensedValueBoolean:l})),[2]})})},n.prototype.getNewSpaceLabel=function(e){var t=this.state._spaceList&&this.state._spaceList.find(function(t){return Object(d.g)(t.rdfsLabel)==e}),n=this.state.point;n.space=Object(d.g)(t&&t.ontology),this.setState({point:n})},n.prototype.mergePoint=function(e){return R(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return e?(t=Object(),[4,Object(m.f)(this.props.buildingName,e)]):[3,10];case 1:return(t=n.sent()).floor?[4,this.handleFloorChange(t.floor)]:[3,3];case 2:n.sent(),n.label=3;case 3:return t.space?[4,this.handleSpaceSelect(t.space)]:[3,5];case 4:n.sent(),n.label=5;case 5:return t.asset?[4,this.handleAssetSelect(t.asset)]:[3,7];case 6:n.sent(),n.label=7;case 7:return t.sinkSourceAsset?[4,this._getComponents(!0,t.sinkSourceAsset)]:[3,9];case 8:n.sent(),n.label=9;case 9:return[2,t];case 10:return[2]}})})},n.prototype.savePoint=function(e){return R(this,void 0,void 0,function(){var t,n,a,o,l,r,c,u,d,p;return P(this,function(h){switch(h.label){case 0:return t=this.state,n=t.point,a=t.isEdit,o=t.oldModel,a=n.point==this.props.PointName,l=this.props.buildingName,n.point=n.point?n.point:Object(C.w)(7),e?(r=e||n,c=n):(r=n,c=a?o:null),n?(Object(f.a)(!0),u=JSON.parse(O.a.getItem("user")),[4,Object(m.e)(r,l,a).then(function(){Object(x.b)(r.point,r,c,u.contact)})]):[3,2];case 1:h.sent(),d=new s.b,(p=Object(i.c)())&&(p.file||p.length>0)&&d.UploadFile(s.a.DOCUMENT(),n.s3FileName,p),Object(f.a)(!1),h.label=2;case 2:return window.location.hash="/"+this.props.instance+"/"+this.props.buildingName+"/Points",[2]}})})},n.prototype.handleFloorChange=function(e){return R(this,void 0,void 0,function(){var t,n,a,o=this;return P(this,function(l){return t=this.state,n=t.point,a=t.floors,n.floor=e,n.floorLabel=a&&a.find(function(t){return Object(d.g)(t.ontology)==e})?Object(d.g)(a.find(function(t){return Object(d.g)(t.ontology)==e}).rdfsLabel):"",this.setState({point:n,_spaceList:[]},function(){return R(o,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._getSpacesList(e)];case 1:return t.sent(),[4,this._getAssets()];case 2:return t.sent(),[2]}})})}),[2]})})},n.prototype.handleInstallDateChange=function(e){var t=this.state.point;t.installDate=e.toString(),this.setState({point:t})},n.prototype.handleCommissioningDateChange=function(e){var t=this.state.point;t.commissioningDate=null==e?"":e.toString(),this.setState({point:t})},n.prototype.onSpaceConnectedHandler=function(){var e=this.state.point,t=this.state.pointsListDD,n=this.state.deviceList;e.sinkSourceAsset="",e.sinkSourceAssetType="",e.sinkSourcePoint="",e.sinkSourceComponent="",t=[],this.handleSinkSourceAssetTypeSelect("None"),this.setState({point:e,pointsListDD:t,deviceList:n})},n.prototype.handleSourceOrSink=function(e){var t=this.state.point;t.assetConnectedAs=e,this.setState({point:t}),this.onSpaceConnectedHandler()},n.prototype.onChangePointConnectedHandler=function(){var e=this.state.point,t=this.state.relatedPointsListDD,n=this.state.components;e.monconDevice="",e.relatedPoints=[],e.assetLabel="",e.asset="",e.component="",e.componentLabel="",t=[],n=[],this.setState({point:e,relatedPointsListDD:t,components:n})},n.prototype.handleConnectedTo=function(e){var t=this.state.point;t.isConnectedTo=e,this.setState({point:t}),this.onChangePointConnectedHandler()},n.prototype.handlePointForm=function(e){var t=this.state.point,n=e.target.name;if(t[""+n]=e.target.value,this.setState({point:t}),"pointType"==n){var a=this.state,o=a._pointFunctions,l=a.selectedPointFunctions;l="Sensed"==e.target.value?o.filter(function(e){return"Actuator"==Object(d.g)(e.point)||"Sensor"==Object(d.g)(e.point)}):o,this.setState({selectedPointFunctions:l})}},n.prototype.handleRulesChange=function(e){var t=this.state.point;t.rules=e,this.setState({point:t})},n.prototype.handleDeviceForm=function(e){var t=this.state.selectedDevice,n=e.target.name;if(!t||!t.wirelessConfig){var a=Object();t.wirelessConfig=a}t.wirelessConfig[""+n]=e.target.value,this.setState({selectedDevice:t})},n.prototype.onChangeSoftwareAssetTypeHandler=function(){var e=this.state.point,t=this.state.pointsListDD,n=this.state.sourceSinkcomponents;e.sinkSourceAsset="",e.sinkSourcePoint="",e.sinkSourceComponent="",e.sourcePointDescription="",e.sinkPointDescription="",e.webhook="",e.softwarePointDescription="",e.link1="",e.link2="",e.notes="",delete e.commissioningDate,t=[],n=[],this.setState({point:e,pointsListDD:t,sourceSinkcomponents:n})},n.prototype.handleSinkSourceAssetTypeSelect=function(e,t){var n=this,a=this.state.point;a.sinkSourceAssetType=e,this.setState({point:a},function(){t&&n.fetchRelatedPointForSinkAssets()}),this.onChangeSoftwareAssetTypeHandler()},n.prototype.handleSinkSourceAssetSelect=function(e){var t=this,n=this.state.point,a=e.target.value;""==a&&(n.sinkSourcePoint=""),n.sinkSourceAsset=a,this.setState({point:n},function(){"Component"==n.sinkSourceAssetType?t._getComponents(!0):t.fetchSourceSinkPointsList(!1)})},n.prototype.handleSinkSourceComponentSelect=function(e){var t=this,n=this.state.point,a=e.target.value;n.sinkSourceComponent=a,this.setState({point:n},function(){t.fetchSourceSinkPointsList(!1)})},n.prototype.handleRelatedPoints=function(e){var t=this.state.point;t.relatedPoints=e,this.setState({point:t})},n.prototype.handleTerminalPoint=function(e,t){var n=this.state.point;n[e]=t,this.setState({point:n})},n.prototype.handleScan=function(e){var t=this.state.point;e&&(t.tag=e.toString(),this.setState({point:t,isQrCameraMode:!1}))},n.prototype.handlePointTypeSelect=function(e){var t=this.state.point,n=e.target.value;"addNewPointType"==n?(t.pointType="",a.setState({point:t}),document.getElementById("addNewPointTypeDailogeButton").click()):(t.pointType=n,this.setState({point:t}))},n.prototype.handleAssetSelect=function(e){return R(this,void 0,void 0,function(){var t,n,a,o,l,i,c=this;return P(this,function(s){switch(s.label){case 0:return t=this.props.buildingName,n=this.state.point,a=this.state.assets,o=this.state.components,l=this.state.relatedPointsListDD,"addNewAsset"==e&&(n.asset="",this.setState({point:n}),document.getElementById("AddAssetDailogeButton").click()),""!=e?[3,1]:(n.asset="",n.relatedPoints=[],o=[],l=[],this.setState({point:n,relatedPointsListDD:l,components:o}),[3,5]);case 1:return n.asset=e,n.assetLabel=a&&a.find(function(t){return Object(d.g)(t.ontology)==e})?Object(d.g)(a.find(function(t){return Object(d.g)(t.ontology)==e}).rdfsLabel):"",[4,Object(r.c)(t,e)];case 2:return(i=s.sent())&&i.floor&&i.space?(n.space=i.space,n.floor=i.floor,[4,this.handleFloorChange(n.floor)]):[3,4];case 3:s.sent(),s.label=4;case 4:this.setState({point:n},function(){"Component"==n.isConnectedTo&&c._getComponents(!1),c.fetchSourceSinkPointsList(!0)}),s.label=5;case 5:return[2]}})})},n.prototype.handleComponentSelect=function(e){var t=this,n=this.state.point,a=this.state.components;n.component=e,n.componentLabel=a&&a.find(function(t){return Object(d.g)(t.ontology)==e})?Object(d.g)(a.find(function(t){return Object(d.g)(t.ontology)==e}).rdfsLabel):"",this.setState({point:n},function(){t.fetchSourceSinkPointsList(!0)})},n.prototype.handleSpaceSelect=function(e){var t=this,n=this.state.point,a=this.state._spaceList;"addNewSpace"==e?document.getElementById("btnShowSpaceFormDialog").click():(n.space=e,n.spaceLabel=a&&a.find(function(t){return Object(d.g)(t.ontology)==e})?Object(d.g)(a.find(function(t){return Object(d.g)(t.ontology)==e}).rdfsLabel):"",this.setState({point:n,assets:[]},function(){t._getAssets()}))},n.prototype.handleWireSelect=function(e){return R(this,void 0,void 0,function(){var t,n,a,o,l;return P(this,function(i){switch(i.label){case 0:return t=this.state,n=t.point,a=t.equipment,"addNewCable"!=e?[3,1]:(a.equipmentType="MiscAndProcess",a.subclassType="Cable",n.cableEquipment="",this.setState({point:n,equipment:a}),document.getElementById("AddAssetDailogeButton").click(),[3,4]);case 1:return o=[],n.cableEquipment=e,n.cableEquipment?[4,Object(N.j)(n.cableEquipment)]:[3,3];case 2:(l=i.sent())&&(o=l.split(",")),i.label=3;case 3:this.setState({point:n,wireColors:o}),i.label=4;case 4:return[2]}})})},n.prototype.handleWireColor=function(e){var t=this.state.point;t.wireColor=e,this.setState({point:t})},n.prototype.handleDeviceSelect=function(e){return R(this,void 0,void 0,function(){var t,n,a,o,l,i,c,s=this;return P(this,function(m){switch(m.label){case 0:return t=this.props.buildingName,n=this.state.point,"addNewDevice"!=(a=e.target.value)?[3,1]:(n.monconDevice="",this.setState({point:n}),document.getElementById("AddDeviceDailogeButton").click(),[3,7]);case 1:return n.monconDevice=a,o=this.state.deviceList,l=o.find(function(e){return Object(d.g)(e.moncondevice)==n.monconDevice}),i=Object(),l?[4,Object(u.q)(l)]:[3,3];case 2:i=m.sent(),m.label=3;case 3:return[4,Object(r.c)(t,a)];case 4:return(c=m.sent())&&c.floor&&c.space?(n.space=c.space,n.floor=c.floor,[4,this.handleFloorChange(n.floor)]):[3,6];case 5:m.sent(),m.label=6;case 6:this.setState({point:n,selectedDevice:i},function(){s.fetchSourceSinkPointsList(!0),"Sensed"==n.pointType&&s.getMonconSensedAttributes(i.monitoringControlDeviceType)}),m.label=7;case 7:return[2]}})})},n.prototype.handlePointFunctions=function(e){var t=this,n=e.target.value,a=this.state.point;"addPointFunction"==n?(a.pointDevice="",this.setState({point:a}),document.getElementById("addNewFunctionDailogeButton").click()):(a.pointDevice=n,this.setState({point:a},function(){t.handleSensorActuatorSourceSink()}))},n.prototype.onChangeFunction=function(e){var t=this.state.point;t.pointDevice=e,this.setState({point:t},function(){})},n.prototype.onChangePointType=function(e){var t=this,n=this.state.point;n.pointType=e,this.setState({point:n},function(){t.handleSensorActuatorSourceSink()})},n.prototype.handleSensorActuatorSourceSink=function(){var e=this.state.point;e.pointType&&-1!=e.pointType.indexOf("Sens")&&("Sensor"==e.pointDevice?e.sinkSourceAssetType="self":"Actuator"==e.pointDevice&&(e.isConnectedTo="self")),this.setState({point:e})},n.prototype.addNewPointType=function(){return R(this,void 0,void 0,function(){var e,t,n=this;return P(this,function(a){switch(a.label){case 0:return e=this.state.point,t={ontology:e.pointType.replace(new RegExp(" ","g"),""),rdfsLabel:e.pointType},[4,Object(m.h)(this.props.buildingName,t).then(function(){})];case 1:return a.sent(),e.pointType=t.ontology,this.setState({point:e},function(){return R(n,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._fetchPointTypes()];case 1:return e.sent(),[2]}})})}),[2]}})})},n.prototype.addNewPointFunction=function(){return R(this,void 0,void 0,function(){var e,t,n=this;return P(this,function(a){switch(a.label){case 0:return e=this.state.point,t={ontology:e.pointDevice.replace(new RegExp(" ","g"),""),rdfsLabel:e.pointDevice},[4,Object(m.g)(this.props.buildingName,t).then(function(){})];case 1:return a.sent(),e.pointDevice=t.ontology,this.setState({point:e},function(){return R(n,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._fetchPointFunctions()];case 1:return e.sent(),[2]}})})}),[2]}})})},n.prototype.handleFileAttachment=function(t){var n=this.state.point;if(t&&(t.file||t.length>0)&&n.point&&n.point.length>0){var a=this.props.buildingName+"-_-"+n.point,o="";"video/mp4"==t.type?(o=a+".mp4",Object(i.f)(t)):"image/jpeg"==t.type||"image/png"==t.type?(o=a+".jpg",Object(i.f)(t.file)):(o=a+".jpg",Object(i.f)(new e(t.replace(/^data:image\/\w+;base64,/,""),"base64"))),n.s3FileName=o,this.setState({point:n},function(){})}},n.prototype.onEquipmentChange=function(e){var t=this.state.lightingInformation;t.fixtureName=e.equipmentName,t.fixtureType=e.subclassType;var n=y.a[e.subclassType]?y.a[e.subclassType]:[];this.setState({equipment:e,lightingInformation:t,lampTypes:n})},n.prototype._saveEquipment=function(){return R(this,void 0,void 0,function(){var e,t=this;return P(this,function(n){switch(n.label){case 0:return(e=this.state.equipment).equipmentName=e.equipmentName?e.equipmentName:Object(C.w)(7),!1&&!this.state.isEdit?[3,2]:(Object(f.a)(!0),[4,Object(N.y)(this.props.buildingName,e,this.state.isEdit).then(function(){var t=new s.b,n=Object(i.d)();if(n&&n.length)for(var a=0;a<n.length;a++){var o=n[a];t.UploadFile(s.a.DOCUMENT(),e.profileFileName[a],o)}})]);case 1:n.sent(),Object(f.a)(!1),"MiscAndProcess"!=e.equipmentType||"PlugLoad"!=e.subclassType&&e.subclassType,n.label=2;case 2:return this.setState({isEdit:!1,equipment:Object()},function(){return R(t,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._getAssets()];case 1:return t.sent(),this.getNewAssetLabel(e.equipmentName),[2]}})})}),[2]}})})},n.prototype.getNewAssetLabel=function(e){return R(this,void 0,void 0,function(){var t,n;return P(this,function(a){return t=this.state.assets&&this.state.assets.find(function(t){return Object(d.g)(t.ontology)==e}),(n=this.state.point).asset=Object(d.g)(t&&t.ontology),this.setState({point:n}),[2]})})},n.prototype.updateSpace=function(e){return R(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return(t=this.state.point).floor?[4,this._getSpacesList(t.floor)]:[3,2];case 1:n.sent(),t.space=e.name,this.setState({point:t}),n.label=2;case 2:return[2]}})})},n.prototype.handlefileAttached=function(e){var t=this.state.point;e.length>0&&(t.tag=e&&e[0].name,this.setState({point:t}))},n.prototype.restoreSelectedVersion=function(e){return R(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return e&&e.model?(t=JSON.parse(e.model),[4,this.savePoint(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},n.prototype.saveMoncon=function(){return R(this,void 0,void 0,function(){var e,t,n;return P(this,function(a){switch(a.label){case 0:return e=this.props.buildingName,t=this.state.selectedDevice,n=JSON.parse(O.a.getItem("user")),t?(t.createdby||(t.createdby=n.name),Object(f.a)(!0),[4,Object(u.l)(t,e,this.props.isEdit)]):[3,2];case 1:a.sent(),Object(f.a)(!1),a.label=2;case 2:return[2]}})})},n.prototype.onChangeHandler=function(e){var t=this.state.point;t.generateAlarms=e,this.setState({point:t})},n.prototype.render=function(){var e=this,t=this.props,n=t.buildingName,a=t.instance,i=t.isEdit,r=t.isView,c=this.state,s=c.point,m=c.assets,u=c.components,p=c.deviceList,f=c._spaceList,y=c.equipment,N=c.isQrCameraMode,C=c.floors,O=c.isHistorian,D=c.pointsListDD,x=c.sourceSinkcomponents,k=c.relatedPointsListDD,A=c.terminalPointsListForAsset1,_=c.terminalPointsListForAsset2,F=c.selectedDevice,R=c.deviceSensedList,P=c.isSensedValueBoolean,q=c.selectedPointFunctions,H=c.cableEquipments,V=F&&F.wirelessConfig?F.wirelessConfig.thermostatMacAddress:"",W=F&&F.wirelessConfig?F.wirelessConfig.ipAddress:"",G=F&&F.wirelessConfig?F.wirelessConfig.subnetmask?F.wirelessConfig.subnetmask:"255.255.255.0":"",z=s.pointLabel,U=s.pointType,Q=s.monconDevice,J=s.asset,Y=s.component,K=s.floor,X=s.space,Z=s.isConnectedTo,$=s.assetConnectedAs,ee=s.sinkSourceAssetType,te=s.sinkSourceAsset,ne=s.sinkSourceComponent,ae=s.sinkSourcePoint,oe=s.wireColor,le=!!(z&&U&&(K&&X||"Virtual"==U)),ie=!1,re=!1,ce=!1;Z&&("Device"==Z||"NetworkDevice"==Z||"ComputingDevice"==Z?ie=!!Q:"Equipment"==Z?ie=!!J:"Component"==Z?ie=!!Y:"Space"==Z&&(ie=!!X)),ee&&("Device"==ee||"NetworkDevice"==ee||"ComputingDevice"==ee?ce=!!te:"Equipment"==ee?ce=!!te:"Component"===ee&&(ce=!(!te||!s.sinkSourceComponent))),$&&ee&&("None"==ee&&(re=!0),"Equipment"==ee||"Device"==ee||"NetworkDevice"==ee||"ComputingDevice"==ee?re=!(!te||!ae):"Component"==ee&&(re=!!(te&&ae&&ne)));var se=!(!le||!(ie&&re||"Virtual"==U));"Manual"==U&&ie&&(se=le),"Wired"==U&&ie&&le&&ce&&oe&&(se=!!s.cableEquipment),"Terminal"==U&&ie&&le&&(se=!!s.portDirection),"Sensed"==U&&("Sensor"==s.pointDevice&&ee&&le&&(Q||s.asset||s.sinkSourceComponent)?se=le:"Actuator"==s.pointDevice&&ee&&te&&le&&(se=le));var me=y&&y.rdfsLabel&&y.floor&&y.location&&y.equipmentState&&y.manufacturer&&!0,ue=!!(R&&R.length>0),de="";return U&&-1!=U.indexOf("Sens")&&("Sensor"==s.pointDevice?de="Source":"Actuator"==s.pointDevice&&(de="Sink")),o.createElement(o.Fragment,null,O&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("button",{className:"btn btn-success pull-right active custom-outline-btn",style:{marginLeft:3,marginTop:5},onClick:function(){e.setState({isHistorian:!1})}}," Go Back To "))),O&&o.createElement(T.default,{buildingName:n,instance:a,ObjectId:s.point,restoreSelectedVersion:this.restoreSelectedVersion}),!O&&o.createElement("div",{className:"card",id:"pointsForm"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"content"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("button",{className:"btn btn-success pull-right active custom-outline-btn",onClick:function(){e.setState({isHistorian:!0})}}," ",o.createElement("i",{className:"fa fa-history","aria-hidden":"true"})," Historian Archive"))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"pointLabel"},"Point Name:")),o.createElement("div",{className:"col-md-10"},o.createElement("input",{type:"text",id:"pointLabel",name:"pointLabel",className:"form-control "+(s.pointLabel?"":"addFieldValidate"),value:s.pointLabel,disabled:r,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("label",{htmlFor:"pointId"},"Point ID")),o.createElement("div",{className:"col-md-8 col-sm-3"},o.createElement("div",{className:""},o.createElement("input",{type:"text",disabled:!0,id:"pointId",className:"form-control",onChange:function(t){e.handlePointForm(t)},value:s.pointId}))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointType"},"Point Type:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.pointType?"":"addFieldValidate"),id:"pointType",name:"pointType",disabled:r,onChange:function(t){return e.handlePointForm(t)},value:s.pointType?s.pointType:""},o.createElement("option",{value:""},"Select Point Type"),o.createElement("option",{value:"Sensed"},"Sensed/Actuated"),o.createElement("option",{value:"Manual"},"Manual"),o.createElement("option",{value:"Virtual"},"Virtual"),o.createElement("option",{value:"Wired"},"Wire"),o.createElement("option",{value:"Terminal"},"Terminal")))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("label",{htmlFor:"pointState"},"Point State:")," "),o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("select",{className:"form-control "+(s.pointState?"":"addFieldValidate"),id:"pointState",name:"pointState",disabled:r,onChange:function(t){return e.handlePointForm(t)},value:s.pointState?s.pointState:""},o.createElement("option",{value:""},"Select State"),o.createElement("option",{value:"Planned"},"Planned"),o.createElement("option",{value:"Ordered"},"Ordered"),o.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),o.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),o.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),o.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),o.createElement("option",{value:"Assembly"},"Assembly"),o.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),o.createElement("option",{value:"Kitting"},"Kitting"),o.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),o.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),o.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),o.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),o.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),o.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),o.createElement("option",{value:"Existing"},"Existing In Use"),o.createElement("option",{value:"Retired"},"Retired"),o.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),o.createElement("option",{value:"Sold"},"Sold"),o.createElement("option",{value:"DisposedOf"},"Disposed Of"),o.createElement("option",{value:"ErrorDeleted"},"Error Deleted")))),"Virtual"!=s.pointType&&"Terminal"!=s.pointType&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointFunction"},"Point Function:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control",name:"pointDevice",disabled:r,id:"pointFunction",value:s.pointDevice,onChange:function(t){return e.handlePointFunctions(t)}},o.createElement("option",{value:"",key:-2},"Select Point Function"),q&&q.length>0&&q.sort(function(e,t){return Object(d.g)(e.label)>Object(d.g)(t.label)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:Object(d.g)(e.point)},Object(d.g)(e.label))})))))),"Terminal"==s.pointType&&o.createElement("div",{className:"row padding-10"},"Terminal"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("label",{htmlFor:"portDirection"},"Port Direction")),o.createElement("div",{className:"col-md-8 col-sm-3"},o.createElement("div",{className:""},o.createElement("select",{className:"form-control "+("Terminal"==s.pointType&&""==s.portDirection?"addFieldValidate":""),id:"portDirection",name:"portDirection",disabled:r,onChange:function(t){return e.handlePointForm(t)},value:s.portDirection?s.portDirection:""},o.createElement("option",{value:""},"Select Port Direction"),Object.keys(l.a).map(function(e){return o.createElement("option",{value:e},e)}))))),"Terminal"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("label",{htmlFor:"terminationType"},"Termination Type")),o.createElement("div",{className:"col-md-8 col-sm-3"},o.createElement("div",{className:""},o.createElement("input",{type:"text",id:"terminationType",name:"terminationType",className:"form-control",onChange:function(t){e.handlePointForm(t)},value:s.terminationType}))))),o.createElement("div",{className:"row padding-10"},"Terminal"!=s.pointType&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointId"},"Unit:")),o.createElement("div",{className:"col-md-8"},o.createElement("div",{className:""},o.createElement("input",{type:"text",className:"form-control",name:"unit",disabled:r,onChange:function(t){e.handlePointForm(t)},value:s.unit})))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointPIDName"},"Point P&ID Name:")),o.createElement("div",{className:"col-md-8"},o.createElement("div",{className:""},o.createElement("input",{type:"text",className:"form-control",name:"pointPIDName",disabled:r,onChange:function(t){e.handlePointForm(t)},value:s.pointPIDName})))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointNumber"},"Point Number:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",id:"pointNumber",name:"pointNumber",disabled:r,className:"form-control col-md-6",value:s.pointNumber,onChange:function(t){return e.handlePointForm(t)}})))),"Virtual"==s.pointType&&o.createElement("div",{className:"card"},o.createElement(j.a,{buildingName:n,instance:a,onRulesChange:this.handleRulesChange,rules:s.rules,isView:r}),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-6 padding-10"},o.createElement("label",{htmlFor:"floor"},"Interval (in secs):")),o.createElement("div",{className:"col-md-6 padding-5"},o.createElement("input",{type:"number",id:"interval",disabled:r,name:"interval",className:"form-control",value:s.interval,placeholder:"300",style:{width:"100px"},onChange:function(t){e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-6 padding-10"},o.createElement("label",{htmlFor:"floor"},"Min Normal Range:")),o.createElement("div",{className:"col-md-6 padding-5"},o.createElement("input",{type:"number",id:"minimumNormalValue",disabled:r,name:"minimumNormalValue",className:"form-control",value:s.minimumNormalValue,placeholder:"20",style:{width:"100px"},onChange:function(t){e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-6 padding-10"},o.createElement("label",{htmlFor:"floor"},"Max Normal Range:")),o.createElement("div",{className:"col-md-6 padding-5"},o.createElement("input",{type:"number",id:"maximumNormalValue",disabled:r,name:"maximumNormalValue",className:"form-control",value:s.maximumNormalValue,placeholder:"100",style:{width:"100px"},onChange:function(t){e.handlePointForm(t)}}))))),"Virtual"!=s.pointType&&o.createElement(o.Fragment,null,o.createElement("div",{className:"card"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement("div",{className:"col-md-2",style:{paddingRight:0}},o.createElement("label",{htmlFor:"Sensed"},de," Point Connected To ","Wired"==s.pointType?"First Asset":"",":")),o.createElement("div",{className:"col-md-10 col-xs-12"},o.createElement("div",{className:"form-control "+(s.isConnectedTo?"":"addFieldValidate")},"Manual"==s.pointType&&o.createElement("div",{className:"col-md-2 col-xs-2 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Space"==s.isConnectedTo,onChange:function(){e.handleConnectedTo("Space")},name:"isSpace",id:"isSpace"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSpace"},"\xa0Space")),o.createElement("div",{className:"col-md-2 col-xs-2 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Sink"==de?"Device"==s.sinkSourceAssetType:"Device"==s.isConnectedTo,onChange:function(){"Sink"==de?e.handleSinkSourceAssetTypeSelect("Device",!0):e.handleConnectedTo("Device")},name:"isDevice",id:"isDevice"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isDevice"},"\xa0Electronic")),o.createElement("div",{className:"col-md-2 col-xs-2 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Sink"==de?"ComputingDevice"==s.sinkSourceAssetType:"ComputingDevice"==s.isConnectedTo,onChange:function(){"Sink"==de?e.handleSinkSourceAssetTypeSelect("ComputingDevice",!0):e.handleConnectedTo("ComputingDevice")},name:"isComputingDevice",id:"isComputingDevice"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isComputingDevice"},"\xa0Computing")),o.createElement("div",{className:"col-md-2 col-xs-2 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Sink"==de?"NetworkDevice"==s.sinkSourceAssetType:"NetworkDevice"==s.isConnectedTo,onChange:function(){"Sink"==de?e.handleSinkSourceAssetTypeSelect("NetworkDevice",!0):e.handleConnectedTo("NetworkDevice")},name:"isNetworkDevice",id:"isNetworkDevice"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isNetworkDevice"},"\xa0Network")),o.createElement("div",{className:"col-md-2 col-xs-2 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Sink"==de?"Equipment"==s.sinkSourceAssetType:"Equipment"==s.isConnectedTo,onChange:function(){"Sink"==de?e.handleSinkSourceAssetTypeSelect("Equipment",!0):e.handleConnectedTo("Equipment")},name:"isEquipment",id:"isEquipment"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isEquipment"},"\xa0Equipment")),o.createElement("div",{className:"col-md-2 col-xs-2 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Sink"==de?"Component"==s.sinkSourceAssetType:"Component"==s.isConnectedTo,onChange:function(){"Sink"==de?e.handleSinkSourceAssetTypeSelect("Component",!0):e.handleConnectedTo("Component")},name:"isComponent",id:"isComponent"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isComponent"},"\xa0Component")))))),("Sink"==de?"Equipment"==s.sinkSourceAssetType||"Component"==s.sinkSourceAssetType:"Component"==s.isConnectedTo||"Equipment"==s.isConnectedTo)&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},de," Equipment:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(("Sink"==de?s.sinkSourceAsset:s.asset)?"":"addFieldValidate"),disabled:r,id:"asset",name:"asset",value:"Sink"==de?s.sinkSourceAsset:s.asset,onChange:function(t){"Sink"==de?e.handleSinkSourceAssetSelect(t):e.handleAssetSelect(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Asset"),o.createElement("option",{value:"addNewAsset",key:-1},"Add new Asset from Point"),m&&m.length>0&&m.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?-1:1}).map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),("Sink"==de?"Component"==s.sinkSourceAssetType:"Component"==s.isConnectedTo)&&o.createElement("div",{className:"col-md-4 col-xs-12",style:{paddingLeft:0}},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"components"},de," Device Equipment Component:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(("Sink"==de?s.sinkSourceComponent:s.component)?"":"addFieldValidate"),disabled:r,id:"components",name:"components",value:"Sink"==de?s.sinkSourceComponent:s.component,onChange:function(t){"Sink"==de?e.handleSinkSourceComponentSelect(t):e.handleComponentSelect(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Component"),"Sink"==de?x&&x.length>0&&x.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?-1:1}).map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")}):u.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),"Wired"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},"Terminal Point 1:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control",disabled:r,id:"terminalPoint1",name:"terminalPoint1",value:s.terminalPoint1,onChange:function(t){return e.handleTerminalPoint("terminalPoint1",t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Terminal Point 1"),A&&A.length>0&&A.sort(function(e,t){return Object(d.g)(e.label)>Object(d.g)(t.label)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:e.value},e.label," ")}))))),("Sink"==de?"Device"==s.sinkSourceAssetType||"NetworkDevice"==s.sinkSourceAssetType||"ComputingDevice"==s.sinkSourceAssetType:"Device"==s.isConnectedTo||"NetworkDevice"==s.isConnectedTo||"ComputingDevice"==s.isConnectedTo)&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointDevice"},de," Device:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(("Sink"==de?s.sinkSourceAsset:s.monconDevice)?"":"addFieldValidate"),name:"monconDevice",disabled:r,value:"Sink"==de?s.sinkSourceAsset:s.monconDevice,onChange:function(t){"Sink"==de?e.handleSinkSourceAssetSelect(t):e.handleDeviceSelect(t)}},o.createElement("option",{value:""},"Select Device"),o.createElement("option",{value:"addNewDevice"},"Add New Device"),p&&p.length>0&&p.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?1:-1}).map(function(e,t){return"Device"!=s.isConnectedTo&&"Device"!=s.sinkSourceAssetType||!e||e.isNetwork||e.isComputing?("NetworkDevice"==s.isConnectedTo||"NetworkDevice"==s.sinkSourceAssetType)&&e&&e.isNetwork?o.createElement("option",{value:e&&e.moncondevice&&e.moncondevice.value,key:t},e&&e.rdfsLabel&&e.rdfsLabel.value," "):("ComputingDevice"==s.isConnectedTo||"ComputingDevice"==s.sinkSourceAssetType)&&e&&e.isComputing?o.createElement("option",{value:e&&e.moncondevice&&e.moncondevice.value,key:t},e&&e.rdfsLabel&&e.rdfsLabel.value," "):void 0:o.createElement("option",{value:e&&e.moncondevice&&e.moncondevice.value,key:t},e&&e.rdfsLabel&&e.rdfsLabel.value," ")})))),"Wired"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},"Terminal Point 1:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control",disabled:r,id:"terminalPoint1",name:"terminalPoint1",value:s.terminalPoint1,onChange:function(t){return e.handleTerminalPoint("terminalPoint1",t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Terminal Point 1"),A&&A.length>0&&A.sort(function(e,t){return Object(d.g)(e.label)>Object(d.g)(t.label)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:e.value},e.label," ")})))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},"Related Points:")),o.createElement("div",{className:"col-md-8"},o.createElement(I.a,{closeMenuOnSelect:!1,isMulti:!0,onChange:this.handleRelatedPoints,isDisabled:r,placeholder:"Select Related Points",options:k.length>0?k:[],value:s.relatedPoints&&s.relatedPoints.length>0?s.relatedPoints.sort(function(e,t){return Object(d.g)(e.label)>Object(d.g)(t.label)?1:-1}):[]}))),"Wired"!=s.pointType&&"Device"==s.isConnectedTo&&F&&F.wirelessConfig&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("button",{className:"btn btn-success active custom-outline-btn no-margin",onClick:function(){document.getElementById("btnShowDeviceDetails").click()}}," Device Wireless Details ")))),ue&&"Sensed"==s.pointType&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sensedValue"},"Sensed Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sensedValue?"":"addFieldValidate"),name:"sensedValue",id:"sensedValue",disabled:r,value:s.sensedValue,onChange:function(t){return e.getValuesFromMonconSensedAttribute(t.target.value)}},o.createElement("option",{value:""},"Select Sensed Value"),R&&R.length>0&&R.sort(function(e,t){return Object(d.g)(e.sensedValue)>Object(d.g)(t.sensedValue)?1:-1}).map(function(e,t){return o.createElement("option",{value:e.sensedValue,key:t},e.sensedValue," ")})))),!P&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"minimumExtremeValue"},"Abnormal Min. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"minimumExtremeValue",disabled:r,onChange:function(t){e.handlePointForm(t)},value:s.minimumExtremeValue}))),!P&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"minimumNormalValue"},"Normal Min. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"minimumNormalValue",disabled:r,onChange:function(t){e.handlePointForm(t)},value:s.minimumNormalValue})))),!P&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"maximumNormalValue"},"Normal Max. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"maximumNormalValue",disabled:r,onChange:function(t){e.handlePointForm(t)},value:s.maximumNormalValue}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"maximumExtremeValue"},"Abnormal Max. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"maximumExtremeValue",disabled:r,onChange:function(t){e.handlePointForm(t)},value:s.maximumExtremeValue}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"supervisoryMinimumRange"},"Supervisory Min. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"supervisoryMinimumRange",disabled:r,onChange:function(t){e.handlePointForm(t)},value:s.supervisoryMinimumRange})))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"supervisoryMaximumRange"},"Supervisory Max. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"supervisoryMaximumRange",disabled:r,onChange:function(t){e.handlePointForm(t)},value:s.supervisoryMaximumRange}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"showError"},"Supervisory Show Error:")),o.createElement("div",{className:"col-md-8"},o.createElement("div",{className:"switch-container pull-right",style:{top:"5%",right:"10%"}},o.createElement("label",null,o.createElement("input",{checked:s.showError,name:"showError",onChange:function(t){e.handlePointForm(t)},className:"switch1",type:"checkbox"}),o.createElement("div",null,o.createElement("div",null)))))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-7"},o.createElement("label",{htmlFor:"supervisoryMaximumRange"},"Supervisory Error Time Delay:")),o.createElement("div",{className:"col-md-5"},o.createElement("input",{type:"number",className:"form-control",name:"errorTimeDelay",disabled:r,onChange:function(t){e.handlePointForm(t)},value:s.errorTimeDelay})))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"generateAlarms"},"Generate Alarms:")),o.createElement("div",{className:"switch-container pull-right",style:{top:"5%",right:"10%"}},o.createElement("label",null,o.createElement("input",{name:"isboolean",checked:s.generateAlarms,onChange:function(t){e.onChangeHandler(t.target.checked)},className:"switch1",type:"checkbox"}),o.createElement("div",null,o.createElement("div",null))))))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"floor"},"Floor:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.floor?"":"addFieldValidate"),disabled:r,id:"floor",name:"floor",value:s.floor,onChange:function(t){return e.handleFloorChange(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Floor"),C&&C.length>0&&C.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"space"},"Space:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.space?"":"addFieldValidate"),disabled:r,id:"space",name:"space",value:s.space,onChange:function(t){return e.handleSpaceSelect(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Space"),o.createElement("option",{value:"addNewSpace",key:-1},"Add New Space"),f&&f.length>0&&f.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")}))),o.createElement(S.a,{updateSpace:this.updateSpace,closeDailogBtnID:"btnShowSpaceFormDialog",type:"",floor:"",buildingName:n,instance:a})),o.createElement("div",{className:"col-md-4 col-xs-12"}))),"Sensed"==s.pointType&&!s.pointDevice&&o.createElement("div",{className:"card"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,s.isConnectedTo," Connected As:")),o.createElement("div",{className:"col-md-9 col-xs-12"},o.createElement("div",{className:("Sink"==s.assetConnectedAs||"Source"==s.assetConnectedAs?"":"addFieldValidate")+" form-control "},o.createElement("div",{className:"col-md-6 col-xs-6 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Source"==s.assetConnectedAs,onChange:function(){e.handleSourceOrSink("Source")},name:"isSource",id:"isSource"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSource"},"\xa0Source")),o.createElement("div",{className:"col-md-6 col-xs-6 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Sink"==s.assetConnectedAs,onChange:function(){e.handleSourceOrSink("Sink")},name:"isSink",id:"isSink"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSink"},"\xa0Sink")))))),"None"!=s.assetConnectedAs&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement("div",{className:"col-md-2"},o.createElement("label",null,"Sink"==s.assetConnectedAs?"Hardware / Software Asset Type (Data Source):":"Software Asset Type (Data Sink):")),o.createElement("div",{className:"col-md-10"},o.createElement("div",{className:"form-control "+(s.sinkSourceAssetType?"":"addFieldValidate")},o.createElement("div",{className:"col-md-2 col-xs-2 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"None"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("None")},name:"isSSNone",id:"isSSNone"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSNone"},"\xa0Not Defined")),o.createElement("div",{className:"col-md-2 col-xs-2 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Device"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Device")},name:"isSSDevice",id:"isSSDevice"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSDevice"},"\xa0Electronic")),o.createElement("div",{className:"col-md-2 col-xs-2 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"ComputingDevice"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("ComputingDevice")},name:"isSSComputingDevice",id:"isSSComputingDevice"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSComputingDevice"},"\xa0Computing")),o.createElement("div",{className:"col-md-2 col-xs-2 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"NetworkDevice"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("NetworkDevice")},name:"isSSNetworkDevice",id:"isSSNetworkDevice"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSNetworkDevice"},"\xa0Network")),o.createElement("div",{className:"col-md-2 col-xs-2 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Equipment"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Equipment")},name:"isSSEquipment",id:"isSSEquipment"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSEquipment"},"\xa0Equipment")),o.createElement("div",{className:"col-md-2 col-xs-2 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Component"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Component")},name:"isSSComponent",id:"isSSComponent"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSComponent"},"\xa0Component")))))),"None"!=s.sinkSourceAssetType&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceAsset"},"Sink"==s.assetConnectedAs?"Hardware / Software "+(s.sinkSourceAssetType?"Component"==s.sinkSourceAssetType?"Equipment":s.sinkSourceAssetType:"Asset")+" (Data Source)":"Software "+(s.sinkSourceAssetType?"Component"==s.sinkSourceAssetType?"Equipment":s.sinkSourceAssetType:"Asset")+"  (Data Sink):")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourceAsset?"":"addFieldValidate"),id:"sinkSourceAsset",name:"sinkSourceAsset",value:s.sinkSourceAsset?s.sinkSourceAsset:"",disabled:r&&!s.sinkSourceAssetType,onChange:this.handleSinkSourceAssetSelect},o.createElement("option",{value:"",key:-2},"Select ","Sink"==s.assetConnectedAs?"Source":"Sink"," ",s.sinkSourceAssetType?"Component"==s.sinkSourceAssetType?"Equipment":s.sinkSourceAssetType:"Asset"),("Device"==s.sinkSourceAssetType||"NetworkDevice"==s.sinkSourceAssetType||"ComputingDevice"==s.sinkSourceAssetType)&&p&&p.length>0&&p.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?1:-1}).length>0&&p[0]&&p.map(function(e,t){return"Device"!=s.sinkSourceAssetType||!e||e.isNetwork||e.isComputing?"NetworkDevice"==s.sinkSourceAssetType&&e&&e.isNetwork?o.createElement("option",{value:e&&e.moncondevice&&e.moncondevice.value,key:t},e&&e.rdfsLabel&&e.rdfsLabel.value," "):"ComputingDevice"==s.sinkSourceAssetType&&e&&e.isComputing?o.createElement("option",{value:e&&e.moncondevice&&e.moncondevice.value,key:t},e&&e.rdfsLabel&&e.rdfsLabel.value," "):void 0:o.createElement("option",{value:e&&e.moncondevice&&e.moncondevice.value,key:t},e&&e.rdfsLabel&&e.rdfsLabel.value," ")}),("Equipment"==s.sinkSourceAssetType||"Component"==s.sinkSourceAssetType)&&m&&m.length>0&&m[0]&&m.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),"Component"==s.sinkSourceAssetType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceComponent"},"Sink"==s.assetConnectedAs?"Hardware / Software "+s.sinkSourceAssetType+" (Data Source)":"Software "+s.sinkSourceAssetType+" (Data Sink):")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourceComponent?"":"addFieldValidate"),id:"sinkSourceComponent",name:"sinkSourceComponent",value:s.sinkSourceComponent?s.sinkSourceComponent:"",disabled:r&&!s.sinkSourceAssetType,onChange:this.handleSinkSourceComponentSelect},o.createElement("option",{value:"",key:-2},"Select ","Sink"==s.assetConnectedAs?"Source":"Sink"," ",s.sinkSourceAssetType?" "+s.sinkSourceAssetType:" Asset Point"),x&&x.length>0&&x[0]&&x.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?1:-1}).map(function(e){return o.createElement(o.Fragment,null,o.createElement("option",{value:e&&e.ontology&&Object(d.g)(e.ontology)},e&&e.rdfsLabel&&Object(d.g)(e.rdfsLabel)))})))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourcePoint"},"Sink"==s.assetConnectedAs?"Hardware / Software Point (Data Source)":"Software Point (Data Sink):")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourcePoint?"":"addFieldValidate"),id:"sinkSourcePoint",name:"sinkSourcePoint",value:s.sinkSourcePoint?s.sinkSourcePoint:"",disabled:r&&!s.sinkSourceAsset,onChange:this.handlePointForm},o.createElement("option",{value:"",key:-2},"Select ","Sink"==s.assetConnectedAs?"Source":"Sink"," ",s.sinkSourceAssetType?" "+s.sinkSourceAssetType:" Asset"," Point"),D&&D.length>0&&D[0]&&D.sort(function(e,t){return Object(d.g)(e.label)>Object(d.g)(t.label)?1:-1}).map(function(e){return o.createElement(o.Fragment,null,o.createElement("option",{value:e.value},e.label))}))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sourcePointDescription"},"Source Point Description:")),o.createElement("div",{className:"col-md-8"},o.createElement("textarea",{id:"sourcePointDescription",name:"sourcePointDescription",className:"form-control col-md-6",value:s.sourcePointDescription,disabled:r,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkPointDescription"},"Sink Point Description:")),o.createElement("div",{className:"col-md-8"},o.createElement("textarea",{id:"sinkPointDescription",name:"sinkPointDescription",className:"form-control col-md-6",value:s.sinkPointDescription,disabled:r,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"webhook"},"Graphics link:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"text",id:"webhook",name:"webhook",disabled:r,className:"form-control col-md-6",value:s.webhook,onChange:function(t){return e.handlePointForm(t)}}))))))),"Wired"==s.pointType&&o.createElement(o.Fragment,null,o.createElement("br",null),o.createElement("br",null),o.createElement("div",{className:"card"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Point Connected To Second Asset:")),o.createElement("div",{className:"col-md-9 col-xs-12"},o.createElement("div",{className:"form-control "+(s.sinkSourceAssetType?"":"addFieldValidate")},o.createElement("div",{className:"col-md-4 col-xs-4 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Device"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Device")},name:"isSSDevice",id:"isSSDevice"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSDevice"},"\xa0Device")),o.createElement("div",{className:"col-md-4 col-xs-4 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Equipment"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Equipment")},name:"isSSEquipment",id:"isSSEquipment"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSEquipment"},"\xa0Equipment")),o.createElement("div",{className:"col-md-4 col-xs-4 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:r,checked:"Component"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Component")},name:"isSSComponent",id:"isSSComponent"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSComponent"},"\xa0Component")))))),("Component"==s.sinkSourceAssetType||"Equipment"==s.sinkSourceAssetType)&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceAsset"},"Equipment:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourceAsset?"":"addFieldValidate"),disabled:r,id:"sinkSourceAsset",name:"sinkSourceAsset",value:s.sinkSourceAsset,onChange:function(t){return e.handleSinkSourceAssetSelect(t)}},o.createElement("option",{value:"",key:-2},"Select Asset"),m&&m.length>0&&m.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),"Component"==s.sinkSourceAssetType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceComponent"},"Device Equipment Component:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourceComponent?"":"addFieldValidate"),disabled:r,id:"sinkSourceComponent",name:"sinkSourceComponent",value:s.sinkSourceComponent,onChange:function(t){return e.handleSinkSourceComponentSelect(t)}},o.createElement("option",{value:"",key:-2},"Select Component"),u&&u.length>0&&u.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),"Wired"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},"Terminal Point 2:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control",disabled:r,id:"terminalPoint2",name:"terminalPoint2",value:s.terminalPoint2,onChange:function(t){return e.handleTerminalPoint("terminalPoint2",t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Terminal Point 2"),_&&_.length>0&&_.sort(function(e,t){return Object(d.g)(e.label)>Object(d.g)(t.label)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:e.value},e.label," ")}))))),"Device"==s.sinkSourceAssetType&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceAsset"},"Device:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourceAsset?"":"addFieldValidate"),name:"sinkSourceAsset",disabled:r,value:s.sinkSourceAsset,onChange:function(t){return e.handleSinkSourceAssetSelect(t)}},o.createElement("option",{value:""},"Select Device"),p&&p.length>0&&p.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?1:-1}).map(function(e,t){return o.createElement("option",{value:e&&e.moncondevice&&e.moncondevice.value,key:t},e&&e.rdfsLabel&&e.rdfsLabel.value," ")})))),"Wired"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},"Terminal Point 2:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control",disabled:r,id:"terminalPoint2",name:"terminalPoint2",value:s.terminalPoint2,onChange:function(t){return e.handleTerminalPoint("terminalPoint2",t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Terminal Point 2"),_&&_.length>0&&_.sort(function(e,t){return Object(d.g)(e.label)>Object(d.g)(t.label)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:e.value},e.label," ")}))))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceAsset"},"Cable: ")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.cableEquipment?"":"addFieldValidate"),disabled:r,id:"cableEquipment",name:"cableEquipment",value:s.cableEquipment,onChange:function(t){return e.handleWireSelect(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Cable"),o.createElement("option",{value:"addNewCable",key:-1},"Add New Cable"),o.createElement("hr",null),H&&H.length>0&&H.sort(function(e,t){return Object(d.g)(e.rdfsLabel)>Object(d.g)(t.rdfsLabel)?1:-1}).map(function(e,t){return o.createElement("option",{key:t,value:e.ontology},e.rdfsLabel," ")})))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceAsset"},"Wire Color: ")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+("Wired"!=s.pointType?"":s.wireColor?"":"addFieldValidate"),id:"wireColor",disabled:r,name:"wireColor",value:s&&s.wireColor?s.wireColor:"",onChange:function(t){return e.handleWireColor(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Wire Color"),this.state.wireColors&&this.state.wireColors.map(function(e,t){return o.createElement("option",{key:t,value:e,style:{backgroundColor:e}}," ",E.j.find(function(t){return t.value==e})?E.j.find(function(t){return t.value==e}).label:""," ")})))))),o.createElement("br",null),o.createElement("br",null),"None"==s.assetConnectedAs&&"Terminal"!=s.pointType&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"webhook"},"Graphics link:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"text",id:"webhook",name:"webhook",disabled:r,className:"form-control col-md-6",value:s.webhook,onChange:function(t){return e.handlePointForm(t)}})))),"Terminal"!=s.pointType&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"softwarePointDescription"},"Data Point Description:")),o.createElement("div",{className:"col-md-8"},o.createElement("textarea",{id:"softwarePointDescription",name:"softwarePointDescription",disabled:r,className:"form-control col-md-6",value:s.softwarePointDescription,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"link1"},"Link 1:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"text",id:"link1",name:"link1",disabled:r,className:"form-control col-md-6",value:s.link1,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"link2"},"Link 2:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"text",id:"link2",name:"link2",disabled:r,className:"form-control col-md-6",value:s.link2,onChange:function(t){return e.handlePointForm(t)}}))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"notes"},"Notes:")),o.createElement("div",{className:"col-md-8"},o.createElement("textarea",{id:"notes",name:"notes",disabled:r,className:"form-control col-md-6",value:s.notes,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("label",{htmlFor:"link2"},"Commissioning Date:")),o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement(h.a,{disabled:r,id:"commissioningDate",className:"form-control",selected:s.commissioningDate?new Date(s.commissioningDate):void 0,onChange:function(t){return e.handleCommissioningDateChange(t)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",placeholder:"Commissioning Date","aria-label":"","aria-describedby":"button-addon4",value:s.commissioningDate})}))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement(L.a,{buildingName:n,assetOntology:r||i?this.props.PointName:s.point,showUploader:!r,entityType:"Point"}))),"Manual"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-2 col-xs-12 padding-10"},o.createElement("label",{htmlFor:"tag"},"Tag:")),o.createElement("div",{className:"col-md-6 col-xs-12"},o.createElement("input",{type:"text",id:"tag",name:"tag",className:"form-control",value:s.tag,disabled:r,onChange:function(t){return e.handlePointForm(t)}})),o.createElement("div",{className:"col-md-4 col-xs-12",style:{display:"inline-flex"}},o.createElement("button",{type:"button",disabled:r,className:"btn btn-dark btn-sm margin-5",onClick:function(){var t=e.state.isQrCameraMode;e.setState({isQrCameraMode:!t})}},o.createElement("i",{className:"fa fa-"+(N?"close":"camera")})),o.createElement("button",{type:"button",title:"QR Code Genrator",disabled:r||!s.tag||s.tag.length<=0,className:"margin-5 btn btn-dark btn-sm",onClick:function(){document.getElementById("QRCodeGenDailogebtn").click()}},o.createElement("i",{id:"icons",className:"fa fa-qrcode"}))),o.createElement("button",{id:"QRCodeGenDailogebtn",type:"button","data-toggle":"modal","data-target":"#QRCodeGenDailoge",className:"hidden"},"."),o.createElement(g.a,{id:"QRCodeGenDailoge",heading:"QR Code",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1,showSaveButton:!1},o.createElement("div",{className:"center"},o.createElement("div",{className:"dataCard img-thumbnail"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-8 center"},s.tag&&o.createElement("div",null,o.createElement(B,{style:{verticalAlign:"middle",alignContent:"center"},id:"QRCode",value:s.tag,size:370,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0,renderAs:"canvas"}))),o.createElement("div",{className:"col-md-2 col-md-offset-2"},o.createElement("div",{className:"pull-right"},o.createElement(w.a,{filename:s.tag,data:"",ElementID:"QRCode"}))))))))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8 col-xs-12"}),o.createElement("div",{className:"col-md-4 col-xs-12"},N&&o.createElement(M,{delay:300,onError:function(e){console.log(e)},onScan:this.handleScan,style:{width:"100%"}}))),o.createElement("br",null),o.createElement("br",null),o.createElement("div",{className:"col-md-12 text-center"},!r&&o.createElement("button",{type:"button",className:"btn btn-primary active",disabled:!se,onClick:function(){e.savePoint()}},"Save"),"\xa0\xa0",o.createElement("button",{type:"button",className:"btn btn-danger active",onClick:function(){window.history.back()}},"Cancel")),o.createElement("br",null),o.createElement("br",null),o.createElement("button",{id:"AddDeviceDailogeButton","data-toggle":"modal","data-target":"#AddDeviceDailoge",type:"button",className:"btn btn-primary btn-fill hidden"},"."),o.createElement(g.a,{id:"AddDeviceDailoge",closeButtonId:"closeDeviceForm",heading:"Add New Device from Point",saveButtonText:"Done",isEditForm:!0,showSaveButton:!1},o.createElement(v.default,{getNewDeviceLabel:this.getNewDeviceLabel,buildingName:n,instance:a,isView:!1,isEdit:!1})),o.createElement("button",{id:"AddAssetDailogeButton","data-toggle":"modal","data-target":"#AddAssetDailoge",type:"button",className:"btn btn-primary btn-fill hidden"},"."),o.createElement(g.a,{id:"AddAssetDailoge",onSaveButtonClick:this._saveEquipment,disableSaveButton:!me,heading:"Add New Wire",saveButtonText:"Save",isEditForm:!0,showSaveButton:!0},o.createElement(b.a,{onEquipmentChange:this.onEquipmentChange,equipment:y,isFromPoint:!0,buildingName:n,instance:a})),o.createElement("button",{id:"addNewFunctionDailogeButton","data-toggle":"modal","data-target":"#addNewFunctionDailoge",type:"button",className:"btn btn-primary btn-fill hidden"},"."),o.createElement(g.a,{id:"addNewFunctionDailoge",heading:"Add New Function From Point",saveButtonText:"Done",onSaveButtonClick:function(){e.addNewPointFunction()},disableSaveButton:!s.pointDevice},o.createElement("div",{className:"content"},o.createElement("div",{className:"dataCard"},o.createElement("div",null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"Add New Function:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("input",{value:s.pointDevice,onChange:function(t){e.onChangeFunction(t.target.value)},type:"text",className:"form-control"}))))))))),o.createElement("button",{id:"addNewPointTypeDailogeButton","data-toggle":"modal","data-target":"#addNewPointTypeDailoge",type:"button",className:"btn btn-primary btn-fill hidden"},"."),o.createElement(g.a,{id:"addNewPointTypeDailoge",heading:"Add New Point Type From Point",saveButtonText:"Done",onSaveButtonClick:function(){e.addNewPointType()},disableSaveButton:!s.pointType},o.createElement("div",{className:"content"},o.createElement("div",{className:"dataCard"},o.createElement("div",null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"Add New Point Type:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("input",{value:s.pointType,onChange:function(t){e.onChangePointType(t.target.value)},type:"text",className:"form-control"}))))))))),o.createElement("button",{id:"btnShowDeviceDetails","data-toggle":"modal","data-target":"#dialogShowDeviceDetails",type:"button",className:"btn btn-primary btn-fill hidden"},"."),o.createElement(g.a,{id:"dialogShowDeviceDetails",heading:"Device Wireless Details",saveButtonText:"Update",showCancelButton:!0,showSaveButton:!r,onSaveButtonClick:function(){e.saveMoncon()},disableSaveButton:!(G&&W&&V)},o.createElement("div",{className:"content card"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"}," MAC Address:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("input",{value:V,onChange:function(t){e.handleDeviceForm(t)},type:"text",name:"thermostatMacAddress",id:"thermostatMacAddress",className:"form-control",disabled:r}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"IP Address / Communication:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("textarea",{value:W,onChange:function(t){e.handleDeviceForm(t)},name:"ipAddress",id:"ipAddress",className:"form-control",disabled:r}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"}," Subnet Mask:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("input",{value:G,onChange:function(t){e.handleDeviceForm(t)},type:"text",name:"subnetmask",id:"subnetmask",className:"form-control",disabled:r})))))))))))},n}(o.Component);t.default=q}.call(t,n(5).Buffer)},1180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(2),l=(n.n(o),n(659)),i=n(651),r=n(10),c=n(24),s=n(683),m=n(117),u=n(650),d=n(725),p=n(1102),h=n(662),g=n(663),f=n(11),v=n(127),b=n(672),E=n(23),y=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),N=this&&this.__assign||function(){return(N=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},S=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},w=0,O=function(e){function t(t){var n=e.call(this,t)||this;return n.state={CeilingSensorBoardInfo:Object(),CeilingSensorBoard_MonconModel:Object(),Old_RelayBoardInfo:Object(),RelayBoardInfo:Object(),I1RelayBoardInfo:Object(),computingDevice:Object(),modelChanged:!1,Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",manufacturer:"",model:"",location:"",computingDevice:"",networkDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},isSchedule:!1,relatedEquipment:[],deviceNumber:"",enclosure:""},EquipmentList:[],currentChange:"",detailsExpanded:!1,spaces:[],relayControlStatusDesc:"",scheduleSelected:!1,relayisOn:!1,relayisOnNo:0,relayCensorStatus:Object(),relay1Status:!1,relay2Status:!1,relay3Status:!1,relay4Status:!1,I1RelayStatus:!1,relayControlStatus:"Manual",relayControlType:"",isOptimizeControl:!1,isOptimizeControlStatus:"",RelayBoardControl:Object(),relayOptimizeSettings:"",I4RelayBoardInfo:Object(),relayNoOptimize:0,devices:[],callInterval:!0,openRelayControlDialog:!1,showLogs:!1,RelayStatusMessage:["","","",""],bootDevice:!1,isNotSolutionDevice:!0},n,n.fetchDevices=n.fetchDevices.bind(n),n._fetchData=n._fetchData.bind(n),n._fetchCeilingSensorBoardInfo=n._fetchCeilingSensorBoardInfo.bind(n),n._fetchRelayCensorStatus=n._fetchRelayCensorStatus.bind(n),n._fetchV4RelayBoardInfo=n._fetchV4RelayBoardInfo.bind(n),n._fetchI1RelayBoardInfo=n._fetchI1RelayBoardInfo.bind(n),n._fetchI4RelayBoardInfo=n._fetchI4RelayBoardInfo.bind(n),n.fetchRelayControlSettings=n.fetchRelayControlSettings.bind(n),n.saveRelayStatusChanges=n.saveRelayStatusChanges.bind(n),n.setOptimizeSettings=n.setOptimizeSettings.bind(n),n.cancelSend=n.cancelSend.bind(n),n.resetChanges=n.resetChanges.bind(n),n.applyChanges=n.applyChanges.bind(n),n.handleChange=n.handleChange.bind(n),n.handleRelayOnOff=n.handleRelayOnOff.bind(n),n.handleRelayControlStatus=n.handleRelayControlStatus.bind(n),n.handleScheduleSelection=n.handleScheduleSelection.bind(n),n.setIntervalStart=n.setIntervalStart.bind(n),n.applyRule=n.applyRule.bind(n),n.onCloseRelayControlDialog=n.onCloseRelayControlDialog.bind(n),n.sendControlTypeAPI=n.sendControlTypeAPI.bind(n),n}return y(t,e),t.prototype.componentDidMount=function(){return C(this,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,this._fetchData()]:[3,5];case 1:return t.sent(),[4,this.fetchDevices()];case 2:return t.sent(),[4,this.resetChanges(!0)];case 3:return t.sent(),e=JSON.parse(f.a.getItem("user")),[4,Object(v.b)(e.contact)];case 4:t.sent(),t.label=5;case 5:return this.setIntervalStart(),[2]}})})},t.prototype.setIntervalStart=function(){var e=this;a&&clearInterval(a),a=setInterval(function(){var t=e.state,n=t.callInterval,a=t.modelChanged;w++,!a&&n&&w>=2&&(e.resetChanges(!1),Object(m.a)(!1),w=0)},1e3)},t.prototype.componentWillUnmount=function(){return C(this,void 0,void 0,function(){return S(this,function(e){return clearInterval(a),[2]})})},t.prototype.fetchDevices=function(){return C(this,void 0,void 0,function(){var e,t;return S(this,function(n){switch(n.label){case 0:return(e=this.props.buildingName)?[4,Object(l.u)(e)]:[3,2];case 1:t=n.sent(),this.setState({devices:t}),n.label=2;case 2:return[2]}})})},t.prototype._fetchData=function(){return C(this,void 0,void 0,function(){var e,t,n,a,o,l,c,s,d,p,h,g,f,v,E,y,N,w=this;return S(this,function(O){switch(O.label){case 0:return e=this.state,t=e.scheduleSelected,n=e.relayControlType,a=this.props,o=a.RelayDeviceName,l=a.buildingName,o?(Object(m.a)(!0),[4,Object(u.h)(this.props.buildingName)]):[3,6];case 1:return c=O.sent(),s=c&&c.length>0&&c.map(function(e){return{value:Object(r.g)(e.ontology),label:Object(r.g)(e.rdfsLabel)}}),d=Object(),p=Object(),[4,Object(i.v)(o,l)];case 2:return d=O.sent(),h=!!!d.referenceSolutionOntology,t=d.isSchedule,n=d.monitoringControlDeviceType,d.computingDevice?[4,Object(b.f)(d.computingDevice)]:[3,5];case 3:return g=O.sent(),[4,Object(b.d)(g)];case 4:(f=O.sent())&&f.length>0&&(p=f[0]),O.label=5;case 5:localStorage.getItem(d.deviceID)&&localStorage.getItem(d.deviceID).length>0&&(v=localStorage.getItem(d.deviceID))&&"undefined"!=v&&(n&&-1!=n.indexOf("OneRelay")?(E=JSON.parse(localStorage.getItem(d.deviceID)),this.setState({I1RelayBoardInfo:E,modelChanged:!1,currentChange:""})):-1!=n.toLowerCase().indexOf("i4")?(y=JSON.parse(localStorage.getItem(d.deviceID)),this.setState({I4RelayBoardInfo:y,modelChanged:!1,currentChange:""})):(N=JSON.parse(localStorage.getItem(d.deviceID)),this.setState({RelayBoardInfo:N,modelChanged:!1,currentChange:""}))),this.setState({Moncon:d,EquipmentList:s,scheduleSelected:t,computingDevice:p,relayControlType:n,isNotSolutionDevice:h},function(){return C(w,void 0,void 0,function(){return S(this,function(e){return this._fetchRelayCensorStatus(!0),-1!=n.toLowerCase().indexOf("i1")?this._fetchI1RelayBoardInfo(!0):-1!=n.toLowerCase().indexOf("i4")?this._fetchI4RelayBoardInfo(!0):this._fetchV4RelayBoardInfo(!0),this._fetchCeilingSensorBoardInfo(!0),this.fetchRelayControlSettings(),[2]})})}),Object(m.a)(!1),O.label=6;case 6:return[2]}})})},t.prototype._fetchCeilingSensorBoardInfo=function(e){return C(this,void 0,void 0,function(){var t,n,a,o,r,s,u;return S(this,function(d){switch(d.label){case 0:e&&Object(m.a)(!0),t=this.state.Moncon,n=this.props.buildingName,a="",o=0,d.label=1;case 1:return o<t.sensors.length?(r=t.sensors[o],a=r.value,s=Object(),[4,Object(i.v)(a,n)]):[3,5];case 2:return"CeilingSensor"!=(s=d.sent()).monitoringControlDeviceType?[3,4]:[4,Object(l.n)(s).then(function(e){var t=e[0];return!t||t&&t.error?(Object(c.a)("Error occurred while fetching ceiling sensor board info."),Object()):t}).catch(function(e){return Object()})];case 3:return u=d.sent(),this.setState({CeilingSensorBoardInfo:u,CeilingSensorBoard_MonconModel:s,currentChange:""}),[2];case 4:return o++,[3,1];case 5:return e&&Object(m.a)(!1),[2]}})})},t.prototype._fetchI1RelayBoardInfo=function(e){return C(this,void 0,void 0,function(){var t,n,a;return S(this,function(o){switch(o.label){case 0:return e&&Object(m.a)(!0),t=this.state.Moncon,n=this.state.I1RelayStatus,[4,Object(l.f)(t.topic,new Date,new Date,!0).then(function(e){return!e||e&&e.error?(Object(c.a)("Error occurred while fetching relay board info."),Object()):(e[e.length-1]&&localStorage.setItem(t.deviceID,JSON.stringify(e[e.length-1])),e[e.length-1])}).catch(function(e){return Object()})];case 1:return(a=o.sent())&&a.i1relay_state&&a.i1relay_state[0]&&(n="1"==a.i1relay_state[0]),a&&a.i1relay_state&&0==a.i1relay_state[0]&&(n=!1),this.setState({I1RelayBoardInfo:a,currentChange:"",I1RelayStatus:n}),e&&Object(m.a)(!1),[2]}})})},t.prototype._fetchV4RelayBoardInfo=function(e){return C(this,void 0,void 0,function(){var t,n,a,o,i,r,s,u,d;return S(this,function(p){switch(p.label){case 0:return e&&Object(m.a)(!0),t=this.state.Moncon,n=this.state,a=n.relay1Status,o=n.relay2Status,i=n.relay3Status,r=n.relay4Status,s=Object(),[4,Object(l.g)(t.topic,new Date,new Date,!0).then(function(e){return!e||e&&e.error?(Object(c.a)("Error occurred while fetching relay board info."),Object()):(e[e.length-1]&&localStorage.setItem(t.deviceID,JSON.stringify(e[e.length-1])),e[e.length-1])}).catch(function(e){return Object()})];case 1:return(s=p.sent())&&s.v4relay_state&&(u=Object(E.b)(parseInt(s.v4relay_state),!0),d=u.split(","),a="1"==d[0],o="1"==d[1],i="1"==d[2],r="1"==d[3]),this.setState({RelayBoardInfo:s,Old_RelayBoardInfo:N({},s),currentChange:"",relay1Status:a,relay2Status:o,relay3Status:i,relay4Status:r}),e&&Object(m.a)(!1),[2]}})})},t.prototype._fetchI4RelayBoardInfo=function(e){return C(this,void 0,void 0,function(){var t,n,a,o,i,r,s;return S(this,function(u){switch(u.label){case 0:return e&&Object(m.a)(!0),t=this.state.Moncon,n=this.state,a=n.relay1Status,o=n.relay2Status,i=n.relay3Status,r=n.relay4Status,s=Object(),[4,Object(l.q)(t).then(function(e){return!e||e&&e.error?(Object(c.a)("Error occurred while fetching relay board info."),Object()):(e&&localStorage.setItem(t.deviceID,JSON.stringify(e)),e)}).catch(function(e){return Object()})];case 1:return s=u.sent(),a=120==s.voltage_volts_Ch1,o=120==s.voltage_volts_Ch2,i=120==s.voltage_volts_Ch3,r=120==s.voltage_volts_Ch4,this.setState({currentChange:"",relay1Status:a,relay2Status:o,relay3Status:i,relay4Status:r,I4RelayBoardInfo:s}),e&&Object(m.a)(!1),[2]}})})},t.prototype._fetchRelayCensorStatus=function(e){return C(this,void 0,void 0,function(){var t,n,a,o=this;return S(this,function(i){switch(i.label){case 0:return e&&Object(m.a)(!0),t=this.props,n=t.buildingName,a=t.RelayDeviceName,[4,Object(l.w)(n,a).then(function(e){var t=e[0];if(!t)return o.setState({relay1Status:!1,relay2Status:!1,relay3Status:!1,relay4Status:!1,relayOptimizeSettings:"Normal,Normal,Normal,Normal,"}),Object();var n=Object();n.relayStatus=[],n.controlStatus=Object(r.g)(t.controlStatus),n.deviceType=Object(r.g)(t.deviceType);var a=Object(r.g)(t.statusNotes).split(",");n.statusNotes=Object(r.g)(t.statusNotes).split(",");var l=o.state,i=l.relay1Status,c=l.relay2Status,s=l.relay3Status,m=l.relay4Status,u=l.relayControlStatus,d=l.I1RelayStatus,p=l.relayOptimizeSettings,h=Object(r.g)(t.relayStatus).split(",");-1!=n.deviceType.indexOf("OneRelay")?(h&&(n.relayStatus=h),u=Object(r.g)(t.controlStatus),o.setState({I1RelayStatus:d,relayControlStatus:u})):(h&&(n.relayStatus=h),u=Object(r.g)(t.controlStatus),o.setState({relay1Status:i,relay2Status:c,relay3Status:s,relay4Status:m,relayControlStatus:u}));var g="Optimize"==n.controlStatus||"Normal"==n.controlStatus;(p=Object(r.g)(t.relayOptimizeSettings))&&",,,,"!=p&&""!=p||(p=-1==n.deviceType.indexOf("OneRelay")?"Normal,Normal,Normal,Normal,":"Normal"),o.setState({isOptimizeControl:g,isOptimizeControlStatus:g?n.controlStatus:"",relayOptimizeSettings:p,RelayStatusMessage:a,relayCensorStatus:n})}).catch(function(e){return Object()})];case 1:return i.sent(),e&&Object(m.a)(!1),[2]}})})},t.prototype.fetchRelayControlSettings=function(){return C(this,void 0,void 0,function(){var e,t,n,a,o,i;return S(this,function(c){switch(c.label){case 0:return e=this.props.RelayDeviceName,t=this.state,n=t.relayControlType,a=t.RelayBoardControl,[4,Object(l.x)(e)];case 1:return(o=c.sent())[0]?(i=o[0],n&&-1==n.indexOf("OneRelay")?a.relays="1,2,3,4":a.relays="OneRelay",a.controlChoice=Object(r.g)(i.controlChoice),a.relayNames=Object(r.g)(i.relayNames),a.lightingTypes=Object(r.g)(i.lightingTypes),a.sensors=Object(r.g)(i.sensors),a.activeRelayStatus=Object(r.g)(i.activeRelayStatus)):n&&-1==n.indexOf("OneRelay")?(a.relays="1,2,3,4",a.controlChoice="0,0,0,0",a.relayNames="Relay 1,Relay 2,Relay 3,Relay 4",a.lightingTypes="0,0,0,0",a.sensors="0,0,0,0",a.activeRelayStatus="active,active,active,active"):(a.relays="OneRelay",a.controlChoice="0",a.relayNames="Relay",a.sensors="0",a.lightingTypes="0",a.activeRelayStatus="active"),this.setState({RelayBoardControl:a}),[2]}})})},t.prototype.handleRelayOnOff=function(e,t,n){var a=this.state,o=a.relay1Status,l=a.relay2Status,i=a.relay3Status,r=a.relay4Status;if(a.isNotSolutionDevice){1==t&&(o=e),2==t&&(l=e),3==t&&(i=e),4==t&&(r=e);for(var c=0;c<=3;c++)t-1===c&&(this.state.RelayStatusMessage[c]="Manually");this.setState({modelChanged:n,relayisOnNo:t,relayisOn:e,relay1Status:o,relay2Status:l,relay3Status:i,relay4Status:r})}},t.prototype.handleI1RelayOnOff=function(e){this.state.isNotSolutionDevice&&this.setState({I1RelayStatus:e,modelChanged:!0})},t.prototype.handleRelayBoot=function(){this.setState({bootDevice:!0,modelChanged:!0})},t.prototype.handleChange=function(e,t){var n=this.state.RelayBoardInfo;n[e]=t,this.setState({RelayBoardInfo:n,modelChanged:!0,currentChange:e})},t.prototype.handleRelayOptimizeSettings=function(e,t,n){return void 0===n&&(n=!0),C(this,void 0,void 0,function(){var a,o,l,i,r,c;return S(this,function(s){return a=this.state,o=a.relayOptimizeSettings,l=a.isOptimizeControl,i=a.modelChanged,r=a.relayNoOptimize,a.isNotSolutionDevice?((c=o.split(","))[t]=e,l=!0,i=n,o=c.join(","),r=t+1,this.setState({isOptimizeControlStatus:e,relayOptimizeSettings:o,isOptimizeControl:l,modelChanged:i,relayNoOptimize:r}),[2]):[2]})})},t.prototype.handleRelayControlStatus=function(e){return C(this,void 0,void 0,function(){var t,n,a;return S(this,function(o){return this.state.isNotSolutionDevice?(this.state.relayCensorStatus.statusNotes=this.state.RelayStatusMessage,"Remote"==e&&"Local"!=this.state.relayControlStatus?[2]:("Remote"==e&&"Local"==this.state.relayControlStatus&&(e="Manual"),this.setState({relayControlStatus:e,isOptimizeControl:!1}),"Local"!=e&&"Schedule"!=e&&"Manual"!=e||(t=this.state,n=t.isOptimizeControl,a=t.modelChanged,n=!0,a=!0,this.setState({isOptimizeControlStatus:e,isOptimizeControl:n,modelChanged:a})),[2])):[2]})})},t.prototype.cancelSend=function(){var e=this.state,t=e.relay1Status,n=e.relay2Status,a=e.relay3Status,o=e.relay4Status,l=e.I1RelayStatus,i=e.relayCensorStatus,r=e.relayControlType,c=e.relayOptimizeSettings,s=e.bootDevice,m=e.isOptimizeControl,u=e.relayNoOptimize;if(s)this.setState({bootDevice:!1,modelChanged:!1,isOptimizeControl:!1});else if(r&&-1!=r.indexOf("OneRelay"))l=!l,this.setState({I1RelayStatus:l,modelChanged:!1,isOptimizeControl:!1});else{if(i&&i.relayStatus&&i.relayStatus.length>0&&(t="1"==i.relayStatus[0],n="1"==i.relayStatus[1],a="1"==i.relayStatus[2],o="1"==i.relayStatus[3],this.setState({relay1Status:t,relay2Status:n,relay3Status:a,relay4Status:o})),m){var d=c.split(",");d[u]="Normal"==d[u]?"Optimize":"Normal",c=d.join(",")}this.setState({modelChanged:!1,isOptimizeControl:!1,currentChange:"",relayOptimizeSettings:c,relayNoOptimize:0})}},t.prototype.onCloseRelayControlDialog=function(e){return C(this,void 0,void 0,function(){return S(this,function(t){return this.setState({openRelayControlDialog:e}),[2]})})},t.prototype.setOptimizeSettings=function(e,t){return C(this,void 0,void 0,function(){var n,a,o,i=this;return S(this,function(s){switch(s.label){case 0:return this.state.isNotSolutionDevice?(n=this.props,a=n.buildingName,o=n.RelayDeviceName,[4,Object(l.b)(a,o).then(function(n){return C(i,void 0,void 0,function(){var i,s,m,u,d,p,h,g,f,v,b,E,y,N,w,O,D,T=this;return S(this,function(x){switch(x.label){case 0:return i=Object(),n[0]?(i.device=Object(r.g)(n[0].device),i.A1=Object(r.g)(n[0].A1)?Object(r.g)(n[0].A1):"0",i.A2=Object(r.g)(n[0].A2)?Object(r.g)(n[0].A2):"0",i.B1=Object(r.g)(n[0].B1)?Object(r.g)(n[0].B1):"1",i.B2=Object(r.g)(n[0].B2)?Object(r.g)(n[0].B2):"1",i.C1=Object(r.g)(n[0].C1)?Object(r.g)(n[0].C1):"0",i.C2=Object(r.g)(n[0].C2)?Object(r.g)(n[0].C2):"0",i.D1=Object(r.g)(n[0].D1)?Object(r.g)(n[0].D1):"1",i.D2=Object(r.g)(n[0].D2)?Object(r.g)(n[0].D2):"1",i.E1=Object(r.g)(n[0].E1)?Object(r.g)(n[0].E1):"1",i.E2=Object(r.g)(n[0].E2)?Object(r.g)(n[0].E2):"1",i.F1=Object(r.g)(n[0].F1)?Object(r.g)(n[0].F1):"0",i.F2=Object(r.g)(n[0].F2)?Object(r.g)(n[0].F2):"0",i.G1=Object(r.g)(n[0].G1)?Object(r.g)(n[0].G1):"1",i.G2=Object(r.g)(n[0].G2)?Object(r.g)(n[0].G2):"1"):(i.device=o,i.A1="0",i.A2="0",i.B1="1",i.B2="1",i.C1="0",i.C2="0",i.D1="1",i.D2="1",i.E1="1",i.E2="1",i.F1="0",i.F2="0",i.G1="1",i.G2="1"),s=Object(),m=Object(),u=this.state,d=u.Moncon,p=u.relayNoOptimize,h=u.relayControlType,g=u.relayOptimizeSettings,f=u.RelayBoardControl,v=u.devices,b=u.relayControlStatus,E=e?e.split(","):g.split(","),s.isOptimize="Optimize"==E[(t||p)-1],s.isOptimize?(s.varA=parseInt(i.A2),s.varB=parseInt(i.B2),s.varC=parseInt(i.C2),s.varD=parseInt(i.D2),s.varE=parseInt(i.E2),s.varF=parseInt(i.F2),s.varG=parseInt(i.G2)):(s.varA=parseInt(i.A1),s.varB=parseInt(i.B1),s.varC=parseInt(i.C1),s.varD=parseInt(i.D1),s.varE=parseInt(i.E1),s.varF=parseInt(i.F1),s.varG=parseInt(i.G1)),s.deviceID=d.deviceName,s.relaynum=""+p,s.rlb_add=d.boardAddress,d.wirelessConfig.ipAddress&&(s.controllerPI=d.wirelessConfig.ipAddress,m.controllerPI=d.wirelessConfig.ipAddress),d.wirelessConfig.controllerIPAddress&&(s.controllerPI=d.wirelessConfig.controllerIPAddress,m.controllerPI=d.wirelessConfig.controllerIPAddress),-1!=h.toLowerCase().indexOf("v1")?s.rlb_ver="v1":-1!=h.toLowerCase().indexOf("v4")?s.rlb_ver="v4":-1!=h.toLowerCase().indexOf("i1")?s.rlb_ver="i1":-1!=h.toLowerCase().indexOf("i4")&&(s.rlb_ver="i4"),y=[],N=[],w=[],O=[],y=f.controlChoice&&f.controlChoice.split(","),N=f.lightingTypes&&f.lightingTypes.split(","),w=f.sensors&&f.sensors.split(","),O=f.relayNames&&f.relayNames.split(","),m.sched=!1,m.controltype="Manual"!=b?y[p-1]:"10",m.lighting_type=N[p-1],m.relaynum=""+p,m.rlb_ver=s.rlb_ver,m.rlb_add=d.boardAddress,m.deviceID=d.deviceName,w&&w[p-1]?(D=v.find(function(e){return Object(r.g)(e.moncondevice)==w[p-1]}),m.csb_add=D?Object(r.g)(D.boardAddress):"9999"):m.csb_add="9999",m.lighting_type&&"0"!=m.lighting_type&&m.controltype&&"0"!=m.controltype?[4,Object(l.M)(m,s,a)]:(Object(c.a)("Save the control settings for "+O[p-1]+" before posting settings"),[2]);case 1:return x.sent(),"A"!=N[p-1]?[3,11]:"0"!=w[p-1]?[3,11]:s.isOptimize?[4,this.handleRelayOnOff(!1,p,!1)]:[3,11];case 2:return x.sent(),[4,this.saveRelayStatusChanges(b,!1)];case 3:return x.sent(),h&&-1!=h.indexOf("OneRelay")?h&&-1!=h.indexOf("V1")?[3,6]:[3,4]:[3,7];case 4:return[4,Object(l.H)(d,!1,a).then(function(e){return C(T,void 0,void 0,function(){return S(this,function(t){return e.error?Object(c.a)(e.error):e&&Object(c.b)("Changes applied successfully. "),[2]})})}).catch(function(e){Object(c.a)("Some error orccured. ")})];case 5:x.sent(),x.label=6;case 6:return[3,11];case 7:return h&&-1!=h.indexOf("V4")?[4,Object(l.O)(d,!1,!1,p,a).then(function(e){return C(T,void 0,void 0,function(){return S(this,function(t){return e.error?Object(c.a)(e.error):e&&Object(c.b)("Changes applied successfully. "),[2]})})}).catch(function(e){Object(c.a)("Some error orccured. ")})]:[3,9];case 8:return x.sent(),[3,11];case 9:return[4,Object(l.I)(d,!1,!1,p,a).then(function(e){return C(T,void 0,void 0,function(){return S(this,function(t){return e.error?Object(c.a)(e.error):e&&Object(c.b)("Changes applied successfully. "),[2]})})}).catch(function(e){Object(c.a)("Some error orccured. ")})];case 10:x.sent(),x.label=11;case 11:return[2]}})})})]):[2];case 1:return s.sent(),[2]}})})},t.prototype.bootDevice=function(){return C(this,void 0,void 0,function(){var e,t,n,a=this;return S(this,function(o){switch(o.label){case 0:return e=this.state.computingDevice,t=this.props.buildingName,!(n=JSON.parse(f.a.getItem("user")))||!n.role||"1"!=n.role&&"2"!=n.role?[3,3]:e.controllerIpAddress&&e.macID?[4,Object(l.L)(e,t).then(function(e){return C(a,void 0,void 0,function(){return S(this,function(t){return e.error?Object(c.a)(e.error):e&&setTimeout(function(){Object(c.b)("Device booted successfully. ")},3e3),[2]})})}).catch(function(e){Object(c.a)("Some error orccured. ")})]:[3,2];case 1:return o.sent(),[3,3];case 2:Object(c.a)("No Mac ID or Controller IP for computing device. "),o.label=3;case 3:return[2]}})})},t.prototype.sendControlTypeAPI=function(){return C(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,c;return S(this,function(s){switch(s.label){case 0:if(e=this.state,t=e.relayControlType,n=e.relayOptimizeSettings,a=e.RelayBoardControl,!e.isNotSolutionDevice)return[2];Object(m.a)(!0),o=t&&-1==t.indexOf("OneRelay")?4:1,l=n.split(","),i=a.activeRelayStatus&&a.activeRelayStatus.split(","),r=0,s.label=1;case 1:return r<o?"active"!=i[r]?[3,4]:[4,this.handleRelayOptimizeSettings(l[r],r,!1)]:[3,5];case 2:return s.sent(),n=l.join(","),c=r+1,[4,this.setOptimizeSettings(n,c)];case 3:s.sent(),s.label=4;case 4:return r++,[3,1];case 5:return Object(m.a)(!1),[2]}})})},t.prototype.resetChanges=function(e){return C(this,void 0,void 0,function(){var t=this;return S(this,function(n){return this.setState({modelChanged:!1,isOptimizeControl:!1,currentChange:"",callInterval:!1},function(){return C(t,void 0,void 0,function(){var t;return S(this,function(n){switch(n.label){case 0:return t=this.state.relayControlType,[4,this._fetchRelayCensorStatus(e)];case 1:return n.sent(),-1!=t.toLowerCase().indexOf("i1")?this._fetchI1RelayBoardInfo(e):-1!=t.toLowerCase().indexOf("i4")?this._fetchI4RelayBoardInfo(e):this._fetchV4RelayBoardInfo(e),[4,this._fetchCeilingSensorBoardInfo(e)];case 2:return n.sent(),this.setState({callInterval:!0}),[2]}})})}),[2]})})},t.prototype.handleScheduleSelection=function(e){return C(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return[4,Object(l.Y)(this.props.RelayDeviceName,e)];case 1:return t.sent(),e?Object(c.b)("Successfully Selected Schedule"):Object(c.b)("Successfully unSelected Schedule"),[2]}})})},t.prototype.saveRelayStatusChanges=function(e,t){return C(this,void 0,void 0,function(){var n,a,o,i,r,s,u,d,p,h,g,f,v;return S(this,function(b){switch(b.label){case 0:return t&&Object(m.a)(!0),n=this.props,a=n.buildingName,o=n.RelayDeviceName,i=this.state,r=i.relay1Status,s=i.relay2Status,u=i.relay3Status,d=i.relay4Status,p=i.relayCensorStatus,h=i.relayControlType,g=i.I1RelayStatus,f=i.relayOptimizeSettings,i.isNotSolutionDevice?(v=[],h&&-1!=h.indexOf("OneRelay")?v.push(g?"1":"0"):(v.push(r?"1":"0"),v.push(s?"1":"0"),v.push(u?"1":"0"),v.push(d?"1":"0")),p.relayStatus=v,p.controlStatus=e,p.deviceType=h,p.device=o,p.relayOptimizeSettings=f.split(","),[4,Object(l.U)(a,p).then(function(e){}).catch(function(e){Object(c.a)("Some error orccured. ")})]):[2];case 1:return b.sent(),t&&Object(m.a)(!1),[2]}})})},t.prototype.applyChanges=function(){return C(this,void 0,void 0,function(){var e=this;return S(this,function(t){return this.state.isNotSolutionDevice?(Object(m.a)(!0),this.setState({modelChanged:!1,currentChange:""},function(){return C(e,void 0,void 0,function(){var e,t,n,o,i,r,s,u,d,p,h,g,f,v,b,E,y,N,O=this;return S(this,function(D){switch(D.label){case 0:return w=0,a&&clearInterval(a),Object(m.a)(!0),e=this.state,t=e.Moncon,n=e.relayControlStatus,o=e.relayControlType,i=e.isOptimizeControlStatus,r=e.relayOptimizeSettings,s=e.RelayBoardControl,u=e.relayCensorStatus,d=e.isOptimizeControl,p=e.I1RelayStatus,h=e.relayisOn,g=e.relayisOnNo,f=e.bootDevice,u.statusNotes=this.state.RelayStatusMessage,[4,this.saveRelayStatusChanges(n,!1)];case 1:return D.sent(),f?[4,this.bootDevice()]:[3,3];case 2:return D.sent(),this.setState({bootDevice:!1}),this.setIntervalStart(),Object(m.a)(!1),[2];case 3:if("Schedule"==i)return this.handleScheduleSelection(!0),this.setIntervalStart(),Object(m.a)(!1),[2];if(this.handleScheduleSelection(!1),"Local"!=i&&"Manual"!=i)return[3,9];v=o&&-1==o.indexOf("OneRelay")?4:1,b=r.split(","),E=s.activeRelayStatus&&s.activeRelayStatus.split(","),y=0,D.label=4;case 4:return y<v?"active"!=E[y]?[3,7]:[4,this.handleRelayOptimizeSettings(b[y],y,!1)]:[3,8];case 5:return D.sent(),r=b.join(","),N=y+1,[4,this.setOptimizeSettings(r,N)];case 6:D.sent(),D.label=7;case 7:return y++,[3,4];case 8:return"Local"==n&&"Local"==i?(this.setIntervalStart(),Object(m.a)(!1),[2]):[3,20];case 9:return"Schedule"!=n&&"Schedule"!=i&&this.handleScheduleSelection(!1),d?[3,18]:o&&-1!=o.indexOf("OneRelay")?o&&-1!=o.indexOf("V1")?[3,12]:[3,10]:[3,13];case 10:return[4,Object(l.H)(t,p,this.props.buildingName).then(function(e){return C(O,void 0,void 0,function(){return S(this,function(t){return e.error?Object(c.a)(e.error):e&&Object(c.b)("Changes applied successfully. "),[2]})})}).catch(function(e){Object(c.a)("Some error orccured. ")})];case 11:D.sent(),D.label=12;case 12:return[3,17];case 13:return o&&-1!=o.indexOf("V4")?[4,Object(l.O)(t,!1,h,g,this.props.buildingName).then(function(e){return C(O,void 0,void 0,function(){return S(this,function(t){return e.error?Object(c.a)(e.error):e&&Object(c.b)("Changes applied successfully. "),[2]})})}).catch(function(e){Object(c.a)("Some error orccured. ")})]:[3,15];case 14:return D.sent(),[3,17];case 15:return[4,Object(l.I)(t,!1,h,g,this.props.buildingName).then(function(e){return C(O,void 0,void 0,function(){return S(this,function(t){return e.error?Object(c.a)(e.error):e&&Object(c.b)("Changes applied successfully. "),[2]})})}).catch(function(e){Object(c.a)("Some error orccured. ")})];case 16:D.sent(),D.label=17;case 17:return[3,20];case 18:return[4,this.setOptimizeSettings()];case 19:D.sent(),D.label=20;case 20:return this.setState({isOptimizeControl:!1}),this.setIntervalStart(),Object(m.a)(!1),[2]}})})}),[2]):[2]})})},t.prototype.applyRule=function(e,t,n){return e?t?e<n?0:e:e>n?0:e:0},t.prototype.render=function(){var e,t,n,a,l=this,i=this.state,r=i.CeilingSensorBoardInfo,c=i.CeilingSensorBoard_MonconModel,m=i.Moncon,u=i.modelChanged,v=i.currentChange,b=i.detailsExpanded,E=i.RelayBoardInfo,y=i.relayControlStatus,N=i.relayisOn,C=i.relayisOnNo,S=i.relay1Status,w=i.relay2Status,O=i.relay3Status,D=i.relay4Status,T=i.relayControlType,x=i.I1RelayBoardInfo,L=i.I1RelayStatus,I=i.isOptimizeControl,j=i.isOptimizeControlStatus,k=i.RelayBoardControl,A=i.relayOptimizeSettings,_=i.I4RelayBoardInfo,F=i.openRelayControlDialog,R=i.RelayStatusMessage,P=i.relayCensorStatus,M=i.showLogs,B=i.bootDevice,q=i.isNotSolutionDevice,H=this.props,V=H.instance,W=H.buildingName,G=H.RelayDeviceName,z=H.type,U=H.hideTabs,Q="Local"!=y;e=k.relayNames&&k.relayNames.split(","),t=k.lightingTypes&&k.lightingTypes.split(","),n=A&&A.split(","),a=k.activeRelayStatus&&k.activeRelayStatus.split(",");var J="not refreshed";if(T&&(-1!=T.toLowerCase().indexOf("i1")?x&&x.timestamp&&(J=new Date(x.timestamp).toLocaleString()):-1!=T.toLowerCase().indexOf("i4")?_&&_.timestamp&&(J=new Date(_.timestamp).toLocaleString()):-1!=T.toLowerCase().indexOf("v4")&&E&&E.timestamp&&(J=new Date(E.timestamp).toLocaleString())),M)return o.createElement(h.a,{instance:V,buildingName:W,fromEntityList:!0,module:g.a.Assets,ontology:m.monitoringControl,entityName:"Device",onLogClose:function(){return l.setState({showLogs:!1})}});var Y=JSON.parse(f.a.getItem("user"));return o.createElement("div",{className:"content"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},!U&&o.createElement(s.a,{InsightName:G,ControlName:"RelayControl",buildingName:W,instance:V,type:z}),Y&&"1"==Y.role&&o.createElement("button",{className:"btn btn-md btn-primary btn-fill pull-right",style:{margin:10},title:"Logs",onClick:function(){l.setState({showLogs:!0})}}," ",o.createElement("img",{src:"assets/img/Logs.png",style:{width:25,height:18}})),o.createElement("div",{className:"card",id:"InsightsList"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-6"},o.createElement("div",{className:"header"},o.createElement("h3",{className:"title"},o.createElement("strong",null,m.rdfsLabel)," "),o.createElement("h4",{className:"title"},o.createElement("strong",null,this.props.type.toUpperCase(),":",m&&m.relatedEquipment&&m.relatedEquipment.map(function(e,t){return o.createElement("span",{key:t},t+1==m.relatedEquipment.length?"":",")}))))),o.createElement("div",{className:"col-md-6"},q&&o.createElement(o.Fragment,null,o.createElement("button",{className:"btn btn-success active pull-right custom-outline-btn",title:"Control Settings",onClick:function(e){l.setState({openRelayControlDialog:!0},function(){document.getElementById("btnDialogRelayControl").click()})}}," ",o.createElement("i",{className:"fa fa-sliders"})," Control Settings"),o.createElement("button",{className:"btn btn-success active pull-right custom-outline-btn",title:"Send Control Settings To Board",onClick:function(e){l.sendControlTypeAPI()}}," ",o.createElement("i",{className:"fa fa-cog"})," Send CTs To Board")),Y&&Y.role&&("1"==Y.role||"2"==Y.role)&&o.createElement("button",{className:"btn btn-success active pull-right custom-outline-btn",title:"Boot PI Board",onClick:function(e){l.handleRelayBoot()}}," ",o.createElement("i",{className:"fa fa-refresh"})," Boot PI Board")))),o.createElement("div",{className:"content"},o.createElement("div",{className:"row"},T&&-1!=T.indexOf("OneRelay")&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-8 InsightRow"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-6 col-xs-12"},o.createElement("h4",{className:"padding-5 margin-5"},"Power Watts: ",o.createElement("b",null,x&&x.active_power_Watts&&parseFloat(x.active_power_Watts)?parseFloat(x.active_power_Watts):0," ")),o.createElement("h4",{className:"padding-5 margin-5"},"Amperes: ",o.createElement("b",null,x&&x.current_Amperes?x.current_Amperes:0)),o.createElement("h4",{className:"padding-5 margin-5"},"Frequency Hz: ",o.createElement("b",null,x&&x.frequency_Hz?this.applyRule(x.frequency_Hz,!0,55):0))),o.createElement("div",{className:"col-md-6 col-xs-12"},o.createElement("h4",{className:"padding-5 margin-5"},"Total Energy Watt Hours: ",o.createElement("b",null,x&&x.import_active_energy_Wh&&parseFloat(x.import_active_energy_Wh)?parseFloat(x.import_active_energy_Wh).toFixed(2):0," ")),o.createElement("h4",{className:"padding-5 margin-5"},"Power Factor: ",o.createElement("b",null,x&&x.power_factor?x.power_factor:0)),o.createElement("h4",{className:"padding-5 margin-5"},"Voltage volts: ",o.createElement("b",null,x&&x.voltage_volts?x.voltage_volts:0))))),o.createElement("div",{className:"col-md-4 col-xs-12 InsightRow"},o.createElement("h4",{className:"padding-5 margin-5"},"Control Type: ",o.createElement("b",null,k&&k.controlChoice?k.controlChoice:"Not selected"," ")),o.createElement("h4",{className:"padding-5 margin-5"},"Illuminance: ",o.createElement("b",null,r&&r.illuminance_lux?r.illuminance_lux:0," Lumens")),o.createElement("h4",{className:"padding-5 margin-5"},"Motion Sensed: ",o.createElement("b",null,r&&r.motion_sensed&&r.motion_sensed>0?"True":"False")))),T&&-1==T.indexOf("OneRelay")&&o.createElement("div",{className:"col-md-12 InsightRow"},o.createElement("table",{className:"table table-striped"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null),o.createElement("th",null,o.createElement("b",null,"Amperes")),o.createElement("th",null,o.createElement("b",null,"Power Watt")),-1!=T.toLowerCase().indexOf("i4")&&o.createElement(o.Fragment,null,o.createElement("th",null,o.createElement("b",null,"Frequency")),o.createElement("th",null,o.createElement("b",null,"Energy")),o.createElement("th",null,o.createElement("b",null,"Power Factor")),o.createElement("th",null,o.createElement("b",null,"Voltage"))),o.createElement("th",null,"Manual"==y?"Status":""),t&&t.length>0&&(1==t.length?"0"!=t[0]:"0"!=t[0]&&"0"!=t[1]&&"0"!=t[2]&&"0"!=t[3])&&o.createElement("th",null,"Optimize Settings"))),o.createElement("tbody",null,a&&"inactive"!=a[0]&&o.createElement("tr",null,o.createElement("td",null,o.createElement("b",null,e&&e[0])),-1!=T.toLowerCase().indexOf("v4")&&o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("b",null,E&&E.mAmps_relay1?this.applyRule(parseFloat(E.mAmps_relay1)/1e3,!0,.05):0," A")),o.createElement("td",null,o.createElement("b",null,E&&E.power_Wt_relay1?this.applyRule(parseFloat(E.power_Wt_relay1)/1e3,!0,3):0," W"))),-1!=T.toLowerCase().indexOf("i4")&&o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("b",null,_&&_.current_Amperes_Ch1?this.applyRule(_.current_Amperes_Ch1,!0,.05):0," A")),o.createElement("td",null,o.createElement("b",null,_&&_.active_power_Watts_Ch1?this.applyRule(parseFloat(_.active_power_Watts_Ch1)/1e3,!0,3):0," W")),o.createElement("td",null,o.createElement("b",null,_&&_.frequency_Hz_Ch1?_.frequency_Hz_Ch1:0," Hz")),o.createElement("td",null,o.createElement("b",null,_&&_.import_active_energy_Wh_Ch1?_.import_active_energy_Wh_Ch1:0," Wh")),o.createElement("td",null,o.createElement("b",null,_&&_.power_factor_Ch1?_.power_factor_Ch1:0)),o.createElement("td",null,o.createElement("b",null,_&&_.voltage_volts_Ch1?this.applyRule(_.voltage_volts_Ch1,!0,80):0," volts"))),o.createElement("td",null,o.createElement(o.Fragment,null,o.createElement("div",null,"Relay Status: ",P.statusNotes&&P.statusNotes.length>0&&" "!=P.statusNotes[0]&&"(Triggered "+P.statusNotes[0]+")"),o.createElement("button",{type:"button",className:S?"btn":"btn btn-fill",disabled:u||"Manual"!=y||!q,onClick:function(){l.handleRelayOnOff(!1,1,!0)}},"Off"),o.createElement("button",{type:"button",className:S?"btn btn-fill":"btn",disabled:u||"Manual"!=y||!q,onClick:function(){l.handleRelayOnOff(!0,1,!0)}},"On"))),o.createElement("td",null,t&&"0"!=t[0]&&"C"!=t[0]&&o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",className:n&&"Normal"==n[0]?"btn btn-fill":"btn",disabled:I||!q,onClick:function(){l.handleRelayOptimizeSettings("Normal",0)}},"Normal"),o.createElement("button",{type:"button",className:n&&"Optimize"==n[0]?"btn btn-fill":"btn",disabled:I||!q,onClick:function(){l.handleRelayOptimizeSettings("Optimize",0)}},"Optimize")))),a&&"inactive"!=a[1]&&o.createElement("tr",null,o.createElement("td",null,o.createElement("b",null,e&&e[1])),-1!=T.toLowerCase().indexOf("v4")&&o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("b",null,E&&E.mAmps_relay2?this.applyRule(parseFloat(E.mAmps_relay2)/1e3,!0,.05):0," A")),o.createElement("td",null,o.createElement("b",null,E&&E.power_Wt_relay2?this.applyRule(parseFloat(E.power_Wt_relay2)/1e3,!0,3):0," W"))),-1!=T.toLowerCase().indexOf("i4")&&o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("b",null,_&&_.current_Amperes_Ch2?this.applyRule(_.current_Amperes_Ch2,!0,.05):0," A")),o.createElement("td",null,o.createElement("b",null,_&&_.active_power_Watts_Ch2?this.applyRule(parseFloat(_.active_power_Watts_Ch2)/1e3,!0,3):0," W")),o.createElement("td",null,o.createElement("b",null,_&&_.frequency_Hz_Ch2?_.frequency_Hz_Ch2:0," Hz")),o.createElement("td",null,o.createElement("b",null,_&&_.import_active_energy_Wh_Ch2?_.import_active_energy_Wh_Ch2:0," Wh")),o.createElement("td",null,o.createElement("b",null,_&&_.power_factor_Ch2?_.power_factor_Ch2:0)),o.createElement("td",null,o.createElement("b",null,_&&_.voltage_volts_Ch2?this.applyRule(_.voltage_volts_Ch2,!0,80):0," volts"))),o.createElement("td",null,o.createElement(o.Fragment,null,o.createElement("div",null,"Relay Status: ",P.statusNotes&&P.statusNotes.length>0&&" "!=P.statusNotes[1]&&"(Triggered "+P.statusNotes[1]+")"),o.createElement("button",{type:"button",className:w?"btn":"btn btn-fill",disabled:u||"Manual"!=y||!q,onClick:function(){l.handleRelayOnOff(!1,2,!0)}},"Off"),o.createElement("button",{type:"button",className:w?"btn btn-fill":"btn",disabled:u||"Manual"!=y||!q,onClick:function(){l.handleRelayOnOff(!0,2,!0)}},"On"))),o.createElement("td",null,t&&"0"!=t[1]&&"C"!=t[1]&&o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",className:n&&"Normal"==n[1]?"btn btn-fill":"btn",disabled:I||!q,onClick:function(){l.handleRelayOptimizeSettings("Normal",1)}},"Normal"),o.createElement("button",{type:"button",className:n&&"Optimize"==n[1]?"btn btn-fill":"btn",disabled:I||!q,onClick:function(){l.handleRelayOptimizeSettings("Optimize",1)}},"Optimize")))),a&&"inactive"!=a[2]&&o.createElement("tr",null,o.createElement("td",null,o.createElement("b",null,e&&e[2])),-1!=T.toLowerCase().indexOf("v4")&&o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("b",null,E&&E.mAmps_relay3?this.applyRule(parseFloat(E.mAmps_relay3)/1e3,!0,.05):0," A")),o.createElement("td",null,o.createElement("b",null,E&&E.power_Wt_relay3?this.applyRule(parseFloat(E.power_Wt_relay3)/1e3,!0,3):0," W"))),-1!=T.toLowerCase().indexOf("i4")&&o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("b",null,_&&_.current_Amperes_Ch3?this.applyRule(_.current_Amperes_Ch3,!0,.05):0," A")),o.createElement("td",null,o.createElement("b",null,_&&_.active_power_Watts_Ch3?this.applyRule(parseFloat(_.active_power_Watts_Ch3)/1e3,!0,3):0," W")),o.createElement("td",null,o.createElement("b",null,_&&_.frequency_Hz_Ch3?_.frequency_Hz_Ch3:0," Hz")),o.createElement("td",null,o.createElement("b",null,_&&_.import_active_energy_Wh_Ch3?_.import_active_energy_Wh_Ch3:0," Wh")),o.createElement("td",null,o.createElement("b",null,_&&_.power_factor_Ch3?_.power_factor_Ch3:0)),o.createElement("td",null,o.createElement("b",null,_&&_.voltage_volts_Ch3?this.applyRule(_.voltage_volts_Ch3,!0,80):0," volts"))),o.createElement("td",null,o.createElement(o.Fragment,null,o.createElement("div",null,"Relay Status: ",P.statusNotes&&P.statusNotes.length>0&&" "!=P.statusNotes[2]&&"(Triggered "+P.statusNotes[2]+")"),o.createElement("button",{type:"button",className:O?"btn":"btn btn-fill",disabled:u||"Manual"!=y||!q,onClick:function(){l.handleRelayOnOff(!1,3,!0)}},"Off"),o.createElement("button",{type:"button",className:O?"btn btn-fill":"btn",disabled:u||"Manual"!=y||!q,onClick:function(){l.handleRelayOnOff(!0,3,!0)}},"On"))),o.createElement("td",null,t&&"0"!=t[2]&&"C"!=t[2]&&o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",className:n&&"Normal"==n[2]?"btn btn-fill":"btn",disabled:I||!q,onClick:function(){l.handleRelayOptimizeSettings("Normal",2)}},"Normal"),o.createElement("button",{type:"button",className:n&&"Optimize"==n[2]?"btn btn-fill":"btn",disabled:I||!q,onClick:function(){l.handleRelayOptimizeSettings("Optimize",2)}},"Optimize")))),a&&"inactive"!=a[3]&&o.createElement("tr",null,o.createElement("td",null,o.createElement("b",null,e&&e[3])),-1!=T.toLowerCase().indexOf("v4")&&o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("b",null,E&&E.mAmps_relay4?this.applyRule(parseFloat(E.mAmps_relay4)/1e3,!0,.05):0," A")),o.createElement("td",null,o.createElement("b",null,"-"))),-1!=T.toLowerCase().indexOf("i4")&&o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("b",null,_&&_.current_Amperes_Ch4?this.applyRule(_.current_Amperes_Ch4,!0,.05):0," A")),o.createElement("td",null,o.createElement("b",null,_&&_.active_power_Watts_Ch4?this.applyRule(parseFloat(_.active_power_Watts_Ch4)/1e3,!0,3):0," W")),o.createElement("td",null,o.createElement("b",null,_&&_.frequency_Hz_Ch4?_.frequency_Hz_Ch4:0," Hz")),o.createElement("td",null,o.createElement("b",null,_&&_.import_active_energy_Wh_Ch4?_.import_active_energy_Wh_Ch4:0," Wh")),o.createElement("td",null,o.createElement("b",null,_&&_.power_factor_Ch4?_.power_factor_Ch4:0)),o.createElement("td",null,o.createElement("b",null,_&&_.voltage_volts_Ch4?this.applyRule(_.voltage_volts_Ch4,!0,80):0," volts"))),o.createElement("td",null,o.createElement(o.Fragment,null,o.createElement("div",null,"Relay Status: ",P.statusNotes&&P.statusNotes.length>0&&" "!=P.statusNotes[3]&&"(Triggered "+P.statusNotes[3]+")"),o.createElement("button",{type:"button",className:D?"btn":"btn btn-fill",disabled:u||"Manual"!=y||!q,onClick:function(){l.handleRelayOnOff(!1,4,!0)}},"Off"),o.createElement("button",{type:"button",className:D?"btn btn-fill":"btn",disabled:u||"Manual"!=y||!q,onClick:function(){l.handleRelayOnOff(!0,4,!0)}},"On"))),o.createElement("td",null,t&&"0"!=t[3]&&"C"!=t[3]&&o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",className:n&&"Normal"==n[3]?"btn btn-fill":"btn",disabled:I||!q,onClick:function(){l.handleRelayOptimizeSettings("Normal",3)}},"Normal"),o.createElement("button",{type:"button",className:n&&"Optimize"==n[3]?"btn btn-fill":"btn",disabled:I||!q,onClick:function(){l.handleRelayOptimizeSettings("Optimize",3)}},"Optimize"))))))),o.createElement("div",{className:"col-md-8 col-xs-12 InsightRow"},T&&-1!=T.indexOf("OneRelay")&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-6"},o.createElement(o.Fragment,null,o.createElement("div",{className:"RelayHeading"},"Relay Status: ",P.statusNotes&&P.statusNotes.length>0&&" "!=P.statusNotes[0]&&"(Triggered "+P.statusNotes[0]+")"),o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",className:L?"btn":"btn btn-fill",disabled:u||"Manual"!=y||!q,onClick:function(){R[0]="Manually",l.handleI1RelayOnOff(!1)}},"Off"),o.createElement("button",{type:"button",className:L?"btn btn-fill":"btn",disabled:u||"Manual"!=y||!q,onClick:function(){R[0]="Manually",l.handleI1RelayOnOff(!0)}},"On")))),t&&"0"!=t[0]&&"C"!=t[0]&&o.createElement("div",{className:"col-md-6"},o.createElement("div",{className:"RelayHeading"},"Optimize Settings"),o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",className:n&&"Normal"==n[0]?"btn btn-fill":"btn",disabled:!q,onClick:function(){l.handleRelayOptimizeSettings("Normal",0)}},"Normal"),o.createElement("button",{type:"button",className:n&&"Optimize"==n[0]?"btn btn-fill":"btn",disabled:!q,onClick:function(){l.handleRelayOptimizeSettings("Optimize",0)}},"Optimize")))),T&&-1==T.indexOf("OneRelay")&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-4"},o.createElement("h4",{className:"padding-5 margin-5"},"Source Volts: ",o.createElement("b",null,E&&E.nominal_src_volts?E.nominal_src_volts:0," "))),o.createElement("div",{className:"col-md-4"},o.createElement("h4",{className:"padding-5 margin-5"},"Illuminance: ",o.createElement("b",null,r&&r.illuminance_lux?r.illuminance_lux:0," Lumens"))),o.createElement("div",{className:"col-md-4"},o.createElement("h4",{className:"padding-5 margin-5"},"Motion Sensed: ",o.createElement("b",null,r&&r.motion_sensed&&r.motion_sensed>0?"True":"False"))))),o.createElement("div",{className:"col-md-4 col-xs-12 InsightRow"},q&&o.createElement("div",{className:"btn-group"},o.createElement("button",{type:"button",className:"Local"==y?"btn btn-success btn-fill":"btn btn-success",disabled:""!=v&&"state"!=v,onClick:function(){if(T&&-1!=T.indexOf("V4"))for(var e=0;e<=3;e++)R[e]="Locally";else R[0]="Locally";l.handleRelayControlStatus("Local")}},"Local"),o.createElement("button",{type:"button",className:Q?"btn btn-success btn-fill":"btn btn-success",disabled:""!=v&&"state"!=v,onClick:function(){l.handleRelayControlStatus("Remote")}},"Remote"),o.createElement("button",{type:"button",className:"Manual"==y?"btn btn-success btn-fill":"btn btn-success",disabled:!Q,onClick:function(){l.handleRelayControlStatus("Manual")}},"Manual"),o.createElement("button",{type:"button",className:"Schedule"==y?"btn btn-success btn-fill":"btn btn-success",disabled:!Q,onClick:function(){l.handleRelayControlStatus("Schedule")}},"Schedule")))),T&&o.createElement(d.a,{instance:V,buildingName:W,monconType:T,moncon:m.monitoringControl,deviceId:m.deviceID,monconRDFsLabel:m.rdfsLabel}),c&&c.monitoringControl&&o.createElement(d.a,{instance:V,buildingName:W,monconType:"CeilingSensor",moncon:c.monitoringControl,deviceId:c.deviceID,monconRDFsLabel:c.rdfsLabel}),o.createElement("div",{className:"accordion row padding-10",id:"accordionExample"+G,style:{paddingLeft:"30px",border:"1px solid #80808066",margin:"10px",borderRadius:"7px"}},o.createElement("div",{className:"",id:"headingOne"},o.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne"+G,style:{border:0,left:"-25px",position:"relative"},"aria-expanded":"true","aria-controls":"collapseOne"+G,onClick:function(){l.setState({detailsExpanded:!b})}},o.createElement("i",{className:b?"fa fa-minus":"fa fa-plus","aria-hidden":"true"}),"\xa0 Device Info")),o.createElement("div",{id:"collapseOne"+G,className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"+G},o.createElement("div",{className:"col-md-6 col-xs-12 padding-10"},o.createElement("h5",{className:"title"},o.createElement("strong",null,"IP Address:")," ",m.wirelessConfig&&m.wirelessConfig.ipAddress),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Controller IP Address:")," ",m.wirelessConfig&&m.wirelessConfig.controllerIPAddress),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Manufacturer:")," ",m.manufacturer),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Model:")," ",m.model),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Board Address:")," ",m.boardAddress),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Device ID:")," ",m.deviceID?m.deviceID:""),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Control Type sent to PI:")," ","Manual"==y?"10":k&&k.controlChoice?k.controlChoice:"Not selected"),o.createElement("h5",{className:"title"},o.createElement("strong",null,"Last Data Synced At:")," ",J)))),o.createElement("div",{className:u?"InsightApplyChanges":"hidden"},B?o.createElement("h4",null,"Do you want to apply these changes (Boot Relay Device) ?"):I?o.createElement("h4",null,"Do you want to apply these changes (Optimize Settings: ",j,") ?"):o.createElement("h4",null,"Do you want to apply these changes (Relay ",T&&-1!=T.indexOf("OneRelay")?" : "+(L?"on":"off"):C+" : "+(N?"on":"off"),")?"),o.createElement("div",null,o.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){return l.cancelSend()}},"Cancel"),"\xa0",o.createElement("button",{type:"button",className:"btn btn-fill btn-danger",onClick:function(){return l.resetChanges(!0)}},"Reset"),"\xa0",o.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:function(){return l.applyChanges()}},"Apply Changes"))))))),F&&q&&o.createElement(o.Fragment,null,o.createElement("button",{type:"button",id:"btnDialogRelayControl",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#dialogRelayControl"}," . "),o.createElement(p.a,{id:"dialogRelayControl",relayDeviceName:G,buildingName:W,onCloseRelayControlDialog:this.onCloseRelayControlDialog,refreshRelayControlDB:this.fetchRelayControlSettings}))))},t}(o.Component);t.default=O},1181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o,l=n(2),i=(n.n(l),n(659)),r=n(651),c=n(23),s=n(24),m=n(117),u=n(1027),d=n(650),p=n(10),h=n(725),g=n(662),f=n(663),v=n(11),b=n(672),E=n(721),y=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),N=this&&this.__assign||function(){return(N=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},S=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},w=0,O=function(e){function t(t){var n=e.call(this,t)||this;return n.state={computingDevice:Object(),CeilingSensorBoardInfo:Object(),Old_CeilingSensorBoardInfo:Object(),modelChanged:!1,Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},isSchedule:!1,relatedEquipment:[],deviceNumber:"",enclosure:""},EquipmentList:[],currentChange:"",detailsExpanded:!1,localBTNState:!1,spaces:[],showLogs:!1,showErrorOnce:!1},a=a=n,n._fetchData=n._fetchData.bind(n),n._fetchCeilingSensorBoardInfo=n._fetchCeilingSensorBoardInfo.bind(n),n.cancelSend=n.cancelSend.bind(n),n.resetChanges=n.resetChanges.bind(n),n.applyChanges=n.applyChanges.bind(n),n.handleChange=n.handleChange.bind(n),n.getRelatedEquipmentLabel=n.getRelatedEquipmentLabel.bind(n),n}return y(t,e),t.prototype.componentDidMount=function(){return C(this,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchData()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.setIntervalStart(),[2]}})})},t.prototype.componentWillUnmount=function(){return C(this,void 0,void 0,function(){return S(this,function(e){return clearInterval(o),[2]})})},t.prototype.setIntervalStart=function(){var e=this;o&&clearInterval(o),o=setInterval(function(){var t=e.state.modelChanged;w++,!t&&w>=3&&(e.resetChanges(!1),Object(m.a)(!1),w=0)},1e3)},t.prototype._fetchData=function(){return C(this,void 0,void 0,function(){var e,t,n,a,o,l,i,c,s,u,h=this;return S(this,function(g){switch(g.label){case 0:return this.state,e=this.props,t=e.CeilingSensorBoardName,n=e.buildingName,t?(Object(m.a)(!0),[4,Object(d.h)(this.props.buildingName)]):[3,6];case 1:return a=g.sent(),o=a&&a.length>0&&a.map(function(e){return{value:Object(p.g)(e.ontology),label:Object(p.g)(e.rdfsLabel)}}),l=Object(),i=Object(),[4,Object(r.v)(t,n)];case 2:return l=g.sent(),localStorage.getItem(l.deviceID)&&localStorage.getItem(l.deviceID).length>0&&(c=JSON.parse(localStorage.getItem(l.deviceID)),this.setState({CeilingSensorBoardInfo:c,Old_CeilingSensorBoardInfo:N({},c),modelChanged:!1,currentChange:""})),l&&l.computingDevice?[4,Object(b.f)(l.computingDevice)]:[3,5];case 3:return s=g.sent(),[4,Object(b.d)(s)];case 4:(u=g.sent())&&u.length>0&&(i=u[0]),g.label=5;case 5:this.setState({Moncon:l,computingDevice:i,EquipmentList:o},function(){return C(h,void 0,void 0,function(){return S(this,function(e){return this._fetchCeilingSensorBoardInfo(!0),[2]})})}),Object(m.a)(!1),g.label=6;case 6:return[2]}})})},t.prototype._fetchCeilingSensorBoardInfo=function(e){return C(this,void 0,void 0,function(){var t,n,a,o,l=this;return S(this,function(r){switch(r.label){case 0:return e&&Object(m.a)(!0),t=this.state,n=t.Moncon,a=t.showErrorOnce,[4,Object(i.n)(n).then(function(e){var t=e[0];return!t||t&&t.error?(a||(Object(s.a)("Error occurred while fetching ceiling sensor board info."),l.setState({showErrorOnce:!0})),Object()):(l.setState({showErrorOnce:!1}),localStorage.setItem(n.deviceID,JSON.stringify(e)),t)}).catch(function(e){return Object()})];case 1:return o=r.sent(),this.setState({CeilingSensorBoardInfo:o,Old_CeilingSensorBoardInfo:N({},o),modelChanged:!1,currentChange:""}),e&&Object(m.a)(!1),[2]}})})},t.prototype.handleChange=function(e,t){var n=this.state.CeilingSensorBoardInfo;n[e]=t,this.setState({CeilingSensorBoardInfo:n,modelChanged:!0,currentChange:e})},t.prototype.cancelSend=function(){this.setState({modelChanged:!1,currentChange:""})},t.prototype.resetChanges=function(e){return C(this,void 0,void 0,function(){var t=this;return S(this,function(n){return this.setState({modelChanged:!1,currentChange:""},function(){return C(t,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return[4,this._fetchCeilingSensorBoardInfo(e)];case 1:return t.sent(),[2]}})})}),[2]})})},t.prototype.applyChanges=function(e,t){return C(this,void 0,void 0,function(){var n=this;return S(this,function(o){return Object(m.a)(!0),this.setState({modelChanged:!1,currentChange:""},function(){return C(n,void 0,void 0,function(){var n=this;return S(this,function(o){return setTimeout(function(){n.resetChanges(!0)},5e3),Object(i.G)(e,t,this.state.Old_CeilingSensorBoardInfo).then(function(e){e.success?Object(s.b)("Changes applied successfully. "):e.error&&Object(s.a)(e.reason)}).catch(function(e){Object(s.a)("Some error orccured. ")}),setTimeout(function(){a._fetchCeilingSensorBoardInfo()},5e3),Object(m.a)(!1),[2]})})}),[2]})})},t.prototype.getRelatedEquipmentLabel=function(e){var t=this.state.EquipmentList,n=Object();return(n=t&&t.find(function(t){return t.value==e}))&&n.label},t.prototype.bootDevice=function(){return C(this,void 0,void 0,function(){var e,t,n,a=this;return S(this,function(o){switch(o.label){case 0:return e=this.props.buildingName,t=this.state.computingDevice,!(n=JSON.parse(v.a.getItem("user")))||!n.role||"1"!=n.role&&"2"!=n.role?[3,3]:t.controllerIpAddress&&t.macID?(Object(m.a)(!0,"Booting Device"),[4,Object(i.L)(t,e).then(function(e){return C(a,void 0,void 0,function(){return S(this,function(t){return e.error?Object(s.a)(e.error):e&&setTimeout(function(){Object(s.b)("Device booted successfully. ")},3e3),Object(m.a)(!1),[2]})})}).catch(function(e){Object(s.a)("Some error orccured. ")})]):[3,2];case 1:return o.sent(),[3,3];case 2:Object(s.a)("No Mac ID or Controller IP for Computing Device: "+t.name),o.label=3;case 3:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,a=t.buildingName,o=t.CeilingSensorBoardName,i=this.state,r=i.CeilingSensorBoardInfo,s=i.Moncon,m=i.modelChanged,d=i.detailsExpanded,p=i.showLogs,b=JSON.parse(v.a.getItem("user")),y="not refreshed";return r&&r.timestamp&&(y=new Date(r.timestamp).toLocaleString()),p?l.createElement(g.a,{instance:n,buildingName:a,fromEntityList:!0,module:f.a.Assets,ontology:s.monitoringControl,entityName:"Device",onLogClose:function(){return e.setState({showLogs:!1})}}):l.createElement("div",{className:"content"},l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"card",id:"InsightsList"},l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12"},b&&"1"==b.role&&l.createElement("button",{className:"btn btn-md btn-primary btn-fill pull-right",style:{margin:10},title:"Logs",onClick:function(){e.setState({showLogs:!0})}}," ",l.createElement("img",{src:"assets/img/Logs.png",style:{width:25,height:18}})),b&&b.role&&("1"==b.role||"2"==b.role)&&l.createElement("button",{className:"btn btn-success active pull-right custom-outline-btn m-3",title:"Boot PI Board","data-toggle":"modal","data-target":"#bootDevice"}," ",l.createElement("i",{className:"fa fa-refresh"})," Boot PI Board"),l.createElement("div",{className:"header"},l.createElement("h3",{className:"title"},l.createElement("strong",null,s.rdfsLabel)," "),l.createElement("h4",{className:"title"},l.createElement("strong",null,this.props.type.toUpperCase(),":",s&&s.relatedEquipment&&s.relatedEquipment.map(function(t,n){return l.createElement("span",{key:n},e.getRelatedEquipmentLabel(t.value),n+1==s.relatedEquipment.length?"":",")}))))))),l.createElement("div",{className:"content"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6 col-xs-12 tempCounter roomTemp"},l.createElement("h4",{className:"padding-5 margin-5"},"Temp: ",l.createElement("b",null,r&&r.temp_celsius?Object(u.a)(r.temp_celsius,s&&s.firmwareVersion?s.firmwareVersion:""):0,"\xb0F")),l.createElement("h4",{className:"padding-5 margin-5"},"CO2: ",l.createElement("b",null,r&&r.equiCO2_ppm?r.equiCO2_ppm+" ppm":"-")),l.createElement("h4",{className:"padding-5 margin-5"},"Altitude: ",l.createElement("b",null,r&&r.altitude_m?r.altitude_m+" m":"-")),l.createElement("h4",{className:"padding-5 margin-5"},"Pressure: ",l.createElement("b",null,r&&r.pressure_hPa?r.pressure_hPa+" hPa":"-")),l.createElement("h4",{className:"padding-5 margin-5"},"illuminance: ",l.createElement("b",null,r&&r.illuminance_lux?r.illuminance_lux:0," Lumens")),l.createElement("h4",{className:"padding-5 margin-5"},"Gas Resistance: ",l.createElement("b",null,r&&r.gasResistance_kOhm?r.gasResistance_kOhm+" kOhm":"-"))),l.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},l.createElement("h4",{className:"padding-5 margin-5"},"Humidity: ",l.createElement("b",null,r&&r.relhumidity_pct?r.relhumidity_pct+" %":"-")),l.createElement("h4",{className:"padding-5 margin-5"},"TVOC: ",l.createElement("b",null,r&&r.tvoc_ppm?r.tvoc_ppm+" ppm":"-")),l.createElement("h4",{className:"padding-5 margin-5"},"No. of BT Devices: ",l.createElement("b",null,r&&r.num_BTdev?r.num_BTdev:"-")),l.createElement("h4",{className:"padding-5 margin-5"},"Motion Sensed: ",l.createElement("b",null,r&&r.motion_sensed&&r.motion_sensed>0?"True":"False")),l.createElement("h4",{className:"padding-5 margin-5"},"WIFI Temp: ",l.createElement("b",null,Object(c.a)(r&&r.wifiTemp1_celsius?r.wifiTemp1_celsius:0).toFixed(2),"\xb0F")))),l.createElement("br",null),s.monitoringControl&&s.monitoringControlDeviceType&&l.createElement(h.a,{instance:n,buildingName:a,monconType:s.monitoringControlDeviceType,moncon:s.monitoringControl,deviceId:s.deviceID,monconRDFsLabel:s.rdfsLabel}),l.createElement("div",{className:"accordion row padding-10",id:"accordionExample"+o,style:{paddingLeft:"30px",border:"1px solid #80808066",margin:"10px",borderRadius:"7px"}},l.createElement("div",{className:"",id:"headingOne"},l.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne"+o,style:{border:0,left:"-25px",position:"relative"},"aria-expanded":"true","aria-controls":"collapseOne"+o,onClick:function(){e.setState({detailsExpanded:!d})}},l.createElement("i",{className:d?"fa fa-minus":"fa fa-plus","aria-hidden":"true"}),"\xa0 Device Info")),l.createElement("div",{id:"collapseOne"+o,className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"+o},l.createElement("div",{className:"col-md-6 col-xs-12 padding-10"},l.createElement("h5",{className:"title"},l.createElement("strong",null,"IP Address:")," ",s.wirelessConfig&&s.wirelessConfig.ipAddress),l.createElement("h5",{className:"title"},l.createElement("strong",null,"Controller IP Address:")," ",s.wirelessConfig.controllerIPAddress),l.createElement("h5",{className:"title"},l.createElement("strong",null,"Manufacturer:")," ",s.manufacturer),l.createElement("h5",{className:"title"},l.createElement("strong",null,"Model:")," ",s.model),l.createElement("h5",{className:"title"},l.createElement("strong",null,"Board Address:")," ",s.boardAddress),l.createElement("h5",{className:"title"},l.createElement("strong",null,"Device ID:")," ",s.deviceID?s.deviceID:""),l.createElement("h5",{className:"title"},l.createElement("strong",null,"Last Data Synced At:")," ",y)))),l.createElement("div",{className:m?"InsightApplyChanges":"hidden"},l.createElement("h4",null,"Do you want to apply these changes?"),l.createElement("div",null,l.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){return e.cancelSend()}},"Cancel"),"\xa0",l.createElement("button",{type:"button",className:"btn btn-fill btn-danger",onClick:function(){return e.resetChanges(!0)}},"Reset"),"\xa0",l.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:function(){return e.applyChanges(s,r)}},"Apply Changes"))))),l.createElement(E.a,{id:"bootDevice",heading:"Boot Device",cancelButtonText:"Cancel",showCreateButton:!0,createButtonText:"Boot",showRestoreButton:!0,showCancelButton:!0,onSaveButtonClick:function(){return e.bootDevice()}},l.createElement("h4",null,"Are you sure you want to boot device?"))))))},t}(l.Component);t.default=O},1182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(678)),l=n(651),i=n(24),r=n(683),c=n(117),s=n(650),m=n(10),u=n(725),d=n(672),p=n(11),h=n(659),g=n(721),f=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),v=this&&this.__assign||function(){return(v=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},E=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={CbW406BoardInfo:Object(),Old_Cbw406BoardInfo:Object(),modelChanged:!1,Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},isSchedule:!1,relatedEquipment:[],deviceNumber:"",enclosure:""},EquipmentList:[],currentChange:"",detailsExpanded:!1,localBTNState:!1,showErrorOnce:!1,spaces:[],intervalId:Object(),intervalCounter:0,computingDevice:Object()},n,n._fetchData=n._fetchData.bind(n),n._fetchCBW406BoardInfo=n._fetchCBW406BoardInfo.bind(n),n}return f(t,e),t.prototype.componentDidMount=function(){return b(this,void 0,void 0,function(){return E(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchData()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.setIntervalStart(),[2]}})})},t.prototype.setIntervalStart=function(){var e=this,t=this.state.intervalId;t&&clearInterval(t),t=setInterval(function(){return b(e,void 0,void 0,function(){var e;return E(this,function(t){return e=this.state.intervalCounter,++e>=1&&(this._fetchCBW406BoardInfo(!1),e=0),this.setState({intervalCounter:e}),[2]})})},1e3),this.setState({intervalId:t})},t.prototype.componentWillUnmount=function(){return b(this,void 0,void 0,function(){return E(this,function(e){return this.state.intervalId&&clearInterval(this.state.intervalId),this.setState({intervalId:null}),[2]})})},t.prototype._fetchData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,i,r,u,p,h,g=this;return E(this,function(f){switch(f.label){case 0:return this.state,e=this.props,t=e.deviceName,n=e.buildingName,t?(Object(c.a)(!0),[4,Object(s.h)(this.props.buildingName)]):[3,6];case 1:return a=f.sent(),o=a&&a.length>0&&a.map(function(e){return{value:Object(m.g)(e.ontology),label:Object(m.g)(e.rdfsLabel)}}),i=Object(),r=Object(),[4,Object(l.v)(t,n)];case 2:return(i=f.sent())&&i.computingDevice?[4,Object(d.f)(i.computingDevice)]:[3,5];case 3:return u=f.sent(),[4,Object(d.d)(u)];case 4:(p=f.sent())&&p.length>0&&(r=p[0]),f.label=5;case 5:localStorage.getItem(i.deviceID)&&localStorage.getItem(i.deviceID).length>0&&(h=JSON.parse(localStorage.getItem(i.deviceID)),this.setState({CbW406BoardInfo:h,Old_Cbw406BoardInfo:v({},h),modelChanged:!1,currentChange:""})),this.setState({Moncon:i,computingDevice:r,EquipmentList:o},function(){return b(g,void 0,void 0,function(){return E(this,function(e){return this._fetchCBW406BoardInfo(!0),[2]})})}),Object(c.a)(!1),f.label=6;case 6:return[2]}})})},t.prototype._fetchCBW406BoardInfo=function(e){return b(this,void 0,void 0,function(){var t,n,a,l,r=this;return E(this,function(s){switch(s.label){case 0:return e&&Object(c.a)(!0),t=this.state,n=t.Moncon,a=t.showErrorOnce,[4,Object(o.f)(n.topic,new Date,new Date,!0).then(function(e){var t=e[0];return!t||t&&t.error?(a||(Object(i.a)("Error occurred while fetching CBW406 sensor board info."),r.setState({showErrorOnce:!0})),Object()):(r.setState({showErrorOnce:!1}),localStorage.setItem(n.deviceID,JSON.stringify(e)),t)}).catch(function(e){return Object()})];case 1:return l=s.sent(),this.setState({CbW406BoardInfo:l,Old_Cbw406BoardInfo:v({},l),modelChanged:!1,currentChange:""}),e&&Object(c.a)(!1),[2]}})})},t.prototype.resetChanges=function(e){return b(this,void 0,void 0,function(){var t=this;return E(this,function(n){return this.setState({modelChanged:!1,currentChange:""},function(){return b(t,void 0,void 0,function(){return E(this,function(t){switch(t.label){case 0:return[4,this._fetchCBW406BoardInfo(e)];case 1:return t.sent(),[2]}})})}),[2]})})},t.prototype.getRelatedEquipmentLabel=function(e){var t=this.state.EquipmentList,n=Object();return(n=t&&t.find(function(t){return t.value==e}))&&n.label},t.prototype.bootDevice=function(){return b(this,void 0,void 0,function(){var e,t,n,a=this;return E(this,function(o){switch(o.label){case 0:return e=this.props.buildingName,t=this.state.computingDevice,!(n=JSON.parse(p.a.getItem("user")))||!n.role||"1"!=n.role&&"2"!=n.role?[3,3]:t.controllerIpAddress&&t.macID?(Object(c.a)(!0,"Booting Device"),[4,Object(h.L)(t,e).then(function(e){return b(a,void 0,void 0,function(){return E(this,function(t){return e.error?Object(i.a)(e.error):e&&setTimeout(function(){Object(i.b)("Device booted successfully. ")},3e3),Object(c.a)(!1),[2]})})}).catch(function(e){Object(i.a)("Some error orccured. ")})]):[3,2];case 1:return o.sent(),[3,3];case 2:Object(i.a)("No Mac ID or Controller IP for Computing Device: "+t.name),o.label=3;case 3:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.deviceName,o=t.instance,l=t.buildingName,i=t.type,c=t.hideTabs,s=this.state,m=s.CbW406BoardInfo,d=s.Moncon,h=s.detailsExpanded,f="not refreshed",v=JSON.parse(p.a.getItem("user"));return m&&m.timestamp&&(f=new Date(m.timestamp).toLocaleString()),a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},!c&&a.createElement(r.a,{InsightName:n,ControlName:"CBW406",buildingName:l,instance:o,type:i,hideADP:!0,hideSchedule:!0,hideAlarms:!0}),a.createElement("div",{className:"card",id:"InsightsList"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"header"},a.createElement("h3",{className:"title"},a.createElement("strong",null,d.rdfsLabel)," "),a.createElement("h4",{className:"title"},a.createElement("strong",null,this.props.type.toUpperCase(),":",d&&d.relatedEquipment&&d.relatedEquipment.map(function(t,n){return a.createElement("span",{key:n},e.getRelatedEquipmentLabel(t.value),n+1==d.relatedEquipment.length?"":",")}))),a.createElement("h4",{className:"title mt-2"},a.createElement("strong",null,"Voltage In: ",m.vin)),v&&v.role&&("1"==v.role||"2"==v.role)&&a.createElement("div",{className:"row"},a.createElement("button",{className:"btn btn-success active pull-right custom-outline-btn m-3",title:"Boot PI Board","data-toggle":"modal","data-target":"#bootDevice"}," ",a.createElement("i",{className:"fa fa-refresh"})," Boot PI Board")),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12 tempCounter roomTemp"},a.createElement("b",{className:"devcieCard-h"},"Refrigerator 1"),a.createElement("div",{className:"devicesCard"},a.createElement("h4",{className:"padding-5 margin-5"},"T3 Front: ",a.createElement("b",null,m&&m.t3frontRefrigerator1?m.t3frontRefrigerator1.toFixed(2):0)),a.createElement("h4",{className:"padding-5 margin-5"},"T6 Compresssor In: ",a.createElement("b",null,m&&m.t6comprinRefrigerator1?m.t6comprinRefrigerator1.toFixed(2):"-")),a.createElement("h4",{className:"padding-5 margin-5"},"T4 Back: ",a.createElement("b",null,m&&m.t4backRefrigerator1?m.t4backRefrigerator1.toFixed(2):"-")),a.createElement("h4",{className:"padding-5 margin-5"},"T7 Compresssor Out: ",a.createElement("b",null,m&&m.t7comproutRefrigerator1?m.t7comproutRefrigerator1.toFixed(2):"-")),a.createElement("h4",{className:"padding-5 margin-5"},"T5 Evap Fan: ",a.createElement("b",null,m&&m.t5evapfanRefrigerator1?m.t5evapfanRefrigerator1.toFixed(2):"-")),a.createElement("h4",{className:"padding-5 margin-5"},"T8 Wax Probe: ",a.createElement("b",null,m&&m.t8probeRefrigerator1?m.t8probeRefrigerator1.toFixed(2):"-")))),a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("b",{className:"devcieCard-h"},"Refrigerator 2"),a.createElement("div",{className:"devicesCard"},a.createElement("h4",{className:"padding-5 margin-5"},"T3 Front: ",a.createElement("b",null,m&&m.t3frontRefrigerator2?m.t3frontRefrigerator2.toFixed(2):"-")),a.createElement("h4",{className:"padding-5 margin-5"},"T6 Compresssor In: ",a.createElement("b",null,m&&m.t6comprinRefrigerator2?m.t6comprinRefrigerator2.toFixed(2):"-")),a.createElement("h4",{className:"padding-5 margin-5"},"T4 Back: ",a.createElement("b",null,m&&m.t4backRefrigerator2?m.t4backRefrigerator2.toFixed(2):"-")),a.createElement("h4",{className:"padding-5 margin-5"},"T7 Compresssor Out: ",a.createElement("b",null,m&&m.t7comproutRefrigerator2?m.t7comproutRefrigerator2.toFixed(2):"-")),a.createElement("h4",{className:"padding-5 margin-5"},"T5 Evap Fan: ",a.createElement("b",null,m&&m.t5evapfanRefrigerator2?m.t5evapfanRefrigerator2.toFixed(2):"-")),a.createElement("h4",{className:"padding-5 margin-5"},"T8 Wax Probe: ",a.createElement("b",null,m&&m.t8probeRefrigerator2?m.t8probeRefrigerator2.toFixed(2):"-"))))))))),a.createElement("div",{className:"content"},d.monitoringControl&&d.monitoringControlDeviceType&&a.createElement(u.a,{instance:o,buildingName:l,monconType:d.monitoringControlDeviceType,moncon:d.monitoringControl,deviceId:d.deviceID,monconRDFsLabel:d.rdfsLabel}),a.createElement("div",{className:"accordion row padding-10",id:"accordionExample"+n,style:{paddingLeft:"30px",border:"1px solid #80808066",margin:"10px",borderRadius:"7px"}},a.createElement("div",{className:"",id:"headingOne"},a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne"+n,style:{border:0,left:"-25px",position:"relative"},"aria-expanded":"true","aria-controls":"collapseOne"+n,onClick:function(){e.setState({detailsExpanded:!h})}},a.createElement("i",{className:h?"fa fa-minus":"fa fa-plus","aria-hidden":"true"}),"\xa0 Device Info")),a.createElement("div",{id:"collapseOne"+n,className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"+n},a.createElement("div",{className:"col-md-6 col-xs-12 padding-10"},a.createElement("h5",{className:"title"},a.createElement("strong",null,"IP Address:")," ",d&&d.wirelessConfig&&d.wirelessConfig.ipAddress),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Controller IP Address:")," ",d.wirelessConfig&&d.wirelessConfig.controllerIPAddress),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Manufacturer:")," ",d.manufacturer),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Model:")," ",d.model),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Device ID:")," ",d&&d.deviceID?d.deviceID:""),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Last Data Synced At:")," ",f))))),a.createElement(g.a,{id:"bootDevice",heading:"Boot Device",cancelButtonText:"Cancel",showCreateButton:!0,createButtonText:"Boot",showRestoreButton:!0,showCancelButton:!0,onSaveButtonClick:function(){return e.bootDevice()}},a.createElement("h4",null,"Are you sure you want to boot device?")))))))},t}(a.Component);t.default=y},1520:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(842)),l=n(23),i=n(852),r=n(659),c=n(657),s=n.n(c),m=n(998),u=n.n(m),d=n(866),p=(n.n(d),n(117)),h=n(678),g=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),f=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={graphTab:"graph1",graphTitle:"",graphData:Object(),graphDataForSecondSide:Object(),axis:Object(),axisForSecondSide:Object(),grid:Object(),from:new Date(new Date(Date.now()).setHours(new Date(Date.now()).getHours()-1)),to:new Date(Date.now()),yAxislabel:"",yAxislabelForSecondSide:"",totalGraphs:1},n}return g(t,e),t.prototype.componentDidMount=function(){return f(this,void 0,Promise,function(){var e,t,n,a=this;return v(this,function(o){return e=Object(),t=e={x:{type:"timeseries",tick:{fit:!0,format:"%m-%d %H:%M:%S"},culling:{max:5}},y:{label:""}},n={x:{show:!0},y:{show:!0}},this.setState({axis:t,grid:n,axisForSecondSide:e},function(){a.loadGraph()}),[2]})})},t.prototype.loadGraph=function(){return f(this,void 0,void 0,function(){var e,t,n;return v(this,function(a){switch(a.label){case 0:return e=this.props.graphType,t=this.state.graphTab,n=1,Object(p.a)(!0),"PTAC"!=e?[3,2]:(n=3,[4,this.getPTACGraph(t)]);case 1:return a.sent(),[3,4];case 2:return-1==e.indexOf("Refrigerator")?[3,4]:(n=4,[4,this.getRefrigeratorGraphs(t)]);case 3:a.sent(),a.label=4;case 4:return this.setState({totalGraphs:n}),Object(p.a)(!1),[2]}})})},t.prototype.onChangeGraphTab=function(e){var t=this;this.setState({graphTab:"",graphData:{x:"x",columns:[]},graphDataForSecondSide:{x:"x",columns:[]}},function(){t.setState({graphTab:e},function(){t.loadGraph()})})},t.prototype.getPTACGraph=function(e){return f(this,void 0,void 0,function(){var t,n,a,c,s,m,u,d,p,h,g,f,b,E,y,N,C,S,w,O,D,T,x;return v(this,function(v){switch(v.label){case 0:return t=this.props,n=t.buildingName,a=t.solution,c=t.equipment,s=t.devices,m=this.state,u=m.from,d=m.to,p=this.state.axis,h="",g="",f={x:"x",columns:[]},"graph1"!=e?[3,2]:(b=[],O=[],h="\xb0F",g="Set Point Temperature Over Time",[4,Object(i.d)(n,a,c,u,d)]);case 1:if((C=v.sent())&&C.length>0)for(T=0;T<C.length;T++)(x=C[T]).mode==o.c.Cool?b.push(""+x.coolTemp):x.mode==o.c.Heat?b.push(""+x.heatTemp):x.mode==o.c.Off&&b.push("0"),O.push(new Date(x.timestamp));return b.unshift("Set Point Temperature"),O.unshift("x"),f.columns=[b,O],[3,8];case 2:return"graph2"!=e?[3,5]:(h="\xb0F",g="Room Temperature Over Time",s&&s.length>0&&(y=s.find(function(e){return-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("ceiling")}))&&y.topic?[4,Object(r.c)(y.topic,u,d,!1)]:[3,4]);case 3:if(N=v.sent(),b=[],O=[],N&&N.length>0)for(T=0;T<N.length;T++)D=N[T],E=D.temp_celsius?Object(l.a)(D.temp_celsius):0,b.push(""+E),O.push(new Date(D.timestamp));b.unshift("Room Temperature"),O.unshift("x"),f.columns=[b,O],v.label=4;case 4:return[3,8];case 5:return"graph3"!=e?[3,8]:(h="Room Occupancy",g="Motion Sensor & PTAC Occupancy Over Time",s&&s.length>0&&(y=s.find(function(e){return-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("ceiling")}))&&y.topic?[4,Object(r.c)(y.topic,u,d,!1)]:[3,8]);case 6:return N=v.sent(),[4,Object(i.d)(n,a,c,u,d)];case 7:if(C=v.sent(),S=[],w=[],O=[],N&&N.length>0)for(T=0;T<N.length;T++)D=N[T],S.push(D&&D.motion_sensed?"1":"0"),O.push(new Date(D.timestamp));if(C&&C.length>0)for(T=0;T<C.length;T++)x=C[T],w.push(x.isRoomOccupied?"UNOCCUPIED"==x.isRoomOccupied?"0":"OCCUPIED"==x.isRoomOccupied?"1":"0.5":"0"),O.push(new Date(x.timestamp));S.unshift("Ceiling Sensor"),w.unshift("PTAC Occupancy Sensor"),O.unshift("x"),f.columns=[S,w,O],v.label=8;case 8:return p&&p.y&&p.y.label&&(p.y.label=h),this.setState({graphData:f,yAxislabel:h,graphTitle:g,axis:p}),[2]}})})},t.prototype.getRefrigeratorGraphs=function(e){return f(this,void 0,void 0,function(){var t,n,a,o,i,c,s,m,u,d,p,g,f,b,E,y,N,C,S,w,O,D,T,x,L,I,j,k,A,_,F,R,P,M,B,q,H,V,W,G,z,U,Q,J;return v(this,function(Y){switch(Y.label){case 0:return t=this.props,n=t.devices,a=t.graphType,o=t.solution,i=this.state,c=i.from,s=i.to,m=this.state,u=m.axis,d=m.axisForSecondSide,p="",g="",f="",b={x:"x",columns:[]},E={x:"x",columns:[]},y=n.find(function(e){return-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("406")}),N=n.find(function(e){return-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("418")}),C=[],S=[],"graph1"!=e?[3,5]:y&&y.topic?[4,Object(h.f)(y.topic,c,s)]:[3,2];case 1:C=Y.sent(),Y.label=2;case 2:return N&&N.topic?[4,Object(h.g)(N.topic,c,s)]:[3,4];case 3:S=Y.sent(),Y.label=4;case 4:if(p="Temperature \xb0F",g="Value",f="Temperature Setting To Pi",G=[],z=[],j=[],k=[],T=[],x=[],C&&C.length>0)for(Q=0;Q<C.length;Q++)(J=C[Q])["t3front"+a]&&G.push(J["t3front"+a]),J["t4back"+a]&&z.push(J["t4back"+a]),J["t8probe"+a]&&j.push(J["t8probe"+a]),T.push(new Date(J.timestamp));if(S&&S.length>0)for(Q=0;Q<S.length;Q++)(J=S[Q])["a13comprcurr"+a]&&k.push(J["a13comprcurr"+a]),x.push(new Date(J.timestamp));return G.unshift("T3 Ref Front"),z.unshift("T4 Ref Back"),j.unshift("T8 Ref Wax Probe"),k.unshift("A13 Compressor"),T.unshift("x"),x.unshift("x"),b.columns=[G,z,j,T],E.columns=[k,x],[3,20];case 5:return"graph2"!=e?[3,10]:y&&y.topic?[4,Object(h.f)(y.topic,c,s)]:[3,7];case 6:C=Y.sent(),Y.label=7;case 7:return N&&N.topic?[4,Object(h.g)(N.topic,c,s)]:[3,9];case 8:S=Y.sent(),Y.label=9;case 9:if(p="Temperature \xb0F",g="Values",f="CBW406 & CBW418 Information",G=[],z=[],j=[],k=[],A=[],_=[],w=[],O=[],D=[],T=[],x=[],C&&C.length>0)for(Q=0;Q<C.length;Q++)(J=C[Q])["t3front"+a]&&G.push(J["t3front"+a]),J["t4back"+a]&&z.push(J["t4back"+a]),J["t5evapfan"+a]&&j.push(J["t5evapfan"+a]),J["t6comprin"+a]&&k.push(J["t6comprin"+a]),J["t7comprout"+a]&&A.push(J["t7comprout"+a]),J["t8probe"+a]&&_.push(J["t8probe"+a]),T.push(new Date(J.timestamp));if(S&&S.length>0)for(Q=0;Q<S.length;Q++)(J=S[Q])["a13comprcurr"+a]&&w.push(J["a13comprcurr"+a]),J["a15pr"+a]&&O.push(J["a15pr"+a]),D.push(parseFloat((120*Math.sqrt(3)*J.a13comprcurrRefrigerator1).toFixed(2))),x.push(new Date(J.timestamp));return G.unshift("T3 Ref Front"),z.unshift("T4 Ref Back"),j.unshift("T5 Ref Evap Fan"),k.unshift("T6 Compressor In"),A.unshift("T7 Compressor Out"),_.unshift("T8 Ref Wax Probe"),w.unshift("A13 Compressor (psi)"),O.unshift("A15 Pressure Sensor (psi)"),D.unshift("Amalgamated Watts (watt)"),T.unshift("x"),x.unshift("x"),b.columns=[G,z,j,k,A,_,T],E.columns=[w,O,D,x],[3,20];case 10:return"graph3"!=e?[3,17]:[4,Object(h.t)("",o)];case 11:if(L=Y.sent(),I=[],p="On/Off State",g="Totalized Watt-Hour",f="Relay Pi Information",G=[],z=[],j=[],k=[],A=[],_=[],U=[],!(L&&L.length>0))return[3,16];F=function(e){var t,a,o,l;return v(this,function(i){switch(i.label){case 0:return t=L[e],a=n.find(function(e){return e.deviceName==t.device}),o=Object(),t.deviceMonconType.toLocaleLowerCase().indexOf("i1")>-1?[4,Object(r.f)(a.topic,c,s)]:[3,2];case 1:return o=i.sent(),[3,4];case 2:return t.deviceMonconType.toLocaleLowerCase().indexOf("v4")>-1?[4,Object(r.g)(a.topic,c,s)]:[3,4];case 3:o=i.sent(),i.label=4;case 4:return l={deviceMapModel:t,i1RelayMQTTData:t.deviceMonconType.toLocaleLowerCase().indexOf("i1")>-1?o:null,v4RelayMQTTData:t.deviceMonconType.toLocaleLowerCase().indexOf("v4")>-1?o:null},I.push(l),[2]}})},Q=0,Y.label=12;case 12:return Q<L.length?[5,F(Q)]:[3,15];case 13:Y.sent(),Y.label=14;case 14:return Q++,[3,12];case 15:if(R=I.find(function(e){return"Compressor"==e.deviceMapModel.mappingHardware}),P=I.find(function(e){return"EvapFans"==e.deviceMapModel.mappingHardware}),M=I.find(function(e){return"DefrostHeater"==e.deviceMapModel.mappingHardware}),R)if(R.deviceMapModel.deviceMonconType.toLowerCase().indexOf("i1")>-1&&R.i1RelayMQTTData&&R.i1RelayMQTTData.length>0)for(Q=0;Q<R.i1RelayMQTTData.length;Q++)B=R.i1RelayMQTTData[Q],G.push(B.i1relay_state&&"1"==B.i1relay_state?1:0),z.push(B.import_active_energy_Wh?parseFloat(B.import_active_energy_Wh):0),U.push(new Date(B.timestamp));else if(R.deviceMapModel.deviceMonconType.toLowerCase().indexOf("v4")>-1&&R.v4RelayMQTTData&&R.v4RelayMQTTData.length>0)for(Q=0;Q<R.v4RelayMQTTData.length;Q++)q=R.v4RelayMQTTData[Q],H=Object(l.b)(parseInt(q.v4relay_state),!0),V=H.split(","),W=parseInt(R.deviceMapModel.devicePointNumber)||1,G.push(V&&V.length>0&&R.deviceMapModel.devicePointNumber&&V[W]&&"1"==V[W]?1:0),z.push(parseFloat(q["power_Wt_relay"+W])||0),U.push(new Date(q.timestamp));if(P)if(P.deviceMapModel.deviceMonconType.toLowerCase().indexOf("i1")>-1&&P.i1RelayMQTTData&&P.i1RelayMQTTData.length>0)for(Q=0;Q<P.i1RelayMQTTData.length;Q++)B=P.i1RelayMQTTData[Q],j.push(B.i1relay_state&&"1"==B.i1relay_state?1:0),k.push(B.import_active_energy_Wh?parseFloat(B.import_active_energy_Wh):0),U.push(new Date(B.timestamp));else if(P.deviceMapModel.deviceMonconType.toLowerCase().indexOf("v4")>-1&&P.v4RelayMQTTData&&P.v4RelayMQTTData.length>0)for(Q=0;Q<P.v4RelayMQTTData.length;Q++)q=P.v4RelayMQTTData[Q],H=Object(l.b)(parseInt(q.v4relay_state),!0),V=H.split(","),W=parseInt(P.deviceMapModel.devicePointNumber)||1,j.push(V&&V.length>0&&P.deviceMapModel.devicePointNumber&&V[W]&&"1"==V[W]?1:0),k.push(parseFloat(q["power_Wt_relay"+W])||0),U.push(new Date(q.timestamp));if(M)if(M.deviceMapModel.deviceMonconType.toLowerCase().indexOf("i1")>-1&&M.i1RelayMQTTData&&M.i1RelayMQTTData.length>0)for(Q=0;Q<M.i1RelayMQTTData.length;Q++)B=M.i1RelayMQTTData[Q],A.push(B.i1relay_state&&"1"==B.i1relay_state?1:0),_.push(B.import_active_energy_Wh?parseFloat(B.import_active_energy_Wh):0),U.push(new Date(B.timestamp));else if(M.deviceMapModel.deviceMonconType.toLowerCase().indexOf("v4")>-1&&M.v4RelayMQTTData&&M.v4RelayMQTTData.length>0)for(Q=0;Q<M.v4RelayMQTTData.length;Q++)q=M.v4RelayMQTTData[Q],H=Object(l.b)(parseInt(q.v4relay_state),!0),V=H.split(","),W=parseInt(M.deviceMapModel.devicePointNumber)||1,A.push(V&&V.length>0&&M.deviceMapModel.devicePointNumber&&V[W]&&"1"==V[W]?1:0),_.push(parseFloat(q["power_Wt_relay"+W])||0),U.push(new Date(q.timestamp));Y.label=16;case 16:return G.unshift("Compressor Relay State"),z.unshift("Compressor Totalized Watt-Hour"),j.unshift("Evap. Fan Relay State"),k.unshift("Evap. Fan Totalized Watt-Hour"),A.unshift("Defrost Relay State"),_.unshift("Defrost Totalized Watt-Hour"),U.unshift("x"),b.columns=[G,j,A,U],E.columns=[z,k,_,U],[3,20];case 17:return"graph4"!=e?[3,20]:(p="Subcooling",g="Temperature \xb0F",f="Evap Fan and Compressor Out Information",G=[],z=[],U=[],y&&y.topic?[4,Object(h.f)(y.topic,c,s)]:[3,19]);case 18:C=Y.sent(),Y.label=19;case 19:if(C&&C.length>0)for(Q=0;Q<C.length;Q++)(J=C[Q])["t5evapfan"+a]&&G.push(J["t5evapfan"+a]),J["t7comprout"+a]&&z.push(J["t7comprout"+a]),U.push(new Date(J.timestamp));G.unshift("T5 Evap Fan"),z.unshift("T7 Compressor Out"),U.unshift("x"),b.columns=[],E.columns=[G,z,U],Y.label=20;case 20:return u&&u.y&&u.y.label&&(u.y.label=p),d&&d.y&&d.y.label&&(d.y.label=g),this.setState({graphData:b,graphDataForSecondSide:E,yAxislabel:p,yAxislabelForSecondSide:g,graphTitle:f,axis:u,axisForSecondSide:d}),[2]}})})},t.prototype.handleTimeChange=function(e,t){t?this.setState({from:e,graphData:{x:"x",columns:[]},graphDataForSecondSide:{x:"x",columns:[]}}):this.setState({to:e,graphData:{x:"x",columns:[]},graphDataForSecondSide:{x:"x",columns:[]}})},t.prototype.render=function(){for(var e=this,t=(this.props,this.state),n=t.graphTab,o=t.totalGraphs,l=t.graphData,i=t.axis,r=t.grid,c=t.from,m=t.to,d=t.axisForSecondSide,p=t.graphDataForSecondSide,h=[],g=1;g<=o;g++)h.push("graph"+g);return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row m-0"},a.createElement("div",{className:"btn-group"},h&&h.map(function(t,o){return a.createElement("button",{className:"btn "+(n==t?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.onChangeGraphTab(t)}},a.createElement("span",{className:"vertical-align"},"Graph ",o+1))}))),a.createElement("div",{className:"row mt-5"},a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"col-md-2 padding-5"},a.createElement("label",null,"From: \xa0")),a.createElement("div",{className:"col-md-10 no-padding"},a.createElement(s.a,{id:"startTime",className:"form-control",selected:c,onChange:function(t){return e.handleTimeChange(t,!0)},timeFormat:"HH:mm",timeIntervals:15,showTimeSelect:!0,dateFormat:"yyyy/MM/d h:mm aa",timeCaption:"time"}))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"col-md-2 padding-5"},a.createElement("label",null,"To: \xa0")),a.createElement("div",{className:"col-md-10 no-padding"},a.createElement(s.a,{id:"startTime",className:"form-control",selected:m,onChange:function(t){return e.handleTimeChange(t,!1)},timeFormat:"HH:mm",timeIntervals:15,showTimeSelect:!0,dateFormat:"yyyy/MM/d h:mm aa",timeCaption:"time"})))),a.createElement("div",{className:"col-md-6 col-sm-6"},a.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){return e.loadGraph()}},a.createElement("i",{className:"fa fa-bar-chart","aria-hidden":"true"}),"Load Graph"))),a.createElement("div",{className:"row m-0"},a.createElement("div",{className:"col-md-12 padding-5 margin-5"},a.createElement("div",{className:"row margin-top-25px pdfDiv",id:"DeviceStatusGraph"},n&&l&&l.columns&&l.columns.length>0&&i&&r&&a.createElement(u.a,{data:l,size:1e3,axis:i,unloadBeforeLoad:!0,grid:r,bar:{width:15}}),n&&p&&p.columns&&p.columns.length>0&&d&&r&&a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement("br",null),a.createElement(u.a,{data:p,size:1e3,axis:d,unloadBeforeLoad:!0,grid:r})))))))},t}(a.Component);t.a=b},2632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n.n(a),l=n(647),i=n(989),r=n(2633),c=n(117),s=n(23),m=n(678),u=n(845),d=n(1154),p=n(846),h=n(1179),g=n(2635),f=n(2638),v=n(880),b=n(2639),E=n(2641),y=n(11),N=n(127),C=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),S=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},w=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},O=function(e){function t(t){var n=e.call(this,t)||this;return n.state={solution:Object(),generatorDevice:Object(),currentEquipment:"",currentEquipmentIndex:0,currentTab:"ControllerGUI",showControllers:[],selectedAssetType:"",selectedAssetLabel:"",selectedComponnet:Object(),selectedDevice:Object(),selectedEquipment:Object(),selectedPoint:Object(),devicesList:[],allRelatedFloors:[],currentFloorTabIndex:0,currentFloorOntology:"",floorOntologies:[],selectedDeviceMappingModel:Object(),deviceMappingModels:[],manageControlScreenModel:Object()},n.getSolutionInDetail=n.getSolutionInDetail.bind(n),n.getUnique=n.getUnique.bind(n),n}return C(t,e),t.prototype.componentDidMount=function(){return S(this,void 0,void 0,function(){var e;return w(this,function(t){switch(t.label){case 0:return e=this.props.solution,Object(s.G)(!1),[4,Promise.all([this.getSolutionInDetail(e),this.fetchDeviceMapping(e)])];case 1:return t.sent(),[2]}})})},t.prototype.getSolutionInDetail=function(e){return S(this,void 0,void 0,function(){var t,n,a,o,l,i,r,s,u,d=this;return w(this,function(p){switch(p.label){case 0:return Object(c.a)(!0),t=this.props.buildingName,n=Object(),[4,Object(m.q)(t,e)];case 1:return a=p.sent(),n=a&&a.length>0&&a[0]?a[0]:Object(),o=JSON.parse(y.a.getItem("user")),[4,Object(N.b)(o.contact)];case 2:if(p.sent(),!n||!n.equipmentTemplatesOntology)return[3,4];if(l=n.equipmentTemplatesOntology.split(","),i=[],r=[],n){if(n.equipmentByTemplate&&n.equipmentByTemplate.length>0&&n.equipmentByTemplate[0])for(s=0;s<n.equipmentByTemplate.length;s++)u=n.equipmentByTemplate[s],i.push({label:u.equipment.rdfsLabel,value:l[s]});n.devices&&n.devices.map(function(e){return r.push(!1)})}return this.setState({solution:n,currentEquipmentIndex:0,currentEquipment:e,showControllers:r},function(){var e="";n.controllerGUI?e="ControllerGUI":n.oneLineGUI?e="SymbolicGUI":n.floorPlanGUI&&(e="SymbolicGUI"),d.setState({currentTab:e})}),this.fetchEquipmentTemplateFromSolution(0),[4,this.fetchControllerScreenSettings(n)];case 3:p.sent(),p.label=4;case 4:return Object(c.a)(!1),[2]}})})},t.prototype.fetchEquipmentTemplateFromSolution=function(e){var t=this;Object(c.a)(!0);var n=this.state.solution;if(n&&n.equipmentByTemplate&&n.equipmentByTemplate.length>0){var a=[],o=Object(),l=n.equipmentByTemplate[e];n&&(n.equipmentByTemplate&&n.equipmentByTemplate.length>0&&(o=n.equipmentByTemplate[e||0].equipment),n.devices&&(a=n.devices)),"Generator"==l.equipment.subclassType&&(o=l.equipment);var i=[];o&&o.floor&&i.push(o.floor),a&&a.length>0&&a.map(function(e){return S(t,void 0,void 0,function(){return w(this,function(t){return i.push(e.floor),[2]})})}),this.setState({selectedEquipment:o,devicesList:a,floorOntologies:i,currentFloorOntology:i[0].ontology})}Object(c.a)(!1)},t.prototype.fetchDeviceMapping=function(e){return S(this,void 0,void 0,function(){var t;return w(this,function(n){switch(n.label){case 0:return Object(c.a)(!0),[4,Object(m.t)("",e)];case 1:return t=n.sent(),this.setState({deviceMappingModels:t}),Object(c.a)(!1),[2]}})})},t.prototype.fetchControllerScreenSettings=function(e){return S(this,void 0,void 0,function(){var t,n;return w(this,function(a){switch(a.label){case 0:return Object(c.a)(!0),[4,Object(m.v)(e.ontology)];case 1:return t=a.sent(),n=Object(),n=t&&t.length>0&&t[0]._id?t[0]:Object(m.x)(e),this.setState({manageControlScreenModel:n}),Object(c.a)(!1),[2]}})})},t.prototype.setCollapseIcon=function(e){var t=e.currentTarget.children[0].className;e.currentTarget.children[0].className="fa fa-plus"==t?"fa fa-minus":"fa fa-plus"},t.prototype.getDeviceControllerData=function(e,t,n){var a=this.state.showControllers;a[t]=!n,this.setState({showControllers:a})},t.prototype.openDeviceMapping=function(e){return S(this,void 0,void 0,function(){var t,n,a;return w(this,function(o){switch(o.label){case 0:return t=this.props.solution,n=Object(),Object(c.a)(!0),[4,Object(m.t)("",t,e.deviceName)];case 1:return a=o.sent(),n=a&&a.length>0?a[0]:{ontology:Object(s.w)(12),solution:t,device:e.deviceName,devicePointNumber:"",mappingHardware:"",equipment:"",deviceMonconType:e.monitoringControlDeviceType,boardAddress:e.boardAddress,controllerIPAddress:e.wirelessConfig&&e.wirelessConfig.controllerIPAddress?e.wirelessConfig.controllerIPAddress:"",ipAddress:e.wirelessConfig&&e.wirelessConfig.ipAddress?e.wirelessConfig.ipAddress:""},Object(c.a)(!1),this.setState({selectedDevice:e,selectedAssetLabel:e.rdfsLabel,selectedDeviceMappingModel:n}),document.getElementById("btnOpenDeviceMapping").click(),[2]}})})},t.prototype.changeDeviceMapping=function(e){var t=this.state.selectedDeviceMappingModel,n=e.target.name,a=e.target.value;t[""+n]=a,this.setState({selectedDeviceMappingModel:t})},t.prototype.showAssetProfile=function(e,t){var n=this,a=this.state,o=a.selectedAssetLabel,l=a.selectedComponnet,i=a.selectedDevice,r=a.selectedEquipment,c=a.selectedPoint;this.setState({selectedAssetType:""}),"Device"==t?(o=(i=e).rdfsLabel,this.setState({selectedAssetLabel:o,selectedDevice:i},function(){n.setState({selectedAssetType:t})})):"Point"==t?(o=(c=e).pointLabel,this.setState({selectedAssetLabel:o,selectedPoint:c},function(){n.setState({selectedAssetType:t})})):"Equipment"==t?(o=(r=e).rdfsLabel,this.setState({selectedAssetLabel:o,selectedEquipment:r},function(){n.setState({selectedAssetType:t})})):"Component"==t&&(o=(l=e).rdfsLabel,this.setState({selectedAssetLabel:o,selectedComponnet:l},function(){n.setState({selectedAssetType:t})})),document.getElementById("btnShowAssetProfile").click()},t.prototype.saveDeviceMapping=function(){return S(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r=this;return w(this,function(c){switch(c.label){case 0:return e=this.props,t=e.buildingName,n=e.solution,a=this.state,o=a.selectedDeviceMappingModel,l=a.devicesList,i=l,[4,Object(m.m)(t,o)];case 1:return c.sent(),[4,this.fetchDeviceMapping(n)];case 2:return c.sent(),this.setState({devicesList:[]},function(){r.setState({devicesList:i})}),[2]}})})},t.prototype.getUnique=function(){return S(this,void 0,void 0,function(){var e,t,n,a,o,l;return w(this,function(i){switch(i.label){case 0:for(e=this.state.floorOntologies,t=[],n=Object(),a=[],o=0;o<e.length;o++)-1===t.indexOf(e[o])&&t.push(e[o]);if(!(t&&t.length>0))return[3,5];o=0,i.label=1;case 1:return o<t.length?[4,Object(s.x)(t[o])]:[3,4];case 2:l=i.sent(),n={ontology:t[o],name:l},a.push(n),i.label=3;case 3:return o++,[3,1];case 4:this.setState({allRelatedFloors:a,currentFloorOntology:a[0].ontology}),i.label=5;case 5:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.buildingName,a=t.instance,c=this.state,m=c.solution,N=c.currentTab,C=c.showControllers,O=c.selectedAssetType,D=c.selectedAssetLabel,T=c.selectedComponnet,x=c.selectedDevice,L=c.selectedEquipment,I=c.selectedPoint,j=c.devicesList,k=c.allRelatedFloors,A=c.currentFloorTabIndex,_=c.currentFloorOntology,F=c.selectedDeviceMappingModel,R=c.manageControlScreenModel,P=L&&L.subclassType&&L.subclassType?L.subclassType:"",M=JSON.parse(y.a.getItem("user")),B=!(!M||"1"!=M.role&&"2"!=M.role);return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"card",style:{padding:"1vw"}},o.a.createElement("div",{className:"row m-0"},o.a.createElement("div",{className:"col-md-12 p-0"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 padding-5 margin-5"},o.a.createElement("div",{className:"btn-group"},m.controllerGUI?o.a.createElement("button",{className:"btn "+("ControllerGUI"==N?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTab:"ControllerGUI"}),e.fetchControllerScreenSettings(m)}},o.a.createElement("span",{className:"vertical-align"},"Controller View")):"",m.oneLineGUI?o.a.createElement("button",{className:"btn "+("SymbolicGUI"==N?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTab:"SymbolicGUI"})}},o.a.createElement("span",{className:"vertical-align"},"One-Line View")):"",m.floorPlanGUI?o.a.createElement("button",{className:"btn "+("FloorPlanGUI"==N?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){return S(e,void 0,void 0,function(){var e,t;return w(this,function(n){switch(n.label){case 0:return e=this.setState,t=[{currentTab:"FloorPlanGUI"}],[4,this.getUnique];case 1:return e.apply(this,t.concat([n.sent()])),[2]}})})}},o.a.createElement("span",{className:"vertical-align"},"Floor Plan View")):"",o.a.createElement("button",{className:"btn "+("SolutionDiagram"==N?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTab:"SolutionDiagram"})}},o.a.createElement("span",{className:"vertical-align"},"Diagram")),B&&o.a.createElement("button",{className:"btn "+("ManageControlScreen"==N?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTab:"ManageControlScreen"})}},o.a.createElement("span",{className:"vertical-align"},"Manage Control Screen"))))),"FloorPlanGUI"==N&&o.a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"1px 1px 8px 1px"}},o.a.createElement("div",{className:"row m-0"},o.a.createElement("div",{className:"col-md-12 padding-5 margin-5"},o.a.createElement("button",{type:"button",title:"Show full view",className:"btn btn-dark btn-fill pull-right",style:{marginRight:10},onClick:function(){window.open("http://"+Object(s.o)()+"/#"+a+"/"+n+"/"+e.props.solution+"/BimSpace/FullScreen","_blank")}},"Show full view"," "),o.a.createElement("div",{className:"btn-group"},k.map(function(t,n){return o.a.createElement("button",{className:"btn "+(A==n?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){return e.setState({currentFloorTabIndex:n,currentFloorOntology:""},function(){e.setState({currentFloorOntology:t.ontology})})}},o.a.createElement("span",{className:"vertical-align"},t.name))})))),_&&o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement(v.a,{instance:a,buildingName:n,floorOntology:_,isView:!0,isMapper:!1})))),"ControllerGUI"==N&&o.a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"1px 1px 8px 1px"}},m&&m.equipmentByTemplate&&m.equipmentByTemplate.map(function(t,l){var i=R&&R.manageControlScreenDetails&&R.manageControlScreenDetails.length>0&&R.manageControlScreenDetails.find(function(e){return e.equipment==t.equipment.equipmentName})?R.manageControlScreenDetails.find(function(e){return e.equipment==t.equipment.equipmentName}):Object();return"Refrigerator"==t.equipment.subclassType?o.a.createElement("div",{className:"row m-0 padding-10"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"panel-heading",style:{backgroundColor:"#174b54",color:"white",borderRadius:"5px"}},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("div",null,o.a.createElement("span",{style:{marginLeft:"15px"}},t.equipment.rdfsLabel),o.a.createElement("a",{className:"icn-collapse pull-right color-white","data-toggle":"collapse",id:"btn-collapse-ref"+(l+1),href:"#collapse-ref"+(l+1),onClick:function(t){e.setCollapseIcon(t)}},o.a.createElement("i",{className:"fa fa-minus"}))))),o.a.createElement("div",{id:"collapse-ref"+(l+1),className:"panel-collapse collapse in"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{style:{height:"auto"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},j&&j.length>0&&o.a.createElement(r.a,{instance:a,buildingName:n,devices:j,solutionOntology:m.ontology,equipmentOntology:t.equipment.equipmentName,equipmentLRdfsLabel:t.equipment.rdfsLabel,compressorBox:l+1,controlScreenSettings:i}))))))))):"PTAC"==t.equipment.subclassType?o.a.createElement("div",{className:"row m-0 padding-10"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"panel-heading",style:{backgroundColor:"#174b54",color:"white",borderRadius:"5px"}},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("div",null,o.a.createElement("span",{style:{marginLeft:"15px"}},t.equipment.rdfsLabel),o.a.createElement("a",{className:"icn-collapse pull-right color-white","data-toggle":"collapse",id:"btn-collapse-ref"+(l+1),href:"#collapse-ref"+(l+1),onClick:function(t){e.setCollapseIcon(t)}},o.a.createElement("i",{className:"fa fa-minus"}))))),o.a.createElement("div",{id:"collapse-ref"+(l+1),className:"panel-collapse collapse in"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{style:{height:"auto"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},j&&j.length>0&&o.a.createElement(b.a,{instance:a,buildingName:n,solutionOntology:m.ontology,devices:j,equipmentOntology:t.equipment.equipmentName,equipmentRdfsLabel:t.equipment.rdfsLabel}))))))))):void 0})),"SymbolicGUI"==N&&o.a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"1px 1px 8px 1px"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},"Generator"==P&&o.a.createElement(g.a,{building:n,instance:a,devices:m.devices,ontology:L&&L.equipmentName?L.equipmentName:"",solutionOntology:m.ontology})))),"SolutionDiagram"==N&&o.a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"5px",minHeight:"700px"}},o.a.createElement(i.a,{buildingName:n,instance:a,SolutionName:"",solution:m,isFullScreenHeight:!1,isRefreshButtonShow:!1})),"ManageControlScreen"==N&&o.a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"5px",minHeight:"700px"}},o.a.createElement(E.a,{buildingName:n,instance:a,solution:m,isView:!1})),o.a.createElement("br",null),o.a.createElement("div",{className:"row m-0"},o.a.createElement("div",{className:"col-md-12 p-0"},o.a.createElement("div",{className:"panel-heading",style:{backgroundColor:"#174b54",color:"white",borderRadius:"5px"}},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("div",null,o.a.createElement("span",{style:{marginLeft:"15px"}},"Devices"),o.a.createElement("a",{className:"icn-collapse pull-right color-white","data-toggle":"collapse",id:"btn-collapse1",href:"#collapse1",onClick:function(t){e.setCollapseIcon(t)}},o.a.createElement("i",{className:"fa fa-minus"}))))),o.a.createElement("div",{id:"collapse1",className:"panel-collapse collapse in"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{style:{height:"auto"}},o.a.createElement("div",{className:"padding-10",style:{border:"2px solid gainsboro"}},o.a.createElement("div",{className:"row no-padding"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-2 headingText"},"Device"),o.a.createElement("div",{className:"col-md-1 headingText"},"Type"),o.a.createElement("div",{className:"col-md-2 headingText"},"Moncon Type"),o.a.createElement("div",{className:"col-md-1 headingText"},"ID"),o.a.createElement("div",{className:"col-md-1 headingText"},"IP Addr."),o.a.createElement("div",{className:"col-md-2 headingText center"},"Controller IP Addr.")))),o.a.createElement("div",{style:{border:"1px solid lightgray"}},j&&j.length>0&&j.map(function(t,l){if(t){var i,r=m&&m.equipmentByTemplate&&m.equipmentByTemplate.length>0&&-1!=m.equipmentByTemplate.findIndex(function(e){return"Refrigerator"==e.equipment.subclassType})&&t.monitoringControlDeviceType&&(-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("i1")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("v4")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("signal"));i=t.monitoringControlDeviceType&&(-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("i1")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("v4")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("signal")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ceiling")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("thermo")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("intesis")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("418")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("406")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ats")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("generator")||-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("watt"));var c="";return!t.monitoringControlDeviceType||-1==t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("i1")&&-1==t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("v4")?!t.monitoringControlDeviceType||-1==t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("intesis")&&-1==t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("watt")?t.monitoringControlDeviceType&&-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ceiling")?c="CeilingSensor":t.monitoringControlDeviceType&&-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("thermo")?c="InsightControl":t.monitoringControlDeviceType&&-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("signal")?c="SignalRelayControl":t.monitoringControlDeviceType&&-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("418")?c="CompressorControl":t.monitoringControlDeviceType&&-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("406")?c="CBW406":t.monitoringControlDeviceType&&-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ats")?c="ATS":t.monitoringControlDeviceType&&-1!=t.monitoringControlDeviceType.toLocaleLowerCase().indexOf("generator")&&(c="Generator"):c="IntesisControl":c="RelayControl",o.a.createElement("div",{key:l,style:{margin:"2px",border:"1px dotted lightgray",borderRadius:5}},o.a.createElement("div",{className:"padding-10",key:l},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-2"},o.a.createElement("a",{title:t.rdfsLabel,style:{color:"slategrey"},onClick:function(){e.showAssetProfile(t,"Device")}},t.rdfsLabel)),o.a.createElement("div",{className:"col-md-1"},t.deviceType),o.a.createElement("div",{className:"col-md-2"},t.monitoringControlDeviceType),o.a.createElement("div",{className:"col-md-1"},t.deviceID),o.a.createElement("div",{className:"col-md-1"}," ",t.wirelessConfig&&t.wirelessConfig.ipAddress),o.a.createElement("div",{className:"col-md-2 center"},t.wirelessConfig&&t.wirelessConfig.controllerIPAddress),o.a.createElement("div",{className:"col-md-3"},i&&o.a.createElement("a",{className:"btn-xs btn-success btn active",style:{marginLeft:"5px"},title:"Show Controller",onClick:function(n){e.getDeviceControllerData(t.deviceName,l,C[l])},"data-toggle":"collapse",id:"btn-deviceCollapse"+l,href:"#deviceCollapse"+l}," ",o.a.createElement("i",{className:"fa fa-cogs","aria-hidden":"true"})," ",C[l]?"Hide":"Show"," Controller"),r&&o.a.createElement("a",{className:"btn-xs btn-success btn active",style:{marginLeft:"5px"},title:"Device Mapping",onClick:function(n){e.openDeviceMapping(t)}}," ",o.a.createElement("i",{className:"fa fa-wrench","aria-hidden":"true"})," Device Mapping")))),o.a.createElement("div",{id:"deviceCollapse"+l,className:"panel-collapse collapse"},o.a.createElement("div",{className:"row"},C[l]&&t.monitoringControlDeviceType&&o.a.createElement("div",{className:"col-md-12"},o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(f.a,{ControlName:c,InsightName:t.deviceName,buildingName:n,instance:a,monconType:t.monitoringControlDeviceType,type:"Equipment"}))))))}}))))))))),o.a.createElement("button",{type:"button",id:"btnShowAssetProfile",className:"btn btn-primary btn-fill","data-toggle":"modal","data-target":"#assetProfileDialog",style:{display:"none"}},"."),o.a.createElement(l.a,{id:"assetProfileDialog",showSaveButton:!1,showCancelButton:!0,isEditForm:!0,heading:D+" Selected"},o.a.createElement("div",{className:"row padding-10"},O&&o.a.createElement("div",{className:"col=md-12"},"Device"==O&&x.deviceName&&o.a.createElement(p.default,{hideBackButton:!0,deviceName:x.deviceName,isEdit:!1,isView:!0,instance:a,buildingName:n,deviceType:"Device"==x.deviceType||"Electronic"==x.deviceType?"Electronic":-1!=x.deviceType.indexOf("Network")?"Network":-1!=x.deviceType.indexOf("Computi")?"Computing":""}),"Point"==O&&I.point&&o.a.createElement(h.default,{isEdit:!1,isView:!0,instance:a,buildingName:n,PointName:I.point}),"Equipment"==O&&L.equipmentName&&o.a.createElement(d.default,{instance:a,buildingName:n,equipmentName:L.equipmentName,showEquipmentInfoOnly:!0}),"Component"==O&&T.name&&o.a.createElement(u.a,{instance:a,buildingName:n,isEdit:!1,component:T,isView:!0})))),o.a.createElement("button",{type:"button",id:"btnOpenDeviceMapping",className:"btn btn-primary btn-fill","data-toggle":"modal","data-target":"#openDeviceMapping",style:{display:"none"}},"."),o.a.createElement(l.a,{id:"openDeviceMapping",showSaveButton:!0,showCancelButton:!0,heading:D+" mapping",disableSaveButton:!(F&&F.devicePointNumber&&F.mappingHardware&&F.equipment),onSaveButtonClick:function(){e.saveDeviceMapping()}},o.a.createElement("div",{className:"card dataCard no-margin"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row padding-10"},o.a.createElement("div",{className:"col-md-3"},o.a.createElement("label",{htmlFor:"devicePoint"},"Device Point:"),o.a.createElement("select",{id:"devicePoint",className:"form-control",name:"devicePointNumber",value:F.devicePointNumber,onChange:function(t){return e.changeDeviceMapping(t)}},o.a.createElement("option",{value:""},"Select Point"),o.a.createElement("option",{value:"1"},"Relay 1"),F&&F.deviceMonconType&&(F.deviceMonconType.toLocaleLowerCase().indexOf("v4")>-1||F.deviceMonconType.toLocaleLowerCase().indexOf("signal")>-1)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("option",{value:"2"},"Relay 2"),o.a.createElement("option",{value:"3"},"Relay 3"),o.a.createElement("option",{value:"4"},"Relay 4")),F&&F.deviceMonconType&&F.deviceMonconType.toLocaleLowerCase().indexOf("signal")>-1&&o.a.createElement(o.a.Fragment,null,o.a.createElement("option",{value:"5"},"Relay 5"),o.a.createElement("option",{value:"6"},"Relay 6"),o.a.createElement("option",{value:"7"},"Relay 7"),o.a.createElement("option",{value:"8"},"Relay 8")))),o.a.createElement("div",{className:"col-md-4"},o.a.createElement("label",{htmlFor:"devicePoint"},"Map to:"),o.a.createElement("select",{id:"devicePoint",className:"form-control",name:"mappingHardware",value:F.mappingHardware,onChange:function(t){return e.changeDeviceMapping(t)}},o.a.createElement("option",{value:""},"Select"),o.a.createElement("option",{value:"Compressor"},"Compressor"),o.a.createElement("option",{value:"EvapFans"},"Evaporator Fans"),o.a.createElement("option",{value:"DefrostHeater"},"Defrost heater"))),o.a.createElement("div",{className:"col-md-5"},o.a.createElement("label",{htmlFor:"mappingequipment"},"Refrigerator:"),o.a.createElement("select",{id:"mappingequipment",className:"form-control",name:"equipment",value:F.equipment,onChange:function(t){return e.changeDeviceMapping(t)}},o.a.createElement("option",{value:""},"Select Refrigerator"),m&&m.equipmentByTemplate&&m.equipmentByTemplate.map(function(e,t){return o.a.createElement("option",{key:t,value:e.equipment.equipmentName},e.equipment.rdfsLabel)}))))))))))},t}(o.a.Component);t.default=O},2633:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(24)),l=n(117),i=n(842),r=n(672),c=n(23),s=n(678),m=n(11),u=n(659),d=n(936),p=n(2634),h=n(934),g=n(1520),f=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),v=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},b=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isDefrost:!1,currentTabs:"InnerControllerGUI",cbw406Model:Object(),cbw418Model:Object(),compressorADPDB:Object(),spaceTemp:0,compressorController:Object(),modelChanged:!1,intervalId:Object(),modelChangedState:"",device418:Object(),device406:Object(),deviceMappingModels:[],deviceMappingMQTTModel:[],compressorRelayDemandingRunningStatus:0,evapRelayDemandingRunningStatus:0,defrostRelayDemandingRunningStatus:0,compressorRelayRunningStatus:0,evapRelayRunningStatus:0,defrostRelayRunningStatus:0,evapRelayAmps:0},n.fetchCompressorControllerDetails=n.fetchCompressorControllerDetails.bind(n),n.fetchDeviceData=n.fetchDeviceData.bind(n),n.fetchCompressorMQTTData=n.fetchCompressorMQTTData.bind(n),n.fetchADPValues=n.fetchADPValues.bind(n),n.getSpaceTemp=n.getSpaceTemp.bind(n),n.setIntervalStart=n.setIntervalStart.bind(n),n.changeControl=n.changeControl.bind(n),n.changeEvaporatorFan=n.changeEvaporatorFan.bind(n),n.changeCompressorState=n.changeCompressorState.bind(n),n.changeTemperature=n.changeTemperature.bind(n),n.saveChanges=n.saveChanges.bind(n),n}return f(t,e),t.prototype.componentDidMount=function(){return v(this,void 0,void 0,function(){var e;return b(this,function(t){switch(t.label){case 0:return Object(l.a)(!0),[4,this.fetchDeviceData()];case 1:return e=t.sent(),[4,Promise.all([this.fetchADPValues(),this.fetchCompressorControllerDetails(),this.fetchCompressorMQTTData(e.device406,e.device418),this.fetchDeviceMapping()])];case 2:return t.sent(),this.setIntervalStart(),Object(l.a)(!1),[2]}})})},t.prototype.componentWillUnmount=function(){var e=this.state.intervalId;e&&clearInterval(e),this.setState({intervalId:Object()})},t.prototype.resetData=function(){return v(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return Object(l.a)(!0),[4,Promise.all([this.fetchADPValues(),this.cancelClick()])];case 1:return e.sent(),Object(l.a)(!1),[2]}})})},t.prototype.cancelClick=function(){return v(this,void 0,void 0,function(){var e,t,n;return b(this,function(a){switch(a.label){case 0:return e=this.state,t=e.device406,n=e.device418,Object(l.a)(!0),[4,Promise.all([this.fetchCompressorControllerDetails(),this.fetchCompressorMQTTData(t,n),this.getRelayMQTTData()])];case 1:return a.sent(),Object(l.a)(!1),[2]}})})},t.prototype.fetchCompressorControllerDetails=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,l,r,m;return b(this,function(u){switch(u.label){case 0:return e=this.props,t=e.buildingName,n=e.solutionOntology,a=e.equipmentOntology,[4,Object(s.s)(t,"",n,a)];case 1:return o=u.sent(),[4,Object(s.p)(o)];case 2:return(l=u.sent())&&l.length>0?this.setState({compressorController:l[0]}):(r=this.state.compressorADPDB,m={ontology:Object(c.w)(12),solutionOntology:n,compressorTemperature:r&&r.LowTemp?r.LowTemp:0,defrostControl:i.a.Local,equipment:a,inhibitControl:i.a.Local,isDefrost:!1,isEvaporatorFanAuto:!0},this.setState({compressorController:m})),[2]}})})},t.prototype.fetchDeviceData=function(){return v(this,void 0,void 0,function(){var e,t,n;return b(this,function(a){return e=this.props.devices,t=Object(),n=Object(),e&&e.length>0&&(n=e.find(function(e){return"cbw418"==e.monitoringControlDeviceType.toLocaleLowerCase()}),t=e.find(function(e){return"cbw406"==e.monitoringControlDeviceType.toLocaleLowerCase()})),this.setState({device418:n,device406:t}),[2,{device406:t,device418:n}]})})},t.prototype.fetchCompressorMQTTData=function(e,t){return v(this,void 0,void 0,function(){var n,a,l=this;return b(this,function(i){switch(i.label){case 0:return[4,Object(s.f)(e.topic,new Date,new Date,!0).then(function(t){return!t||t&&t.error?(Object(o.a)("Error occurred while fetching CBW board info."),Object()):(t[t.length-1]&&localStorage.setItem(e.deviceID,JSON.stringify(t[t.length-1])),t[t.length-1])}).catch(function(e){return Object()})];case 1:return n=i.sent(),[4,Object(s.g)(t.topic,new Date,new Date,!0).then(function(e){return!e||e&&e.error?(Object(o.a)("Error occurred while fetching CBW board info."),Object()):(e[e.length-1]&&localStorage.setItem(t.deviceID,JSON.stringify(e[e.length-1])),e[e.length-1])}).catch(function(e){return Object()})];case 2:return a=i.sent(),this.setState({cbw406Model:n,cbw418Model:a,modelChanged:!1,modelChangedState:""},function(){l.getSpaceTemp()}),[2]}})})},t.prototype.fetchADPValues=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,l=this;return b(this,function(i){switch(i.label){case 0:return e=this.props,t=e.buildingName,n=e.solutionOntology,a=e.equipmentOntology,[4,Object(u.o)(t,"",a,n)];case 1:return o=i.sent(),this.setState({compressorADPDB:o},function(){l.getSpaceTemp()}),[2]}})})},t.prototype.fetchDeviceMapping=function(){return v(this,void 0,void 0,function(){var e,t,n=this;return b(this,function(a){switch(a.label){case 0:return e=this.props.solutionOntology,Object(l.a)(!0),[4,Object(s.t)("",e)];case 1:return t=a.sent(),this.setState({deviceMappingModels:t},function(){n.getRelayMQTTData()}),Object(l.a)(!1),[2]}})})},t.prototype.getRelayMQTTData=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,c,s,m,d,p,h,g,f,v,E,y;return b(this,function(N){switch(N.label){case 0:if(e=this.state.deviceMappingModels,t=this.props,n=t.devices,a=t.equipmentOntology,o=[],l="-1",i="-1",r="-1",c="-1",s="-1",m="-1",d="-1",!(e&&e.length>0))return[3,5];p=function(t){var l,i,r,c;return b(this,function(s){switch(s.label){case 0:return l=e[t],i=n.find(function(e){return e.deviceName==l.device}),r=Object(),l.deviceMonconType.toLocaleLowerCase().indexOf("i1")>-1&&l.equipment==a?[4,Object(u.f)(i.topic,new Date,new Date,!0)]:[3,2];case 1:return r=s.sent(),[3,4];case 2:return l.deviceMonconType.toLocaleLowerCase().indexOf("v4")>-1&&l.equipment==a?[4,Object(u.g)(i.topic,new Date,new Date,!0)]:[3,4];case 3:r=s.sent(),s.label=4;case 4:return c={deviceMapModel:l,i1RelayMQTTData:l.deviceMonconType.toLocaleLowerCase().indexOf("i1")>-1&&l.equipment==a?r:[],v4RelayMQTTData:l.deviceMonconType.toLocaleLowerCase().indexOf("v4")>-1&&l.equipment==a?r:[]},o.push(c),[2]}})},h=0,N.label=1;case 1:return h<e.length?[5,p(h)]:[3,4];case 2:N.sent(),N.label=3;case 3:return h++,[3,1];case 4:o&&o.length>0&&(g=o.find(function(e){return"Compressor"==e.deviceMapModel.mappingHardware&&e.deviceMapModel.equipment==a}),f=o.find(function(e){return"EvapFans"==e.deviceMapModel.mappingHardware&&e.deviceMapModel.equipment==a}),v=o.find(function(e){return"DefrostHeater"==e.deviceMapModel.mappingHardware&&e.deviceMapModel.equipment==a}),g&&g.deviceMapModel.deviceMonconType.toLowerCase().indexOf("i1")>-1&&g.deviceMapModel.equipment==a?(y=g.i1RelayMQTTData[g.i1RelayMQTTData.length-1])?(l=y.i1relay_demand_state?y.i1relay_demand_state:"0",c=y.i1relay_state?y.i1relay_state:"0"):c="-2":g&&g.deviceMapModel.deviceMonconType.toLowerCase().indexOf("v4")>-1&&g.deviceMapModel.equipment==a&&((y=g.v4RelayMQTTData[g.v4RelayMQTTData.length-1])?(l=y.i1relay_demand_state?y.i1relay_demand_state:"0",c=y.v4relay_state?y.v4relay_state:"0"):c="-2"),f&&f.deviceMapModel.deviceMonconType.toLowerCase().indexOf("i1")>-1&&f.deviceMapModel.equipment==a?(y=f.i1RelayMQTTData[f.i1RelayMQTTData.length-1])?(i=y.i1relay_demand_state?y.i1relay_demand_state:"0",s=y.i1relay_state?y.i1relay_state:"0",d=y.current_Amperes?y.current_Amperes:"0"):s="-2":f&&f.deviceMapModel.deviceMonconType.toLowerCase().indexOf("v4")>-1&&f.deviceMapModel.equipment==a&&((y=f.v4RelayMQTTData[f.v4RelayMQTTData.length-1])?(i=y.i1relay_demand_state?y.i1relay_demand_state:"0",s=y.v4relay_state?y.v4relay_state:"0",E=f.deviceMapModel.devicePointNumber,d=y["mAmps_relay"+E]?y["mAmps_relay"+E]:"0"):s="-2"),v&&v.deviceMapModel.deviceMonconType.toLowerCase().indexOf("i1")>-1&&v.deviceMapModel.equipment==a?(y=v.i1RelayMQTTData[v.i1RelayMQTTData.length-1])?(r=y.i1relay_demand_state?y.i1relay_demand_state:"0",m=y.i1relay_state?y.i1relay_state:"0"):m="-2":v&&v.deviceMapModel.deviceMonconType.toLowerCase().indexOf("v4")>-1&&v.deviceMapModel.equipment==a&&((y=v.v4RelayMQTTData[v.v4RelayMQTTData.length-1])?(r=y.i1relay_demand_state?y.i1relay_demand_state:"0",m=y.v4relay_state?y.v4relay_state:"0"):m="-2")),N.label=5;case 5:return this.setState({deviceMappingMQTTModel:o,compressorRelayDemandingRunningStatus:parseInt(l),evapRelayDemandingRunningStatus:parseInt(i),defrostRelayDemandingRunningStatus:parseInt(r),compressorRelayRunningStatus:parseInt(c),evapRelayRunningStatus:parseInt(s),defrostRelayRunningStatus:parseInt(m),evapRelayAmps:parseInt(d)}),[2]}})})},t.prototype.getSpaceTemp=function(){var e=this.props.compressorBox,t=this.state,n=t.compressorADPDB,a=t.cbw406Model;if(n&&n.equipment&&a&&a.device_Name){var o=n.FrontTempWeight/100,l=n.BackTempWeight/100,i=n.SolidTempWeight/100,r=0;a["t3frontRefrigerator"+e]&&a["t4backRefrigerator"+e]&&a["t8probeRefrigerator"+e]&&(r=a["t3frontRefrigerator"+e]*o+a["t4backRefrigerator"+e]*l+a["t8probeRefrigerator"+e]*i),Object(c.m)(new Date(a.timestamp),new Date)>=20&&n.MedianTemp&&(r=n.MedianTemp),this.setState({spaceTemp:r})}},t.prototype.setIntervalStart=function(){var e=this,t=0;this.state.intervalId&&clearInterval(this.state.intervalId);var n=setInterval(function(){t++;var n=e.state,a=n.modelChanged,o=n.device406,l=n.device418;!a&&t>=5&&(t=0,"InnerControllerGUI"==e.state.currentTabs&&(e.fetchCompressorControllerDetails(),e.fetchCompressorMQTTData(o,l),e.getRelayMQTTData()))},1e3);this.setState({intervalId:n})},t.prototype.changeTemperature=function(e,t){var n=this.state,a=n.compressorController,o=n.compressorADPDB;a&&o&&(t||(t=e?o.LowTemp:o.HighTemp),e?(a.compressorTemperature=t-.1,a.compressorTemperature<o.LowTemp&&(a.compressorTemperature=o.LowTemp)):(a.compressorTemperature=t+.1,a.compressorTemperature>o.HighTemp&&(a.compressorTemperature=o.HighTemp)),this.setState({compressorController:a,modelChanged:!0,modelChangedState:"setpointtemperature"}))},t.prototype.changeEvaporatorFan=function(e){var t=this.state.compressorController;t.isEvaporatorFanAuto=e,this.setState({compressorController:t,modelChanged:!0,modelChangedState:"evapfan"})},t.prototype.changeControl=function(e,t){return v(this,void 0,void 0,function(){var n,a,o;return b(this,function(r){switch(r.label){case 0:return n=this.props.equipmentOntology,a=this.state.compressorController,e?a.defrostControl=t:a.inhibitControl=t,(o=Object()).equipmentOntology=n,o.isScheduleOn=t==i.a.Schedule,Object(l.a)(!0),[4,Object(u.X)(o)];case 1:return r.sent(),Object(l.a)(!1),this.setState({compressorController:a,modelChanged:!0,modelChangedState:"controlstate"}),[2]}})})},t.prototype.changeCompressorState=function(e){var t=this.state.compressorController;t.isDefrost=e,this.setState({compressorController:t,modelChanged:!0,modelChangedState:"controlstatedefroststate"})},t.prototype.saveChanges=function(){return v(this,void 0,void 0,function(){var e,t,n,a,c,m,d,p,h,g,f,v,E,y,N,C,S,w,O,D,T,x,L,I,j,k,A,_,F,R,P,M,B,q;return b(this,function(b){switch(b.label){case 0:return e=this.props,t=e.buildingName,n=e.solutionOntology,a=e.equipmentOntology,c=e.devices,m=e.compressorBox,d=e.controlScreenSettings,p=e.equipmentLRdfsLabel,h=this.state,g=h.modelChanged,f=h.compressorController,v=h.compressorADPDB,E=h.modelChangedState,y=h.deviceMappingModels,Object(l.a)(!0,"Saving Refrigerator State"),[4,Object(s.s)(t,"",n,"")];case 1:return N=b.sent(),[4,Object(s.p)(N)];case 2:for(C=b.sent(),S=!1,w=0;w<C.length;w++)(O=C[w]).equipment&&(O.equipment==a&&(O=f),O.inhibitControl!=i.a.Schedule&&O.defrostControl!=i.a.Schedule||S||(S=!0));return g?(D=Object(),T="1",x="i1",L=!0,I="","setpointtemperature"==E||"controlstate"==E?y.find(function(e){return"Compressor"==e.mappingHardware&&e.equipment==a})?(j=y.find(function(e){return"Compressor"==e.mappingHardware}),c.find(function(e){return e.deviceName==j.device})?(D=c.find(function(e){return e.deviceName==j.device}),T=j.devicePointNumber,_=j.deviceMonconType.toLocaleLowerCase(),x=_.indexOf("i1")>-1?"i1":_.indexOf("v4")>-1?"v4":_.indexOf("signal")>-1?"wsh":"",I="compressor"):(Object(o.a)("No Device is not mapped to Compressor for "+p+"."),L=!1)):(Object(o.a)("No Device is not mapped to Compressor for "+p+"."),L=!1):"evapfan"==E?y.find(function(e){return"EvapFans"==e.mappingHardware&&e.equipment==a})?(k=y.find(function(e){return"EvapFans"==e.mappingHardware}),c.find(function(e){return e.deviceName==k.device})?(D=c.find(function(e){return e.deviceName==k.device}),T=k.devicePointNumber,_=k.deviceMonconType.toLocaleLowerCase(),x=_.indexOf("i1")>-1?"i1":_.indexOf("v4")>-1?"v4":_.indexOf("signal")>-1?"wsh":"",I="evaporator"):(Object(o.a)("No Device is not mapped to Evaporator Fans for "+p+"."),L=!1)):(Object(o.a)(" No Device is not mapped to Evaporator Fans for "+p+"."),L=!1):"controlstatedefroststate"==E&&(y.find(function(e){return"DefrostHeater"==e.mappingHardware&&e.equipment==a})?(A=y.find(function(e){return"DefrostHeater"==e.mappingHardware}),c.find(function(e){return e.deviceName==A.device})?(D=c.find(function(e){return e.deviceName==A.device}),T=A.devicePointNumber,_=A.deviceMonconType.toLocaleLowerCase(),x=_.indexOf("i1")>-1?"i1":_.indexOf("v4")>-1?"v4":_.indexOf("signal")>-1?"wsh":"",I="defroster"):(Object(o.a)("No Device is not mapped to Defrost Heater for "+p+"."),L=!1)):(Object(o.a)(" No Device is not mapped to Defrost Heater for "+p+"."),L=!1)),L?[4,Object(u.Y)(D.deviceName,S)]:[3,11]):[3,12];case 3:return b.sent(),F="",d&&d.defrostAttached&&d.defrostAttached.indexOf("inhi")>-1?f.defrostControl==i.a.Manual?F=f.isDefrost?"defrost":"inhibit":f.defrostControl==i.a.Schedule?F="defrost":f.defrostControl==i.a.Optimize&&(F="optimize"):d&&d.defrostAttached&&d.defrostAttached.indexOf("act")>-1&&(f.defrostControl==i.a.Manual?F=f.isDefrost?"inactive":"active":f.defrostControl==i.a.Schedule?F="inactive":f.defrostControl==i.a.Optimize&&(F="optimize")),R=Object(),D.computingDevice?[4,Object(r.f)(D.computingDevice)]:[3,6];case 4:return P=b.sent(),[4,Object(r.d)(P)];case 5:(M=b.sent())&&M.length>0&&(R=M[0]),b.label=6;case 6:return B={TS1:f.compressorTemperature.toFixed(2),back:""+v.BackTempWeight,controller_pi:R.controllerIpAddress,mac_id:R.macID,device:"refcon-request",dbdmin:""+v.DeadBandMinutes,dbdtemp:""+v.DeadBandTemp,defrost:F,nominal_temp:""+(v.MedianTemp?v.MedianTemp:0),device_name:D.deviceName,evapfan:f.isEvaporatorFanAuto?"Auto":"On",front:""+v.FrontTempWeight,probe:""+v.SolidTempWeight,relaynum:T,rlb_ver:x,rlb_add:D.boardAddress,mapped:I,Refrigerator:"Refrigerator"+m,refrigerator_mode:f.inhibitControl&&f.inhibitControl==i.a.Local?"local":"remote",defrost_mode:f.defrostControl&&f.defrostControl==i.a.Local?"local":"remote",timestamp:""+(new Date).getTime(),timestamp_request:""+(new Date).getTime()},Object(l.a)(!0,"Sending signal to local processor"),[4,Object(s.i)(B,t)];case 7:return(q=b.sent())&&0==q.responseCode?(Object(l.a)(!0,"Saving Refrigerator State"),[4,Object(s.l)(f,t)]):[3,9];case 8:return b.sent(),[3,11];case 9:return[4,this.fetchCompressorControllerDetails()];case 10:b.sent(),b.label=11;case 11:this.setState({modelChanged:!1}),b.label=12;case 12:return Object(l.a)(!1),[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.currentTabs,o=t.device406,l=t.spaceTemp,r=t.compressorController,c=t.compressorADPDB,s=t.modelChanged,u=t.modelChangedState,f=t.device418,v=t.cbw418Model,b=t.compressorRelayDemandingRunningStatus,E=t.compressorRelayRunningStatus,y=t.defrostRelayDemandingRunningStatus,N=t.defrostRelayRunningStatus,C=t.evapRelayDemandingRunningStatus,S=t.evapRelayRunningStatus,w=t.evapRelayAmps,O=this.props,D=O.instance,T=O.buildingName,x=O.compressorBox,L=O.solutionOntology,I=O.equipmentOntology,j=O.devices,k=O.controlScreenSettings,A=!1,_=!1,F=!1;r&&c&&(_=r.compressorTemperature<=c.LowTemp,A=r.compressorTemperature>=c.HighTemp),F=!(!r||r.inhibitControl!=i.a.Local&&r.inhibitControl!=i.a.Schedule&&r.inhibitControl!=i.a.Optimize);var R=r&&r.compressorTemperature?parseFloat(r.compressorTemperature.toFixed(1)):0,P=r&&r.isDefrost?"Defrost":"Inhibit",M=k&&k.defrostAttached&&"no"!=k.defrostAttached,B=v&&v["a13comprcurrRefrigerator"+x]?20*v["a13comprcurrRefrigerator"+x]/5:0,q=!(c&&c.ThresholdCompressorAmps>B),H=!(c&&c.ThresholdAmps>w),V=JSON.parse(m.a.getItem("user")),W=V&&("1"==V.role||"2"==V.role),G=!(!k||!k.showRefrigeratorStatusToAllUsers)||W;return a.createElement(a.Fragment,null,a.createElement("div",{className:"row m-0"},a.createElement("div",{className:"col-md-12 padding-5 margin-5"},a.createElement("div",{className:"btn-group"},a.createElement("button",{className:"btn "+("InnerControllerGUI"==n?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTabs:"InnerControllerGUI"}),e.resetData()}},a.createElement("span",{className:"vertical-align"},"Controller")),a.createElement("button",{className:"btn "+("BoxSchedule"==n?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTabs:"BoxSchedule"}),e.resetData()}},a.createElement("span",{className:"vertical-align"},"Box Schedule")),M&&a.createElement("button",{className:"btn "+("DefrostSchedule"==n?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTabs:"DefrostSchedule"}),e.resetData()}},a.createElement("span",{className:"vertical-align"},"Defrost Schedule")),a.createElement("button",{className:"btn "+("Graphs"==n?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTabs:"Graphs"}),e.resetData()}},a.createElement("span",{className:"vertical-align"},"Graphs")),W&&a.createElement("button",{className:"btn "+("InnerControllerADP"==n?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTabs:"InnerControllerADP"}),e.resetData()}},a.createElement("span",{className:"vertical-align"},"ADP"))))),"InnerControllerGUI"==n&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"card",id:"InsightsList"},a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12 tempCounter roomTemp pull-right"},a.createElement("div",null,"Space Temp"),a.createElement("div",{className:"counter"},l.toFixed(1),"\xb0F")),a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12 tempCounter"},a.createElement("div",null,"Cool To"),a.createElement("div",{className:"counter"},R,"\xb0F")),a.createElement("div",{className:"col-md-6 col-xs-12 InsightControls"},a.createElement("div",{className:"btn-group-vertical"},a.createElement("button",{type:"button",className:"btn tempButton heatTo",onClick:function(){return e.changeTemperature(!1,r.compressorTemperature)},disabled:A||F||s&&"setpointtemperature"!=u},a.createElement("div",null,a.createElement("i",{className:"fa fa-angle-up"})),a.createElement("div",null,"Warmer")),a.createElement("button",{type:"button",className:"btn tempButton coolTo",onClick:function(){return e.changeTemperature(!0,r.compressorTemperature)},disabled:_||F||s&&"setpointtemperature"!=u},a.createElement("div",null,"Cooler"),a.createElement("div",null,a.createElement("i",{className:"fa fa-angle-down"})))))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("div",{className:"InsightHeading"},a.createElement("i",{className:"fa fa-first-order"}),"Evaporator Fan"),a.createElement("div",{className:"btn-group"},a.createElement("button",{disabled:F||s&&"evapfan"!=u,type:"button",className:r&&r.isEvaporatorFanAuto?"btn btn-fill":"btn",onClick:function(){e.changeEvaporatorFan(!0)}},"Auto"),a.createElement("button",{disabled:F||s&&"evapfan"!=u,type:"button",className:r&&r.isEvaporatorFanAuto?"btn":"btn btn-fill",onClick:function(){e.changeEvaporatorFan(!1)}},"On"))),a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow pull-right"},a.createElement("br",null),a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:"btn btn-success "+(r&&r.inhibitControl==i.a.Local?"btn-fill":""),onClick:function(){e.changeControl(!1,i.a.Local)}},"Local"),a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:"btn btn-success "+(!r||"Remote"!=r.inhibitControl&&r.inhibitControl!=i.a.Schedule&&r.inhibitControl!=i.a.Manual&&r.inhibitControl!=i.a.Optimize?"":"btn-fill")},"Remote"),a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),onClick:function(){e.changeControl(!1,i.a.Manual)},className:"btn btn-success "+(r&&r.inhibitControl==i.a.Manual?"btn-fill":"")},"Manual"),a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:"btn btn-success "+(r&&r.inhibitControl==i.a.Schedule?"btn-fill":""),onClick:function(){e.changeControl(!1,i.a.Schedule)}},"Schedule"),a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:"btn btn-success "+(r&&r.inhibitControl==i.a.Optimize?"btn-fill":""),onClick:function(){e.changeControl(!1,i.a.Optimize)}},"Optimize")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("div",{className:"ml-4"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-7 pr-0"},a.createElement("div",{className:"pull-left",style:{fontSize:"15px"}},a.createElement("strong",null,"Compressor Status:")," ",k.showCompressorDemandingStatus?-1==b?"":1==b?"(Local Cont. Run)":"(Local Cont. Stop)":"",a.createElement("div",{className:"btn btn-sm btn-round btn-control-screen "+(q?"btn-danger":"btn-success")+" btn-fill ml-2"},a.createElement("i",{className:"fa fa-lightbulb-o"})))),a.createElement("div",{className:"col-md-5"},a.createElement("div",{className:"feedBack-status mb-3"},E>-1&&a.createElement(a.Fragment,null,a.createElement("b",null,"Compr. Relay Status:"),a.createElement("div",{className:"btn btn-sm btn-round btn-control-screen "+(E?"btn-danger":"btn-success")+" btn-fill ml-2"},a.createElement("img",{src:"assets/img/"+(E?"close-circuit.png":"open-circuit.png")}))),-1==E&&a.createElement("b",null,"Compr. Relay Not Mapped"),-2==E&&a.createElement("b",null,"No Data for Compr. Relay")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-7 pr-0"},a.createElement("div",{className:"pull-left",style:{fontSize:"15px"}},a.createElement("strong",null,"Evap. Fan Status:")," ",k.showEvapFanDemandingStatus?-1==C?"":1==C?"(Local Cont. Run)":"(Local Cont. Stop)":"",w>-1&&a.createElement("div",{className:"btn btn-sm btn-round btn-control-screen "+(H?"btn-danger":"btn-success")+" btn-fill ml-2"},a.createElement("i",{className:"fa fa-lightbulb-o"})))),a.createElement("div",{className:"col-md-5"},a.createElement("div",{className:"feedBack-status mb-3"},S>-1&&a.createElement(a.Fragment,null,a.createElement("b",null,"Evap Fan Relay Status:"),a.createElement("div",{className:"btn btn-sm btn-round btn-control-screen "+(S?"btn-danger":"btn-success")+" btn-fill ml-2"},a.createElement("img",{src:"assets/img/"+(S?"close-circuit.png":"open-circuit.png")}))),-1==S&&a.createElement("b",null,"Evap Fan Relay Not Mapped"),-2==S&&a.createElement("b",null,"No Data for Evap Fan Relay")))),M&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-7 pr-0"},a.createElement("div",{className:"pull-left",style:{fontSize:"15px"}},a.createElement("strong",null,"Defrost Status:")," ",k.showDefrostDemandingStatus?-1==y?"":1==y?"(Local Cont. Run)":"(Local Cont. Stop)":"")),a.createElement("div",{className:"col-md-5"},a.createElement("div",{className:"feedBack-status mb-3"},N>-1&&a.createElement(a.Fragment,null,a.createElement("b",null,"Defrost Relay Status:"),a.createElement("div",{className:"btn btn-sm btn-round btn-control-screen "+(N?"btn-danger":"btn-success")+" btn-fill ml-2"},a.createElement("img",{src:"assets/img/"+(N?"close-circuit.png":"open-circuit.png")}))),-1==N&&a.createElement("b",null,"Defrost Relay Not Mapped"),-2==N&&a.createElement("b",null,"No Data for Defrost Relay")))))),M&&a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow pull-right"},a.createElement("h5",{className:"title"},a.createElement("strong",null,"DEFROST")),a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:"btn btn-success "+(r&&r.defrostControl==i.a.Local?"btn-fill":""),onClick:function(){e.changeControl(!0,i.a.Local)}},"Local"),a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:"btn btn-success "+(!r||"Remote"!=r.defrostControl&&r.defrostControl!=i.a.Schedule&&r.defrostControl!=i.a.Manual&&r.defrostControl!=i.a.Optimize?"":"btn-fill")},"Remote"),a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:"btn btn-success "+(r&&r.defrostControl==i.a.Manual?"btn-fill":""),onClick:function(){e.changeControl(!0,i.a.Manual)}},"Manual"),a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:"btn btn-success "+(r&&r.defrostControl==i.a.Schedule?"btn-fill":""),onClick:function(){e.changeControl(!0,i.a.Schedule)}},"Schedule"),a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:"btn btn-success "+(r&&r.defrostControl==i.a.Optimize?"btn-fill":""),onClick:function(){e.changeControl(!0,i.a.Optimize)}},"Optimize")),r&&r.defrostControl==i.a.Manual?a.createElement("div",{style:{marginTop:10}},a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:r&&r.isDefrost?"btn":"btn btn-fill",style:{marginRight:"15px"},onClick:function(){e.changeCompressorState(!1)}},k&&k.defrostAttached.indexOf("inhi")>-1?"Inhibited":"Active"," "),a.createElement("button",{type:"button",disabled:s&&-1==u.indexOf("controlstate"),className:r&&r.isDefrost?"btn btn-fill":"btn",style:{marginRight:"15px"},onClick:function(){e.changeCompressorState(!0)}},k&&k.defrostAttached.indexOf("inhi")>-1?"Allow Defrost":"Inactive")):"")),a.createElement("div",{className:s?"InsightApplyChanges":"hidden"},a.createElement("h4",null,"Do you want to apply these changes?"),a.createElement("div",null,a.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){e.cancelClick()}},"Cancel"),"\xa0",a.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:this.saveChanges},"Apply Changes"))))))),"BoxSchedule"==n&&a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"1px 1px 8px 1px"}},a.createElement(h.default,{isSolution:!0,instance:D,buildingName:T,InsightName:o.deviceName,ControlName:"CompressorControl",type:"Equipment",isDefrost:!1,hideTabs:!0,equipmentOntology:I,solutionOntology:L,solutionEquipmentType:"Refrigerator",compressorTemperatureOrDefrostState:R.toString()})),"DefrostSchedule"==n&&M&&a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"1px 1px 8px 1px"}},a.createElement(h.default,{isSolution:!0,instance:D,buildingName:T,InsightName:o.deviceName,ControlName:"CompressorControl",type:"Equipment",isDefrost:!0,hideTabs:!0,equipmentOntology:I,compressorTemperatureOrDefrostState:P})),"InnerControllerADP"==n&&W&&a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"1px 1px 8px 1px"}},a.createElement(d.default,{instance:D,buildingName:T,InsightName:I,ControlName:"CompressorControl",type:"Equipment",hideTabs:!0,solutionOntology:L})),"Graphs"==n&&a.createElement("div",null,a.createElement(g.a,{instance:D,buildingName:T,devices:j,equipment:I,graphType:"Refrigerator"+x,solution:L})),v&&v.device_Name&&G&&a.createElement(p.a,{buildingName:T,deviceName:f.deviceName,device:f,refrigeratorNo:x,cbwModel:v,controlScreenSettings:k}))},t}(a.Component);t.a=E},2634:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(24)),l=n(651),i=n(678),r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={device:n.props.device?n.props.device:Object(),cbwModel:n.props.cbwModel,intervalID:Object()},n.fetchDeviceData=n.fetchDeviceData.bind(n),n.fetchCompressorMQTTData=n.fetchCompressorMQTTData.bind(n),n.calculator=n.calculator.bind(n),n.setIntervalStart=n.setIntervalStart.bind(n),n}return r(t,e),t.prototype.componentDidMount=function(){return c(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,this.fetchDeviceData()];case 1:return e=t.sent(),this.props.cbwModel&&this.props.cbwModel.device_Name?[4,this.fetchCompressorMQTTData(e)]:[3,3];case 2:t.sent(),this.setIntervalStart(),t.label=3;case 3:return this.setState({device:e}),[2]}})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e,t){e.cbwModel&&e.cbwModel.device_Name&&this.setState({cbwModel:e.cbwModel})},t.prototype.componentWillUnmount=function(){var e=this.state.intervalID;e&&clearInterval(e),this.setState({intervalID:null})},t.prototype.fetchDeviceData=function(){return c(this,void 0,void 0,function(){var e,t,n,a;return s(this,function(o){switch(o.label){case 0:return e=this.props,t=e.deviceName,n=e.device,a=e.buildingName,n&&n.deviceName||!t?[3,2]:[4,Object(l.v)(t,a)];case 1:return[2,o.sent()];case 2:return[2,n]}})})},t.prototype.setIntervalStart=function(){var e=this,t=0,n=setInterval(function(){++t>=5&&(t=0,e.fetchCompressorMQTTData(e.state.device))},1e3);this.setState({intervalID:n})},t.prototype.fetchCompressorMQTTData=function(e){return c(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return[4,Object(i.g)(e.topic,new Date,new Date,!0).then(function(t){return!t||t&&t.error?(Object(o.a)("Error occurred while fetching CBW board info."),Object()):(t[t.length-1]&&localStorage.setItem(e.deviceID,JSON.stringify(t[t.length-1])),t[t.length-1])}).catch(function(e){return Object()})];case 1:return t=n.sent(),this.setState({cbwModel:t}),[2]}})})},t.prototype.calculator=function(e,t){return"Compressor and FreezerDefrost"==e?t:"PressureSensor"==e?14.5*t*50/5:void 0},t.prototype.render=function(){var e=this.state.cbwModel,t=this.props,n=t.refrigeratorNo,o=t.controlScreenSettings,l=o&&o.showFreezerDefrostValue&&o.defrostAttached&&"no"!=o.defrostAttached;return a.createElement("div",null,e&&o&&o.showRefrigeratorStatus&&a.createElement("div",{className:""},a.createElement("div",{className:"card"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"header"},a.createElement("h4",{className:"title"},a.createElement("strong",null,"REFRIGERATOR STATUS:"))),a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-xs-12 "},o.showCompressorValue&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-3 col-xs-6"},a.createElement("p",{style:{fontSize:20}}," ",a.createElement("strong",null,"Compressor")," ")),a.createElement("div",{className:"col-md-2 col-xs-6"},a.createElement("p",{style:{fontSize:20}}," ",a.createElement("strong",null,this.calculator("Compressor and FreezerDefrost",e["a13comprcurrRefrigerator"+n]?e["a13comprcurrRefrigerator"+n]:0)," amps ")," "))),l&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-2 col-xs-6"},a.createElement("p",{style:{fontSize:20}}," ",a.createElement("strong",null,"EFM")," ")),a.createElement("div",{className:"col-md-3 col-xs-6"},a.createElement("p",{style:{fontSize:20}}," ",a.createElement("strong",null,this.calculator("Compressor and FreezerDefrost",e["a14efmcurrRefrigerator"+n]?e["a14efmcurrRefrigerator"+n]:0)," amps ")," ")))),a.createElement("div",{className:"col-md-12 col-xs-12 "},o.showPressureSensorValue&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-3 col-xs-6"},a.createElement("p",{style:{fontSize:20}}," ",a.createElement("strong",null,"Outlet Pressure Sensor")," ")),a.createElement("div",{className:"col-md-2 col-xs-6"},a.createElement("p",{style:{fontSize:20}}," ",a.createElement("strong",null,this.calculator("PressureSensor",e["a15prRefrigerator"+n]?e["a15prRefrigerator"+n]:0).toFixed(2)," psig ")," "))),o.showDoorContactValue&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-2 col-xs-6"},a.createElement("p",{style:{fontSize:20}}," ",a.createElement("strong",null,"Door Contact ")," ")),a.createElement("div",{className:"col-md-3 col-xs-6"},e["a16doorRefrigerator"+n]&&e["a16doorRefrigerator"+n]>2?a.createElement("p",{style:{fontSize:20,color:"#337840"}}," ",a.createElement("strong",null,"  The door is closed ")," "):a.createElement("p",{style:{fontSize:20,color:"red"}}," ",a.createElement("strong",null,"  The door is open ")," ")))),a.createElement("div",{className:"col-md-12 col-xs-12 "},a.createElement("div",{className:"col-md-2 col-xs-6"},a.createElement("p",{style:{fontSize:15}}," ",a.createElement("strong",null,"Last data synced at: "))),a.createElement("div",{className:"col-md-10 col-xs-6"},a.createElement("p",{style:{fontSize:15}},"  ",new Date(e.timestamp).toLocaleString())))))))),a.createElement("p",null," "))},t}(a.Component);t.a=m},2635:function(e,t,n){"use strict";var a=n(2),o=n.n(a),l=n(647),i=n(24),r=n(117),c=n(2636),s=n(842),m=n(10),u=n(1114),d=n(672),p=n(23),h=n(2637),g=n(678),f=n(659),v=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),b=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},E=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={devices:n.props.devices,atsDevice:Object(),relayDevice:Object(),atsMQTTData:Object(),utilityDevice:Object(),alarmsStatus:c.a.Stop,alarms:[],utilityMQTTData:Object(),intervalId:Object(),SignalRelay:Object(),modelChanged:!1,actionApplied:"",generatorControl:Object(),signalRelayComputingDevice:Object()},n}return v(t,e),t.prototype.componentDidMount=function(){return b(this,void 0,void 0,function(){var e;return E(this,function(t){switch(t.label){case 0:return e=this.props.devices,this.fetchATSDevice(e),this.fetchWattnodeDevice(e),Object(r.a)(!0),[4,this.fetchRelayDevice(e)];case 1:return t.sent(),[4,this.fetchGeneratorInfo()];case 2:return t.sent(),[4,this.fetchGeneratorAlarms()];case 3:return t.sent(),Object(r.a)(!1),this.setIntervalStart(),[2]}})})},t.prototype.componentWillUnmount=function(){var e=this.state.intervalId;e&&clearInterval(e)},t.prototype.setIntervalStart=function(){var e=this,t=this.state.intervalId;t&&clearInterval(t);var n=0;t=setInterval(function(){return b(e,void 0,void 0,function(){var e;return E(this,function(t){switch(t.label){case 0:return n++,!this.state.modelChanged&&n>=5?(n=0,e=this.props.devices,[4,this.fetchRelayDevice(e)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},1e3),this.setState({intervalId:t})},t.prototype.handleRelayControlType=function(e){var t=this.state.SignalRelay;if(t.controlType=e,e==s.a.Local)for(var n=0;n<8;n++)t.statusNotes[n]="Locally";this.setState({modelChanged:!0,SignalRelay:t,actionApplied:"ControlType"})},t.prototype.handleOptimzeSettingsStatus=function(e){var t=this.state.generatorControl;t.optimizeMode=e;this.setState({modelChanged:!0,generatorControl:t,actionApplied:"OptimizeSettings"})},t.prototype.fetchGeneratorInfo=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,l,i;return E(this,function(r){switch(r.label){case 0:return e=this.props,t=e.building,n=e.ontology,a=e.solutionOntology,[4,Object(h.a)(t,"",a,n)];case 1:return o=r.sent(),[4,Object(h.c)(o)];case 2:return l=r.sent(),i=Object(),i=l&&l.length>0&&l[0]?l[0]:{Volt1:"0",Volt2:"230",Volt3:"0",optimizeMode:c.b.Normal,atsStatus:c.a.Stop,initiateEngineStatus:c.a.Stop,controlType:s.a.Local,engineStatus:c.a.Stop,runEngineStatus:c.a.Stop,equipment:n,ontology:Object(p.w)(12),solutionOntology:a,building:t},this.setState({generatorControl:i}),[2]}})})},t.prototype.fetchATSDevice=function(e){return b(this,void 0,void 0,function(){var t,n=this;return E(this,function(a){return t=Object(),e&&e.length>0&&(t=e.find(function(e){return-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("ats")})),this.setState({atsDevice:t},function(){return b(n,void 0,void 0,function(){return E(this,function(e){switch(e.label){case 0:return[4,this.fetchATSMQTTData()];case 1:return e.sent(),[2]}})})}),[2]})})},t.prototype.fetchRelayDevice=function(e){return b(this,void 0,void 0,function(){var t,n,a,o,l,i,r,c,u,p;return E(this,function(h){switch(h.label){case 0:return t=Object(),n=Object(),a=[],o=[],l=Object(),e&&e.length>0?(t=e.find(function(e){return-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("relay")}))&&t.deviceName?(i=this.props.building,t.computingDevice?[4,Object(d.f)(t.computingDevice)]:[3,2]):[3,4]:[3,4];case 1:(r=h.sent())&&r.length>0&&r[0]&&(l=r[0]),h.label=2;case 2:return[4,Object(f.y)(i,t.deviceName)];case 3:if((c=h.sent())&&c.length>0&&c[0]&&(u=c[0]))return n.device=Object(m.g)(u.device),n.controlType=Object(m.g)(u.controlType),n.relayStatus=Object(m.g)(u.relayStatus).split(","),n.statusNotes=Object(m.g)(u.statusNotes).split(","),this.setState({SignalRelay:n,relayDevice:t,signalRelayComputingDevice:l}),[2];h.label=4;case 4:for(p=0;p<8;p++)a.push(""),o.push("Local");return n={controlType:s.a.Local,device:t.deviceName,relayStatus:a,statusNotes:o},this.setState({SignalRelay:n,relayDevice:t,signalRelayComputingDevice:l}),[2]}})})},t.prototype.fetchWattnodeDevice=function(e){return b(this,void 0,void 0,function(){var t,n=this;return E(this,function(a){return t=Object(),e&&e.length>0&&(t=e.find(function(e){return-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("watt")})),this.setState({utilityDevice:t},function(){return b(n,void 0,void 0,function(){return E(this,function(e){switch(e.label){case 0:return[4,this.fetchUtilityMQTTData()];case 1:return e.sent(),[2]}})})}),[2]})})},t.prototype.fetchATSMQTTData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o,l;return E(this,function(i){switch(i.label){case 0:return e=this.state,t=e.atsDevice,n=e.generatorControl,t.topic?(a=t.topic.split(","),[4,Object(g.e)(a[0],new Date,new Date,!0)]):[3,2];case 1:(o=i.sent())&&o.length>0&&(l=o[0],n.atsStatus="1"==l.Main_onNormal&&"0"==l.Main_onEmergency?c.a.Stop:c.a.Start,this.setState({atsMQTTData:l,generatorControl:n})),i.label=2;case 2:return[2]}})})},t.prototype.fetchUtilityMQTTData=function(){return b(this,void 0,void 0,function(){var e,t,n,a;return E(this,function(o){switch(o.label){case 0:return(e=this.state.utilityDevice).topic?(t=e.topic.split(","),[4,Object(g.h)(t[0],new Date,new Date,!0)]):[3,2];case 1:(n=o.sent())&&n.length>0&&(a=n[0],this.setState({utilityMQTTData:a})),o.label=2;case 2:return[2]}})})},t.prototype.fetchGeneratorAlarms=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o;return E(this,function(l){switch(l.label){case 0:return e=this.props,t=e.building,n=e.devices,a=n.find(function(e){return-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("relay")}),o=[],a&&a.deviceName?[4,Object(u.e)(t,!1,!1,Object(),"","","","",a.deviceName)]:[3,2];case 1:o=l.sent(),l.label=2;case 2:return this.setState({alarms:o,alarmsStatus:o.length>0?c.a.Start:c.a.Stop}),[2]}})})},t.prototype.handleEngineStart=function(e){return void 0===e&&(e="6"),b(this,void 0,void 0,function(){var t;return E(this,function(n){switch(n.label){case 0:return(t=this.state.generatorControl).runEngineStatus==c.a.Pending?[3,7]:t.runEngineStatus!=c.a.Stop?[3,4]:(t.runEngineStatus=c.a.Pending,[4,this.handleRelayOnOff(e,!0)]);case 1:return n.sent()?(t.runEngineStatus=c.a.Start,t.engineStatus=c.a.Start,[4,this.saveGeneratorInfo(t)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[3,7];case 4:return t.runEngineStatus!=c.a.Start?[3,7]:(t.runEngineStatus=c.a.Pending,[4,this.handleRelayOnOff(e,!1)]);case 5:return n.sent()?(t.runEngineStatus=c.a.Stop,t.engineStatus=c.a.Pending,[4,this.saveGeneratorInfo(t)]):[3,7];case 6:n.sent(),n.label=7;case 7:return[2]}})})},t.prototype.handleCancelInitiateEngine=function(e,t){return void 0===e&&(e="5"),void 0===t&&(t="2"),b(this,void 0,void 0,function(){var t;return E(this,function(n){switch(n.label){case 0:return(t=this.state.generatorControl).initiateEngineStatus==c.a.Stop?[3,3]:(t.initiateEngineStatus=c.a.Stop,t.engineStatus=c.a.Stop,t.Volt1="0",[4,this.handleRelayOnOff(e,!1)]);case 1:return n.sent(),[4,this.saveGeneratorInfo(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.handleInitiateEngine=function(e,t,n){return void 0===e&&(e="5"),void 0===t&&(t="2"),void 0===n&&(n="6"),b(this,void 0,void 0,function(){var t;return E(this,function(a){switch(a.label){case 0:return(t=this.state.generatorControl).initiateEngineStatus==c.a.Pending?[3,9]:t.initiateEngineStatus!=c.a.Stop?[3,4]:(t.initiateEngineStatus=c.a.Pending,t.engineStatus=c.a.Pending,[4,this.handleRelayOnOff(e,!0)]);case 1:return a.sent()?(t.initiateEngineStatus=c.a.Start,t.Volt1="208",[4,this.saveGeneratorInfo(t)]):[3,3];case 2:a.sent(),a.label=3;case 3:return[3,9];case 4:return t.initiateEngineStatus!=c.a.Start?[3,9]:t.runEngineStatus!=c.a.Start?[3,7]:(t.runEngineStatus=c.a.Pending,[4,this.handleRelayOnOff(n,!1)]);case 5:return a.sent()?(t.runEngineStatus=c.a.Stop,t.engineStatus=c.a.Pending,[4,this.saveGeneratorInfo(t)]):[3,7];case 6:a.sent(),a.label=7;case 7:return[4,this.handleCancelInitiateEngine()];case 8:a.sent(),a.label=9;case 9:return[2]}})})},t.prototype.handleManualAtsControl=function(e,t){return void 0===e&&(e="1"),void 0===t&&(t="2"),b(this,void 0,void 0,function(){var n,a=this;return E(this,function(o){switch(o.label){case 0:return(n=this.state.generatorControl).atsStatus==c.a.Pending?[3,3]:n.atsStatus!=c.a.Stop?[3,1]:(n.atsStatus=c.a.Pending,this.setState({generatorControl:n},function(){return b(a,void 0,void 0,function(){return E(this,function(a){switch(a.label){case 0:return[4,this.handleRelayOnOff(e,!0)];case 1:return a.sent()?[4,this.handleRelayOnOff(t,!0)]:[3,4];case 2:return a.sent()?(n.atsStatus=c.a.Start,n.engineStatus=c.a.Start,n.Volt2="208",[4,this.saveGeneratorInfo(n)]):[3,4];case 3:a.sent(),a.label=4;case 4:return[2]}})})}),[3,3]);case 1:return n.atsStatus!=c.a.Start?[3,3]:(n.atsStatus=c.a.Stop,[4,this.saveGeneratorInfo(n)]);case 2:o.sent(),o.label=3;case 3:return[2]}})})},t.prototype.handleAtsControlToUtility=function(e,t){return void 0===e&&(e="1"),void 0===t&&(t="2"),b(this,void 0,void 0,function(){var n;return E(this,function(a){switch(a.label){case 0:return(n=this.state.generatorControl).atsStatus==c.a.Pending?[3,4]:n.atsStatus!=c.a.Start?[3,4]:(n.atsStatus=c.a.Pending,n.engineStatus=c.a.Pending,[4,this.handleRelayOnOff(e,!1)]);case 1:return a.sent()?[4,this.handleRelayOnOff(t,!1)]:[3,4];case 2:return a.sent()?(n.atsStatus=c.a.Stop,n.engineStatus=c.a.Stop,n.Volt2="0",[4,this.saveGeneratorInfo(n)]):[3,4];case 3:a.sent(),a.label=4;case 4:return[2]}})})},t.prototype.generateAlarm=function(e,t,n,a){return b(this,void 0,void 0,function(){var n,o,l,i,r,c,s,m;return E(this,function(u){return n=this.props,o=n.ontology,l=n.instance,i=n.building,r=this.state,c=r.relayDevice,s=r.alarms,c&&((m=Object()).device=c.deviceName,m.deviceName=c.rdfsLabel,m.floor=c.floor,m.space=c.location,m.title=t,m.description="Device: "+c.rdfsLabel+" with Controller IP: "+c.wirelessConfig.controllerIPAddress+". Request failed: Relay "+e+" is not responding.",m.timeofalarm=(new Date).toString(),m.status="alerting",m.equipment=o,m.instance=l,m.buildingName=i,m.archived=!1,m.acknowledge=!1,m.deviceOntology=c.deviceName,m.sensedValue=a,m.sensedValueKey="relay_state_"+e,m.ruleId=2,m.ruleName=t,m.ruleUrl="",s.push(m),this.setState({alarms:s})),[2]})})},t.prototype.handleRelayOnOff=function(e,t){return b(this,void 0,void 0,function(){var n,a,o,l,c,s,u,d;return E(this,function(p){switch(p.label){case 0:return n=this.props.building,a=this.state,o=a.relayDevice,l=a.SignalRelay,c=a.signalRelayComputingDevice,o?(Object(r.a)(!0,"Sending signal to local microprocessor"),c?c.macID?(s={controller_pi:Object(m.g)(c.controllerIpAddress),device:"waveshare-request",device_name:o.deviceName,mac_id:Object(m.g)(c.macID),relay_state:t?"on":"off",relaynum:e,rlb_add:o.boardAddress,timestamp:""+(new Date).getTime(),timestamp_request:""+(new Date).getTime()},[4,Object(f.Q)(n,s,o)]):[3,5]:[3,7]):[3,9];case 1:return(u=p.sent())&&u.res?0!=u.res.responseCode?[3,3]:(d=parseInt(e)-1,l.relayStatus[d]=t?"1":"0",l.statusNotes[d]="Manual",[4,this.saveSignalRelayInfo(l)]):[3,4];case 2:return p.sent(),[2,!0];case 3:Object(i.a)(u.res.responseMessage),p.label=4;case 4:return[3,6];case 5:Object(i.a)("No Mac ID is added to the connected computing device of "+o.rdfsLabel),p.label=6;case 6:return[3,8];case 7:Object(i.a)("No computing device connected to "+o.rdfsLabel),p.label=8;case 8:Object(r.a)(!1),p.label=9;case 9:return[2,!1]}})})},t.prototype.saveSignalRelayInfo=function(e){return b(this,void 0,void 0,function(){var t;return E(this,function(n){switch(n.label){case 0:return t=this.props.building,Object(r.a)(!0,"Saving Relay Status"),[4,Object(f.W)(t,e)];case 1:return n.sent(),this.setState({SignalRelay:e}),Object(r.a)(!1),[2]}})})},t.prototype.saveGeneratorInfo=function(e){return b(this,void 0,void 0,function(){var t;return E(this,function(n){switch(n.label){case 0:return t=this.state.SignalRelay,Object(r.a)(!0,"Saving Generator Status"),e.controlType=t.controlType,[4,Object(h.b)(this.props.building,e)];case 1:return n.sent(),this.setState({generatorControl:e}),Object(r.a)(!1),[2]}})})},t.prototype.openAlarms=function(){var e=this.props,t=e.instance,n=e.building,a=this.state.alarms;localStorage.setItem("alarmList",JSON.stringify("")),a&&a.length>0?(localStorage.setItem("alarmList",JSON.stringify(a)),window.open("http://"+Object(p.o)()+"/#"+t+"/"+n+"/Health/Alarms/OperationalAlarms/AlarmList","_blank")):alert("No Alarms for Generator")},t.prototype.applyChanges=function(){return b(this,void 0,void 0,function(){var e,t,n,a,o;return E(this,function(l){switch(l.label){case 0:return e=this.state,t=e.modelChanged,n=e.actionApplied,a=e.SignalRelay,o=e.generatorControl,t?"Cancel"!=n?[3,2]:[4,this.handleCancelInitiateEngine()]:[3,15];case 1:return l.sent(),[3,14];case 2:return"Initiate Engine"!=n?[3,4]:[4,this.handleInitiateEngine()];case 3:return l.sent(),[3,14];case 4:return"Run Engine"!=n&&"Starting Engine"!=n&&"Stop Engine"!=n?[3,6]:[4,this.handleEngineStart()];case 5:return l.sent(),[3,14];case 6:return"Start Manual ATS Transfer"!=n?[3,8]:[4,this.handleManualAtsControl()];case 7:return l.sent(),[3,14];case 8:return"Stop Manual ATS Transfer"!=n?[3,10]:[4,this.handleAtsControlToUtility()];case 9:return l.sent(),[3,14];case 10:return"ControlType"!=n?[3,13]:[4,this.saveSignalRelayInfo(a)];case 11:return l.sent(),[4,this.saveGeneratorInfo(o)];case 12:return l.sent(),[3,14];case 13:l.label=14;case 14:this.setState({modelChanged:!1,actionApplied:""}),l.label=15;case 15:return[2]}})})},t.prototype.cancelClick=function(){return b(this,void 0,void 0,function(){var e;return E(this,function(t){switch(t.label){case 0:return e=this.state.devices,Object(r.a)(!0),[4,this.fetchRelayDevice(e)];case 1:return t.sent(),[4,this.fetchGeneratorInfo()];case 2:return t.sent(),this.setState({modelChanged:!1,actionApplied:""}),Object(r.a)(!1),[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.atsMQTTData,a=t.alarmsStatus,i=t.alarms,r=t.utilityMQTTData,m=t.modelChanged,u=t.actionApplied,d=t.SignalRelay,h=t.generatorControl,g=h.Volt1,f=h.Volt3,v=h.atsStatus,b=h.engineStatus,E=h.initiateEngineStatus,y=h.optimizeMode,N=h.runEngineStatus,C="#d2202a",S="#337840";b==c.a.Start?S=C:b==c.a.Pending&&(S="#FF9500");var w="#337840";E==c.a.Start?w=C:E==c.a.Pending&&(w="#FF9500");var O="#337840";N==c.a.Start?O=C:N==c.a.Pending&&(O="#FF9500");var D="#337840";v==c.a.Start?D=C:v==c.a.Pending&&(D="#FF9500");var T="#007bff";a==c.a.Start?T=C:a==c.a.Pending&&(T="#FF9500");var x=0;r.PowerSum&&parseFloat(r.PowerSum)&&(x=parseFloat(r.PowerSum)/1e3);var L=d&&d.controlType==s.a.Manual,I=y==c.b.Optimze,j="";return"Cancel"==u&&(j="Do you want to apply these changes? (Turn off the Initiate Engine Stop)"),"ControlType"==u?j="Do you want to apply these changes? (Turn the Generator mode : "+d.controlType+")":"Initiate Engine"==u?j="Do you want to apply these changes? (Initiate Engine of Generator)":"Run Engine"==u||"Starting Engine"==u||"Stop Engine"==u?j="Do you want to apply these changes? ("+u+" of Generator)":"Start Manual ATS Transfer"==u?j="Are you sure you want to transfer load to the Generator?":"Stop Manual ATS Transfer"==u?j="Are you sure you wish to transfer to the utility power?":"OptimizeSettings"==u&&(j="Do you want to apply these changes? (Generator settings : "+y+")"),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"content",style:{padding:"15px 0 10px 15px !important"}},o.a.createElement("div",{style:{width:"100%",overflowX:"scroll"}},o.a.createElement("div",{className:"content",style:{width:"1200px",padding:"15px 0 10px 15px !important"}},o.a.createElement("div",{style:{width:"60px",float:"left",marginTop:"75px"}},o.a.createElement("h5",{className:"title",style:{fontWeight:"bold",display:"inline-block"}}," Utility ")),o.a.createElement("div",{style:{width:"130px",marginTop:"-8px",float:"left",marginLeft:"35px"}},o.a.createElement("h5",{className:"title",style:{fontSize:"18px",fontWeight:"bold"}}," ",r.VoltAvgLL," V "),o.a.createElement("h5",{className:"title",style:{fontSize:"18px",fontWeight:"bold"}}," ",x," kW"),o.a.createElement("h5",{className:"title",style:{fontSize:"18px",fontWeight:"bold"}}," ",n&&n.Normal_Frequency?n.Normal_Frequency:"0"," Hz ")),o.a.createElement("div",{style:{width:"315px",float:"left",textAlign:"right",marginTop:"-8px",marginLeft:"20px"}},o.a.createElement("h5",{className:"title",style:{fontSize:"18px",fontWeight:"bold"}}," ",g," V"),o.a.createElement("h5",{className:"title",style:{fontSize:"18px",fontWeight:"bold"}}," ",f," A"),o.a.createElement("h5",{className:"title",style:{fontSize:"18px",fontWeight:"bold"}}," ",n&&n.Emergency_Frequency?n.Emergency_Frequency:"0"," Hz ")),o.a.createElement("div",{style:{width:"950px",float:"left"}},o.a.createElement("div",{style:{width:"30px",float:"left",height:"15px",backgroundColor:"black",marginTop:"12px",borderRadius:"2px"}}),o.a.createElement("div",{style:{width:"50px",float:"left",height:"40px",backgroundColor:n&&"1"==n.Normal_SourceAvble?"red":"green",borderRadius:"5px"}}),o.a.createElement("div",{style:{width:"80px",float:"left",height:"15px",backgroundColor:"black",marginTop:"12px",borderRadius:"2px"}}),o.a.createElement("div",{style:{width:"28px",float:"left",height:"30px",backgroundColor:"black",marginTop:"5px",borderRadius:"22px",marginLeft:"-2px"}}),o.a.createElement("div",{style:{width:"120px",float:"left",height:"15px",backgroundColor:"black",marginTop:"55px",borderRadius:"2px",marginLeft:"-28px",visibility:v==c.a.Start||v==c.a.Pending?"hidden":"visible",transform:"rotate(42deg)"}}),o.a.createElement("div",{style:{width:"30px",float:"left",height:"30px",backgroundColor:"black",marginTop:"88px",borderRadius:"22px",marginLeft:"-30px"}}),o.a.createElement("div",{style:{width:"15px",float:"left",height:"200px",backgroundColor:"black",marginTop:"110px",borderRadius:"4px",marginLeft:"-23px"}}),o.a.createElement("div",{style:{width:"120px",float:"left",height:"15px",backgroundColor:"black",marginTop:"50px",borderRadius:"2px",marginLeft:"-25px",visibility:v==c.a.Stop||v==c.a.Pending?"hidden":"visible",transform:"rotate(-42deg)"}}),o.a.createElement("div",{style:{width:"30px",float:"left",height:"30px",backgroundColor:"black",marginTop:"5px",borderRadius:"22px",marginLeft:"-34px"}}),o.a.createElement("div",{style:{width:"100px",float:"left",height:"15px",backgroundColor:"black",marginTop:"12px",borderRadius:"2px",marginLeft:"-8px"}}),o.a.createElement("div",{style:{width:"50px",float:"left",height:"40px",backgroundColor:n&&"1"==n.Emergency_SourceAvble?"red":"green",borderRadius:"5px"}}),o.a.createElement("div",{style:{width:"100px",float:"left",height:"15px",backgroundColor:"black",marginTop:"12px",borderRadius:"2px"}}),o.a.createElement("div",{style:{width:"55px",float:"left",height:"54px",backgroundColor:n&&"0"==n.Emergency_Frequency?"green":"red",marginTop:"-8px",borderRadius:"32px",marginLeft:"-2px"}}),o.a.createElement("div",{style:{width:"100px",float:"left",height:"15px",backgroundColor:"black",marginTop:"12px",borderRadius:"2px",marginLeft:"-2px"}}),o.a.createElement("div",{style:{width:"80px",float:"left",height:"40px",backgroundColor:""+S,borderRadius:"5px"}})),o.a.createElement("div",{style:{width:"1200px"}},o.a.createElement("div",{style:{width:"50px",float:"left",height:"40px",backgroundColor:"red",marginTop:"1px",borderRadius:"5px",marginLeft:"300px"}})),o.a.createElement("div",{style:{width:"1200px"}},o.a.createElement("div",{style:{width:"80px",float:"left",height:"40px",borderRadius:"5px",marginTop:"41px",marginLeft:"-46px",fontSize:"18px",fontWeight:"bold"}},"Load")),o.a.createElement("div",{style:{width:"175px",float:"left",textAlign:"right",marginLeft:"175px",marginTop:"-260px"}},o.a.createElement("h5",{className:"title",style:{fontWeight:"bold"}}," Generator ")),o.a.createElement("div",{style:{width:"250px",float:"left",textAlign:"center",marginLeft:"355px",marginTop:"-261px"}},o.a.createElement("h5",{className:"title",style:{fontWeight:"bold"}}," Engine "),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement("button",{className:"btn "+(E==c.a.Pending?"btn-primary":"btn-secondary")+" btn-fill",disabled:m||E!=c.a.Pending,onClick:function(){e.setState({modelChanged:!0,actionApplied:"Cancel"})}},"Cancel"),o.a.createElement("button",{className:"btn btn-fill pull-right",style:{backgroundColor:w},disabled:m||!L,onClick:function(){e.setState({modelChanged:!0,actionApplied:"Initiate Engine"})}},"Initiate Engine ",""+(E==c.a.Stop?c.a.Start:E==c.a.Pending?"Starting":"Stop"))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary btn-fill",style:{visibility:"hidden"}},"Cancel"),o.a.createElement("button",{className:"btn btn-fill pull-right",style:{backgroundColor:O},disabled:m||!(L&&E==c.a.Start),onClick:function(){e.setState({modelChanged:!0,actionApplied:(N==c.a.Stop?"Run":N==c.a.Pending?"Starting":"Stop")+" Engine"})}},N==c.a.Stop?"Run":N==c.a.Pending?"Starting":"Stop"," Engine"))),o.a.createElement("div",{style:{width:"250px",float:"right",textAlign:"center",marginTop:"-29%"}},o.a.createElement("div",{style:{width:"0",height:"0",borderStyle:"solid",borderWidth:"0 50px 75px 50px",borderColor:"transparent transparent "+T+" transparent",margin:"0 auto",cursor:"pointer"},onClick:function(){e.openAlarms()}}),o.a.createElement("div",{style:{width:"150px",float:"left",textAlign:"right"}},o.a.createElement("h5",{className:"title",style:{fontWeight:"bold"}}," Alarm "))),o.a.createElement("div",{style:{width:"1200px"}},o.a.createElement("button",{className:"btn btn-fill",disabled:m||!(L&&N==c.a.Start),style:{float:"left",marginTop:"-195px",marginLeft:"-50px",backgroundColor:D},onClick:function(){v==c.a.Stop?e.setState({modelChanged:!0,actionApplied:"Start Manual ATS Transfer"}):v==c.a.Start&&e.setState({modelChanged:!0,actionApplied:"Stop Manual ATS Transfer"})}},"Manual ATS Transfer")),o.a.createElement("div",{className:"btn-group",style:{width:"270px",float:"right",marginTop:"83px",marginRight:"-78px"}},o.a.createElement("button",{type:"button",className:"btn btn-success "+(L?"":"btn-fill"),disabled:m,onClick:function(){e.handleRelayControlType(s.a.Local)}},"Local"),o.a.createElement("button",{type:"button",className:"btn btn-success "+(L?"btn-fill":""),disabled:m,onClick:function(){e.handleRelayControlType(s.a.Manual)}},"Remote")),o.a.createElement("div",{className:"btn-group",style:{width:"870px"}},o.a.createElement("h6",null,"\xa0\xa0\xa0\xa0 Optimize Settings"),o.a.createElement("button",{type:"button",className:"btn "+(I?"":"btn-fill"),disabled:m,onClick:function(){e.handleOptimzeSettingsStatus(c.b.Normal)}},"Normal"),o.a.createElement("button",{type:"button",className:"btn "+(I?"btn-fill":""),disabled:m,onClick:function(){e.handleOptimzeSettingsStatus(c.b.Optimze)}},"Optimize")))),o.a.createElement("div",{className:m?"InsightApplyChanges":"hidden"},j&&o.a.createElement("h4",null,j),o.a.createElement("div",null,o.a.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){e.cancelClick()}},"Cancel"),"\xa0",o.a.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:function(){e.applyChanges()}},"Apply Changes")))))),o.a.createElement("button",{type:"button",id:"btnShowAlarms",className:"btn btn-primary btn-fill","data-toggle":"modal","data-target":"#ShowAlarms",style:{display:"none"}},"."),o.a.createElement(l.a,{id:"ShowAlarms",showSaveButton:!1,showCancelButton:!0,isEditForm:!0,heading:"Alarms List"},o.a.createElement("div",{className:"row padding-10"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"padding-10",style:{border:"2px solid gainsboro"}},o.a.createElement("div",{className:"row no-padding"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-2 headingText"},"Title"),o.a.createElement("div",{className:"col-md-2 headingText"},"Description"),o.a.createElement("div",{className:"col-md-1 headingText"},"Relay"),o.a.createElement("div",{className:"col-md-2 headingText"},"Timestamp"),o.a.createElement("div",{className:"col-md-1 headingText"},"Device name"),o.a.createElement("div",{className:"col-md-2 headingText"},"Floor"),o.a.createElement("div",{className:"col-md-2 headingText"},"Space")))),o.a.createElement("div",{style:{paddingBottom:"1%",border:"1px solid lightgray"}},i&&i.length>0&&i.map(function(e,t){return o.a.createElement("div",{key:t,style:{margin:"2px"}},o.a.createElement("div",{className:"",style:{marginBottom:"1px"},key:t},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-2"},e.title),o.a.createElement("div",{className:"col-md-2"},e.description),o.a.createElement("div",{className:"col-md-1"},"Relay no. ",e.status),o.a.createElement("div",{className:"col-md-2"},e.timeofalarm),o.a.createElement("div",{className:"col-md-1"},e.deviceName),o.a.createElement("div",{className:"col-md-2"},Object(p.r)(e.floor)),o.a.createElement("div",{className:"col-md-2"},Object(p.r)(e.space))))))}))))))},t}(o.a.Component);t.a=y},2636:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var a={Start:"Start",Pending:"Pending",Stop:"Stop"},o={Normal:"Normal",Optimze:"Optimze"}},2637:function(e,t,n){"use strict";t.b=function(e,t){return r(this,void 0,void 0,function(){var n=this;return c(this,function(l){switch(l.label){case 0:return[4,Object(i.f)({buildingName:e,model:t},i.a.ESOLUTION.SaveGeneratorInfo,o.b.ESolution).then(function(e){return r(n,void 0,void 0,function(){return c(this,function(t){return e.message?Object(a.b)(e.message):e.error&&Object(a.a)(e.error),[2]})})}).catch(function(e){Object(a.a)("Error occured while updating Generator info.")})];case 1:return[2,l.sent()]}})})},t.a=function(e,t,n,a){return r(this,void 0,void 0,function(){return c(this,function(l){switch(l.label){case 0:return[4,Object(i.e)({buildingName:e,ontology:t,solution:n,equipment:a},i.a.ESOLUTION.FetchGeneratorInfo,o.b.ESolution,!0)];case 1:return[2,l.sent()]}})})},t.c=function(e){return r(this,void 0,void 0,function(){var t,n,a,o;return c(this,function(i){for(t=[],n=0;n<e.length;n++)a=e[n],o={ontology:Object(l.g)(a.ontology),solutionOntology:Object(l.g)(a.solutionOntology),controlType:Object(l.g)(a.controlType),equipment:Object(l.g)(a.equipment),Volt1:Object(l.g)(a.Volt1),Volt2:Object(l.g)(a.Volt2),Volt3:Object(l.g)(a.Volt3),atsStatus:Object(l.g)(a.atsStatus),engineStatus:Object(l.g)(a.engineStatus),initiateEngineStatus:Object(l.g)(a.initiateEngineStatus),runEngineStatus:Object(l.g)(a.runEngineStatus),optimizeMode:Object(l.g)(a.optimizeMode),building:Object(l.g)(a.building)},t.push(o);return[2,t]})})};var a=n(24),o=n(19),l=n(10),i=n(12),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}}},2638:function(e,t,n){"use strict";var a=n(2),o=n.n(a),l=n(936),i=n(1176),r=n(1385),c=n(1182),s=n(1384),m=n(1181),u=n(1386),d=n(1177),p=n(1180),h=n(934),g=n(1382),f=n(1156),v=n(1383),b=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={currentTab:"Current"},n}return b(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.InsightName,a=t.buildingName,b=t.instance,E=t.ControlName,y=t.type,N=t.monconType,C=this.state.currentTab,S=N&&-1!=N.toLowerCase().indexOf("wattnode"),w=N&&-1!=N.toLowerCase().indexOf("ats"),O=N&&-1!=N.toLowerCase().indexOf("signal"),D=N&&-1!=N.toLowerCase().indexOf("406"),T=N&&-1!=N.toLowerCase().indexOf("418"),x=N&&-1!=N.toLowerCase().indexOf("generator"),L=S||D||T||w||O||x,I=S||D||T||w||O||x,j=S||D||T||w||O||x,k=O;return o.a.createElement(o.a.Fragment,null,N&&-1==N.toLocaleLowerCase().indexOf("ceiling")&&o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 "},o.a.createElement("ul",{className:"nav nav-tabs"},o.a.createElement("li",{className:"Current"==C?"active":""},o.a.createElement("a",{onClick:function(){e.setState({currentTab:"Current"})}},"Current Values")),!L&&o.a.createElement("li",{className:"Schedule"==C?"active":""},o.a.createElement("a",{onClick:function(){e.setState({currentTab:"Schedule"})}},"Schedule")),!j&&o.a.createElement("li",{className:"Alarms"==C?"active":""},o.a.createElement("a",{onClick:function(){e.setState({currentTab:"Alarms"})}},"Alarms")),!k&&o.a.createElement("li",{className:"Graphs"==C?"active":""},o.a.createElement("a",{onClick:function(){e.setState({currentTab:"Graphs"})}},"Graphs")),!I&&o.a.createElement("li",{className:"ADP"==C?"active":""},o.a.createElement("a",{onClick:function(){e.setState({currentTab:"ADP"})}},"ADP"))))),"Current"==C&&o.a.createElement(o.a.Fragment,null,N&&-1!=N.toLocaleLowerCase().indexOf("relay")&&N&&-1==N.toLocaleLowerCase().indexOf("signal")&&o.a.createElement(p.default,{buildingName:a,instance:b,RelayDeviceName:n,hideTabs:!0,type:y}),N&&-1!=N.toLocaleLowerCase().indexOf("ceiling")&&o.a.createElement(m.default,{buildingName:a,instance:b,CeilingSensorBoardName:n,type:y}),N&&(-1!=N.toLocaleLowerCase().indexOf("thermo")||-1!=N.toLocaleLowerCase().indexOf("inte"))&&o.a.createElement(f.default,{buildingName:a,instance:b,InsightName:n,type:y,hideTabs:!0}),N&&-1!=N.toLocaleLowerCase().indexOf("signal")&&o.a.createElement(g.a,{buildingName:a,instance:b,RelayDeviceName:n,type:y,hideTabs:!0}),N&&-1!=N.toLocaleLowerCase().indexOf("watt")&&o.a.createElement(v.a,{buildingName:a,instance:b,InsightName:n,type:y,hideTabs:!0}),N&&-1!=N.toLocaleLowerCase().indexOf("418")&&o.a.createElement(s.a,{buildingName:a,instance:b,InsightName:n,controlName:E,type:y,hideTabs:!0}),N&&-1!=N.toLocaleLowerCase().indexOf("406")&&o.a.createElement(c.default,{buildingName:a,instance:b,deviceName:n,type:y,hideTabs:!0}),N&&-1!=N.toLocaleLowerCase().indexOf("ats")&&o.a.createElement(r.a,{buildingName:a,instance:b,InsightName:n,type:y,hideTabs:!0,controlName:E}),N&&-1!=N.toLocaleLowerCase().indexOf("generator")&&o.a.createElement(u.a,{buildingName:a,instance:b,InsightName:n,type:y,hideTabs:!0,controlName:E})),"Schedule"==C&&o.a.createElement(h.default,{instance:b,buildingName:a,InsightName:n,ControlName:E,type:y,hideTabs:!0}),"Alarms"==C&&o.a.createElement(i.default,{instance:b,buildingName:a,InsightName:n,ControlName:E,type:y,hideTabs:!0}),"Graphs"==C&&o.a.createElement(d.default,{instance:b,buildingName:a,InsightName:n,ControlName:E,type:y,hideTabs:!0}),"ADP"==C&&o.a.createElement(l.default,{instance:b,buildingName:a,InsightName:n,ControlName:E,type:y,hideTabs:!0}))},t}(o.a.Component);t.a=E},2639:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(24)),l=n(117),i=n(1027),r=n(842),c=n(727),s=n(23),m=n(852),u=n(659),d=n(936),p=n(2640),h=n(934),g=n(1520),f=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),v=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},b=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={ptacADP:Object(),ScheduleIsOnModel:Object(),currentTabs:"CurrentValues",modelChanged:!1,ptacController:Object(),ceilingSensorDevice:Object(),relayDevice:Object(),ceilingSensorMQTT:Object(),i1RelayMQTT:Object(),openRelayControlDialog:!1,callInterval:!0,intervalId:Object(),roomTemperature:""},n.changeTemperature=n.changeTemperature.bind(n),n.fetchDevices=n.fetchDevices.bind(n),n.fetchDevicesMQTTData=n.fetchDevicesMQTTData.bind(n),n.fetchPTACInfo=n.fetchPTACInfo.bind(n),n.changeTemperature=n.changeTemperature.bind(n),n.changeMode=n.changeMode.bind(n),n.changeControlType=n.changeControlType.bind(n),n.changeFanSettings=n.changeFanSettings.bind(n),n.applyRule=n.applyRule.bind(n),n.saveChanges=n.saveChanges.bind(n),n.onCloseRelayControlDialog=n.onCloseRelayControlDialog.bind(n),n.setOptimizeStatus=n.setOptimizeStatus.bind(n),n}return f(t,e),t.prototype.componentDidMount=function(){return v(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return this.fetchDevices(),[4,this.fetchPTACInfo()];case 1:return e.sent(),[4,this.fetchPTACADP()];case 2:return e.sent(),this.fetchDevicesMQTTData(),this.setIntervalStart(),[2]}})})},t.prototype.componentWillUnmount=function(){var e=this.state.intervalId;e&&(clearInterval(e),this.setState({callInterval:!1}))},t.prototype.fetchPTACADP=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,l;return b(this,function(i){switch(i.label){case 0:return e=this.props,t=e.equipmentOntology,n=e.buildingName,a=e.solutionOntology,o=Object(),[4,Object(m.c)(n,"",t,a)];case 1:return l=i.sent(),o=l&&l.equipment?l:{ontology:Object(s.w)(12),building:n,equipment:t,DeadBandMinutes:1,DeadBandTemp:1,MotinoDetectionE1:1,MotinoDetectionE2:1,solutionOntology:a,ADPSettings:c.a,NoOfMotionTriggers:100,OccupancyDeadband:1},this.setState({ptacADP:o}),[2]}})})},t.prototype.fetchDevices=function(){var e=this,t=this.props.devices;if(t&&t.length>0){var n=Object(),a=Object();n=t.find(function(e){return-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("ceiling")}),a=t.find(function(e){return-1!=e.monitoringControlDeviceType.toLowerCase().indexOf("i1")}),this.setState({ceilingSensorDevice:n,relayDevice:a},function(){e.fetchDevicesMQTTData()})}},t.prototype.setIntervalStart=function(){var e=this,t=this.state.intervalId;t&&clearInterval(t);var n=0;t=setInterval(function(){return v(e,void 0,void 0,function(){var e,t,a,o;return b(this,function(l){return e=this.state,t=e.callInterval,a=e.modelChanged,o=e.currentTabs,n++,!a&&t&&n>=5&&"CurrentValues"==o&&(this.fetchPTACInfo(),this.fetchDevicesMQTTData(),n=0),[2]})})},1e3),this.setState({intervalId:t})},t.prototype.onCloseRelayControlDialog=function(e){this.setState({openRelayControlDialog:e})},t.prototype.fetchDevicesMQTTData=function(){return v(this,void 0,void 0,function(){var e,t,n,a,l,r;return b(this,function(c){switch(c.label){case 0:return e=this.state,t=e.ceilingSensorDevice,n=e.relayDevice,[4,Object(u.n)(t).then(function(e){var n=e[0];return!n||n&&n.error?(Object(o.a)("Error occurred while fetching ceiling sensor board info."),Object()):(localStorage.setItem(t.deviceID,JSON.stringify(e)),n)}).catch(function(e){return Object()})];case 1:return a=c.sent(),[4,Object(u.f)(n.topic,new Date,new Date,!0).then(function(e){return!e||e&&e.error?(Object(o.a)("Error occurred while fetching relay board info."),Object()):(e[e.length-1]&&localStorage.setItem(n.deviceID,JSON.stringify(e[e.length-1])),e[e.length-1])}).catch(function(e){return Object()})];case 2:return l=c.sent(),r=a&&a.temp_celsius?Object(i.a)(a.temp_celsius,t.firmwareVersion):"0",this.setState({ceilingSensorMQTT:a,i1RelayMQTT:l,roomTemperature:r}),[2]}})})},t.prototype.fetchPTACInfo=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,l,i;return b(this,function(c){switch(c.label){case 0:return e=this.props,t=e.buildingName,n=e.equipmentOntology,a=e.solutionOntology,[4,Object(m.a)(t,null,null,n)];case 1:return o=c.sent(),l=Object(),o&&o.length>0?[4,Object(m.f)(o)]:[3,3];case 2:return i=c.sent(),l=i[0],[3,4];case 3:l={controlType:r.a.Local,coolTemp:0,equipment:n,fanStatus:"",heatTemp:0,isAutoOff:!0,isOptimizedActive:!1,isRelayOn:!1,isRoomOccupied:"UNOCCUPIED",isShutdownActive:!1,mode:r.c.Off,ontology:Object(s.w)(12),optimizeStatus:"0",solutionOntology:a},c.label=4;case 4:return this.setState({ptacController:l}),[2]}})})},t.prototype.changeTemperature=function(e,t,n){var a=this.state.ptacController;t==r.c.Cool?(a.coolTemp=e?a.coolTemp-.1:a.coolTemp+.1,a.coolTemp=parseFloat(a.coolTemp.toFixed(1))):t==r.c.Heat&&(a.heatTemp=e?a.heatTemp-.1:a.heatTemp+.1,a.heatTemp=parseFloat(a.heatTemp.toFixed(1))),this.setState({ptacController:a,modelChanged:!0})},t.prototype.changeMode=function(e){var t=this.state,n=t.ptacController,a=t.ptacADP;if(n.mode=e,n.mode==r.c.Off)n.isAutoOff=!1,n.isRelayOn=!1;else if(n.isAutoOff=!0,n.isRelayOn=!0,e==r.c.Cool)n.coolTemp>=0&&n.coolTemp<=1&&a&&a.ADPSettings&&a.ADPSettings.length>0&&(o=a.ADPSettings.find(function(e){return"COOLING"==e.season&&"UNOCCUPIED"==e.occType}))&&o.defaultTargetTemp&&(n.coolTemp=parseFloat(o.defaultTargetTemp));else if(e==r.c.Heat){var o;if(n.heatTemp>=0&&n.heatTemp<=1&&a&&a.ADPSettings&&a.ADPSettings.length>0)(o=a.ADPSettings.find(function(e){return"HEATING"==e.season&&"UNOCCUPIED"==e.occType}))&&o.defaultTargetTemp&&(n.heatTemp=parseFloat(o.defaultTargetTemp))}this.setState({ptacController:n,modelChanged:!0})},t.prototype.setOptimizeStatus=function(e){var t=this.state.ptacController;t.optimizeStatus=e,t.isOptimizedActive=!0,t.isShutdownActive=!1,this.setState({ptacController:t,modelChanged:!0})},t.prototype.changeControlType=function(e){return v(this,void 0,void 0,function(){var t,n,a;return b(this,function(o){switch(o.label){case 0:return t=this.props.equipmentOntology,(n=this.state.ptacController).controlType=e,(a=Object()).equipmentOntology=t,a.isScheduleOn=e==r.a.Schedule,Object(l.a)(!0),[4,Object(u.X)(a)];case 1:return o.sent(),n.isShutdownActive=e==r.a.Shutdown,n.isOptimizedActive=e==r.a.Optimize,this.setState({ptacController:n,modelChanged:!0,ScheduleIsOnModel:a}),Object(l.a)(!1),[2]}})})},t.prototype.changeFanSettings=function(e){var t=this.state.ptacController;t.fanStatus=e,this.setState({ptacController:t,modelChanged:!0})},t.prototype.applyRule=function(e,t,n){return e?t?e<n?0:e:e>n?0:e:0},t.prototype.saveChanges=function(e,t){return v(this,void 0,void 0,function(){var n,a,i,c,s,d,p=this;return b(this,function(h){switch(h.label){case 0:return n=this.props.buildingName,a=this.state,i=a.modelChanged,c=a.ptacController,s=a.relayDevice,i||t?(e&&Object(l.a)(!0),c.controlType!=r.a.Manual?[3,2]:[4,Object(u.H)(s,c.isAutoOff,n)]):[3,4];case 1:(d=h.sent()).error?Object(o.a)(d.error):d&&(c.isRelayOn=c.isAutoOff,Object(o.b)("Changes applied successfully. ")),h.label=2;case 2:return[4,Object(m.b)(this.props.buildingName,c,!e)];case 3:h.sent(),this.setState({modelChanged:!1},function(){p.fetchPTACInfo(),e&&Object(l.a)(!1)}),h.label=4;case 4:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,o=t.buildingName,l=t.solutionOntology,i=t.equipmentOntology,c=t.equipmentRdfsLabel,s=t.devices,m=this.state,u=m.currentTabs,f=m.ptacController,E=m.modelChanged,y=m.roomTemperature,N=m.i1RelayMQTT,C=m.relayDevice,S=m.openRelayControlDialog,w=!f||f.controlType!=r.a.Manual;return a.createElement(a.Fragment,null,a.createElement("div",{className:"row m-0"},a.createElement("div",{className:"col-md-12 padding-5 margin-5"},a.createElement("div",{className:"btn-group"},a.createElement("button",{className:"btn "+("CurrentValues"==u?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTabs:"CurrentValues"})}},a.createElement("span",{className:"vertical-align"},"Controller")),a.createElement("button",{className:"btn "+("Schedule"==u?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTabs:"Schedule"})}},a.createElement("span",{className:"vertical-align"},"Schedule")),a.createElement("button",{className:"btn "+("Alarms"==u?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTabs:"Alarms"})}},a.createElement("span",{className:"vertical-align"},"Alarms")),a.createElement("button",{className:"btn "+("Graphs"==u?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTabs:"Graphs"})}},a.createElement("span",{className:"vertical-align"},"Graphs")),a.createElement("button",{className:"btn "+("InnerControllerADP"==u?"btn-custom-fill":"")+" btn-custom-secondary-dark",onClick:function(){e.setState({currentTabs:"InnerControllerADP"})}},a.createElement("span",{className:"vertical-align"},"ADP"))))),"CurrentValues"==u&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"card",id:"InsightsList"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"header"},a.createElement("h4",{className:"title"},a.createElement("strong",null,"Equipment Status:")," (",N&&N.active_power_Watts?parseFloat(N.active_power_Watts)<.2?"idle":"running":"idle",")"))),a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",{className:"row"},f&&(f.mode==r.c.Heat||f.mode==r.c.Auto)&&a.createElement(a.Fragment,null,a.createElement("div",{className:(f.mode==r.c.Auto?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" tempCounter"},a.createElement("div",null,"Heat To"),a.createElement("div",{className:"counter"},f&&f.heatTemp?parseFloat(f.heatTemp.toFixed(1)):0,"\xb0F")),a.createElement("div",{className:(f.mode==r.c.Auto?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" InsightControls"},a.createElement("div",{className:"btn-group-vertical"},a.createElement("button",{type:"button",className:"btn tempButton heatTo",onClick:function(){return e.changeTemperature(!1,r.c.Heat,f&&f.heatTemp?f.heatTemp:0)},disabled:w},a.createElement("div",null,a.createElement("i",{className:"fa fa-angle-up"})),a.createElement("div",null,"Warmer")),a.createElement("button",{type:"button",className:"btn tempButton coolTo",onClick:function(){return e.changeTemperature(!0,r.c.Heat,f&&f.heatTemp?f.heatTemp:0)},disabled:w},a.createElement("div",null,"Cooler"),a.createElement("div",null,a.createElement("i",{className:"fa fa-angle-down"})))))),f&&(f.mode==r.c.Cool||f.mode==r.c.Auto)&&a.createElement(a.Fragment,null,a.createElement("div",{className:(f.mode==r.c.Auto?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" tempCounter"},a.createElement("div",null,"Cool To"),a.createElement("div",{className:"counter"},f&&f.coolTemp?parseFloat(f.coolTemp.toFixed(1)):0,"\xb0F")),a.createElement("div",{className:(f.mode==r.c.Auto?"col-md-3 col-xs-6":"col-md-6 col-xs-12")+" InsightControls"},a.createElement("div",{className:"btn-group-vertical"},a.createElement("button",{type:"button",className:"btn tempButton heatTo",onClick:function(){return e.changeTemperature(!1,r.c.Cool,f&&f.coolTemp?f.coolTemp:0)},disabled:w},a.createElement("div",null,a.createElement("i",{className:"fa fa-angle-up"})),a.createElement("div",null,"Warmer")),a.createElement("button",{type:"button",className:"btn tempButton coolTo",onClick:function(){return e.changeTemperature(!0,r.c.Cool,f&&f.coolTemp?f.coolTemp:0)},disabled:w},a.createElement("div",null,"Cooler"),a.createElement("div",null,a.createElement("i",{className:"fa fa-angle-down"}))))))),a.createElement("div",{className:"row"},a.createElement("br",null),a.createElement("div",{className:"RelayHeading center"},a.createElement("b",null,"Relay Status: ",f.isRelayOn?"On":"Off")))),a.createElement("div",{className:"col-md-6 col-xs-12 tempCounter roomTemp "},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",null,"Room Temp"),a.createElement("div",{className:"counter"},y," \xb0F")),f&&f.controlType!=r.a.Manual&&a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("div",null,"Room Occupancy"),a.createElement("div",{className:"counter"},f.isRoomOccupied))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",disabled:w,className:f&&f.mode===r.c.Off?"btn btn-fill":"btn",onClick:function(){return e.changeMode(r.c.Off)}},"Off"),a.createElement("button",{type:"button",className:f&&f.mode===r.c.Heat?"btn btn-fill":"btn",disabled:w,onClick:function(){return e.changeMode(r.c.Heat)}},"Heat"),a.createElement("button",{type:"button",className:f&&f.mode===r.c.Cool?"btn btn-fill":"btn",disabled:w,onClick:function(){return e.changeMode(r.c.Cool)}},"Cool"))),a.createElement("div",{className:"col-md-6 col-xs-12 pull-right"},a.createElement("div",{className:"row PTACInfo"},a.createElement("div",{className:"col-md-3 col-xs-6"},a.createElement("div",null,"Power Watts"),a.createElement("div",{className:"font22"},N&&N.active_power_Watts&&parseFloat(N.active_power_Watts)?parseFloat(N.active_power_Watts):0," kW")),a.createElement("div",{className:"col-md-3 col-xs-6"},a.createElement("div",null,"Voltage"),a.createElement("div",{className:"font22"},N&&N.voltage_volts?N.voltage_volts:0," V")),a.createElement("div",{className:"col-md-3 col-xs-6"},a.createElement("div",null,"Frequency"),a.createElement("div",{className:"font22"},N&&N.frequency_Hz?this.applyRule(N.frequency_Hz,!0,55):0," Hz")),a.createElement("div",{className:"col-md-3 col-xs-6 p-0"},a.createElement("div",null,"Energy Watt/Hour"),a.createElement("div",{className:"font22"},N&&N.import_active_energy_Wh&&parseFloat(N.import_active_energy_Wh)?parseFloat(N.import_active_energy_Wh).toFixed(2):0," kWh"))))),a.createElement("div",{className:"row mt-22"},a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("div",null,a.createElement("button",{className:"btn btn-success center custom-outline-btn",title:"Control Settings",onClick:function(t){e.setState({openRelayControlDialog:!0},function(){document.getElementById("btnDialogRelayControl").click()})}}," ",a.createElement("i",{className:"fa fa-sliders"})," Control Settings",a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Controls Settings")))),a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow pull-right"},a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",className:"btn btn-success "+(f&&f.controlType==r.a.Local?"btn-fill":""),onClick:function(){return v(e,void 0,void 0,function(){return b(this,function(e){return this.changeControlType(r.a.Local),[2]})})}},"Local"),a.createElement("button",{type:"button",className:"btn cursor-no-drop "+(!f||f.controlType!=r.a.Manual&&f.controlType!=r.a.Schedule&&f.controlType!=r.a.Optimize&&f.controlType!=r.a.Shutdown?"":"btn-success btn-fill")},"Remote"),a.createElement("button",{type:"button",onClick:function(){return v(e,void 0,void 0,function(){return b(this,function(e){return this.changeControlType(r.a.Manual),[2]})})},className:"btn btn-success "+(f&&f.controlType==r.a.Manual?"btn-fill":"")},"Manual"),a.createElement("button",{type:"button",className:"btn btn-success "+(f&&f.controlType==r.a.Schedule?"btn-fill":""),onClick:function(){return v(e,void 0,void 0,function(){return b(this,function(e){return this.changeControlType(r.a.Schedule),[2]})})}},"Schedule"),a.createElement("button",{type:"button",className:"btn btn-success "+(f&&f.controlType==r.a.Optimize?"btn-fill":""),onClick:function(){return v(e,void 0,void 0,function(){return b(this,function(e){return this.changeControlType(r.a.Optimize),[2]})})}},"Optimize"),a.createElement("button",{disabled:"Off"==f.mode,type:"button",className:"btn btn-success "+(f&&f.controlType==r.a.Shutdown?"btn-fill":""),onClick:function(){return v(e,void 0,void 0,function(){return b(this,function(e){return this.changeControlType(r.a.Shutdown),[2]})})}},"Shutdown")))),"Optimize"==f.controlType&&a.createElement("div",{className:"row p-4"},a.createElement("div",{className:"col-md-9"}),a.createElement("div",{className:"btn-group pull-right col-md-3 pl-0 mr-2"},a.createElement("button",{id:"optiStatus1",className:"btn "+("0"==f.optimizeStatus?"btn-fill":""),onClick:function(){e.setOptimizeStatus("0")},type:"button"},"0"),a.createElement("button",{id:"optiStatus1",disabled:"Cool"!=f.mode,className:"btn "+("1"==f.optimizeStatus?"btn-fill":""),onClick:function(){e.setOptimizeStatus("1")},type:"button"},"1"),a.createElement("button",{onClick:function(){e.setOptimizeStatus("2")},id:"optiStatus2",disabled:"Cool"!=f.mode,className:"btn "+("2"==f.optimizeStatus?"btn-fill":""),type:"button"},"2"),a.createElement("button",{onClick:function(){e.setOptimizeStatus("3")},id:"optiStatus3",disabled:"Heat"!=f.mode,className:"btn "+("3"==f.optimizeStatus?"btn-fill":""),type:"button"},"3"),a.createElement("button",{onClick:function(){e.setOptimizeStatus("4")},id:"optiStatus4",disabled:"Heat"!=f.mode,className:"btn "+("4"==f.optimizeStatus?"btn-fill":""),type:"button"},"4"))),a.createElement("div",{className:E?"InsightApplyChanges":"hidden",style:{margin:"55px -15px"}},a.createElement("h4",null,"Do you want to apply these changes?"),a.createElement("div",null,a.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){e.setState({modelChanged:!1})}},"Cancel"),"\xa0",a.createElement("button",{type:"button",className:"btn btn-fill btn-danger",onClick:function(){}},"Reset"),"\xa0",a.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:function(){return e.saveChanges(!0,!1)}},"Apply Changes"))))))),S&&C&&a.createElement(a.Fragment,null,a.createElement("button",{type:"button",id:"btnDialogRelayControl",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#dialogRelayControl"}," . "),a.createElement(p.a,{id:"dialogRelayControl",ptacEqipmenteName:i,buildingName:o,onCloseControlDialog:this.onCloseRelayControlDialog,ptacEqipmentType:"PTAC",ptacEqipmenteLabel:c,ptacSolution:l})),"Schedule"==u&&a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"1px 1px 8px 1px"}},a.createElement(h.default,{isSolution:!0,equipmentOntology:i,instance:n,buildingName:o,InsightName:C.deviceName,solutionOntology:l,solutionEquipmentType:"PTAC",ControlName:"PTACControl",type:"Equipment",hideTabs:!0})),"Alarms"==u&&a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"1px 1px 8px 1px"}}),"InnerControllerADP"==u&&a.createElement("div",{style:{border:"1px solid rgb(21, 77, 87)",borderRadius:"1px 1px 8px 1px"}},a.createElement(d.default,{instance:n,buildingName:o,InsightName:i,ControlName:"PTACControl",type:"Equipment",hideTabs:!0,solutionOntology:l})),"Graphs"==u&&a.createElement("div",null,a.createElement(g.a,{instance:n,buildingName:o,devices:s,equipment:i,graphType:"PTAC",solution:l})))},t}(a.Component);t.a=E},2640:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(647)),l=n(659),i=n(10),r=n(117),c=n(852),s=n(842),m=n(23),u=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),d=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={SensorList:[],devices:[],ptacControllerSettings:Object(),ptacController:Object()},n.onSaveHandle=n.onSaveHandle.bind(n),n.fetchDevices=n.fetchDevices.bind(n),n.handleTypeChange=n.handleTypeChange.bind(n),n.handleSensorChange=n.handleSensorChange.bind(n),n.fetchPTACControlSettingsData=n.fetchPTACControlSettingsData.bind(n),n}return u(t,e),t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return Object(r.a)(!0),[4,this.fetchDevices()];case 1:return e.sent(),[4,this.fetchPTACInfo()];case 2:return e.sent(),[4,this.fetchPTACControlSettingsData()];case 3:return e.sent(),Object(r.a)(!1),[2]}})})},t.prototype.fetchPTACControlSettingsData=function(){return d(this,void 0,void 0,function(){var e,t,n,a,o,l,i;return p(this,function(r){switch(r.label){case 0:return e=this.props,t=e.ptacEqipmenteName,n=e.ptacSolution,a=e.ptacEqipmentType,t?[4,Object(c.e)("","",t)]:[3,3];case 1:return o=r.sent(),[4,Object(c.g)(o)];case 2:(l=r.sent())&&l.length>0&&l[0]?this.setState({ptacControllerSettings:l[0]}):(i={ontology:Object(m.w)(12),controlType:"",equipment:t,equipmentType:a,ptactType:"",sensorDevice:"",solutionOntology:n},this.setState({ptacControllerSettings:i})),r.label=3;case 3:return[2]}})})},t.prototype.fetchPTACInfo=function(){return d(this,void 0,void 0,function(){var e,t,n,a,o,l,i;return p(this,function(r){switch(r.label){case 0:return e=this.props,t=e.buildingName,n=e.ptacEqipmenteName,a=e.ptacSolution,[4,Object(c.a)(t,null,null,n)];case 1:return(o=r.sent())&&o.length>0?[4,Object(c.f)(o)]:[3,3];case 2:return l=r.sent(),i=l[0],this.setState({ptacController:i}),[3,4];case 3:i={ontology:Object(m.w)(12),controlType:s.a.Local,coolTemp:0,equipment:n,fanStatus:s.b.Auto,heatTemp:0,isRelayOn:!1,isAutoOff:!1,solutionOntology:a,mode:s.c.Off,optimizeStatus:"",isOptimizedActive:!1,isShutdownActive:!1,isRoomOccupied:"UNOCCUPIED"},this.setState({ptacController:i}),r.label=4;case 4:return[2]}})})},t.prototype.handleTypeChange=function(e){var t=this.state.ptacControllerSettings;t.ptactType=e,this.setState({ptacControllerSettings:t})},t.prototype.handleSensorChange=function(e){var t=this.state.ptacControllerSettings;t.sensorDevice=e,this.setState({ptacControllerSettings:t})},t.prototype.fetchDevices=function(){return d(this,void 0,void 0,function(){var e,t,n;return p(this,function(a){switch(a.label){case 0:return(e=this.props.buildingName)?(t=[],[4,Object(l.u)(e)]):[3,2];case 1:(n=a.sent())&&n.length>0&&(t=n.filter(function(e){return-1!=Object(i.g)(e.moncontype).toLowerCase().indexOf("ceiling")}).map(function(e){return{value:Object(i.g)(e.moncondevice),label:Object(i.g)(e.rdfsLabel)}})),this.setState({devices:n,SensorList:t}),a.label=2;case 2:return[2]}})})},t.prototype.onSaveHandle=function(){return d(this,void 0,void 0,function(){var e,t,n,a,o,l;return p(this,function(i){switch(i.label){case 0:return e=this.props,t=e.buildingName,n=e.refreshControlDB,a=e.onCloseControlDialog,o=this.state,l=o.ptacControllerSettings,o.ptacController.controlType==s.a.Manual?l.controlType="10":l.sensorDevice?l.controlType="6":l.controlType="1",Object(r.a)(!0),[4,Object(c.i)(t,l)];case 1:return i.sent(),n?[4,n()]:[3,3];case 2:i.sent(),i.label=3;case 3:return a&&a(!1),Object(r.a)(!1),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.id,l=t.onCloseControlDialog,i=t.ptacEqipmenteLabel,r=this.state,c=r.ptacControllerSettings,s=r.SensorList,m=!c||!c.ptactType;return a.createElement(o.a,{id:n,saveButtonText:"Save",heading:i+" Control Settings",showSaveButton:!0,disableSaveButton:m,showCancelButton:!0,onSaveButtonClick:function(){e.onSaveHandle()},onCancelButtonClickActive:!0,onCancelButtonClick:function(){return d(e,void 0,void 0,function(){return p(this,function(e){return l&&l(!1),[2]})})}},a.createElement("div",{className:"card dataCard no-margin"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6"},a.createElement("label",{htmlFor:"ptacType"},"PTAC Type:"),a.createElement("select",{id:"ptacType",className:"form-control",value:c&&c.ptactType,onChange:function(t){return e.handleTypeChange(t.target.value)}},a.createElement("option",{value:"0"},"Select Type"),a.createElement("option",{value:"A"},"Type A"),a.createElement("option",{value:"B"},"Type B"),a.createElement("option",{value:"C"},"Type C"))),a.createElement("div",{className:"col-md-6"},a.createElement("label",{htmlFor:"sensor"},"Occupancy Sensor:"),a.createElement("select",{id:"sensor",className:"form-control",value:c&&c.sensorDevice,onChange:function(t){return e.handleSensorChange(t.target.value)}},a.createElement("option",{value:""},"Select Occupancy Sensor"),s&&s.map(function(e){return a.createElement("option",{value:e.value},e.label)})))))))},t}(a.Component);t.a=h},2641:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(678)),l=n(11),i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={manageControlScreenModel:Object()},n.handleCheckboxes=n.handleCheckboxes.bind(n),n.SaveControlScreenSettings=n.SaveControlScreenSettings.bind(n),n}return i(t,e),t.prototype.componentDidMount=function(){return r(this,void 0,Promise,function(){var e,t,n;return c(this,function(a){switch(a.label){case 0:return e=this.props.solution,[4,Object(o.v)(e.ontology)];case 1:return t=a.sent(),n=Object(),n=t&&t.length>0&&t[0]._id?t[0]:Object(o.x)(e),this.setState({manageControlScreenModel:n}),[2]}})})},t.prototype.handleCheckboxes=function(e,t){var n=this.state.manageControlScreenModel,a=n.manageControlScreenDetails.find(function(e){return e.equipment==t});a&&("defrostAttached"==e?a.defrostAttached=a.defrostAttached&&"no"==a.defrostAttached?"inhibit":"no":a[""+e]=!a[""+e]),this.setState({manageControlScreenModel:n})},t.prototype.SaveControlScreenSettings=function(){return r(this,void 0,void 0,function(){var e,t,n,a,l,i;return c(this,function(r){switch(r.label){case 0:return e=this.props,t=e.buildingName,n=e.solution,a=e.saveControllerScreenSettings,l=this.state.manageControlScreenModel,i=n.equipmentByTemplate&&n.equipmentByTemplate.length&&n.equipmentByTemplate[0]&&n.equipmentByTemplate[0].equipment?n.equipmentByTemplate[0].equipment.subclassType:"",l.solution=n.ontology,l.solutionType=i,a?(a(l),[3,3]):[3,1];case 1:return[4,Object(o.o)(t,l)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props.isView,n=this.state.manageControlScreenModel,o=JSON.parse(l.a.getItem("user")),i=!(!o||"1"!=o.role&&"2"!=o.role);return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},i&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"card"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"content"},n&&n.manageControlScreenDetails&&n.manageControlScreenDetails.length>0&&n.manageControlScreenDetails.map(function(n){return a.createElement("div",{className:"card"},a.createElement("div",{className:"row p-4"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("h4",null,a.createElement("strong",null,n.equipmentLabel)))),n.equipmentType&&n.equipmentType.toLowerCase().indexOf("refri")>-1&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3"},a.createElement("input",{type:"checkbox",disabled:t,checked:n.showRefrigeratorStatus,name:"showRefrigeratorStatus",id:"showRefrigeratorStatus"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"showRefrigeratorStatus"+n.equipment},"\xa0Show Refrigerator Status")),a.createElement("div",{className:"col-md-4"},a.createElement("input",{type:"checkbox",disabled:t,checked:n.showRefrigeratorStatusToAllUsers,name:"showRefrigeratorStatusToAllUsers",id:"showRefrigeratorStatusToAllUsers"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"showRefrigeratorStatusToAllUsers"+n.equipment},"\xa0Show Refrigerator Status To All Users"))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3"},a.createElement("input",{type:"checkbox",disabled:t,checked:n.showCompressorValue,name:"showCompressorValue",id:"showCompressorValue"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"showCompressorValue"+n.equipment},"\xa0Show Compressor Amps")),a.createElement("div",{className:"col-md-3"},a.createElement("input",{type:"checkbox",disabled:t,checked:n.showFreezerDefrostValue,name:"showFreezerDefrostValue",id:"showFreezerDefrostValue"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"showFreezerDefrostValue"+n.equipment},"\xa0Show EFM Amps")),a.createElement("div",{className:"col-md-3"},a.createElement("input",{type:"checkbox",disabled:t,checked:n.showPressureSensorValue,name:"showPressureSensorValue",id:"showPressureSensorValue"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"showPressureSensorValue"+n.equipment},"\xa0Show Compressor Outlet Press.")),a.createElement("div",{className:"col-md-3"},a.createElement("input",{type:"checkbox",disabled:t,checked:n.showDoorContactValue,name:"showDoorContactValue",id:"showDoorContactValue"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"showDoorContactValue"+n.equipment},"\xa0Show Door Contact Status")),a.createElement("div",{className:"col-md-3"},a.createElement("input",{type:"checkbox",disabled:t,checked:n.showCompressorInletPressure,name:"showCompressorInletPressure",id:"showCompressorInletPressure"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"showCompressorInletPressure"+n.equipment},"\xa0Show Compressor Inlet Press."))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3"},a.createElement("input",{type:"checkbox",disabled:t,checked:!(n.defrostAttached&&"no"==n.defrostAttached),name:"defrostAttached",id:"defrostAttached"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"defrostAttached"+n.equipment},"\xa0Defrost Inhibit Installed"))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3"},a.createElement("input",{type:"checkbox",disabled:t,checked:n.showCompressorDemandingStatus,name:"showCompressorDemandingStatus",id:"showCompressorDemandingStatus"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"showCompressorDemandingStatus"+n.equipment},"\xa0Show Compr. Local Cont. Status")),a.createElement("div",{className:"col-md-3"},a.createElement("input",{type:"checkbox",disabled:t,checked:n.showEvapFanDemandingStatus,name:"showEvapFanDemandingStatus",id:"showEvapFanDemandingStatus"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"showEvapFanDemandingStatus"+n.equipment},"\xa0Show Evap. Fan Local Cont. Status")),a.createElement("div",{className:"col-md-3"},a.createElement("input",{type:"checkbox",disabled:t,checked:n.showDefrostDemandingStatus,name:"showDefrostDemandingStatus",id:"showDefrostDemandingStatus"+n.equipment,style:{height:"13px"},onChange:function(t){e.handleCheckboxes(t.target.name,n.equipment)}}),a.createElement("label",{htmlFor:"showDefrostDemandingStatus"+n.equipment},"\xa0Show Defrost Local Cont. Status")))))))})),!t&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 m-4"},a.createElement("button",{className:"btn btn-success",onClick:function(){e.SaveControlScreenSettings()}},"Save Control Screen Settings"))))))),!i&&a.createElement("h3",null,"You don't have access")))},t}(a.Component);t.a=s},719:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(117)),l=n(652),i=n(647),r=n(716),c=n(656),s=n(10),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={archive:[],versionToRestore:Object(),historianArchiveDifferences:[],sourceTimestamp:Object(),targetTimestamp:Object(),user:"",peopleList:Object()},n.getHistorianArchive=n.getHistorianArchive.bind(n),n.restoreHistorian=n.restoreHistorian.bind(n),n.getPeopleList=n.getPeopleList.bind(n),n}return m(t,e),t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.instance&&this.props.ObjectId?(Object(o.a)(!0),[4,this.getHistorianArchive()]):[3,3];case 1:return e.sent(),[4,this.getPeopleList()];case 2:e.sent(),Object(o.a)(!1),e.label=3;case 3:return[2]}})})},t.prototype.getPeopleList=function(){return u(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return[4,Object(c.r)(this.props.buildingName)];case 1:return e=t.sent(),this.setState({peopleList:e}),[2]}})})},t.prototype.getHistorianArchive=function(){return u(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return[4,Object(r.a)(this.props.ObjectId)];case 1:return e=t.sent(),this.setState({archive:e}),[2]}})})},t.prototype.difference=function(e,t){return u(this,void 0,void 0,function(){var n,a,o,l,i,r;return d(this,function(c){switch(c.label){case 0:return n=this.state.peopleList,e&&e.model&&t&&t.model?(a=JSON.parse(e.model),o=JSON.parse(t.model),[4,this.getDifference(a,o)]):[3,2];case 1:l=c.sent(),i=n.find(function(t){return Object(s.g)(t.contact)==e.createdBy}),r=i&&i.name?Object(s.g)(i.name):"",console.log("historianArchiveDifferences",l),this.setState({historianArchiveDifferences:l,sourceTimestamp:e.timestamp,targetTimestamp:t.timestamp,user:r},function(){document.getElementById("btnShowDifference").click()}),c.label=2;case 2:return[2]}})})},t.prototype.getDifference=function(e,t,n){return u(this,void 0,Promise,function(){var a,o=this;return d(this,function(l){return a=[],Object.keys(e).forEach(function(l){return u(o,void 0,void 0,function(){var o,i,r,c;return d(this,function(s){switch(s.label){case 0:return o=e&&e[l]?e[l]:"",i=t&&t[l]?t[l]:"","object"!=typeof o?[3,3]:JSON.stringify(o)==JSON.stringify(i)?[3,2]:(r=isNaN(l)?l:n||"",[4,this.getDifference(o,i,r)]);case 1:c=s.sent(),a.push.apply(a,c),s.label=2;case 2:return[3,4];case 3:o!=i&&"value"!=l&&a.push({key:n?n+("label"!=l?" - "+l:""):l,source:o||"",target:i||""}),s.label=4;case 4:return[2]}})})}),[2,a]})})},t.prototype.restoreHistorian=function(){return u(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return(e=this.state.versionToRestore)&&e.model&&this.props.restoreSelectedVersion(e),[4,this.getHistorianArchive()];case 1:return t.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.props.instance,n=this.state,o=n.archive,r=n.versionToRestore,c=n.historianArchiveDifferences,s=n.sourceTimestamp,m=n.targetTimestamp,p=n.user;return a.createElement("div",{className:"card",id:"HistorianArchiveList"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("h3",null,"Historian Archive"))),a.createElement("br",null),a.createElement("div",{className:"row no-margin"},a.createElement("div",{className:"hidden-xs col-md-10 col-md-offset-1 col-md-offset-right-1 no-padding cell_border",style:{marginBottom:"0px"}},a.createElement("div",{className:"col-md-12 bgcol trim-data headingText",style:{padding:"10px"}},"Timestamp"))),a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"hidden"}),o&&o.length>0&&o.map(function(t,n){return a.createElement("div",{className:"col-md-10 cell_border no-padding col-md-offset-1 col-md-offset-right-1 clickable"},a.createElement("div",{className:"row no-margin hover"},a.createElement("div",{className:"col-md-4 padding-10"},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Timestamp"),"  ",t.timestamp.ToEasternDateTime()),a.createElement("div",{className:"col-md-8"},0!=n&&a.createElement("button",{className:"btn btn-sm btn-success btn-fill pull-right margin-5 mr-0",title:"Restore this version",onClick:function(n){e.setState({versionToRestore:t},function(){document.getElementById("btnConfirmRestore").click()})}},"Restore this version  "),n!=o.length-1&&a.createElement("button",{className:"btn btn-sm btn-primary btn-fill pull-right margin-5 mr-0",title:"Difference with previous version",onClick:function(a){return u(e,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return n==o.length-1?[3,2]:[4,this.difference(t,o[n+1])];case 1:e.sent(),e.label=2;case 2:return[2]}})})}},"Difference with previous version   "),0!=n&&a.createElement("button",{className:" btn btn-sm btn-primary btn-fill pull-right margin-5 mr-0",title:"Difference with latest version",onClick:function(a){return u(e,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return 0==n?[3,2]:[4,this.difference(t,o[0])];case 1:e.sent(),e.label=2;case 2:return[2]}})})}},"Difference with latest version   "))))})),a.createElement("button",{id:"btnConfirmRestore",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmRestoreDialog"},"."),a.createElement(l.a,{instance:t,id:"ConfirmRestoreDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:'Are you sure to Restore "'+(r&&r.timestamp?r.timestamp.ToEasternDateTime():"")+'" Version?',heading:"Confirm...",onConfirmButtonClick:function(){e.restoreHistorian()},onCancelButton:function(){e.setState({versionToRestore:Object()})}}),a.createElement("button",{type:"button",id:"btnShowDifference",className:"hidden","data-toggle":"modal","data-target":"#ShowDifference"}," "),a.createElement(i.a,{id:"ShowDifference",heading:"Difference",saveButtonText:"Done",onSaveButtonClick:function(){e.setState({historianArchiveDifferences:[],sourceTimestamp:Object(),targetTimestamp:Object(),user:""})},isEditForm:!0},a.createElement("div",{className:"scroll-y",style:{maxHeight:500}},a.createElement("div",{className:"container-fluid",style:{paddingLeft:"0px"}},a.createElement("div",{className:"content",style:{paddingTop:"0px"}},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12",style:{margin:"0px 10px"}},a.createElement("p",{className:"padding-5 small pull-left cell_border hover",style:{borderRadius:"5px",background:"rgb(220 220 220 / 21%)",color:"black"}},a.createElement("b",{style:{color:"gray"}},"Updated By: \xa0")," ",p,", (",new Date(s&&s).ToEasternDateTime(),")")),c&&c.length>0&&s&&m&&a.createElement("div",{className:"col-md-12",style:{margin:"10px"}},a.createElement("div",{className:"col-md-6 cell_border no-padding center",style:{background:"#dcdcdc94",borderRadius:"50px"}},a.createElement("h4",{className:"margin-10"}," After "),a.createElement("h4",{className:"margin-10"},s&&s.ToEasternDateTime())),a.createElement("div",{className:"col-md-6 cell_border no-padding center",style:{background:"gainsboro",borderRadius:"50px"}},a.createElement("h4",{className:"margin-10"}," Before "),a.createElement("h4",{className:"margin-10"},m&&m.ToEasternDateTime()))),c&&c.length>0&&c.map(function(e){return console.log(e),a.createElement("div",{className:"col-md-12",style:{margin:"10px"}},a.createElement("div",{className:"col-md-12 no-padding cell_border border-radius"},a.createElement("div",{className:"col-md-12 padding-10 center cell_border",style:{background:"ghostwhite"}},a.createElement("h5",{className:"no-margin",style:{textTransform:"uppercase",padding:"2px"}},a.createElement("b",null,"Attribute:")," ",a.createElement("span",{className:"text-primary"},e.key))),a.createElement("div",{className:"col-md-6 padding-10 center cell_border",style:{background:"#dcdcdc94"}},e.source?e.source:"-"),a.createElement("div",{className:"col-md-6 padding-10 center cell_border",style:{background:"gainsboro"}},e.target?e.target:"-")))})))))))),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null))))},t}(a.Component);t.default=p},727:function(e,t,n){"use strict";var a,o,l,i,r,c,s;n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return m}),n.d(t,"a",function(){return d}),function(e){e[e.OFF=0]="OFF",e[e.HEAT=1]="HEAT",e[e.COOL=2]="COOL",e[e.AUTO=3]="AUTO"}(a||(a={})),function(e){e[e.Idle=0]="Idle",e[e.HEATING=1]="HEATING",e[e.COOLING=2]="COOLING",e[e.LOCKOUT=3]="LOCKOUT",e[e.ERROR=4]="ERROR"}(o||(o={})),function(e){e[e.AUTO=0]="AUTO",e[e.ON=1]="ON"}(l||(l={})),function(e){e[e.Fahrenheit=0]="Fahrenheit",e[e.Celsius=1]="Celsius"}(i||(i={})),function(e){e[e.Fahrenheit=0]="Fahrenheit",e[e.Celsius=1]="Celsius"}(r||(r={})),function(e){e[e.occupied1=0]="occupied1",e[e.occupied2=1]="occupied2",e[e.occupied3=2]="occupied3",e[e.unoccupied=3]="unoccupied",e[e.inactive=255]="inactive"}(c||(c={})),function(e){e[e.Home=0]="Home",e[e.Away=1]="Away"}(s||(s={}));var m,u;!function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON"}(m||(m={})),function(e){e[e.AllModes=0]="AllModes",e[e.HeatCoolOnly=1]="HeatCoolOnly",e[e.HeatOnly=2]="HeatOnly",e[e.CoolOnly=3]="CoolOnly"}(u||(u={}));var d=[{ontology:"",season:"COOLING",occType:"UNOCCUPIED",defaultTargetTemp:"85.0",fanSetting:"MEET_TURNOVER_REQTS",warmLittleTemp:"5.0",warmLittleHowBad:"5.0",warmLotTemp:"10.0",warmLotHowBad:"10.0",warmHardLimitTemp:"100.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"10.0",coolLotHowBad:"8.0",coolHardLimitTemp:"60.0"},{ontology:"",season:"COOLING",occType:"OCCUPIED",defaultTargetTemp:"70.0",fanSetting:"AUTO_HI",warmLittleTemp:"2.0",warmLittleHowBad:"3.0",warmLotTemp:"8.0",warmLotHowBad:"8.0",warmHardLimitTemp:"80.0",coolLittleTemp:"2.0",coolLittleHowBad:"3.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"60.0"},{ontology:"",season:"COOLING",occType:"SEMI",defaultTargetTemp:"75.0",fanSetting:"MEET_TURNOVER_REQTS",warmLittleTemp:"5.0",warmLittleHowBad:"5.0",warmLotTemp:"10.0",warmLotHowBad:"10.0",warmHardLimitTemp:"90.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"10.0",coolLotHowBad:"8.0",coolHardLimitTemp:"60.0"},{ontology:"",season:"COOLING",occType:"SHUTDOWN",defaultTargetTemp:"90.0",fanSetting:"AUTO_LO",warmLittleTemp:"10.0",warmLittleHowBad:"5.0",warmLotTemp:"20.0",warmLotHowBad:"10.0",warmHardLimitTemp:"110.0",coolLittleTemp:"10.0",coolLittleHowBad:"5.0",coolLotTemp:"20.0",coolLotHowBad:"10.0",coolHardLimitTemp:"45.0"},{ontology:"",season:"HEATING",occType:"UNOCCUPIED",defaultTargetTemp:"55.0",fanSetting:"AUTO_HI",warmLittleTemp:"10.0",warmLittleHowBad:"5.0",warmLotTemp:"20.0",warmLotHowBad:"10.0",warmHardLimitTemp:"100.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"10.0",coolLotHowBad:"10.0",coolHardLimitTemp:"40.0"},{ontology:"",season:"HEATING",occType:"OCCUPIED",defaultTargetTemp:"68.0",fanSetting:"AUTO_HI",warmLittleTemp:"2.0",warmLittleHowBad:"3.0",warmLotTemp:"5.0",warmLotHowBad:"8.0",warmHardLimitTemp:"90.0",coolLittleTemp:"2.0",coolLittleHowBad:"3.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"55.0"},{ontology:"",season:"HEATING",occType:"SEMI",defaultTargetTemp:"65.0",fanSetting:"AUTO_HI",warmLittleTemp:"5.0",warmLittleHowBad:"5.0",warmLotTemp:"8.0",warmLotHowBad:"8.0",warmHardLimitTemp:"90.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"50.0"},{ontology:"",season:"HEATING",occType:"SHUTDOWN",defaultTargetTemp:"50.0",fanSetting:"AUTO_HI",warmLittleTemp:"10.0",warmLittleHowBad:"5.0",warmLotTemp:"20.0",warmLotHowBad:"10.0",warmHardLimitTemp:"100.0",coolLittleTemp:"5.0",coolLittleHowBad:"5.0",coolLotTemp:"8.0",coolLotHowBad:"10.0",coolHardLimitTemp:"40.0"}]},845:function(e,t,n){"use strict";var a,o=n(2),l=(n.n(o),n(654)),i=n(653),r=n(650),c=n(19),s=n(53),m=n(23),u=n(117),d=n(647),p=n(657),h=n.n(p),g=n(680),f=n(671),v=n(10),b=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),E=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},y=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},N=function(e){function t(t){var n=e.call(this,t)||this;return n.state={component:n.props.component?n.props.component:Object(),newComponentType:Object(),locationList:[],typeList:[],componentSubclassTypeList:[],fileTitle:"",files:[],recentSelectedFiles:[],showhideImageUploader:!1,componentToDelete:Object(),isConfirmDelete:!1,componentManufactureDate:void 0,componentLastInspectionDate:void 0,componentLastServiceDate:void 0,componentLastRechargeDate:void 0,componentNextInspectionDate:void 0,pointsList:[],PanelEquipmentList:[]},a=n,n.handleComponentChange=n.handleComponentChange.bind(n),n._getLocationsList=n._getLocationsList.bind(n),n._getTypeList=n._getTypeList.bind(n),n._getComponentTypeSubclassList=n._getComponentTypeSubclassList.bind(n),n.handleTitleChange=n.handleTitleChange.bind(n),n.onFileChange=n.onFileChange.bind(n),n.saveImage=n.saveImage.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n.saveComponentSubclassType=n.saveComponentSubclassType.bind(n),n.deletecomponent=n.deletecomponent.bind(n),n.toDeleteComponent=n.toDeleteComponent.bind(n),n.handleManufactureDate=n.handleManufactureDate.bind(n),n.handleLastInspectionDate=n.handleLastInspectionDate.bind(n),n.handleLastServiceDate=n.handleLastServiceDate.bind(n),n.handleLastRechargeDate=n.handleLastRechargeDate.bind(n),n.handleNextInspectionDate=n.handleNextInspectionDate.bind(n),n._getPointsList=n._getPointsList.bind(n),n.handlerPointChange=n.handlerPointChange.bind(n),n}return b(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){return E(this,void 0,void 0,function(){var t;return y(this,function(n){return t=this.state.component,(t=e.component).name=e.component&&e.component.name?e.component.name:Object(m.w)(12),this.setState({component:t}),[2]})})},t.prototype.componentDidMount=function(){return E(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._getLocationsList(this.props.buildingName)]:[3,6];case 1:return e.sent(),[4,this._getTypeList()];case 2:return e.sent(),[4,this._getComponentTypeSubclassList()];case 3:return e.sent(),[4,this._getPointsList()];case 4:return e.sent(),[4,this.getEnclosureEquipmentList()];case 5:e.sent(),e.label=6;case 6:return[2]}})})},t.prototype._getPointsList=function(){return E(this,void 0,void 0,function(){var e;return y(this,function(t){switch(t.label){case 0:return e=this.state.pointsList,[4,Object(f.i)(this.props.buildingName).then(function(t){e=t})];case 1:return t.sent(),this.setState({pointsList:e}),[2]}})})},t.prototype._getLocationsList=function(e){return E(this,void 0,void 0,function(){return y(this,function(t){switch(t.label){case 0:return[4,Object(i.b)(e).then(function(e){a.setState({locationList:e})})];case 1:return t.sent(),[2]}})})},t.prototype._getComponentTypeSubclassList=function(){return E(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return[4,Object(r.m)().then(function(e){var t=e.sort(function(e,t){return e.value<t.value?-1:e.value>t.value?1:0});a.setState({componentSubclassTypeList:t})})];case 1:return e.sent(),[2]}})})},t.prototype._getTypeList=function(){return E(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return[4,Object(r.n)("Equip",1).then(function(e){var t=e.sort(function(e,t){return e.value<t.value?-1:e.value>t.value?1:0});a.setState({typeList:t})})];case 1:return e.sent(),[2]}})})},t.prototype.handleComponentChange=function(e,t){var n=this.state.component;switch(e){case"rdfsLabel":n.rdfsLabel=t;break;case"volts":n.volts=t;break;case"ampere":n.ampere=t;break;case"phase":n.phase=t;break;case"location":n.location=t;break;case"profileLink":n.profileLink=t;break;case"quantity":n.quantity=t;break;case"description":n.description=t;break;case"notes":n.notes=t;break;case"type":"newComponent"==t?document.getElementById("btnNewComponentTypeFormDialog").click():n.componentType=t;break;case"usertype":n.userType=t;break;case"manufacturer":n.manufacturer=t;break;case"model":n.model=t;break;case"inputCapacity":n.inputCapacity=t;break;case"inputCapacityUnits":n.inputCapacityUnits=t;break;case"outputCapacity":n.outputCapacity=t;break;case"outputCapacityUnits":n.outputCapacityUnits=t;break;case"componentState":n.componentState=t;break;case"enclosure":n.enclosure=t}this.setState({component:n},function(){a.props.onComponentChange(n)})},t.prototype.handlerPointChange=function(e){var t=this.state.component;t.asignPoints=e,this.setState({component:t})},t.prototype.handleComponentTypeFormChange=function(e,t){var n=this.state.newComponentType;switch(e){case"rdfsLabel":n.componentTypeName=t,n.componentType=t.replace(new RegExp(" ","g"),"");break;case"type":n.subClassOf=t}this.setState({newComponentType:n})},t.prototype.onFileChange=function(e){return E(this,void 0,void 0,function(){var t;return y(this,function(n){return(t=this.state.component).componentFileName=e,this.props.onComponentChange(t),[2]})})},t.prototype.handlefileAttached=function(e){var t=this,n=this.state.fileTitle;if(e&&e.length>0){var a=this.state,o=a.files,l=a.component,i=a.recentSelectedFiles;l.componentFileName||(l.componentFileName=[]),o||(o=[]),i||(i=[]);for(var r=0;r<e.length;r++){var s=e[r].name.split(".").pop(),m=(new Date).YYMMDDHHMMSS2()+"-"+n+"."+s.toLowerCase();m=m.replace(new RegExp(" ","g"),"-"),l.componentFileName.push(m),i.push(m)}Object(c.g)(e),this.setState({files:e,recentSelectedFiles:i,component:l},function(){return E(t,void 0,void 0,function(){return y(this,function(e){return[2]})})})}},t.prototype.handleTitleChange=function(e){this.setState({fileTitle:e.replace(new RegExp(" ","g"),"")},function(){document.getElementById("fileTitle").style.boxShadow=e?"0px 0px 15px gainsboro":"0px 0px 15px red"})},t.prototype.saveImage=function(){return E(this,void 0,void 0,function(){var e,t,n,a,o,l,i=this;return y(this,function(r){if(e=this.state.recentSelectedFiles,t=this.state.component,this.props.onComponentChange(t),n=new s.b,(a=Object(c.d)())&&a.length)for(o=0;o<a.length;o++)l=a[o],n.UploadFile(s.a.DOCUMENT(),e[o],l);return this.setState({fileTitle:"",files:[],recentSelectedFiles:[],component:t,showhideImageUploader:!1},function(){return E(i,void 0,void 0,function(){return y(this,function(e){return[2]})})}),[2]})})},t.prototype.saveComponentSubclassType=function(){return E(this,void 0,void 0,function(){var e,t=this;return y(this,function(n){switch(n.label){case 0:return e=this.state.newComponentType,[4,Object(r.x)(e).then(function(){t._getTypeList()})];case 1:return n.sent(),[2]}})})},t.prototype.deletecomponent=function(e){this.setState({componentToDelete:e})},t.prototype.toDeleteComponent=function(){return E(this,void 0,void 0,function(){var e;return y(this,function(t){switch(t.label){case 0:return Object(u.a)(!0),e=this.state.componentToDelete,[4,Object(m.h)(e.name,c.b.EQUIP)];case 1:return t.sent(),Object(u.a)(!1),this.props.fetchComponentList(),document.getElementById("closeDialogue").click(),[2]}})})},t.prototype.handleManufactureDate=function(e){var t=this.state.component;t.manufactureDate=e.toLocaleString(),this.setState({component:t,componentManufactureDate:e}),this.props.onComponentChange(t)},t.prototype.handleLastInspectionDate=function(e){var t=this.state.component;t.lastInspectionDate=e.toLocaleString(),this.setState({component:t,componentLastInspectionDate:e}),this.props.onComponentChange(t)},t.prototype.handleLastServiceDate=function(e){var t=this.state.component;t.lastServiceDate=e.toLocaleString(),this.setState({component:t,componentLastServiceDate:e}),this.props.onComponentChange(t)},t.prototype.handleLastRechargeDate=function(e){var t=this.state.component;t.lastRechargeDate=e.toLocaleString(),this.setState({component:t,componentLastRechargeDate:e}),this.props.onComponentChange(t)},t.prototype.handleNextInspectionDate=function(e){var t=this.state.component;t.nextInspectionDate=e.toLocaleString(),this.setState({component:t,componentNextInspectionDate:e}),this.props.onComponentChange(t)},t.prototype.getEnclosureEquipmentList=function(){return E(this,void 0,void 0,function(){var e,t;return y(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(r.p)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(v.g)(e.ontology),label:Object(v.g)(e.rdfsLabel)}}),this.setState({PanelEquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e,t=this,n=this.props,a=n.isEdit,i=n.isView,r=this.state,c=r.component,s=r.locationList,u=r.typeList,p=r.componentSubclassTypeList,f=r.newComponentType,v=r.isConfirmDelete,b=r.pointsList,E=r.PanelEquipmentList,y=c.name&&c.name.split("_"),N=this.props.component.manufactureDate,C=this.props.component.lastInspectionDate,S=this.props.component.lastServiceDate,w=this.props.component.lastRechargeDate,O=this.props.component.nextInspectionDate,D=!(!i||!this.props.component.name);return y&&(e=Object(m.r)(y[0])+" - "+c.componentType),document.getElementById("warningText")&&(document.getElementById("warningText").style.display="none"),o.createElement("div",{className:"content"},o.createElement("div",{className:"card no-margin padding-10 padding-10"},o.createElement("div",{className:"row "},a&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"type"},"Component Name:"))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text",disabled:a||i,id:"name",className:"form-control",value:e})))),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"type"},"Component Type:"))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement("select",{disabled:i,id:"type",className:(c.componentType?"":"addFieldValidate")+" form-control",value:c.componentType,onChange:function(e){return t.handleComponentChange("type",e.target.value)}},o.createElement("option",{value:"",key:-1},"Select Subclass"),o.createElement("option",{value:"newComponent",className:"headingText"},"Other "),o.createElement("hr",null),u&&u.length>0&&u.map(function(e,t){return o.createElement("option",{value:e.value,key:t},e.value," ")})))),!(a||i)&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"quantity"},"Quantity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"quantity",type:"number",className:"form-control",value:c.quantity?c.quantity:"1",onChange:function(e){return t.handleComponentChange("quantity",e.target.value)}})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"name"},"Component Label:")),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",id:"rdfsLabel",disabled:i,className:(c.rdfsLabel?"":"addFieldValidate")+" form-control",value:c.rdfsLabel,onChange:function(e){return t.handleComponentChange("rdfsLabel",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"location"},"Location:")),o.createElement("div",{className:"col-md-3"},o.createElement("select",{id:"location",disabled:i,className:(c.location?"":"addFieldValidate")+" form-control",value:c.location,onChange:function(e){return t.handleComponentChange("location",e.target.value)}},o.createElement("option",{value:"",key:-2},"Select Location"),s&&s.length>0&&s.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"manufacturer"},"Manufacturer:")),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",id:"manufacturer",disabled:i,className:"form-control",value:c.manufacturer,onChange:function(e){return t.handleComponentChange("manufacturer",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"model"},"Model:")),o.createElement("div",{className:"col-md-3"},o.createElement("input",{type:"text",id:"model",disabled:i,className:"form-control",value:c.model,onChange:function(e){return t.handleComponentChange("model",e.target.value)}}))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"MANUFACTURE DATE:"))),D&&o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:i,className:"form-control",value:c.manufactureDate?new Date(c.manufactureDate).toLocaleString():""})),!D&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement(h.a,{className:"form-control",selected:N?new Date(this.props.component.manufactureDate):this.state.componentManufactureDate,onChange:function(e){return t.handleManufactureDate(e)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",disabled:!(!i||!N),placeholder:"Manufacture Date","aria-label":"","aria-describedby":"button-addon4",value:c.manufactureDate})}))),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"LAST INSPECTION DATE:"))),D&&o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:i,className:"form-control",value:c.lastInspectionDate?new Date(c.lastInspectionDate).toLocaleString():""})),!D&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement(h.a,{className:"form-control",selected:C?new Date(this.props.component.lastInspectionDate):this.state.componentLastInspectionDate,onChange:function(e){return t.handleLastInspectionDate(e)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",disabled:i,placeholder:"Last Inspection Date","aria-label":"","aria-describedby":"button-addon4",value:c.lastInspectionDate})})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"LAST RECHARGE DATE:"))),D&&o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:i,className:"form-control",value:c.lastRechargeDate?new Date(c.lastRechargeDate).toLocaleString():""})),!D&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement(h.a,{className:"form-control",selected:w?new Date(this.props.component.lastRechargeDate):this.state.componentLastRechargeDate,onChange:function(e){return t.handleLastRechargeDate(e)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",disabled:i,placeholder:"Last Recharge Date","aria-label":"","aria-describedby":"button-addon4",value:c.lastRechargeDate})}))),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"LAST SERVICE DATE:"))),D&&o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:i,className:"form-control",value:c.lastServiceDate?new Date(c.lastServiceDate).toLocaleString():""})),!D&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement(h.a,{className:"form-control",selected:S?new Date(this.props.component.lastServiceDate):this.state.componentLastServiceDate,onChange:function(e){return t.handleLastServiceDate(e)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",disabled:i,placeholder:"Last Service Date","aria-label":"","aria-describedby":"button-addon4",value:c.lastServiceDate})})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"NEXT INSPECTION DATE:"))),D&&o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:i,className:"form-control",value:c.nextInspectionDate?new Date(c.nextInspectionDate).toLocaleString():""})),!D&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement(h.a,{className:"form-control",selected:O?new Date(this.props.component.nextInspectionDate):this.state.componentNextInspectionDate,onChange:function(e){return t.handleNextInspectionDate(e)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",disabled:i,placeholder:"Next Inspection Date","aria-label":"","aria-describedby":"button-addon4",value:c.nextInspectionDate})}))),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"inputCapacity"},"USER TYPE:")),o.createElement("div",{className:"col-md-3"},o.createElement("input",{id:"usertype",type:"text",disabled:i,className:"form-control",value:c.userType,onChange:function(e){return t.handleComponentChange("usertype",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"description"},"Assign Points:")),o.createElement("div",{className:"col-md-4"},o.createElement(l.a,{closeMenuOnSelect:!1,isMulti:!0,onChange:function(e){t.handlerPointChange(e)},placeholder:"Select Points",options:b&&b.length>0?b:[],isDisabled:i,value:c.asignPoints?c.asignPoints:[]})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"inputCapacity"},"Component State:")),o.createElement("div",{className:"col-md-3"},o.createElement("select",{className:(c.componentState?"":"addFieldValidate")+" form-control",id:"componentState",name:"componentState",disabled:i,onChange:function(e){return t.handleComponentChange("componentState",e.target.value)},value:c.componentState?c.componentState:""},o.createElement("option",{value:""},"Select State"),o.createElement("option",{value:"Planned"},"Planned"),o.createElement("option",{value:"Ordered"},"Ordered"),o.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),o.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),o.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),o.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),o.createElement("option",{value:"Assembly"},"Assembly"),o.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),o.createElement("option",{value:"Kitting"},"Kitting"),o.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),o.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),o.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),o.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),o.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),o.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),o.createElement("option",{value:"Existing"},"Existing In Use"),o.createElement("option",{value:"Retired"},"Retired"),o.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),o.createElement("option",{value:"Sold"},"Sold"),o.createElement("option",{value:"DisposedOf"},"Disposed Of"),o.createElement("option",{value:"ErrorDeleted"},"Error Deleted")))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"profileLink"},"Profile Link:")),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",id:"profileLink",disabled:i,className:"form-control",value:c.profileLink,onChange:function(e){return t.handleComponentChange("profileLink",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"enclosure"},"Cabinet / Panel:")),o.createElement("div",{className:"col-md-4"},o.createElement("select",{className:"form-control",id:"enclosure",disabled:i,value:c.enclosure,onChange:function(e){return t.handleComponentChange("enclosure",e.target.value)}},o.createElement("option",{value:"",key:-2},"Select Cabinet Equipment"),E&&E.length>0&&E.map(function(e,t){return o.createElement("option",{key:t,value:e.value},e.label," ")})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"volt"},"Volt:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"volt",type:"number",disabled:i,className:"form-control",value:c.volts,onChange:function(e){return t.handleComponentChange("volts",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"amphere"},"Amps:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"amphere",type:"number",disabled:i,className:"form-control",value:c.ampere,onChange:function(e){return t.handleComponentChange("ampere",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"phase"},"Phase:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"phase",type:"number",disabled:i,className:"form-control",value:c.phase,onChange:function(e){return t.handleComponentChange("phase",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"inputCapacity"},"Input Capacity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"inputCapacity",type:"number",disabled:i,className:"form-control",value:c.inputCapacity,onChange:function(e){return t.handleComponentChange("inputCapacity",e.target.value)}})),o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"inputCapacityUnits"},"Input Capacity Units:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"inputCapacityUnits",type:"text",disabled:i,className:"form-control",value:c.inputCapacityUnits,onChange:function(e){return t.handleComponentChange("inputCapacityUnits",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"outputCapacity"},"Output Capacity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"outputCapacity",type:"number",disabled:i,className:"form-control",value:c.outputCapacity,onChange:function(e){return t.handleComponentChange("outputCapacity",e.target.value)}})),o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"outputCapacityUnits"},"Output Capacity Units:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"outputCapacityUnits",type:"text",disabled:i,className:"form-control",value:c.outputCapacityUnits,onChange:function(e){return t.handleComponentChange("outputCapacityUnits",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"description"},"Description:")),o.createElement("div",{className:"col-md-4"},o.createElement("textarea",{className:"form-control",id:"description",disabled:i,value:c.description,onChange:function(e){t.handleComponentChange("description",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"notes"},"Notes:")),o.createElement("div",{className:"col-md-4"},o.createElement("textarea",{className:"form-control",id:"notes",disabled:i,value:c.notes,onChange:function(e){t.handleComponentChange("notes",e.target.value)}}))),o.createElement("br",null),c.name&&o.createElement(g.a,{buildingName:this.props.buildingName,assetOntology:c.name,entityType:"Component",showUploader:!i}),o.createElement("button",{type:"button",id:"btnNewComponentTypeFormDialog",className:"btn btn-primary btn-fill","data-toggle":"modal","data-target":"#newComponentTypeFormDialog",style:{display:"none"},onClick:function(){$("div").scrollTop(0)}},"."),o.createElement(d.a,{id:"newComponentTypeFormDialog",onSaveButtonClick:function(){t.saveComponentSubclassType()},showSaveButton:!0,heading:"Add Component Type",saveButtonText:"Save and Continue",disableSaveButton:""==f.componentTypeName&&""==f.subClassOf},o.createElement("div",{className:"dataCard padding-10 no-margin"},o.createElement("div",{className:""},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"type"},"Component Type:")),o.createElement("div",{className:"col-md-9"},o.createElement("select",{id:"type",className:"form-control",name:"type",onChange:function(e){return t.handleComponentTypeFormChange("type",e.target.value)},value:f.subClassOf},o.createElement("option",{value:""},"Select Type"),p&&p.map(function(e,t){return 0===t?o.createElement("option",{key:t,selected:!0,value:e.value},e.value):o.createElement("option",{key:t,value:e.value},e.value)}))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"rdfsLabel"},"Name:")),o.createElement("div",{className:"col-md-9"},o.createElement("input",{name:"rdfsLabel",value:f.componentTypeName,onChange:function(e){return t.handleComponentTypeFormChange("rdfsLabel",e.target.value)},type:"text",className:"form-control"})," "))),o.createElement("br",null))))),o.createElement("br",null),o.createElement("div",{className:"row"},v&&o.createElement("div",{className:"col-md-12 center"},o.createElement("h4",null,"Are you sure to Delete Component?"),o.createElement("button",{className:"btn btn-danger btn-fill",onClick:function(){t.state.isConfirmDelete;t.setState({isConfirmDelete:!1},function(){t.toDeleteComponent()})}},"Yes"),"\xa0\xa0\xa0",o.createElement("button",{className:"btn btn-primary btn-fill",onClick:function(){t.state.isConfirmDelete;t.setState({isConfirmDelete:!1},function(){})}},"No"))),a&&!i&&o.createElement("button",{className:"btn btn-danger active pull-right",onClick:function(){var e=t.props.component;t.state.isConfirmDelete;t.setState({isConfirmDelete:!0},function(){t.deletecomponent(e)})}},o.createElement("span",{className:"fa fa-trash-o"}),"Delete Component"),o.createElement("br",null),o.createElement("br",null))},t}(o.Component);t.a=N},846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(10)),l=n(893),i=n(650),r=n(653),c=n(651),s=n(23),m=n(654),u=n(894),d=n(117),p=n(895),h=n(11),g=n(672),f=n(715),v=n(719),b=n(716),E=n(896),y=n(897),N=n(680),C=n(666),S=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),w=this&&this.__assign||function(){return(w=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},O=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},D=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},T=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),o=0;for(t=0;t<n;t++)for(var l=arguments[t],i=0,r=l.length;i<r;i++,o++)a[o]=l[i];return a},x=function(e){function t(t){var n=e.call(this,t)||this;return n.state={Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:Object(s.w)(12),floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",networkDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:"",subnetmask:"255.255.255.0"},topic:"",deviceNumber:"",enclosure:"",deviceState:"",supervisorAlarmTimeDelay:180},oldModel:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",networkDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:"",subnetmask:"255.255.255.0"},topic:"",deviceNumber:"",enclosure:"",deviceState:"",supervisorAlarmTimeDelay:180},_spaces:[],_monconDeviceTypes:[],newLocation:{ontology:"",buildingName:n.props.buildingName,floor:"",type:"",name:"",rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:""},SensorList:[],HVAC_List:[],Equipment_List:[],newEquipmentType:"",EquipmentList:[],PanelEquipmentList:[],ComputingDevice_List:[],NetworkDevice_List:[],isHistorian:!1,deviceType:n.props.deviceType?n.props.deviceType:"Electronic",networkDevice:Object(),computingDevice:Object(),deviceID:"",MonconApplications:[]},n.getHVAC_List=n.getHVAC_List.bind(n),n.getEquipment_List=n.getEquipment_List.bind(n),n.getEnclosureEquipment_List=n.getEnclosureEquipment_List.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.handleMonConDeviceTypeChange=n.handleMonConDeviceTypeChange.bind(n),n.handleLightningTypeChange=n.handleLightningTypeChange.bind(n),n.handleManufacturerChange=n.handleManufacturerChange.bind(n),n.handleModelChange=n.handleModelChange.bind(n),n.handleConnectionTypeChange=n.handleConnectionTypeChange.bind(n),n.getComputingDevices=n.getComputingDevices.bind(n),n.getNetworkDevices=n.getNetworkDevices.bind(n),n.handleNotesChange=n.handleNotesChange.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.handleWirelessConfigChange=n.handleWirelessConfigChange.bind(n),n.handleNewLocationChange=n.handleNewLocationChange.bind(n),n.handleMultiSensorChange=n.handleMultiSensorChange.bind(n),n.handleMultiStrategiesChange=n.handleMultiStrategiesChange.bind(n),n.onChangeGraphURL=n.onChangeGraphURL.bind(n),n.verifyDeviceID=n.verifyDeviceID.bind(n),n.checkDeviceID=n.checkDeviceID.bind(n),n.handleDeviceNameChange=n.handleDeviceNameChange.bind(n),n.handleDeviceChange=n.handleDeviceChange.bind(n),n.getDevices=n.getDevices.bind(n),n.handleEquipmentList=n.handleEquipmentList.bind(n),n.onChangeComputingDevice=n.onChangeComputingDevice.bind(n),n.onChangeNetworkDevice=n.onChangeNetworkDevice.bind(n),n.onChangeControllerIpAddress=n.onChangeControllerIpAddress.bind(n),n.onChangeDigitalTwinLink=n.onChangeDigitalTwinLink.bind(n),n.onChangeVirtualBimLink=n.onChangeVirtualBimLink.bind(n),n.restoreSelectedVersion=n.restoreSelectedVersion.bind(n),n.handleNetworkDeviceChange=n.handleNetworkDeviceChange.bind(n),n.handleComputingDeviceChange=n.handleComputingDeviceChange.bind(n),n.saveNetworkingDevice=n.saveNetworkingDevice.bind(n),n.getNetworkingDevice=n.getNetworkingDevice.bind(n),n.getComputingDevice=n.getComputingDevice.bind(n),n.saveDevice=n.saveDevice.bind(n),n.saveComputingDevice=n.saveComputingDevice.bind(n),n.getMonconApplicatons=n.getMonconApplicatons.bind(n),n}return S(t,e),t.prototype.componentDidMount=function(){return O(this,void 0,void 0,function(){var e,t,n,a,o,l,i,r,m,u,p,g,f,v,b,E,y=this;return D(this,function(N){switch(N.label){case 0:return Object(d.a)(!0),e=this.props,t=e.deviceName,n=void 0===t?"":t,a=e.buildingName,o=e.isInsight,l=e.isView,i=e.isEdit,r=e.deviceType,[4,this.verifyDeviceID()];case 1:return N.sent(),a?(this.getDevices(),[4,this.getHVAC_List()]):[3,11];case 2:return N.sent(),[4,this.getEquipment_List()];case 3:return N.sent(),[4,this.getEnclosureEquipment_List()];case 4:return N.sent(),[4,this.fetchSpaces()];case 5:return N.sent(),m=Object(),u=Object(),p=Object(),o&&(m.monitoringControlDeviceType="Thermostat",m.connectionType="Wireless"),(l||i)&&n?"Electronic"!=r?[3,7]:[4,Object(c.v)(n,a)]:[3,9];case 6:return m=N.sent(),[3,8];case 7:"Network"==r?this.getNetworkingDevice(n):"Computing"==r&&this.getComputingDevice(n),N.label=8;case 8:return[3,10];case 9:g=JSON.parse(h.a.getItem("user")),m.deviceName=Object(s.w)(12),m.createdby=g.contact,m.wirelessConfig={ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:"",subnetmask:"255.255.255.0"},m.deviceID=this.state.deviceID,m.deviceState="Planned",m.timestamp=new Date,m.supervisorAlarmTimeDelay=180,u.ontology=Object(s.w)(12),u.deviceID=this.state.deviceID,u.deviceState="Planned",u.createdBy=g.contact,u.timestamp=new Date,p.ontology=Object(s.w)(12),p.deviceID=this.state.deviceID,p.instance=this.props.instance,p.deviceState="Planned",u.createdBy=g.contact,u.timestamp=new Date,this.setState({deviceType:this.props.tab}),N.label=10;case 10:m&&(m.rdfsLabel&&-1!=m.rdfsLabel.toLowerCase().indexOf(m.deviceID)&&(m.rdfsLabel=m.rdfsLabel.split("-").length>0?m.rdfsLabel.split("-")[0]:m.rdfsLabel),m.relatedEquipment&&m.relatedEquipment.length>0&&(f=this.state.EquipmentList).length>0&&(v=[],m.relatedEquipment&&m.relatedEquipment.map(function(e){var t=Object();t=f.find(function(t){return t.value==e.value}),v.push(t)}),m.relatedEquipment=v),m.sensors&&m.sensors.length>0&&(b=this.state.SensorList).length>0&&(E=[],m.sensors&&m.sensors.map(function(e){var t=Object();t=b.find(function(t){return t.value==e.value}),E.push(t)}),m.sensors=E),this.setState({Moncon:m,oldModel:w({},m),networkDevice:u,computingDevice:p},function(){y.getMonconApplicatons()})),N.label=11;case 11:return this.getComputingDevices(),this.getNetworkDevices(),Object(d.a)(!1),[2]}})})},t.prototype.getDevices=function(){return O(this,void 0,void 0,function(){var e,t,n,a;return D(this,function(l){switch(l.label){case 0:return e=this.props.buildingName,t=[],e?[4,Object(c.z)(e)]:[3,2];case 1:(n=l.sent())&&n.length>0&&(a=Object(),n.map(function(e){a={value:Object(o.g)(e.moncondevice),label:Object(o.g)(e.rdfsLabel)},t.push(a)})),l.label=2;case 2:return this.setState({SensorList:t}),[2]}})})},t.prototype.verifyDeviceID=function(){return O(this,void 0,void 0,function(){var e;return D(this,function(t){switch(t.label){case 0:return""!=(e=this.state.deviceID)&&e?[3,2]:[4,this.checkDeviceID()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.handleDeviceTypeChange=function(e){return O(this,void 0,void 0,function(){return D(this,function(t){return this.setState({deviceType:e}),[2]})})},t.prototype.checkDeviceID=function(){return O(this,void 0,void 0,function(){var e,t,n=this;return D(this,function(a){switch(a.label){case 0:return e=this.state.deviceID,t=Object(s.u)(6).toString(),this.props.buildingName?[4,Object(c.a)(t,this.props.buildingName).then(function(n){e=n&&n[0]?"":t}).catch(function(e){return e})]:[3,2];case 1:a.sent(),this.setState({deviceID:e},function(){return O(n,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return[4,this.verifyDeviceID()];case 1:return e.sent(),[2]}})})}),a.label=2;case 2:return[2]}})})},t.prototype.getHVAC_List=function(){return O(this,void 0,void 0,function(){var e=this;return D(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,Object(i.g)(this.props.buildingName).then(function(t){for(var n=0;n<t.length;n++){var a=t[n];Object(o.g)(a.ontology)&&Object(o.g)(a.rdfsLabel)&&Object(s.H)(Object(o.g)(a.ontology),Object(o.g)(a.rdfsLabel))}e.setState({HVAC_List:t})})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.getNetworkingDevice=function(e){return O(this,void 0,void 0,function(){var t,n,a;return D(this,function(l){switch(l.label){case 0:return[4,Object(f.f)(e)];case 1:return t=l.sent(),n=Object(),t&&t.length>0&&t[0]?n={ontology:Object(o.g)(t[0].ontology),name:Object(o.g)(t[0].name),networkDeviceType:Object(o.g)(t[0].networkDeviceType),modelNo:Object(o.g)(t[0].modelNo),ipAddress:Object(o.g)(t[0].ipAddress),networkType:Object(o.g)(t[0].networkType),networkDevice:Object(o.g)(t[0].networkDevice),networkURL:Object(o.g)(t[0].networkURL),floor:Object(o.g)(t[0].floor)?Object(o.g)(t[0].floor):"",location:Object(o.g)(t[0].location)?Object(o.g)(t[0].location):"",building:Object(o.g)(t[0].building)?Object(o.g)(t[0].building):"",enclosure:Object(o.g)(t[0].enclosure),deviceState:Object(o.g)(t[0].deviceState),deviceID:Object(o.g)(t[0].deviceID)?Object(o.g)(t[0].deviceID):this.state.deviceID,createdBy:Object(o.g)(t[0].createdBy),timestamp:Object(o.g)(t[0].timestamp)&&new Date(Object(o.g)(t[0].timestamp))?new Date(Object(o.g)(t[0].timestamp)):new Date,referenceSolutionOntology:Object(o.g)(t[0].referenceSolutionOntology)}:(a=JSON.parse(h.a.getItem("user")),n.ontology=Object(s.w)(12),n.deviceID=this.state.deviceID,n.createdBy=a.contact,n.timestamp=new Date),this.setState({networkDevice:n}),[2]}})})},t.prototype.getComputingDevice=function(e){return O(this,void 0,void 0,function(){var t,n,a,l,i,r,c,m,u,d,p,f;return D(this,function(v){switch(v.label){case 0:return[4,Object(g.f)(e)];case 1:return t=v.sent(),n=Object(),t&&t.length>0&&t[0]?(a=Object(o.g)(t[0].devices),l=a&&a.split(","),i=[],l&&l.length>0?[4,Object(s.y)(l)]:[3,3]):[3,6];case 2:if((u=v.sent())&&u.length>0)for(d=0;d<u.length;d++)p=u[d],i.push({label:p.rdfsLabel,value:p.ontology});v.label=3;case 3:return r=Object(o.g)(t[0].relatedComputingDevices),c=r&&r.split(","),m=[],c&&c.length>0?[4,Object(s.y)(c)]:[3,5];case 4:if((u=v.sent())&&u.length>0)for(d=0;d<u.length;d++)p=u[d],m.push({label:p.rdfsLabel,value:p.ontology});v.label=5;case 5:return n={building:Object(o.g)(t[0].building),computingDeviceType:Object(o.g)(t[0].computingDeviceType),application:Object(o.g)(t[0].application),controllerIpAddress:Object(o.g)(t[0].controllerIpAddress),deviceID:Object(o.g)(t[0].deviceID)?Object(o.g)(t[0].deviceID):this.state.deviceID,deviceState:Object(o.g)(t[0].deviceState),networkDevice:Object(o.g)(t[0].networkDevice),devices:i,relatedComputingDevices:m,enclosure:Object(o.g)(t[0].enclosure),floor:Object(o.g)(t[0].floor),instance:Object(o.g)(t[0].instance),name:Object(o.g)(t[0].name),ontology:Object(o.g)(t[0].ontology),space:Object(o.g)(t[0].space),macID:Object(o.g)(t[0].macID),createdBy:Object(o.g)(t[0].createdBy),timestamp:Object(o.g)(t[0].timestamp)&&new Date(Object(o.g)(t[0].timestamp))?new Date(Object(o.g)(t[0].timestamp)):new Date,referenceSolutionOntology:Object(o.g)(t[0].referenceSolutionOntology)},[3,7];case 6:f=JSON.parse(h.a.getItem("user")),n.ontology=Object(s.w)(12),n.deviceID=this.state.deviceID,n.createdBy=f.contact,n.timestamp=new Date,v.label=7;case 7:return this.setState({computingDevice:n}),[2]}})})},t.prototype.getEquipment_List=function(){return O(this,void 0,void 0,function(){var e,t;return D(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(i.h)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0?e.map(function(e){return{value:Object(o.g)(e.ontology),label:Object(o.g)(e.rdfsLabel)}}):[],this.setState({EquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.getEnclosureEquipment_List=function(){return O(this,void 0,void 0,function(){var e,t;return D(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(i.p)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(o.g)(e.ontology),label:Object(o.g)(e.rdfsLabel)}}),this.setState({PanelEquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.fetchSpaces=function(){return O(this,void 0,void 0,function(){var e=this;return D(this,function(t){return Object(r.h)(this.props.buildingName).then(function(t){e.setState({_spaces:t})}).catch(function(e){return e}),[2]})})},t.prototype.handleNewLocationChange=function(e){this.setState({newLocation:e})},t.prototype.handleMonConDeviceTypeChange=function(e){var t=this;this.setState({Moncon:e},function(){t.getMonconApplicatons()})},t.prototype.getMonconApplicatons=function(){return O(this,void 0,void 0,function(){var e,t;return D(this,function(n){switch(n.label){case 0:return e=this.state.Moncon,[4,Object(c.j)([e.monitoringControlDeviceType]).catch(function(e){return[]})];case 1:return t=n.sent(),this.setState({MonconApplications:T(t)}),[2]}})})},t.prototype.handleDeviceNameChange=function(e){var t=this.state.Moncon;t.rdfsLabel=e,this.setState({Moncon:t})},t.prototype.handleEquipmentList=function(e){if(!this.props.isView){var t=this.state.Moncon;t.relatedEquipment=e,this.setState({Moncon:t})}},t.prototype.handleSupervisorAlarmTimeDelayChange=function(e){var t=this.state.Moncon;t.supervisorAlarmTimeDelay=e.target.value,this.setState({Moncon:t})},t.prototype.handleDeviceChange=function(e){var t=this.state.Moncon;t.adminPassword=e,this.setState({Moncon:t})},t.prototype.handleDeviceIDChange=function(e){var t=this.state.Moncon;t.deviceID=e,this.setState({Moncon:t})},t.prototype.handleDeviceStateChange=function(e){var t=this.state.Moncon;t.deviceState=e,this.setState({Moncon:t})},t.prototype.handleManufacturerChange=function(e){var t=this.state.Moncon;t.manufacturer=e,this.setState({Moncon:t})},t.prototype.handleModelChange=function(e){var t=this.state.Moncon;t.model=e,this.setState({Moncon:t})},t.prototype.handleFirmwareVersionChange=function(e){var t=this.state.Moncon;t.firmwareVersion=e,this.setState({Moncon:t})},t.prototype.handleBoardAddressChange=function(e){var t=this.state.Moncon;t.boardAddress=e,this.setState({Moncon:t})},t.prototype.handleLocationChange=function(e){var t=this.state.Moncon;t.location=e.selectedLocation,t.floor=e.selectedFloor},t.prototype.handleLightningTypeChange=function(e){var t=this.state.Moncon;t.relayLightingType=e,this.setState({Moncon:t})},t.prototype.handleConnectionTypeChange=function(e){var t=this.state.Moncon;t.connectionType=e,this.setState({Moncon:t})},t.prototype.onChangeComputingDevice=function(e){var t=this,n=this.state.Moncon;n.computingDevice=e.target.value,this.setState({Moncon:n},function(){t.onChangeControllerIpAddress()})},t.prototype.onChangeNetworkDevice=function(e){var t=this.state.Moncon;t.networkDevice=e.target.value,this.setState({Moncon:t},function(){})},t.prototype.onChangeMonconApplication=function(e){var t=this.state.Moncon;t.application=e.target.value,this.setState({Moncon:t})},t.prototype.onChangeControllerIpAddress=function(){var e=this.state,t=e.Moncon,n=e.ComputingDevice_List;if(t.computingDevice){var a=n.find(function(e){return Object(o.g)(e.ontology)==t.computingDevice}).controllerIpAddress;t.wirelessConfig.controllerIPAddress=Object(o.g)(a),this.setState({Moncon:t})}},t.prototype.getComputingDevices=function(){return O(this,void 0,void 0,function(){var e;return D(this,function(t){switch(t.label){case 0:return[4,Object(g.f)()];case 1:return e=t.sent(),this.setState({ComputingDevice_List:e}),[2]}})})},t.prototype.getNetworkDevices=function(){return O(this,void 0,void 0,function(){var e;return D(this,function(t){switch(t.label){case 0:return[4,Object(f.f)()];case 1:return e=t.sent(),this.setState({NetworkDevice_List:e}),[2]}})})},t.prototype.handleNotesChange=function(e){var t=this.state.Moncon;t.notes=e,this.setState({Moncon:t})},t.prototype.handleEnclosureChange=function(e){var t=this.state.Moncon;t.enclosure=e,this.setState({Moncon:t})},t.prototype.handleDeviceNumberChange=function(e){var t=this.state.Moncon;t.deviceNumber=e,this.setState({Moncon:t})},t.prototype.handleWirelessConfigChange=function(e){var t=this.state.Moncon,n=e.target.name;t.wirelessConfig[""+n]=e.target.value,this.setState({Moncon:t})},t.prototype.saveDevice=function(){return O(this,void 0,void 0,function(){var e;return D(this,function(t){return"Electronic"==(e=this.state.deviceType)?this._saveMoncon():"Network"==e?this.saveNetworkingDevice():"Computing"==e&&this.saveComputingDevice(),[2]})})},t.prototype._saveMoncon=function(e){return O(this,void 0,void 0,function(){var t,n,a,l,i,r,m,u,p,g,f,v,E;return D(this,function(y){switch(y.label){case 0:return t=this.state,n=t.Moncon,a=t.oldModel,l=this.props,i=l.instance,r=l.buildingName,m=l.isEdit,u=JSON.parse(h.a.getItem("user")),n?(n.deviceName=n&&n.deviceName?n.deviceName:Object(s.w)(12),n.createdby||(n.createdby=u.name),Object(d.a)(!0),n.deviceName?n.onitUrlLink=window.location.origin+"/#"+i+"/"+r+"/Point/EditDevice/Electronic/"+n.deviceName:n.onitUrlLink=window.location.origin+"/#"+i+"/"+r+"/Point/EditDevice/Electronic/",n.rdfsLabel=n.rdfsLabel+"-"+n.deviceID,[4,Object(C.d)(this.props.buildingName)]):[3,5];case 1:return p=y.sent(),g=Object(o.g)(p[0].buildingCode),f=Object(c.e)(n.wirelessConfig&&n.wirelessConfig.ipAddress,n.wirelessConfig&&n.wirelessConfig.controllerIPAddress,n.boardAddress,n.monitoringControlDeviceType,g),n.topic=f,v=void 0,E=void 0,e?(v=e||n,E=n):(v=n,E=m?a:null),[4,Object(c.l)(n,r,this.props.isEdit)];case 2:return y.sent(),[4,Object(b.b)(n.deviceName,v,E,u.contact)];case 3:return y.sent(),this.props.getNewDeviceLabel&&this.props.getNewDeviceLabel(n.deviceName),[4,Object(s.H)(n.deviceName,n.rdfsLabel)];case 4:y.sent(),Object(d.a)(!1),y.label=5;case 5:return this.props.onChangeTab?this.props.onChangeTab("Tab1"):document.getElementById("AddDeviceDailogeButton")?document.getElementById("AddDeviceDailogeButton").click():window.history.back(),Object(d.a)(!1),[2]}})})},t.prototype.saveNetworkingDevice=function(){return O(this,void 0,void 0,function(){var e,t,n,a;return D(this,function(o){switch(o.label){case 0:return Object(d.a)(!0),e=this.props,t=e.isEdit,n=e.buildingName,(a=this.state.networkDevice).building=n,[4,Object(f.d)(a,t)];case 1:return o.sent(),this.props.onChangeTab?this.props.onChangeTab("Tab1"):document.getElementById("AddDeviceDailogeButton")?document.getElementById("AddDeviceDailogeButton").click():window.history.back(),Object(d.a)(!1),[2]}})})},t.prototype.saveComputingDevice=function(){return O(this,void 0,void 0,function(){var e,t;return D(this,function(n){switch(n.label){case 0:return Object(d.a)(!0),e=this.props.isEdit,t=this.state.computingDevice,[4,Object(g.c)(t,e)];case 1:return n.sent(),this.props.onChangeTab?this.props.onChangeTab("Tab1"):document.getElementById("AddDeviceDailogeButton")?document.getElementById("AddDeviceDailogeButton").click():window.history.back(),Object(d.a)(!1),[2]}})})},t.prototype.handleMultiSensorChange=function(e){var t=this.state.Moncon;t.sensors=[e],this.setState({Moncon:t})},t.prototype.handleMultiStrategiesChange=function(e){var t=this.state.Moncon;t.strategy=e,this.setState({Moncon:t})},t.prototype.onChangeGraphURL=function(e){var t=this.state.Moncon;t.graphURL=e,this.setState({Moncon:t})},t.prototype.onChangeDigitalTwinLink=function(e){var t=this.state.Moncon;t.digitalTwinLink=e,this.setState({Moncon:t})},t.prototype.onChangeVirtualBimLink=function(e){var t=this.state.Moncon;t.virtualBimLink=e,this.setState({Moncon:t})},t.prototype.handleNetworkDeviceChange=function(e){this.setState({networkDevice:e})},t.prototype.handleComputingDeviceChange=function(e){this.setState({computingDevice:e})},t.prototype.restoreSelectedVersion=function(e){return O(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return e&&e.model?(t=JSON.parse(e.model),[4,this._saveMoncon(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.Moncon,i=t.SensorList,r=t.EquipmentList,c=t.ComputingDevice_List,s=t.NetworkDevice_List,d=t.isHistorian,g=t.PanelEquipmentList,f=t.deviceType,b=t.networkDevice,C=t.computingDevice,S=t.MonconApplications,w=this.props,O=w.instance,D=w.hideBackButton,T=this.props,x=T.isInsight,L=T.buildingName,I=T.isView,j=T.isEdit,k=T.deviceName,A=JSON.parse(h.a.getItem("user")),_=n.monitoringControlDeviceType&&(-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("relay")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ceiling")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ats")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("generator")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("watt")),F=n.monitoringControlDeviceType&&-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("cbw"),R=!1;"Electronic"==f?(R=_?!!(n.floor&&n.location&&n.rdfsLabel&&n.boardAddress&&n.computingDevice&&n.wirelessConfig&&n.wirelessConfig.controllerIPAddress&&n.wirelessConfig&&n.wirelessConfig.ipAddress):F?!!(n.floor&&n.location&&n.rdfsLabel&&n.computingDevice&&n.wirelessConfig&&n.wirelessConfig.controllerIPAddress&&n.wirelessConfig&&n.wirelessConfig.ipAddress):!!(n.floor&&n.location&&n.rdfsLabel),R=!!(n.rdfsLabel&&n.adminPassword&&n.monitoringControlDeviceType&&n.floor&&n.location&&n.wirelessConfig.ipAddress&&n.location&&n.deviceState)):"Network"==f?R=!!(b.name&&b.networkDeviceType&&b.deviceID&&b.ipAddress&&b.networkType&&b.floor&&b.location&&b.deviceState):"Computing"==f&&(R=!!(C.name&&C.computingDeviceType&&C.deviceID&&C.building&&C.floor&&C.space&&C.controllerIpAddress&&C.macID&&C.deviceState));var P=n&&n.monitoringControlDeviceType&&-1!=n.monitoringControlDeviceType.toLowerCase().indexOf("intesis"),M=!1,B="";return"Network"==f&&b.ontology?(M=!0,B=b.ontology):"Computing"==f&&C.ontology?(M=!0,B=C.ontology):"Electronic"==f&&n.deviceName&&(M=!0,B=n.deviceName),(I||j)&&(B=k),a.createElement(a.Fragment,null,d&&a.createElement("div",null,a.createElement("div",{className:"col-md-12"},a.createElement("button",{className:"btn btn-success pull-right active custom-outline-btn",style:{marginLeft:3,marginTop:5},onClick:function(){e.setState({isHistorian:!1})}}," Go To Back"))),d&&a.createElement(v.default,{buildingName:L,instance:O,ObjectId:n.deviceName,restoreSelectedVersion:this.restoreSelectedVersion}),!d&&a.createElement("div",{className:"content",style:{marginRight:"10px",marginLeft:"10px"}},a.createElement("div",{className:"card"},a.createElement("div",{className:"container-fluid padding-10",style:{marginTop:"-15px"}},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"deviceType"},"Device Type:"))),a.createElement("div",{className:"col-md-3 col-sm-3 col-xs-4"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:(f?"":"addFieldValidate")+" form-control",id:"deviceType",name:"deviceType",disabled:I||j,onChange:function(t){return e.handleDeviceTypeChange(t.target.value)},value:f||""},a.createElement("option",{value:"Electronic"},"Electronic Device"),a.createElement("option",{value:"Network"},"Network Device"),a.createElement("option",{value:"Computing"},"Computing Device")))),a.createElement("div",{className:"col-md-6"},a.createElement("button",{className:"btn btn-success pull-right active custom-outline-btn",onClick:function(){e.setState({isHistorian:!0})}}," ",a.createElement("i",{className:"fa fa-history","aria-hidden":"true"})," Historian Archive"))))),"Network"==f&&a.createElement(E.a,{buildingName:L,isView:I,networkDevice:b,handleNetworkDeviceChange:this.handleNetworkDeviceChange,NetworkDevice_List:s}),"Computing"==f&&a.createElement(y.a,{instance:O,buildingName:L,isView:I,computingDevice:C,handleComputingDeviceChange:this.handleComputingDeviceChange,NetworkDevice_List:s}),"Electronic"==f&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"devicename"},x?"Insight":"Device"," Name:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"devicename",disabled:I,className:(n.rdfsLabel?"":"addFieldValidate")+" form-control",value:n.rdfsLabel?n.rdfsLabel:"",onChange:function(t){return e.handleDeviceNameChange(t.target.value)}}))))),(A&&"1"==A.role||A.name==n.createdby)&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"adminPassword"},x?"Insight":"Device"," Admin Password:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",id:"adminPassword",disabled:I,className:(n.adminPassword?"":"addFieldValidate")+" form-control",value:n.adminPassword?n.adminPassword:"",name:"adminPassword",onChange:function(t){return e.handleDeviceChange(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"deviceID"},x?"Insight":"Device"," ID:"))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"deviceID",disabled:!P,className:"form-control",value:n.deviceID?n.deviceID:"",onChange:function(t){return e.handleDeviceIDChange(t.target.value)}}))),P&&a.createElement(p.a,{buildingName:L}),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"pull-right padding-5"},a.createElement("label",{htmlFor:"deviceState"},"Device State:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("select",{className:(n.deviceState?"":"addFieldValidate")+" form-control",id:"deviceState",name:"deviceState",disabled:I,onChange:function(t){return e.handleDeviceStateChange(t.target.value)},value:n.deviceState?n.deviceState:""},a.createElement("option",{value:""},"Select State"),a.createElement("option",{value:"Planned"},"Planned"),a.createElement("option",{value:"Ordered"},"Ordered"),a.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),a.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),a.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),a.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),a.createElement("option",{value:"Assembly"},"Assembly"),a.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),a.createElement("option",{value:"Kitting"},"Kitting"),a.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),a.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),a.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),a.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),a.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),a.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),a.createElement("option",{value:"Existing"},"Existing In Use"),a.createElement("option",{value:"Retired"},"Retired"),a.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),a.createElement("option",{value:"Sold"},"Sold"),a.createElement("option",{value:"DisposedOf"},"Disposed Of"),a.createElement("option",{value:"ErrorDeleted"},"Error Deleted"))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"txtDeviceNumber"},"Device Number:"))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"txtDeviceNumber",className:"form-control",disabled:I,value:n.deviceNumber?n.deviceNumber:"",name:"txtDeviceNumber",onChange:function(t){return e.handleDeviceNumberChange(t.target.value)}}))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"pull-right padding-5"},a.createElement("label",{htmlFor:"txtEnclosure"},"Cabinet / Panel:"))),a.createElement("div",{className:"col-md-3 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"otherEquipment",disabled:I,value:n.enclosure?n.enclosure:"",onChange:function(t){return e.handleEnclosureChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Cabinet Equipment"),g&&g.length>0&&g.map(function(e,t){return a.createElement("option",{key:t,value:e.value},e.label," ")})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"computingdevice"},"Connected Computing Device:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:(_||F?n.computingDevice?"":"addFieldValidate":"")+" form-control",id:"computingdevice",disabled:I,value:n.computingDevice?n.computingDevice:"",onChange:function(t){e.onChangeComputingDevice(t)}},a.createElement("option",{value:"",key:-2},"Select Computing Device"),c.length>0&&c.map(function(e,t){return a.createElement("option",{key:t,value:Object(o.g)(e.ontology)},Object(o.g)(e.name))})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"networkdevice"},"Networking Device:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"networkdevice",value:n.networkDevice?n.networkDevice:"",disabled:I,onChange:function(t){e.onChangeNetworkDevice(t)}},a.createElement("option",{value:"",key:-2},"Select Network Device"),s.length>0&&s.map(function(e,t){return a.createElement("option",{key:t,value:Object(o.g)(e.ontology)},Object(o.g)(e.name))})))))),a.createElement("div",{className:"row "},a.createElement("div",{className:"col-md-12"},a.createElement(u.a,{buildingName:L,Moncon:n,isEdit:j,isView:I,handleMonConDeviceTypeChange:this.handleMonConDeviceTypeChange}))),a.createElement("div",{className:"row "},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"application"},"Moncon Application:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"application",value:n.application?n.application:"",disabled:I,onChange:function(t){e.onChangeMonconApplication(t)}},a.createElement("option",{value:"",key:-2},"General"),S.length>0&&S.map(function(e,t){return a.createElement("option",{key:t,value:e.ontology},e.applicationLabel)})))))),_&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"boardAddress"},"Board Address"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"boardAddress",disabled:I,className:(n.boardAddress?"":"addFieldValidate")+" form-control",value:n.boardAddress?n.boardAddress:"",onChange:function(t){return e.handleBoardAddressChange(t.target.value)}})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"Manufacturer"},"Manufacturer:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"Manufacturer",disabled:I,className:"form-control",value:n.manufacturer?n.manufacturer:"",onChange:function(t){return e.handleManufacturerChange(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"Model"},"Model:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"Model",disabled:I,className:"form-control",value:n.model?n.model:"",onChange:function(t){return e.handleModelChange(t.target.value)}}))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"firmwareVersion"},"Firmware Version:"))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"firmwareVersion",name:"firmwareVersion",disabled:I,className:"form-control",value:n.firmwareVersion?n.firmwareVersion:"",onChange:function(t){return e.handleFirmwareVersionChange(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"hvac"},"Related Equipment:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement(m.a,{isDisabled:I,closeMenuOnSelect:!1,isMulti:!0,value:n.relatedEquipment?n.relatedEquipment:[],onChange:this.handleEquipmentList,placeholder:"Select Equipment",options:r})),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"supervisorAlarmTimeDelay"},"Supervisory Alarm Time Delay (sec):"))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"supervisorAlarmTimeDelay",name:"supervisorAlarmTimeDelay",disabled:I,className:"form-control",value:n.supervisorAlarmTimeDelay?n.supervisorAlarmTimeDelay:"",onChange:function(t){return e.handleSupervisorAlarmTimeDelayChange(t)}}))))),a.createElement(l.a,{instance:this.props.instance,buildingName:L,isDisabled:I,selectedFloorLocation:{selectedFloor:n.floor,selectedLocation:n.location},onLocationChange:this.handleLocationChange}),(A&&"1"==A.role||A.name==n.createdby)&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"connectiontype"},"Connection Type:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"connectiontype",disabled:I,value:n.connectionType?n.connectionType:"",onChange:function(t){return e.handleConnectionTypeChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Connection Type"),a.createElement("option",{value:"Physical"},"Physical"),a.createElement("option",{value:"Wireless"},"Wireless")))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"cadBIM"},"ONIT URL Link:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("div",{className:"form-control",id:"onitUrlLink"},n.onitUrlLink?n.onitUrlLink:""))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"ipaddress"},"IP Address:"))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"ipaddress",className:(n.wirelessConfig&&n.wirelessConfig.ipAddress?"":"addFieldValidate")+" form-control",disabled:I,value:n.wirelessConfig&&n.wirelessConfig.ipAddress,name:"ipAddress",onChange:function(t){return e.handleWirelessConfigChange(t)}}))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group pull-right"},a.createElement("label",{htmlFor:"controllerIPAddress"},"Controller IP Address:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"controllerIPAddress",className:"form-control",disabled:!0,value:n.wirelessConfig&&n.wirelessConfig.controllerIPAddress?n.wirelessConfig.controllerIPAddress:"",name:"controllerIPAddress"}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"thermostatMacAddress"},"MAC Address:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"thermostatMacAddress",className:"form-control",disabled:I,value:n.wirelessConfig&&n.wirelessConfig.thermostatMacAddress?n.wirelessConfig.thermostatMacAddress:"",name:"thermostatMacAddress",onChange:function(t){return e.handleWirelessConfigChange(t)}}))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group pull-right"},a.createElement("label",{htmlFor:"thermostatMacAddress"},"Subnet Mask:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"subnetmask",className:"form-control",disabled:I,value:n.wirelessConfig&&n.wirelessConfig.subnetmask?n.wirelessConfig.subnetmask:"",name:"subnetmask",onChange:function(t){return e.handleWirelessConfigChange(t)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"ssid"},"SSID (Wireless Network):"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"ssid",className:"form-control",disabled:I,value:n.wirelessConfig&&n.wirelessConfig.ssid?n.wirelessConfig.ssid:"",name:"ssid",onChange:function(t){return e.handleWirelessConfigChange(t)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"password"},"Password (Wireless Network):"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"password",className:"form-control",disabled:I,value:n.wirelessConfig&&n.wirelessConfig.password?n.wirelessConfig.password:"",name:"password",onChange:function(t){return e.handleWirelessConfigChange(t)}})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"graphURLs"},"Graph URL:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",disabled:I,id:"graphURL",className:"form-control",value:n.graphURL?n.graphURL:"",onChange:function(t){return e.onChangeGraphURL(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"digitalTwinLink"},"Digital Twin URL:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",disabled:I,id:"digitalTwinLink",className:"form-control",value:n.digitalTwinLink?n.digitalTwinLink:"",onChange:function(t){return e.onChangeDigitalTwinLink(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"virtualBimLink"},"Virtual Bim URL:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",disabled:I,id:"virtualBimLink",className:"form-control",value:n.virtualBimLink?n.virtualBimLink:"",onChange:function(t){return e.onChangeVirtualBimLink(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"connectiontype"},"Sensors:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",null,a.createElement(m.a,{disabled:I,isDisabled:I,closeMenuOnSelect:!0,isMulti:!1,value:n.sensors?n.sensors:[],onChange:this.handleMultiSensorChange,placeholder:"Sensors for Optimization Strategies",options:i}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"notes"},"Notes:"))),a.createElement("div",{className:"col-md-6 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"notes",className:"form-control",disabled:I,value:n.notes?n.notes:"",onChange:function(t){return e.handleNotesChange(t.target.value)}})))))),M&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement(N.a,{buildingName:L,assetOntology:B,showUploader:!I,entityType:f+"Device"}))),!D&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 inline-block"},!I&&a.createElement("button",{className:"btn btn-primary btn-fill",type:"button",disabled:!R,onClick:function(){e.saveDevice()}},a.createElement("i",{className:"fa fa-save"})," Save")))))))},t}(a.Component);t.default=x},852:function(e,t,n){"use strict";t.b=function(e,t,n){return r(this,void 0,void 0,function(){var l=this;return c(this,function(s){switch(s.label){case 0:return[4,Object(i.f)({buildingName:e,model:t},i.a.ESOLUTION.SavePTACInfo,o.b.ESolution).then(function(e){return r(l,void 0,void 0,function(){return c(this,function(e){return n||Object(a.b)("Saved PTAC Info Successfully"),[2]})})}).catch(function(e){n||Object(a.a)("Error occured while Saving PTAC Info.")})];case 1:return[2,s.sent()]}})})},t.a=function(e,t,n,a){return r(this,void 0,void 0,function(){return c(this,function(l){switch(l.label){case 0:return[4,Object(i.e)({buildingName:e,ontology:t,solution:n,equipment:a},i.a.ESOLUTION.FetchPTACInfo,o.b.ESolution,!0)];case 1:return[2,l.sent()]}})})},t.f=function(e){return r(this,void 0,void 0,function(){var t,n,a,o;return c(this,function(i){for(t=[],n=0;n<e.length;n++)a=e[n],o={isOptimizedActive:!(!a.isOptimizedActive||!Object(l.g)(a.isOptimizedActive)||"true"!=Object(l.g)(a.isOptimizedActive)),isShutdownActive:!(!a.isOptimizedActive||!Object(l.g)(a.isOptimizedActive)||"true"!=Object(l.g)(a.isOptimizedActive)),optimizeStatus:Object(l.g)(a.optimizeStatus),ontology:Object(l.g)(a.ontology),solutionOntology:Object(l.g)(a.solutionOntology),coolTemp:a.coolTemp&&Object(l.g)(a.coolTemp)?parseFloat(Object(l.g)(a.coolTemp)):0,heatTemp:a.heatTemp&&Object(l.g)(a.heatTemp)?parseFloat(Object(l.g)(a.heatTemp)):0,controlType:Object(l.g)(a.controlType),equipment:Object(l.g)(a.equipment),fanStatus:Object(l.g)(a.fanStatus),isRelayOn:!(!a.isRelayOn||!Object(l.g)(a.isRelayOn)||"true"!=Object(l.g)(a.isRelayOn)),isAutoOff:!(!a.isAutoOff||!Object(l.g)(a.isAutoOff)||"true"!=Object(l.g)(a.isAutoOff)),mode:Object(l.g)(a.mode),isRoomOccupied:a.isRoomOccupied&&Object(l.g)(a.isRoomOccupied)?Object(l.g)(a.isRoomOccupied):"UNOCCUPIED"},t.push(o);return[2,t]})})},t.h=function(e){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(i.f)({model:e},i.a.ESOLUTION.SavePTACADP,o.b.ESolution).then(function(){Object(a.b)("PTAC ADP saved successfully.")}).catch(function(e){Object(a.a)("Error occured while saving PTAC ADP.")})];case 1:return[2,t.sent()]}})})},t.c=function(e,t,n,a){return r(this,void 0,void 0,function(){return c(this,function(l){switch(l.label){case 0:return[4,Object(i.e)({buildingName:e,ontology:t,equipment:n,solution:a},i.a.ESOLUTION.GetPTACADPDetail,o.b.ESolution,!0)];case 1:return[2,l.sent()]}})})},t.i=function(e,t){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({model:t,buildingName:e},i.a.ESOLUTION.SavePTACControllerSettings,o.b.ESolution).then(function(){Object(a.b)("PTAC Controller Settings saved successfully.")}).catch(function(e){Object(a.a)("Error occured while saving PTAC Controller Settings.")})];case 1:return[2,n.sent()]}})})},t.e=function(e,t,n){return r(this,void 0,void 0,function(){return c(this,function(a){switch(a.label){case 0:return[4,Object(i.e)({ontology:e,solutionOntology:t,equipment:n},i.a.ESOLUTION.FetchPTACControllerSettings,o.b.ESolution,!0)];case 1:return[2,a.sent()]}})})},t.d=function(e,t,n,a,l){return r(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,Object(i.e)({buildingName:e,solutionOntology:t,equipment:n,startDate:a,endDate:l},i.a.ESOLUTION.FetchPTACControllerLogs,o.b.ESolution,!0)];case 1:return[2,r.sent()]}})})},t.g=function(e){return r(this,void 0,void 0,function(){var t,n,a,o;return c(this,function(i){for(t=[],n=0;n<e.length;n++)a=e[n],o={ontology:Object(l.g)(a.ontology),solutionOntology:Object(l.g)(a.solutionOntology),equipment:Object(l.g)(a.equipment),controlType:Object(l.g)(a.controlType),equipmentType:Object(l.g)(a.equipmentType),ptactType:Object(l.g)(a.ptactType),sensorDevice:Object(l.g)(a.sensorDevice)},t.push(o);return[2,t]})})};var a=n(24),o=n(19),l=n(10),i=n(12),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}}},893:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(660)),l=n(653),i=n(647),r=n(23),c=n(780),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),m=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={floorsList:[],locationList:[],newFloor:Object(),newLocation:{ontology:"",buildingName:n.props.buildingName,floor:"",type:"",name:"",rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:""},toggleDialogForm:!1,selectedFloorLocation:{selectedFloor:"",selectedLocation:""}},n._getFloorsList=n._getFloorsList.bind(n),n._getLocationsList=n._getLocationsList.bind(n),n.handleNewFloorChange=n.handleNewFloorChange.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.createFloor=n.createFloor.bind(n),n.updateSpace=n.updateSpace.bind(n),n}return s(t,e),t.prototype.componentDidMount=function(){return m(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,this._getFloorsList()]:[3,3];case 1:return t.sent(),[4,this._getLocationsList(this.state.selectedFloorLocation.selectedFloor)];case 2:t.sent(),(e=this.props.selectedFloorLocation)&&this.setState({selectedFloorLocation:e}),t.label=3;case 3:return[2]}})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){return m(this,void 0,void 0,function(){var t,n=this;return u(this,function(a){return e.selectedFloorLocation&&(t=this.state.selectedFloorLocation,e.selectedFloorLocation.selectedFloor&&e.selectedFloorLocation.selectedLocation&&(e.selectedFloorLocation.selectedFloor!=t.selectedFloor||e.selectedFloorLocation.selectedLocation!=t.selectedLocation)&&this.setState({selectedFloorLocation:e.selectedFloorLocation},function(){n._getFloorsList(),n._getLocationsList(n.state.selectedFloorLocation.selectedFloor)})),[2]})})},t.prototype._getFloorsList=function(){return m(this,void 0,void 0,function(){var e=this;return u(this,function(t){switch(t.label){case 0:return[4,Object(o.f)(this.props.buildingName).then(function(t){e.setState({floorsList:t})})];case 1:return t.sent(),[2]}})})},t.prototype._getLocationsList=function(e){return m(this,void 0,void 0,function(){var t,n=this;return u(this,function(a){switch(a.label){case 0:return t=this.props.buildingName,[4,Object(l.d)(e,t).then(function(e){n.setState({locationList:e})})];case 1:return a.sent(),[2]}})})},t.prototype.handleNewFloorChange=function(e){var t=this.state.newFloor;t.rdfsLabel=e,this.setState({newFloor:t})},t.prototype.handleFloorChange=function(e){return m(this,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return"newFloor"!==e?[3,1]:(document.getElementById("btnShowFloorForm").click(),[3,4]);case 1:return""===e?[3,4]:(t=this.state.selectedFloorLocation,e===t.selectedFloor?[3,3]:(t.selectedFloor=e,t.selectedLocation="",this.setState({selectedFloorLocation:t}),[4,this._getLocationsList(e)]));case 2:n.sent(),n.label=3;case 3:this.props.onLocationChange(t),n.label=4;case 4:return[2]}})})},t.prototype.handleLocationChange=function(e){return m(this,void 0,void 0,function(){var t;return u(this,function(n){return t=this.state.selectedFloorLocation,"addLocation"===e?this.setState({toggleDialogForm:!0},function(){document.getElementById("btnShowSpaceFormDialog").click()}):t.selectedLocation=e,this.setState({selectedFloorLocation:t}),this.props.onLocationChange(t),[2]})})},t.prototype.createFloor=function(){return m(this,void 0,void 0,function(){var e,t=this;return u(this,function(n){switch(n.label){case 0:return(e=this.state.newFloor)&&e.rdfsLabel?(e.floor=e.floor?e.floor:Object(r.w)(7),[4,Object(o.b)(this.props.buildingName,e)]):[3,4];case 1:return n.sent(),[4,this._getFloorsList()];case 2:return n.sent(),[4,this.handleFloorChange(e.floor)];case 3:n.sent(),setTimeout(function(){document.getElementById("btnShowSpaceFormDialog").click(),t.setState({toggleDialogForm:!1})},1e3),n.label=4;case 4:return[2]}})})},t.prototype.updateSpace=function(e){return m(this,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return[4,this._getLocationsList(e.floor)];case 1:return n.sent(),(t=this.state.selectedFloorLocation).selectedFloor=e.floor,t.selectedLocation=e.name,this.setState({selectedFloorLocation:t}),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.isDisabled,o=t.buildingName,l=t.instance,r=this.state,s=r.selectedFloorLocation,m=r.floorsList,u=r.locationList,d=r.newFloor,p=r.toggleDialogForm;return a.createElement("div",{className:"row",style:{paddingTop:"10px"}},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"floor"},"Floor:"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("select",{id:"floor",className:(s.selectedFloor?"":"addFieldValidate")+" form-control",disabled:n,value:s.selectedFloor,onChange:function(t){return e.handleFloorChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Floor"),a.createElement("option",{value:"newFloor",key:-1},"New Floor"),a.createElement("hr",null),m&&m.length>0&&m.map(function(e,t){return a.createElement("option",{value:e.ontology.value,key:t},e.rdfsLabel.value," ")})),a.createElement("button",{type:"button",id:"btnShowFloorForm",className:"btn btn-primary btn-fill","data-toggle":"modal","data-target":"#floorFormDialog",style:{display:"none"}},"."),a.createElement(i.a,{id:"floorFormDialog",onSaveButtonClick:function(){e.createFloor()},saveButtonText:"Save and Create Space",disableSaveButton:!1},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-4 center"},a.createElement("label",{htmlFor:"newfloor"},"Floor:")),a.createElement("div",{className:"col-md-7"},a.createElement("input",{id:"newfloor",type:"text",className:"form-control",value:d.rdfsLabel,onChange:function(t){return e.handleNewFloorChange(t.target.value)}}))))))),a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"space"},"Space:"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("select",{id:"space",className:(s.selectedLocation?"":"addFieldValidate")+" form-control",disabled:n,value:s.selectedLocation,onChange:function(t){return e.handleLocationChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Location"),a.createElement("hr",null),a.createElement("option",{value:"addLocation",key:-1},"New Space"),a.createElement("hr",null),u.map(function(e,t){return a.createElement("option",{value:e.ontology.value,key:t},e.rdfsLabel.value," ")}))))),p&&a.createElement(c.a,{updateSpace:this.updateSpace,closeDailogBtnID:"btnShowSpaceFormDialog",floor:s.selectedFloor,buildingName:o,instance:l}))},t}(a.Component);t.a=d},894:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(647)),l=n(117),i=n(651),r=n(11),c=n(10),s=n(654),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_monconDeviceTypes:[],_monconDeviceTypesMulti:[],newDeviceType:"",Moncon:Object(),selectedMonconDevice:Object()},n._fetchMonConDeviceTypes=n._fetchMonConDeviceTypes.bind(n),n.saveEquipmentType=n.saveEquipmentType.bind(n),n.onchangeEquipmentType=n.onchangeEquipmentType.bind(n),n.handleMonConDeviceTypeChange=n.handleMonConDeviceTypeChange.bind(n),n}return m(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.state,n=t.selectedMonconDevice,a=t._monconDeviceTypesMulti;e&&e.Moncon&&e.Moncon.monitoringControlDeviceType&&(n=a&&a.find(function(t){return t.value==e.Moncon.monitoringControlDeviceType})),this.setState({Moncon:e.Moncon,selectedMonconDevice:n})},t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchMonConDeviceTypes()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype._fetchMonConDeviceTypes=function(){return u(this,void 0,void 0,function(){var e=this;return d(this,function(t){switch(t.label){case 0:return Object(l.a)(!0),[4,Object(i.A)().then(function(t){var n=[];t.map(function(e){var t=Object();t.label=Object(c.g)(e.moncon),t.value=Object(c.g)(e.moncon),n.push(t)}),"1"==JSON.parse(r.a.getItem("user")).role&&n.push({label:"Add New Device Type",value:"newDeviceType"}),e.setState({_monconDeviceTypes:t,_monconDeviceTypesMulti:n})}).catch(function(e){return e})];case 1:return t.sent(),Object(l.a)(!1),[2]}})})},t.prototype.onchangeEquipmentType=function(e){var t=e.target.value;this.setState({newDeviceType:t})},t.prototype.saveEquipmentType=function(){return u(this,void 0,void 0,function(){var e,t,n,a=this;return d(this,function(o){switch(o.label){case 0:return e=this.state.Moncon,t=this.state.newDeviceType,n=t.replace(new RegExp(" ","g"),""),t="",Object(l.a)(!0),[4,Object(i.D)(n,this.props.buildingName).then(function(e){}).catch(function(e){return e})];case 1:return o.sent(),e.monitoringControlDeviceType=n,this.setState({Moncon:e,newDeviceType:t},function(){return u(a,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,this._fetchMonConDeviceTypes()];case 1:return e.sent(),[2]}})})}),Object(l.a)(!1),this.props.handleMonConDeviceTypeChange(e),[2]}})})},t.prototype.handleMonConDeviceTypeChange=function(e){var t=this.state,n=t.selectedMonconDevice,a=t.Moncon;if(e){var o=e.value;"newDeviceType"==o?document.getElementById("newEquipTypeDailogebtn").click():(a.monitoringControlDeviceType=o,n=e,this.props.handleMonConDeviceTypeChange(a)),this.setState({Moncon:a,selectedMonconDevice:n})}},t.prototype.render=function(){var e=this,t=this.props.isView,n=this.state,l=n.newDeviceType,i=n._monconDeviceTypesMulti,r=n.selectedMonconDevice;return a.createElement("div",{className:""},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"moncontype"},"Monitoring/Control Device Type:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:(r.value?"":"addFieldValidate")+" form-group"},a.createElement(s.a,{isDisabled:t,closeMenuOnSelect:!0,isMulti:!1,value:r,onChange:this.handleMonConDeviceTypeChange,placeholder:"Select Monitoring",options:i}))),a.createElement("div",{className:"colmd-12"},a.createElement("button",{id:"newEquipTypeDailogebtn",type:"button","data-toggle":"modal","data-target":"#AddTypeDailogeBox",className:"btn btn-dark hidden"}),a.createElement(o.a,{id:"AddTypeDailogeBox",heading:"Add New Device Type",saveButtonText:"Done",onSaveButtonClick:function(){e.saveEquipmentType()},disableSaveButton:!l},a.createElement("div",{className:"content"},a.createElement("div",{className:"dataCard"},a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{style:{padding:"10px"},className:"row"},a.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"New Device Type:"),a.createElement("div",{className:"col-md-8 headingText"},a.createElement("input",{value:l,onChange:function(t){e.onchangeEquipmentType(t)},type:"text",className:"form-control"})," "))))))))))},t}(a.Component);t.a=p},895:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(647)),l=n(117),i=n(659),r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={intesisHome_Devices:[],filterString:""},n._fetchIntesisInfo=n._fetchIntesisInfo.bind(n),n}return r(t,e),t.prototype._fetchIntesisInfo=function(){return c(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return Object(l.a)(!0),[4,Object(i.v)(this.props.buildingName)];case 1:return(e=t.sent())&&e.devices&&this.setState({intesisHome_Devices:e.devices}),Object(l.a)(!1),[2]}})})},t.prototype.handleFilterStringChange=function(e){this.setState({filterString:e})},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.intesisHome_Devices,l=t.filterString;return a.createElement("div",{className:"col-md-1 col-sm-1 padding-5"},a.createElement("button",{className:"btn btn-xs btn-secondary btn-fill","data-toggle":"modal","data-target":"#IntesisHomeDeviceList",type:"button",title:"View available IntesisHome devices",onClick:function(){return c(e,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this._fetchIntesisInfo()];case 1:return e.sent(),[2]}})})}},a.createElement("i",{className:"fa fa-list"})),a.createElement(o.a,{id:"IntesisHomeDeviceList",heading:"IntesisHome Device List",saveButtonText:"Close",disableSaveButton:!1},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-9"},a.createElement("div",{className:"col-md-3 padding-5"},a.createElement("label",null,"Filters: ")),a.createElement("div",{className:"col-md-9"},a.createElement("input",{className:"form-control",type:"text",name:"filter",id:"filter",value:l,onChange:function(t){return e.handleFilterStringChange(t.target.value)},title:"Search filter..."}))),a.createElement("div",{className:"col-md-3 padding-5"},a.createElement("button",{className:"btn btn-sm btn-secondary btn-fill pull-right",type:"button",title:"Configure available IntesisHome devices to the API Credentials",onClick:function(){return c(e,void 0,void 0,function(){return s(this,function(e){return window.open("https://user.intesishome.com/oauth2/devices?scope=unused&state=asdflkjlaks&redirect_uri=google.com&client_id=my2wy-k2d5b-pmkgp-dbjr6-1ze2j"),[2]})})}},a.createElement("i",{className:"fa fas fa-tasks"})," Configure Devices"))),a.createElement("hr",null),n&&n.filter(function(e){return-1!=e.name.toLowerCase().indexOf(l.toLowerCase())}).map(function(e){return a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-5"},a.createElement("label",{htmlFor:""},"Device Name:"),a.createElement("br",null),a.createElement("b",null,e.name)),a.createElement("div",{className:"col-md-7"},a.createElement("label",{htmlFor:""},"Device ID:"),a.createElement("br",null),a.createElement("b",null,e.device_id)))})))},t}(a.Component);t.a=m},896:function(e,t,n){"use strict";var a=n(2),o=n.n(a),l=n(647),i=n(10),r=n(651),c=n(773),s=n(650),m=n(653),u=n(660),d=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),p=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={DropdownModelObj:Object(),PanelEquipmentList:[],floorsList:[],locationList:[],networkDevice:n.props.networkDevice?n.props.networkDevice:Object(),networkListType:[],networkDeviceTypes:[]},n.getNetworkType=n.getNetworkType.bind(n),n.getPanelEquipmentList=n.getPanelEquipmentList.bind(n),n.getFloorsList=n.getFloorsList.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n._fetchNetworkDeviceTypes=n._fetchNetworkDeviceTypes.bind(n),n.getLocationsList=n.getLocationsList.bind(n),n.handleDeviceChange=n.handleDeviceChange.bind(n),n.handleNetworkType=n.handleNetworkType.bind(n),n.saveNetworkType=n.saveNetworkType.bind(n),n}return d(t,e),t.prototype.componentDidMount=function(){return p(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,this.getNetworkType()];case 1:return e.sent(),[4,this.getFloorsList()];case 2:return e.sent(),[4,this.getPanelEquipmentList()];case 3:return e.sent(),[4,this._fetchNetworkDeviceTypes()];case 4:return e.sent(),[2]}})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e&&e.networkDevice&&(e.networkDevice.floor&&this.state.locationList&&0==this.state.locationList.length&&this.getLocationsList(e.networkDevice.floor),this.setState({networkDevice:e.networkDevice}))},t.prototype._fetchNetworkDeviceTypes=function(){return p(this,void 0,void 0,function(){var e=this;return h(this,function(t){switch(t.label){case 0:return[4,Object(r.B)().then(function(t){e.setState({networkDeviceTypes:t})}).catch(function(e){return e})];case 1:return t.sent(),[2]}})})},t.prototype.getNetworkType=function(){return p(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e=this.state.networkListType,[4,Object(c.c)()];case 1:return(t=n.sent())&&t.length>0&&(e=t.filter(function(e){return"Network Type"==Object(i.g)(e.type)}),this.setState({networkListType:e})),[2]}})})},t.prototype.getPanelEquipmentList=function(){return p(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(s.p)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(i.g)(e.ontology),label:Object(i.g)(e.rdfsLabel)}}),this.setState({PanelEquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.getFloorsList=function(){return p(this,void 0,void 0,function(){var e=this;return h(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,Object(u.f)(this.props.buildingName).then(function(t){e.setState({floorsList:t})})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.getLocationsList=function(e){return p(this,void 0,void 0,function(){var t,n,a=this;return h(this,function(o){switch(o.label){case 0:return t=this.props.buildingName,n=this.state.locationList,""===e?[3,2]:[4,Object(m.d)(e,t).then(function(e){n=e,a.setState({locationList:n})})];case 1:return o.sent(),[3,3];case 2:n=[],this.setState({locationList:n}),o.label=3;case 3:return[2]}})})},t.prototype.handleFloorChange=function(e){return p(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return(t=this.state.networkDevice).floor=e,e||(t.location=""),this.setState({networkDevice:t}),this.props.handleNetworkDeviceChange(t),[4,this.getLocationsList(e)];case 1:return n.sent(),[2]}})})},t.prototype.handleDeviceChange=function(e){var t=this.state.networkDevice;t[""+e.target.name]=e.target.value,this.setState({networkDevice:t}),this.props.handleNetworkDeviceChange(t)},t.prototype.handleNetworkType=function(e){var t=this.state.networkDevice;"Others"==e.target.value?(t.networkType="",document.getElementById("networkTypeDialog").click()):this.handleDeviceChange(e)},t.prototype.saveNetworkType=function(){return p(this,void 0,void 0,function(){var e,t,n=this;return h(this,function(a){switch(a.label){case 0:return e=this.state.DropdownModelObj,t=this.state.networkDevice.networkType,e.name=t,e.type="Network Type",[4,Object(c.b)(e,!1).then(function(){n.getNetworkType()}).catch(function(e){console.log(e)})];case 1:return a.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.isView,a=t.NetworkDevice_List,r=this.state,c=r.networkDevice,s=r.networkDeviceTypes,m=r.networkListType,u=r.PanelEquipmentList,d=r.floorsList,p=r.locationList;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row padding-10"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Device Name"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"name",name:"name",disabled:n,className:(c.name?"":"addFieldValidate")+" form-control",value:c.name,onChange:function(t){return e.handleDeviceChange(t)}}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"networkType"},"Network Device Type"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(c.networkDeviceType?"":"addFieldValidate")+" form-control",id:"networkDeviceType",disabled:n,name:"networkDeviceType",value:c.networkDeviceType,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:""},"Select Network Device Type"),s&&s.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(i.g)(e.moncon)},Object(i.g)(e.moncon))})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"deviceID"},"Device ID"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"deviceID",disabled:!0,className:"form-control",value:c.deviceID,name:"deviceID",onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"deviceState"},"Device State"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("select",{className:(c.deviceState?"":"addFieldValidate")+" form-control",id:"deviceState",name:"deviceState",disabled:n,onChange:function(t){return e.handleDeviceChange(t)},value:c.deviceState?c.deviceState:""},o.a.createElement("option",{value:""},"Select State"),o.a.createElement("option",{value:"Planned"},"Planned"),o.a.createElement("option",{value:"Ordered"},"Ordered"),o.a.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),o.a.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),o.a.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),o.a.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),o.a.createElement("option",{value:"Assembly"},"Assembly"),o.a.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),o.a.createElement("option",{value:"Kitting"},"Kitting"),o.a.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),o.a.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),o.a.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),o.a.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),o.a.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),o.a.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),o.a.createElement("option",{value:"Existing"},"Existing In Use"),o.a.createElement("option",{value:"Retired"},"Retired"),o.a.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),o.a.createElement("option",{value:"Sold"},"Sold"),o.a.createElement("option",{value:"DisposedOf"},"Disposed Of"),o.a.createElement("option",{value:"ErrorDeleted"},"Error Deleted"))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"modelNo"},"Model"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"modelNo",name:"modelNo",disabled:n,className:"form-control",value:c.modelNo,onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"ipAddress"},"IP Address"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"ipAddress",name:"ipAddress",disabled:n,className:(c.ipAddress?"":"addFieldValidate")+" form-control",value:c.ipAddress,onChange:function(t){return e.handleDeviceChange(t)}}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"networkType"},"Network Type"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(c.networkType?"":"addFieldValidate")+" form-control",id:"networkType",disabled:n,name:"networkType",value:c.networkType,onChange:function(t){return e.handleNetworkType(t)}},o.a.createElement("option",{value:""},"Select Network Type"),m&&m.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(i.g)(e.name)},Object(i.g)(e.name))}),o.a.createElement("option",{value:"Others"},"Others")))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"enclosure"},"Cabinet"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"enclosure",name:"enclosure",disabled:n,value:c.enclosure,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Cabinet Equipment"),u&&u.length>0&&u.map(function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.label," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"floor"},"Floor"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{id:"floor",className:(c.floor?"":"addFieldValidate")+" form-control",disabled:n,value:c.floor?c.floor:"",onChange:function(t){return e.handleFloorChange(t.target.value)}},o.a.createElement("option",{value:"",key:-2},"Select Floor"),d&&d.length>0&&d.map(function(e,t){return o.a.createElement("option",{value:Object(i.g)(e.ontology),key:t},Object(i.g)(e.rdfsLabel)," ")})))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"location"},"Space"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(c.location?"":"addFieldValidate")+" form-control",id:"location",name:"location",disabled:n,value:c.location,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Space"),p.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(i.g)(e.ontology)}," ",Object(i.g)(e.rdfsLabel)," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"networkdevice"},"Networking Device:"))),o.a.createElement("div",{className:"col-md-4 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"networkDevice",name:"networkDevice",value:c.networkDevice?c.networkDevice:"",disabled:n,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Network Device"),a.length>0&&a.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(i.g)(e.ontology)},Object(i.g)(e.name))})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"networkURL"},"Network URL:"))),o.a.createElement("div",{className:"col-md-4 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"networkURL",name:"networkURL",disabled:n,className:"form-control",value:c.networkURL,onChange:function(t){return e.handleDeviceChange(t)}})))))),o.a.createElement("button",{type:"button",id:"networkTypeDialog",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#dialogNetworkType"}," ."),o.a.createElement(l.a,{id:"dialogNetworkType",heading:"New Network Type",saveButtonText:"Save",cancelButtonText:"Cancel",disableSaveButton:!!c.networkType,showCancelButton:!0,showSaveButton:!0,onSaveButtonClick:function(){e.saveNetworkType()}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("label",{htmlFor:"point"},"Name:"),o.a.createElement("br",null),o.a.createElement("input",{type:"text",className:"controls clearfix form-control",name:"networkType",placeholder:"Other Name",onChange:function(t){return e.handleDeviceChange(t)},value:c.networkType})))))},t}(o.a.Component);t.a=g},897:function(e,t,n){"use strict";var a=n(2),o=n.n(a),l=n(10),i=n(666),r=n(650),c=n(653),s=n(659),m=n(660),u=n(654),d=n(672),p=n(651),h=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),g=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},v=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),o=0;for(t=0;t<n;t++)for(var l=arguments[t],i=0,r=l.length;i<r;i++,o++)a[o]=l[i];return a},b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={PanelEquipmentList:[],floorsList:[],locationList:[],computingDevice:n.props.computingDevice?n.props.computingDevice:Object(),devicesList:[],buildings:[],computingDeviceList:[],filteredComputingDeviceList:[],computingDeviceTypes:[],MonconApplications:[]},n.getPanelEquipmentList=n.getPanelEquipmentList.bind(n),n.getFloorsList=n.getFloorsList.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.getLocationsList=n.getLocationsList.bind(n),n.handleDeviceChange=n.handleDeviceChange.bind(n),n.fetchBuildings=n.fetchBuildings.bind(n),n.getDevicesList=n.getDevicesList.bind(n),n.handleRelatedDevices=n.handleRelatedDevices.bind(n),n.handleRelatedComputingDevices=n.handleRelatedComputingDevices.bind(n),n.handleBuildingChange=n.handleBuildingChange.bind(n),n.getComputingDevices=n.getComputingDevices.bind(n),n.filterComputingDevices=n.filterComputingDevices.bind(n),n._fetchComputingDeviceTypes=n._fetchComputingDeviceTypes.bind(n),n}return h(t,e),t.prototype.componentDidMount=function(){return g(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,this.fetchBuildings()];case 1:return e.sent(),[4,this.getComputingDevices()];case 2:return e.sent(),[4,this.getPanelEquipmentList()];case 3:return e.sent(),[4,this._fetchComputingDeviceTypes()];case 4:return e.sent(),[2]}})})},t.prototype._fetchComputingDeviceTypes=function(){return g(this,void 0,void 0,function(){var e=this;return f(this,function(t){switch(t.label){case 0:return[4,Object(p.y)().then(function(t){e.setState({computingDeviceTypes:t})}).catch(function(e){return e})];case 1:return t.sent(),[2]}})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){return g(this,void 0,void 0,function(){var t=this;return f(this,function(n){switch(n.label){case 0:return e&&e.computingDevice?e.computingDevice.building?(this.filterComputingDevices(e.computingDevice.building),this.state.devicesList&&0==this.state.devicesList.length?[4,this.getDevicesList(e.computingDevice.building)]:[3,2]):[3,4]:[3,5];case 1:n.sent(),n.label=2;case 2:return this.state.floorsList&&0==this.state.floorsList.length?[4,this.getFloorsList(e.computingDevice.building)]:[3,4];case 3:n.sent(),n.label=4;case 4:e.computingDevice.floor&&this.state.locationList&&0==this.state.locationList.length&&this.getLocationsList(e.computingDevice.floor),this.setState({computingDevice:e.computingDevice},function(){return g(t,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,this.getMonconApplicatons()];case 1:return e.sent(),[2]}})})}),n.label=5;case 5:return[2]}})})},t.prototype.fetchBuildings=function(){return g(this,void 0,void 0,function(){var e=this;return f(this,function(t){switch(t.label){case 0:return[4,Object(i.d)().then(function(t){e.setState({buildings:t})}).catch(function(e){return e})];case 1:return t.sent(),[2]}})})},t.prototype.getComputingDevices=function(){return g(this,void 0,void 0,function(){var e;return f(this,function(t){switch(t.label){case 0:return[4,Object(d.f)()];case 1:return e=t.sent(),this.setState({computingDeviceList:e}),[2]}})})},t.prototype.filterComputingDevices=function(e){return g(this,void 0,void 0,function(){var t,n,a,o,i;return f(this,function(r){if(t=this.state.computingDeviceList,n=[],e)for(a=t.filter(function(t){return Object(l.g)(t.building)==e}),o=0;o<a.length;o++)i=a[o],n.push({value:Object(l.g)(i.ontology),label:Object(l.g)(i.name)});else n=[];return this.setState({filteredComputingDeviceList:n}),[2]})})},t.prototype.getDevicesList=function(e){return g(this,void 0,void 0,function(){var t,n,a;return f(this,function(o){switch(o.label){case 0:return t=[],e?[4,Object(s.u)(e)]:[3,2];case 1:(n=o.sent())&&n.length>0&&(a=Object(),n.map(function(e){a={value:Object(l.g)(e.moncondevice),label:Object(l.g)(e.rdfsLabel)},t&&t.push(a)})),o.label=2;case 2:return this.setState({devicesList:t}),[2]}})})},t.prototype.getPanelEquipmentList=function(){return g(this,void 0,void 0,function(){var e,t;return f(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(r.p)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(l.g)(e.ontology),label:Object(l.g)(e.rdfsLabel)}}),this.setState({PanelEquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.getFloorsList=function(e){return g(this,void 0,void 0,function(){var t=this;return f(this,function(n){switch(n.label){case 0:return e?[4,Object(m.f)(e).then(function(e){t.setState({floorsList:e})})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.getLocationsList=function(e){return g(this,void 0,void 0,function(){var t,n,a=this;return f(this,function(o){switch(o.label){case 0:return t=this.props.buildingName,n=this.state.locationList,""===e?[3,2]:[4,Object(c.d)(e,t).then(function(e){n=e,a.setState({locationList:n})})];case 1:return o.sent(),[3,3];case 2:n=[],this.setState({locationList:n}),o.label=3;case 3:return[2]}})})},t.prototype.handleBuildingChange=function(e){var t=this,n=this.state.computingDevice;n.building=e,e||(n.floor="",n.space=""),this.setState({computingDevice:n},function(){t.getDevicesList(e),t.getFloorsList(e),t.filterComputingDevices(e)}),this.props.handleComputingDeviceChange(n)},t.prototype.handleFloorChange=function(e){return g(this,void 0,void 0,function(){var t;return f(this,function(n){switch(n.label){case 0:return(t=this.state.computingDevice).floor=e,e||(t.space=""),this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t),[4,this.getLocationsList(e)];case 1:return n.sent(),[2]}})})},t.prototype.handleDeviceChange=function(e){var t=this,n=this.state.computingDevice;n[""+e.target.name]=e.target.value,this.setState({computingDevice:n},function(){t.getMonconApplicatons()}),this.props.handleComputingDeviceChange(n)},t.prototype.handleRelatedDevices=function(e){var t=this.state.computingDevice;t.devices=e,this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t)},t.prototype.getMonconApplicatons=function(){return g(this,void 0,void 0,function(){var e,t;return f(this,function(n){switch(n.label){case 0:return(e=this.state.computingDevice).computingDeviceType?[4,Object(p.j)([e.computingDeviceType]).catch(function(e){return[]})]:[3,2];case 1:return t=n.sent(),this.setState({MonconApplications:v(t)}),[3,3];case 2:this.setState({MonconApplications:[]}),n.label=3;case 3:return[2]}})})},t.prototype.handleRelatedComputingDevices=function(e){var t=this.state.computingDevice;t.relatedComputingDevices=e,this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t)},t.prototype.render=function(){var e=this,t=this.props,n=t.isView,a=t.NetworkDevice_List,i=this.state,r=i.computingDevice,c=i.buildings,s=i.computingDeviceTypes,m=i.devicesList,d=i.PanelEquipmentList,p=i.floorsList,h=i.locationList,g=i.filteredComputingDeviceList,f=i.MonconApplications;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row padding-10"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Device Name"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"name",name:"name",disabled:n,className:(r.name?"":"addFieldValidate")+" form-control",value:r.name,onChange:function(t){return e.handleDeviceChange(t)}}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"computingDeviceType"},"Computing Device Type"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(r.computingDeviceType?"":"addFieldValidate")+" form-control",id:"computingDeviceType",disabled:n,name:"computingDeviceType",value:r.computingDeviceType,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:""},"Select Computing Device Type"),s&&s.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(l.g)(e.moncon)},Object(l.g)(e.moncon))})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"application"},"Application"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"application",disabled:n,name:"application",value:r.application,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"General"),f.length>0&&f.map(function(e,t){return o.a.createElement("option",{key:t,value:e.ontology},e.applicationLabel)})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"deviceID"},"Device ID"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"deviceID",disabled:!0,className:"form-control",value:r.deviceID,name:"deviceID",onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"deviceState"},"Device State"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("select",{className:(r.deviceState?"":"addFieldValidate")+" form-control",id:"deviceState",name:"deviceState",disabled:n,onChange:function(t){return e.handleDeviceChange(t)},value:r.deviceState?r.deviceState:""},o.a.createElement("option",{value:""},"Select State"),o.a.createElement("option",{value:"Planned"},"Planned"),o.a.createElement("option",{value:"Ordered"},"Ordered"),o.a.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),o.a.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),o.a.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),o.a.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),o.a.createElement("option",{value:"Assembly"},"Assembly"),o.a.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),o.a.createElement("option",{value:"Kitting"},"Kitting"),o.a.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),o.a.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),o.a.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),o.a.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),o.a.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),o.a.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),o.a.createElement("option",{value:"Existing"},"Existing In Use"),o.a.createElement("option",{value:"Retired"},"Retired"),o.a.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),o.a.createElement("option",{value:"Sold"},"Sold"),o.a.createElement("option",{value:"DisposedOf"},"Disposed Of"),o.a.createElement("option",{value:"ErrorDeleted"},"Error Deleted"))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"controllerIpAddress"},"Controller IP Address"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"controllerIpAddress",name:"controllerIpAddress",disabled:n,className:(r.controllerIpAddress?"":"addFieldValidate")+" form-control",value:r.controllerIpAddress,onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"enclosure"},"Cabinet"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"enclosure",name:"enclosure",disabled:n,value:r.enclosure,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Cabinet Equipment"),d&&d.length>0&&d.map(function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.label," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"macID"},"Device Mac ID"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"macID",name:"macID",disabled:n,className:(r.macID?"":"addFieldValidate")+" form-control",value:r.macID,onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"building"},"Building"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(r.building?"":"addFieldValidate")+" form-control",id:"building",disabled:n,name:"building",value:r.building,onChange:function(t){return e.handleBuildingChange(t.target.value)}},o.a.createElement("option",{value:""},"Select Building"),c&&c.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(l.g)(e.building)},Object(l.g)(e.rdfsLabel))})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"floor"},"Floor"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{id:"floor",className:(r.floor?"":"addFieldValidate")+" form-control",disabled:n,value:r.floor?r.floor:"",onChange:function(t){return e.handleFloorChange(t.target.value)}},o.a.createElement("option",{value:"",key:-2},"Select Floor"),p&&p.length>0&&p.map(function(e,t){return o.a.createElement("option",{value:Object(l.g)(e.ontology),key:t},Object(l.g)(e.rdfsLabel)," ")})))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"space"},"Space"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(r.space?"":"addFieldValidate")+" form-control",id:"space",name:"space",disabled:n,value:r.space,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Space"),h.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(l.g)(e.ontology)}," ",Object(l.g)(e.rdfsLabel)," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"connectedDevices"},"Data flow Relationship Devices"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement(u.a,{isDisabled:n,closeMenuOnSelect:!1,isMulti:!0,value:r.devices,onChange:this.handleRelatedDevices,placeholder:"Select Devices",options:m}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"space"},"Data flow Relationship Computing Devices"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement(u.a,{isDisabled:n,closeMenuOnSelect:!1,isMulti:!0,value:r.relatedComputingDevices,onChange:this.handleRelatedComputingDevices,placeholder:"Select Computing Devices",options:g}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"networkdevice"},"Networking Device:"))),o.a.createElement("div",{className:"col-md-4 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"networkDevice",name:"networkDevice",value:r.networkDevice?r.networkDevice:"",disabled:n,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Network Device"),a.length>0&&a.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(l.g)(e.ontology)},Object(l.g)(e.name))}))))))))},t}(o.a.Component);t.a=b},934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(727)),l=n(1175),i=n(659),r=n(117),c=n(683),s=n(651),m=n(10),u=n(24),d=n(652),p=n(23),h=n(935),g=n(662),f=n(663),v=n(11),b=n(678),E=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),y=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},N=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},C=function(e){function t(t){var n=e.call(this,t)||this;return n.state={schedule:Object(),Moncon:Object(),intesisHome_Device:Object(),InsightInfo:Object(),building:!1,RelayBoardInfo:Object(),compressorADPDB:Object(),compressorTemperature:n.props.compressorTemperatureOrDefrostState?n.props.compressorTemperatureOrDefrostState:"",showLogs:!1,solutionEquipmentControlScreenSettings:Object()},n.update_Schedule=n.update_Schedule.bind(n),n.saveSchedule=n.saveSchedule.bind(n),n.fetchSchedule=n.fetchSchedule.bind(n),n.resetSchedule=n.resetSchedule.bind(n),n._fetchRelayBoardInfo=n._fetchRelayBoardInfo.bind(n),n.fetchSolutionsSchedule=n.fetchSolutionsSchedule.bind(n),n}return E(t,e),t.prototype.componentDidMount=function(){return y(this,void 0,void 0,function(){var e,t,n,a,o,l,r,c,m,d,p,h,g,f;return N(this,function(v){switch(v.label){case 0:return e=this.props,t=e.buildingName,n=e.InsightName,a=e.type,o=e.ControlName,l=e.isSolution,t&&a&&a.length>0?(r=!!(a&&a.length>0&&"Building"==a),c=Object(),[4,Object(s.v)(n,t)]):[3,10];case 1:return c=v.sent(),m=Object(),l?[4,this.fetchSolutionsSchedule()]:[3,3];case 2:return d=v.sent(),[3,5];case 3:return[4,this.fetchSchedule(r)];case 4:d=v.sent(),v.label=5;case 5:return m=d,p=c.monitoringControlDeviceType&&-1!=c.monitoringControlDeviceType.toLowerCase().indexOf("intesis"),h=Object(),g=Object(),(f=localStorage.getItem(c.deviceID))&&f.length>0&&"undefined"!=f?p?(h=JSON.parse(f),[3,9]):[3,6]:[3,9];case 6:return c&&c.deviceName?[4,Object(i.B)(t,n).then(function(e){return!e||e&&e.error?(Object(u.a)("Error occurred while fetching thermostat info."),Object()):e}).catch(function(e){return Object()})]:[3,8];case 7:return g=v.sent(),[3,9];case 8:g=JSON.parse(f),v.label=9;case 9:"CompressorControl"==o&&this.fetchADPValues(),this.setState({Moncon:c,schedule:m,InsightInfo:g,intesisHome_Device:h,building:r},function(){}),v.label=10;case 10:return[2]}})})},t.prototype.fetchThermostatMQTTData=function(e){return y(this,void 0,void 0,function(){var t,n,a;return N(this,function(o){switch(o.label){case 0:return t=Object(),[4,Object(i.F)(e,new Date,new Date,!0)];case 1:return(n=o.sent())&&n.length>0&&n[0]&&(a=n[0],t={activestage:a.activestage,availablemodes:a.availablemodes,away:a.away,cooltemp:a.cooltemp,cooltempmax:a.cooltempmax,cooltempmin:a.cooltempmin,dehum_setpoint:0,fan:a.fan,fanstate:a.fanstate,forceunocc:0,heattemp:a.heattemp,heattempmax:a.heattempmax,heattempmin:a.heattempmin,holiday:0,hum:0,hum_setpoint:0,insightName:this.props.InsightName,mode:a.mode,name:a.name,override:0,overridetime:0,schedule:a.schedule,schedulepart:a.schedulepart,setpointdelta:a.setpointdelta,spacetemp:a.spacetemp,state:a.state,tempunits:a.tempunits,thermostatControlStatus:"",timestamp:a.timestamp}),[2,t]}})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.compressorTemperatureOrDefrostState&&this.setState({compressorTemperature:e.compressorTemperatureOrDefrostState})},t.prototype.fetchADPValues=function(){return y(this,void 0,void 0,function(){var e,t,n,a;return N(this,function(o){switch(o.label){case 0:return e=this.props,t=e.equipmentOntology,n=e.buildingName,[4,Object(i.o)(n,"",t)];case 1:return a=o.sent(),this.setState({compressorADPDB:a}),[2]}})})},t.prototype._fetchRelayBoardInfo=function(){return y(this,void 0,void 0,function(){var e,t;return N(this,function(n){switch(n.label){case 0:return e=this.state.Moncon,[4,Object(i.C)(e).then(function(t){if(!t||t&&t.error)return Object(u.a)("Error occurred while fetching relay board info."),Object();var n=JSON.stringify(t);return n=(n=n.replace(/'/g,'"')).replace(/^"(.*)"$/,"$1"),t=JSON.parse(n),localStorage.setItem(e.deviceID,JSON.stringify(t)),t}).catch(function(e){return Object()})];case 1:return t=n.sent(),this.setState({RelayBoardInfo:t}),[2]}})})},t.prototype.fetchSolutionsSchedule=function(){return y(this,void 0,void 0,function(){var e,t,n,a,o,l,r,c,s,u,d,p;return N(this,function(h){switch(h.label){case 0:return e=this.props,t=e.equipmentOntology,n=e.isDefrost,t&&t.length>0?(a=Object(),o=n?"Defrost":0==n?"Box":"",[4,Object(i.z)(t,"",o)]):[3,3];case 1:for(l=h.sent(),r="",c=0;c<l.length;c++)s=l[c],r=Object(m.g)(s.solutionOntology),a[Object(m.g)(s.day)]||(a[Object(m.g)(s.day)]=[]),a[Object(m.g)(s.day)].push({ontology:Object(m.g)(s.ontology),setPoint:Object(m.g)(s.setPoint),setRelayStatus:Object(m.g)(s.setStatusType),compressorScheduleType:Object(m.g)(s.compressorScheduleType),start:Object(m.g)(s.start)});return[4,Object(b.v)(r)];case 2:return u=h.sent(),d=Object(),u&&u.length>0&&u[0]._id&&(p=Object(),d=u[0],p=d&&d.manageControlScreenDetails&&d.manageControlScreenDetails.length>0&&d.manageControlScreenDetails.find(function(e){return e.equipment==t})?d.manageControlScreenDetails.find(function(e){return e.equipment==t}):{equipment:t,equipmentLabel:"",equipmentType:"",defrostAttached:"inhibit",showCompressorValue:!0,showDoorContactValue:!0,showFreezerDefrostValue:!0,showPressureSensorValue:!0,showRefrigeratorStatus:!0,showCompressorDemandingStatus:!0,showDefrostDemandingStatus:!0,showEvapFanDemandingStatus:!0},this.setState({solutionEquipmentControlScreenSettings:p})),[2,a];case 3:return[2]}})})},t.prototype.fetchSchedule=function(e){return y(this,void 0,void 0,function(){var t,n,a,o,l,r,c;return N(this,function(s){switch(s.label){case 0:return t=this.props,n=t.buildingName,a=t.InsightName,(o=Object()).deviceName=a,[4,Object(i.t)(n,a,e)];case 1:for(l=s.sent(),r=0;r<l.length;r++)c=l[r],o[Object(m.g)(c.day)]||(o[Object(m.g)(c.day)]=[]),o[Object(m.g)(c.day)].push({ontology:Object(m.g)(c.ontology),setPoint:Object(m.g)(c.setPoint),setHeatPoint:Object(m.g)(c.setHeatPoint),setCoolPoint:Object(m.g)(c.setCoolPoint),setRelayStatus:Object(m.g)(c.setRelayStatus),setRelayName:Object(m.g)(c.setRelayName),start:Object(m.g)(c.start),compressorScheduleType:Object(m.g)(c.compressorScheduleType),refEquipment:Object(m.g)(c.refEquipment)});return[2,o]}})})},t.prototype.update_Schedule=function(e){this.setState({schedule:e})},t.prototype.saveSchedule=function(){return y(this,void 0,void 0,function(){var e,t,n,a,o,l,c,s,m,d,p,h,g,f,v,b,E,y,C;return N(this,function(N){switch(N.label){case 0:for(e=this.props,t=e.buildingName,n=e.ControlName,a=e.isSolution,o=e.equipmentOntology,l=e.solutionOntology,c=e.solutionEquipmentType,s=e.isDefrost,m=this.state,d=m.schedule,p=m.building,Object(r.a)(!0),h=Object.keys(d),g=0;g<h.length;g++)if(f=h[g],(v=f.toLowerCase())&&""!=v||d[f].splice(g,1),"monday"==v||"tuesday"==v||"wednesday"==v||"thursday"==v||"friday"==v||"saturday"==v||"sunday"==v)for(b=d[f],E=0;E<b.length;E++)(y=b[E]).setPoint||y.setCoolPoint&&y.setHeatPoint||y.setRelayStatus||y.setRelayName||y.start||b.splice(E,1);return d.monconType=n,this.setState({schedule:d}),a?(C=s?"Defrost":0==s?"Box":"",[4,Object(i.Z)(d,l,o,c,C)]):[3,2];case 1:return N.sent(),Object(u.b)("Schedule Saved successfully. "),[3,4];case 2:return[4,Object(i.T)(d,t,p).then(function(e){Object(r.a)(!1),Object(u.b)("Schedule updated successfully. ")}).catch(function(e){Object(r.a)(!1),console.log("error: ",e)})];case 3:N.sent(),N.label=4;case 4:return Object(r.a)(!1),[2]}})})},t.prototype.resetSchedule=function(){return y(this,void 0,void 0,function(){var e,t,n,a,o,l,r,c,s,m,d,p;return N(this,function(h){switch(h.label){case 0:return e=this.props,t=e.buildingName,n=e.isSolution,a=e.equipmentOntology,o=e.isDefrost,l=this.state,r=l.schedule,c=l.building,Object(),n?(s=o?"Defrost":0==o?"Box":"",[4,Object(i.m)(a,s)]):[3,2];case 1:return h.sent(),Object(u.b)("Successfully Reset your Schedule"),[3,4];case 2:return[4,Object(i.R)(r,t,c)];case 3:h.sent()?Object(u.b)("Successfully Reset your Schedule"):Object(u.a)("Error"),h.label=4;case 4:return m=r.monconType,d=r.deviceName,(p=Object()).deviceName=d,p.monconType=m,this.setState({schedule:p}),[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.Moncon,i=t.schedule,r=t.InsightInfo,s=t.intesisHome_Device,m=t.building,u=t.compressorADPDB,b=t.compressorTemperature,E=t.showLogs,y=t.solutionEquipmentControlScreenSettings,N=this.props,C=N.instance,S=N.buildingName,w=N.InsightName,O=N.ControlName,D=N.type,T=N.hideTabs,x=N.isDefrost,L=N.equipmentOntology,I=n&&n.monitoringControlDeviceType&&-1!=n.monitoringControlDeviceType.toLowerCase().indexOf("intesis"),j=s&&s.services&&s.services["com.intesishome.setpoint-temp"]?s.services["com.intesishome.setpoint-temp"].value:0,k=s&&s.services&&s.services["com.intesishome.user-mode"]&&s.services&&s.services["com.intesishome.user-mode"].value,A=localStorage.getItem("hvacUNIT"),_=JSON.parse(v.a.getItem("user"));return E?a.createElement(g.a,{instance:C,buildingName:S,fromEntityList:!0,ontology:w,module:f.a.Assets,entityName:"InsightSchedule",onLogClose:function(){return e.setState({showLogs:!1})}}):a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12  col-sm-12 col-xs-12"},!m&&!T&&a.createElement(c.a,{InsightName:w,buildingName:S,instance:C,ControlName:O,type:D,isCompressorDefrost:x}),a.createElement("div",{className:"card",id:"InsightsList"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},_&&"1"==_.role&&a.createElement("button",{className:"btn btn-md btn-primary btn-fill pull-right",style:{marginLeft:5},title:"Logs",onClick:function(){e.setState({showLogs:!0})}}," ",a.createElement("img",{src:"assets/img/Logs.png",style:{width:25,height:18}})),!m&&a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12 tempCounter roomTemp",style:{height:"300px"}},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"header pull-left",style:{textAlign:"left"}},A&&a.createElement("h4",{className:"title"},a.createElement("strong",null,"HVAC:")," (",A,")"),a.createElement("h3",{className:"title"},"CompressorControl"!=O&&a.createElement("strong",null,n.rdfsLabel," ")),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Moncon Manufacturer:"),"\xa0 ","CompressorControl"==O?"ONIT":n.manufacturer),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Moncon Model:")," \xa0 ","CompressorControl"==O?"3B+":n.model),a.createElement("br",null),a.createElement("br",null))),a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"header"},!I&&r&&"CompressorControl"!=O&&a.createElement(a.Fragment,null,r.mode===o.c.HEAT&&a.createElement(a.Fragment,null,a.createElement("div",null,"Heat To"),a.createElement("div",{className:"counter"},Object(p.a)(r.heattemp).toFixed(1),"\xb0F")),r.mode===o.c.COOL&&a.createElement(a.Fragment,null,a.createElement("div",null,"Cool To"),a.createElement("div",{className:"counter"},Object(p.a)(r.cooltemp).toFixed(1),"\xb0F")),(r.mode===o.c.AUTO||r.mode===o.c.OFF)&&a.createElement(a.Fragment,null,a.createElement("div",null,"Heat To"),a.createElement("div",{className:"counter"},Object(p.a)(r.heattemp).toFixed(1),"\xb0F"),a.createElement("div",null,"Cool To"),a.createElement("div",{className:"counter"},Object(p.a)(r.cooltemp).toFixed(1),"\xb0F"))),I&&k&&"CompressorControl"!=O&&a.createElement(a.Fragment,null,a.createElement("div",null,"Mode:"," ",k==h.b.AUTO?"AUTO":k==h.b.COOL?"COOL":k==h.b.DRY?"DRY":k==h.b.FAN?"FAN":k==h.b.HEAT?"HEAT":"NONE"),a.createElement("div",{className:"counter"},Object(p.a)(j).toFixed(1),"\xb0F")),"CompressorControl"==O&&!x&&a.createElement(a.Fragment,null,a.createElement("div",null,"Cool To"),a.createElement("div",{className:"counter"},b," \xb0F")),"CompressorControl"==O&&x&&a.createElement(a.Fragment,null,a.createElement("div",{className:"counter"},b," State")))))),m&&a.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12 tempCounter roomTemp",style:{height:"300px"}}),a.createElement("div",{className:"col-md-7 col-sm-12 col-xs-12 dataCard"},a.createElement("div",{className:"card hidden-sm hidden-xs"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3 headingText",style:{paddingLeft:"35px"}},"Day"),"RelayControl"==O&&a.createElement("div",{className:"col-md-2 headingText",style:{paddingLeft:"15px"}},"Set Relay"),"RelayControl"==O&&a.createElement("div",{className:"col-md-2 headingText",style:{paddingLeft:"30px"}},"Off/On"),"RelayControl"==O&&a.createElement("div",{className:"col-md-3 headingText",style:{paddingLeft:"45px"}},"Start"),"RelayControl"!=O&&a.createElement("div",{className:"col-md-3 headingText",style:{paddingLeft:"50px",textAlign:"center"}},"Set Point"),"RelayControl"!=O&&a.createElement("div",{className:"col-md-3 headingText",style:{paddingLeft:"50px",textAlign:"center"}},"Start"),a.createElement("div",{className:"col-md-2 headingText"},a.createElement("button",{className:"btn btn-primary btn-fill pull-right",style:{marginRight:"10px"},onClick:function(){document.getElementById("btnReset").click()}},"Reset Schedule")))),a.createElement(l.a,{equipmentOntology:L,buildingName:S,schedule:i,day:"Monday",update_Schedule:this.update_Schedule,ControlName:O,DeviceType:n.monitoringControlDeviceType,compressorADPDB:u,InsightInfo:r,isDefrost:x,solutionEquipmentControlScreenSettings:y}),a.createElement(l.a,{equipmentOntology:L,buildingName:S,schedule:i,day:"Tuesday",update_Schedule:this.update_Schedule,ControlName:O,DeviceType:n.monitoringControlDeviceType,compressorADPDB:u,InsightInfo:r,isDefrost:x,solutionEquipmentControlScreenSettings:y}),a.createElement(l.a,{equipmentOntology:L,buildingName:S,schedule:i,day:"Wednesday",update_Schedule:this.update_Schedule,ControlName:O,DeviceType:n.monitoringControlDeviceType,compressorADPDB:u,InsightInfo:r,isDefrost:x,solutionEquipmentControlScreenSettings:y}),a.createElement(l.a,{equipmentOntology:L,buildingName:S,schedule:i,day:"Thursday",update_Schedule:this.update_Schedule,ControlName:O,DeviceType:n.monitoringControlDeviceType,compressorADPDB:u,InsightInfo:r,isDefrost:x,solutionEquipmentControlScreenSettings:y}),a.createElement(l.a,{equipmentOntology:L,buildingName:S,schedule:i,day:"Friday",update_Schedule:this.update_Schedule,ControlName:O,DeviceType:n.monitoringControlDeviceType,compressorADPDB:u,InsightInfo:r,isDefrost:x,solutionEquipmentControlScreenSettings:y}),a.createElement(l.a,{equipmentOntology:L,buildingName:S,schedule:i,day:"Saturday",update_Schedule:this.update_Schedule,ControlName:O,DeviceType:n.monitoringControlDeviceType,compressorADPDB:u,InsightInfo:r,isDefrost:x,solutionEquipmentControlScreenSettings:y}),a.createElement(l.a,{equipmentOntology:L,buildingName:S,schedule:i,day:"Sunday",update_Schedule:this.update_Schedule,ControlName:O,DeviceType:n.monitoringControlDeviceType,compressorADPDB:u,InsightInfo:r,isDefrost:x,solutionEquipmentControlScreenSettings:y}),a.createElement("div",{className:"col-md-12"},a.createElement("button",{className:"btn btn-success btn-fill mr-4",style:{marginRight:"2px"},onClick:function(){e.saveSchedule()}},"Save Schedule"),"\xa0",a.createElement("button",{className:"btn btn-primary btn-fill",onClick:function(){document.getElementById("btnReset").click()}},"Reset Schedule"))),a.createElement("button",{id:"btnReset",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmResetDialog"},"."),a.createElement(d.a,{instance:"",id:"ConfirmResetDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to reset Schedule?",heading:"Confirm...",onConfirmButtonClick:function(){e.resetSchedule()}})))))))))},t}(a.Component);t.default=C},935:function(e,t,n){"use strict";var a,o,l,i,r;n.d(t,"c",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return m}),function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON"}(a||(a={})),function(e){e[e.INACTIVE=0]="INACTIVE",e[e.ACTIVE=1]="ACTIVE"}(o||(o={})),function(e){e[e.NOTALARMING=0]="NOTALARMING",e[e.ALARMING=1]="ALARMING"}(l||(l={})),function(e){e[e.ENABLED=0]="ENABLED",e[e.DISABLED=1]="DISABLED"}(i||(i={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.OPEN=1]="OPEN"}(r||(r={}));var c,s={AUTO:"auto",HEAT:"heat",DRY:"dry",FAN:"fan",COOL:"cool"};!function(e){e[e.AUTO=0]="AUTO",e[e.LOW=1]="LOW",e[e.MID=2]="MID",e[e.HIGH=3]="HIGH",e[e.POWERFUL=4]="POWERFUL"}(c||(c={}));var m={AUTO:"auto",LOW:"position-one",MID:"position-two",HIGH:"position-three",POWERFUL:"position-four"}},936:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(683)),l=n(727),i=n(659),r=n(117),c=n(24),s=n(651),m=n(10),u=n(23),d=n(662),p=n(663),h=n(11),g=n(852),f=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),v=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,l){function i(e){try{c(a.next(e))}catch(e){l(e)}}function r(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,r)}c((a=a.apply(e,t||[])).next())})},b=this&&this.__generator||function(e,t){var n,a,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(l){return function(r){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,r])}}},E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={ADPData:[],spaceName:"",RelayADPData:Object(),compressorADP:Object(),showLogs:!1,ptacADP:Object()},n.handleChangeInputs=n.handleChangeInputs.bind(n),n.handleRelayChangeInputs=n.handleRelayChangeInputs.bind(n),n.SaveADP=n.SaveADP.bind(n),n._fetchADP=n._fetchADP.bind(n),n._fetchRelayADP=n._fetchRelayADP.bind(n),n.handleValueChange=n.handleValueChange.bind(n),n}return f(t,e),t.prototype.componentDidMount=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,l;return b(this,function(i){switch(i.label){case 0:return e=this.props,t=e.InsightName,n=e.buildingName,a=e.ControlName,o=this.state.spaceName,t&&n?"IntesisControl"!=a&&"InsightControl"!=a?[3,2]:[4,Object(s.v)(t,n)]:[3,5];case 1:return l=i.sent(),o=l.location,this._fetchADP(t,o),this.setState({spaceName:o}),[3,5];case 2:return"RelayControl"!=a?[3,4]:[4,this._fetchRelayADP(n,t)];case 3:return i.sent(),[3,5];case 4:"CompressorControl"==a?this.fetchCompressorADP():"PTACControl"==a&&this.fetchPTACADP(),i.label=5;case 5:return[2]}})})},t.prototype._fetchADP=function(e,t){return v(this,void 0,void 0,function(){var n,a,o,r,c,s,u;return b(this,function(d){switch(d.label){case 0:return n=this.state.ADPData,n=[],e&&t?[4,Object(i.p)(e)]:[3,3];case 1:return a=d.sent(),[4,Object(i.A)(t)];case 2:if(o=d.sent(),a&&a.length>0&&o&&o.length>0){for(r=0;r<a.length;r++)c=Object(),s=a[r],u=o[r],c.ontology=Object(m.g)(s.ontology),c.season=Object(m.g)(s.season),c.occType=Object(m.g)(s.occType),c.defaultTargetTemp=Object(m.g)(s.defaultTargetTemp),c.fanSetting=Object(m.g)(s.fanSetting),c.warmLittleTemp=Object(m.g)(u.warmLittleTemp),c.warmLittleHowBad=Object(m.g)(u.warmLittleHowBad),c.warmLotTemp=Object(m.g)(u.warmLotTemp),c.warmLotHowBad=Object(m.g)(u.warmLotHowBad),c.warmHardLimitTemp=Object(m.g)(u.warmHardLimitTemp),c.coolLittleTemp=Object(m.g)(u.coolLittleTemp),c.coolLittleHowBad=Object(m.g)(u.coolLittleHowBad),c.coolLotTemp=Object(m.g)(u.coolLotTemp),c.coolLotHowBad=Object(m.g)(u.coolLotHowBad),c.coolHardLimitTemp=Object(m.g)(u.coolHardLimitTemp),n.push(c);this.setState({ADPData:n})}else this.setState({ADPData:l.a});d.label=3;case 3:return[2]}})})},t.prototype._fetchRelayADP=function(e,t){return v(this,void 0,void 0,function(){var n=this;return b(this,function(a){switch(a.label){case 0:return e&&t?[4,Object(i.b)(e,t).then(function(e){var a=Object();e[0]?(a.device=Object(m.g)(e[0].device),a.A1=Object(m.g)(e[0].A1),a.A2=Object(m.g)(e[0].A2),a.B1=Object(m.g)(e[0].B1),a.B2=Object(m.g)(e[0].B2),a.C1=Object(m.g)(e[0].C1),a.C2=Object(m.g)(e[0].C2),a.D1=Object(m.g)(e[0].D1),a.D2=Object(m.g)(e[0].D2),a.E1=Object(m.g)(e[0].E1),a.E2=Object(m.g)(e[0].E2),a.F1=Object(m.g)(e[0].F1),a.F2=Object(m.g)(e[0].F2),a.G1=Object(m.g)(e[0].G1),a.G2=Object(m.g)(e[0].G2)):(a.device=t,a.A1="0",a.A2="0",a.B1="1",a.B2="1",a.C1="0",a.C2="0",a.D1="1",a.D2="1",a.E1="1",a.E2="1",a.F1="0",a.F2="0",a.G1="1",a.G2="1"),n.setState({RelayADPData:a})})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.fetchCompressorADP=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,l;return b(this,function(r){switch(r.label){case 0:return e=this.props,t=e.InsightName,n=e.buildingName,a=e.solutionOntology,o=this.state.compressorADP,[4,Object(i.o)(this.props.buildingName,"",t,a)];case 1:return l=r.sent(),o=l&&l.equipment?l:{ontology:Object(u.w)(12),BackTempWeight:30,BackTempActualWeight:50,FrontTempActualWeight:50,FrontTempWeight:40,HighTemp:0,LowTemp:0,MedianTemp:0,MinTimeBeforeRestart:0,SolidTempWeight:30,ThresholdAmps:0,ThresholdTemp:0,building:n,equipment:t,DeadBandMinutes:0,DeadBandTemp:1,solutionOntology:a,ThresholdCompressorAmps:1},this.setState({compressorADP:o}),[2]}})})},t.prototype.fetchPTACADP=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,i;return b(this,function(r){switch(r.label){case 0:return e=this.props,t=e.InsightName,n=e.buildingName,a=e.solutionOntology,o=this.state.ptacADP,[4,Object(g.c)(n,"",t,a)];case 1:return i=r.sent(),o=i&&i.equipment?i:{ontology:Object(u.w)(12),building:n,equipment:t,DeadBandMinutes:1,DeadBandTemp:1,MotinoDetectionE1:1,MotinoDetectionE2:1,solutionOntology:a,NoOfMotionTriggers:100,OccupancyDeadband:1,ADPSettings:l.a},this.setState({ptacADP:o,ADPData:o.ADPSettings}),[2]}})})},t.prototype.handleChangeInputs=function(e,t){var n=this.state.ADPData;n[t][e.target.name]=e.target.value?e.target.value:"0.0",this.setState({ADPData:n})},t.prototype.handleRelayChangeInputs=function(e){var t=this.state.RelayADPData;t[e.target.name]=e.target.value?e.target.value:"0",this.setState({RelayADPData:t})},t.prototype.handlePTACInputs=function(e){var t=this.state.ptacADP;t[e.target.name]=e.target.value?e.target.value:0,this.setState({ptacADP:t})},t.prototype.handleCompressorChangeInputs=function(e,t,n){var a=this.state.compressorADP,o=0;o=-1!=e.indexOf("Weight")||-1!=e.indexOf("Time")||-1!=e.indexOf("Min")||-1!=e.indexOf("Threshold")?1:.1;var l=n?t+o:t-o;l=parseFloat(l.toFixed(1)),a[e]=l,this.setState({compressorADP:a})},t.prototype.SaveADP=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,l,s,m,u,d;return b(this,function(p){switch(p.label){case 0:return e=this.state,t=e.ADPData,n=e.spaceName,a=e.RelayADPData,o=this.props,l=o.buildingName,s=o.InsightName,m=o.ControlName,Object(r.a)(!0),"RelayControl"!=m?[3,2]:(a.building=l,a.device=s,[4,Object(i.k)(a).then(function(e){e?Object(c.b)("Successfully Save"):Object(c.a)("Something Went Wrong")}).catch(function(e){console.log("error: ",e)})]);case 1:return p.sent(),[3,8];case 2:return"IntesisControl"!=m&&"InsightControl"!=m?[3,4]:[4,Object(i.i)(t,l,s,n).then(function(e){e?Object(c.b)("Successfully Save"):Object(c.a)("Something Went Wrong")}).catch(function(e){console.log("error: ",e)})];case 3:return p.sent(),this._fetchADP(s,n),[3,8];case 4:return"CompressorControl"!=m?[3,6]:((u=this.state.compressorADP).building=l,u.equipment=s,[4,Object(i.S)(u)]);case 5:return p.sent(),[3,8];case 6:return"PTACControl"!=m?[3,8]:((d=this.state.ptacADP).building=l,d.equipment=s,d.ADPSettings=t,[4,Object(g.h)(d)]);case 7:p.sent(),p.label=8;case 8:return Object(r.a)(!1),[2]}})})},t.prototype.handleValueChange=function(e){var t=this.state.compressorADP;t[""+e.target.name]=e.target.value?parseFloat(e.target.value):0,this.setState({compressorADP:t})},t.prototype.handleFieldValidation=function(e,t){var n=this.state.RelayADPData;"A1"==e&&n.A1&&t?parseInt(t)<0?n.A1="0":parseInt(t)>1e3&&(n.A1="1000"):"A2"==e&&n.A2&&t?parseInt(t)<0?n.A2="0":parseInt(t)>1e3&&(n.A2="1000"):"B1"==e&&n.B1&&t?parseInt(t)<1&&(n.B1="1"):"B2"==e&&n.B2&&t?parseInt(t)<1&&(n.B2="1"):"C1"==e&&n.C1&&t?parseInt(t)<0?n.C1="0":parseInt(t)>1e3&&(n.C1="1000"):"C2"==e&&n.C2&&t?parseInt(t)<0?n.C2="0":parseInt(t)>1e3&&(n.C2="1000"):"D1"==e&&n.D1&&t?parseInt(t)<1&&(n.D1="1"):"D2"==e&&n.D2&&t?parseInt(t)<1&&(n.D2="1"):"E1"==e&&n.E1&&t?parseInt(t)<1&&(n.E1="1"):"E2"==e&&n.E2&&t?parseInt(t)<1&&(n.E2="1"):"F1"==e&&n.F1&&t?parseInt(t)<0&&(n.F1="0"):"F2"==e&&n.F2&&t?parseInt(t)<0&&(n.F2="0"):"G1"==e&&n.G1&&t?parseInt(t)<1&&(n.G1="1"):"G2"==e&&n.G2&&t&&parseInt(t)<1&&(n.G2="1"),this.setState({RelayADPData:n})},t.prototype.render=function(){var e=this,t=this.props,n=t.InsightName,l=t.buildingName,i=t.instance,r=t.ControlName,c=t.type,s=t.hideTabs,m=this.state,u=m.ADPData,g=m.RelayADPData,f=m.compressorADP,v=m.ptacADP,b=m.showLogs,E=f.FrontTempWeight+f.SolidTempWeight+f.BackTempWeight!=100,y=JSON.parse(h.a.getItem("user"));if(b)return a.createElement(d.a,{instance:i,buildingName:l,fromEntityList:!0,ontology:n,module:p.a.Assets,entityName:"DeviceADP",onLogClose:function(){return e.setState({showLogs:!1})}});var N=!(!y||"1"!=y.role&&"2"!=y.role);return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},N&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},y&&"1"==y.role&&a.createElement("button",{className:"btn btn-md btn-primary btn-fill pull-right",style:{marginLeft:5},title:"Logs",onClick:function(){e.setState({showLogs:!0})}}," ",a.createElement("img",{src:"assets/img/Logs.png",style:{width:25,height:18}})),!s&&a.createElement(o.a,{InsightName:n,ControlName:r,buildingName:l,instance:i,type:c}),a.createElement("div",{className:"card",id:"InsightsList"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"content"},a.createElement("div",{className:""},("IntesisControl"==r||"InsightControl"==r||"PTACControl"==r)&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row cell_border hidden-sm hidden-xs",style:{padding:"0px"}},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 cell_border",style:{padding:"0px 0px",height:"91px"}},a.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2 cell_border",style:{height:"91px",paddingTop:"5%",paddingLeft:"4%"}},"Season"),a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-4 cell_border",style:{height:"91px",paddingTop:"5%",paddingLeft:"10%"}},"Occ. Type"),a.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2 cell_border",style:{height:"91px",paddingTop:"4%",paddingLeft:"4%"}},"Default Target F\xb0"),a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-4 cell_border",style:{height:"91px",paddingTop:"5%",paddingLeft:"10%"}},"Fan Setting")),a.createElement("div",{className:"col-md-3 col-sm-3 col-xs-3"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 cell_border",style:{height:"91px"}},a.createElement("div",{className:"row cell_border"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},"Too Warm")),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-5"},a.createElement("div",{className:"row cell_border"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12",style:{paddingLeft:"34%"}},"A little")),a.createElement("div",{className:"row cell_border",style:{height:"48px"}},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 cell_border",style:{height:"48px",paddingTop:"11%",paddingLeft:"12%"}}," \u25b3 F\xb0"),a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 cell_border",style:{height:"48px",paddingTop:"3%"}},"How Bad?"))),a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-5"},a.createElement("div",{className:"row cell_border"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12",style:{paddingLeft:"34%"}},"A Lot")),a.createElement("div",{className:"row cell_border",style:{height:"48px"}},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 cell_border",style:{height:"48px",paddingTop:"11%",paddingLeft:"12%"}}," \u25b3 F\xb0"),a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 cell_border",style:{height:"48px",paddingTop:"3%"}},"How Bad?"))),a.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2 cell_border",style:{height:"69px",paddingTop:"2%",paddingLeft:"3%"}},"Hard limit F\xb0"))))),a.createElement("div",{className:"col-md-3 col-sm-3 col-xs-3"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 cell_border",style:{height:"91px"}},a.createElement("div",{className:"row cell_border"},a.createElement("div",{className:"col-md-12 col-sm-12  col-xsm-12"},"Too Cool")),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-5"},a.createElement("div",{className:"row cell_border"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12",style:{paddingLeft:"34%"}},"A little")),a.createElement("div",{className:"row cell_border",style:{height:"48px"}},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 cell_border",style:{height:"48px",paddingTop:"11%",paddingLeft:"12%"}}," \u25b3 F\xb0"),a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 cell_border",style:{height:"48px",paddingTop:"3%"}},"How Bad?"))),a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-5"},a.createElement("div",{className:"row cell_border"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12",style:{paddingLeft:"34%"}},"A Lot")),a.createElement("div",{className:"row cell_border",style:{height:"48px"}},a.createElement("div",{className:"col-md-6 col-sm-6  col-xs-6 cell_border",style:{height:"48px",paddingTop:"11%",paddingLeft:"12%"}}," \u25b3 F\xb0"),a.createElement("div",{className:"col-md-6 col-sm-6  col-xs-6 cell_border",style:{height:"48px",paddingTop:"3%"}},"How Bad?"))),a.createElement("div",{className:"col-md-2 col-sm-2  col-xs-6  cell_border",style:{height:"69px",paddingTop:"2%",paddingLeft:"3%"}},"Hard limit F\xb0")))))),a.createElement("br",null),u&&u.map(function(t,n){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-sm-12 col-xs-12 "},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 col-sm-12 col-xs-12 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Season"),t.season),a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Occ. Type")," ",t.occType),a.createElement("div",{className:"col-md-2 col-sm-12 col-xs-12"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Default Target F\xb0"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"defaultTargetTemp",value:t.defaultTargetTemp,onChange:function(t){e.handleChangeInputs(t,n)}})),a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12 trim-data"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Fan Setting"),a.createElement("div",{className:"form-group",style:{background:"PTACControl"==r?"lightgrey":"",margin:"0px"}},a.createElement("select",{className:"form-control form-control-adp",value:t.fanSetting,name:"fanSetting",disabled:"PTACControl"==r,onChange:function(t){e.handleChangeInputs(t,n)}},a.createElement("option",{value:""})))))),a.createElement("div",{className:"col-md-6 col-sm-12 col-xs-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-sm-12 col-xs-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-5 col-sm-12 col-xs-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3 col-sm-12 col-xs-12",style:{width:"57%"}},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Warm Little Temp"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"warmLittleTemp",value:t.warmLittleTemp,disabled:"PTACControl"==r&&("HEATING"==t.season||"SHUTDOWN"==t.occType),onChange:function(t){e.handleChangeInputs(t,n)}})),a.createElement("div",{className:"col-md-3 col-sm-12 col-xs-12 no-padding",style:{width:"34%"}},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Warm Little HowBad?"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"warmLittleHowBad",value:t.warmLittleHowBad,disabled:"PTACControl"==r&&("HEATING"==t.season||"SHUTDOWN"==t.occType),onChange:function(t){e.handleChangeInputs(t,n)}})))),a.createElement("div",{className:"col-md-5 col-sm-12 col-xs-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3 col-sm-12 col-xs-12 no-padding",style:{width:"34%",marginLeft:"10%",marginRight:"15%"}},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Warm Lot Temp"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"warmLotTemp",value:t.warmLotTemp,disabled:"PTACControl"==r&&("HEATING"==t.season||"SHUTDOWN"==t.occType),onChange:function(t){e.handleChangeInputs(t,n)}})),a.createElement("div",{className:"col-md-3 col-sm-12  col-xs-12 no-padding",style:{width:"34%"}},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Warm Lot HowBad?"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"warmLotHowBad",value:t.warmLotHowBad,disabled:"PTACControl"==r&&("HEATING"==t.season||"SHUTDOWN"==t.occType),onChange:function(t){e.handleChangeInputs(t,n)}})))),a.createElement("div",{className:"col-md-2 col-sm-12 col-xs-12 no-padding",style:{width:"15%"}},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Warm Hard Limit Temp"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"warmHardLimitTemp",value:t.warmHardLimitTemp,disabled:"PTACControl"==r&&("HEATING"==t.season||"SHUTDOWN"==t.occType),onChange:function(t){e.handleChangeInputs(t,n)}})))),a.createElement("div",{className:"col-md-6 col-sm-12  col-xs-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-5 col-sm-12 col-xs-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3 col-sm-12 col-xs-12 no-padding",style:{width:"34%",marginLeft:"10%",marginRight:"15%"}},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Cool Little Temp"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"coolLittleTemp",value:t.coolLittleTemp,disabled:"PTACControl"==r&&"COOLING"==t.season||"SHUTDOWN"==t.occType,onChange:function(t){e.handleChangeInputs(t,n)}})),a.createElement("div",{className:"col-md-3 col-sm-12 col-xs-12 no-padding",style:{width:"34%"}},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Cool Little HowBad"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"coolLittleHowBad",value:t.coolLittleHowBad,disabled:"PTACControl"==r&&("COOLING"==t.season||"SHUTDOWN"==t.occType),onChange:function(t){e.handleChangeInputs(t,n)}})))),a.createElement("div",{className:"col-md-5 col-sm-12 col-xs-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3 col-sm-12 col-xs-12 no-padding",style:{width:"34%",marginLeft:"10%",marginRight:"15%"}},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Cool Lot Temp"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"coolLotTemp",value:t.coolLotTemp,disabled:"PTACControl"==r&&"COOLING"==t.season||"SHUTDOWN"==t.occType,onChange:function(t){e.handleChangeInputs(t,n)}})),a.createElement("div",{className:"col-md-3 col-sm-12 col-xs-12 no-padding",style:{width:"34%"}},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Cool Lot HowBad?"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"coolLotHowBad",value:t.coolLotHowBad,disabled:"PTACControl"==r&&"COOLING"==t.season||"SHUTDOWN"==t.occType,onChange:function(t){e.handleChangeInputs(t,n)}})))),a.createElement("div",{className:"col-md-2 col-sm-12  col-xs-12 no-padding",style:{width:"15%"}},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Cool Hard Limit Temp"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"coolHardLimitTemp",value:t.coolHardLimitTemp,disabled:"PTACControl"==r&&"COOLING"==t.season||"SHUTDOWN"==t.occType,onChange:function(t){e.handleChangeInputs(t,n)}})))))))})),"PTACControl"==r&&a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement("br",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 pl-1"},a.createElement("div",{className:"card"},a.createElement("div",{className:"container-fluid padding-10"},a.createElement("h4",{className:"title"},"Occupancy Detection"),a.createElement("br",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-8"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"MotinoDetectionE1"},"Settings Variable Under Normal - E1 (min):"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"MotinoDetectionE1",className:"form-control",autoComplete:"off",name:"MotinoDetectionE1",value:v.MotinoDetectionE1,onChange:function(t){e.handlePTACInputs(t)}})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-8"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"MotinoDetectionE2"},"Settings Variable Under Optimize - E2 (min):"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"MotinoDetectionE2",className:"form-control",autoComplete:"off",name:"MotinoDetectionE2",value:v.MotinoDetectionE2,onChange:function(t){e.handlePTACInputs(t)}})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"OccupancyDeadband"},"Occupancy Deadband (min):"))),a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"OccupancyDeadband",className:"form-control",autoComplete:"off",name:"OccupancyDeadband",value:v.OccupancyDeadband,onChange:function(t){e.handlePTACInputs(t)}}))),a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group pull-right"},a.createElement("label",{htmlFor:"NoOfMotionTriggers"},"No. of Motion Triggers:"))),a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"NoOfMotionTriggers",className:"form-control",autoComplete:"off",name:"NoOfMotionTriggers",value:v.NoOfMotionTriggers,onChange:function(t){e.handlePTACInputs(t)}}))))))),a.createElement("div",{className:"col-md-6 pr-1"},a.createElement("div",{className:"card"},a.createElement("div",{className:"container-fluid padding-10"},a.createElement("h4",{className:"title"},"Dead Band Settings"),a.createElement("br",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-8"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"DeadBandTemp"},"Temperature (\xb0F):"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"DeadBandTemp",className:"form-control",autoComplete:"off",name:"DeadBandTemp",value:v.DeadBandTemp,onChange:function(t){e.handlePTACInputs(t)}})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-8"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"DeadBandMinutes"},"Starting Minutes:"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"DeadBandMinutes",className:"form-control",autoComplete:"off",name:"DeadBandMinutes",value:v.DeadBandMinutes,onChange:function(t){e.handlePTACInputs(t)}}))))))))),"RelayControl"==r&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row cell_border hidden-sm hidden-xs",style:{padding:"0px"}},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 grid-header"},"Description"),a.createElement("div",{className:"col-md-3 col-sm-3 col-xs-3 grid-header"},"Settings Variable Under Normal"),a.createElement("div",{className:"col-md-3 col-sm-3 col-xs-3 grid-header"},"Settings Variable Under Optimize")),a.createElement("br",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 "},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Illuminance High Limit \u2013 0-1000 Lumens"),"Illuminance High Limit \u2013 0-1000 Lumens"),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"A1")," A1"),a.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"A1"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"A1",onChange:this.handleRelayChangeInputs,value:g.A1,onBlur:function(t){e.handleFieldValidation(t.target.name,g.A1)}})),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"A2")," A2"),a.createElement("div",{className:"col-md-2 col-sm-1 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"A2"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"A2",onChange:this.handleRelayChangeInputs,value:g.A2,onBlur:function(t){e.handleFieldValidation(t.target.name,g.A2)}}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Illuminance High Limit Time Delay to initiate OFF - Sec "),"Illuminance High Limit Time Delay to initiate OFF - Sec"),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"B1")," B1"),a.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"B1"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"B1",onChange:this.handleRelayChangeInputs,value:g.B1,onBlur:function(t){e.handleFieldValidation(t.target.name,g.B1)}})),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"B2")," B2"),a.createElement("div",{className:"col-md-2 col-sm-1 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"B2"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"B2",onChange:this.handleRelayChangeInputs,value:g.B2,onBlur:function(t){e.handleFieldValidation(t.target.name,g.B2)}}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Illuminance Low Limit \u2013 0-1000 Lumens"),"Illuminance Low Limit \u2013 0-1000 Lumens"),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"C1")," C1"),a.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"C1"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"C1",onChange:this.handleRelayChangeInputs,value:g.C1,onBlur:function(t){e.handleFieldValidation(t.target.name,g.C1)}})),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"C2")," C2"),a.createElement("div",{className:"col-md-2 col-sm-1 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"C2"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"C2",onChange:this.handleRelayChangeInputs,value:g.C2,onBlur:function(t){e.handleFieldValidation(t.target.name,g.C2)}}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Illuminance Low Limit Time Delay to initiate ON - sec"),"Illuminance Low Limit Time Delay to initiate ON - Sec"),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"D1")," D1"),a.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"D1"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"D1",onChange:this.handleRelayChangeInputs,value:g.D1,onBlur:function(t){e.handleFieldValidation(t.target.name,g.D1)}})),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"D2")," D2"),a.createElement("div",{className:"col-md-2 col-sm-1 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"D2"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"D2",onChange:this.handleRelayChangeInputs,value:g.D2,onBlur:function(t){e.handleFieldValidation(t.target.name,g.D2)}}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Motion Detection Time Delay to initiate light OFF"),"Motion Detection Time Delay to initiate light OFF"),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"E1")," E1"),a.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"E1"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"E1",onChange:this.handleRelayChangeInputs,value:g.E1,onBlur:function(t){e.handleFieldValidation(t.target.name,g.E1)}})),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"E2")," E2"),a.createElement("div",{className:"col-md-2 col-sm-1 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"E2"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"E2",onChange:this.handleRelayChangeInputs,value:g.E2,onBlur:function(t){e.handleFieldValidation(t.target.name,g.E2)}}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Blue Tooth (BT) High Limit initiate On - Integer"),"Blue Tooth (BT) High Limit initiate On - Integer"),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"F1")," F1"),a.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"F1"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"F1",onChange:this.handleRelayChangeInputs,value:g.F1,onBlur:function(t){e.handleFieldValidation(t.target.name,g.F1)}})),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"F2")," F2"),a.createElement("div",{className:"col-md-2 col-sm-1 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"F2"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"F2",onChange:this.handleRelayChangeInputs,value:g.F2,onBlur:function(t){e.handleFieldValidation(t.target.name,g.F2)}}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"BT Time Delay to shut off upon below high limit - sec"),"BT Time Delay to shut off upon below high limit - Sec"),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"G1")," G1"),a.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"G1"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"G1",onChange:this.handleRelayChangeInputs,value:g.G1,onBlur:function(t){e.handleFieldValidation(t.target.name,g.G1)}})),a.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1 padding-10"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"G2")," G2"),a.createElement("div",{className:"col-md-2 col-sm-1 col-xs-2"},a.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"G2"),a.createElement("input",{className:"form-control form-control-adp no-padding",type:"number",name:"G2",onChange:this.handleRelayChangeInputs,value:g.G2,onBlur:function(t){e.handleFieldValidation(t.target.name,g.G2)}})))))),"CompressorControl"==r&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-5"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6"}),a.createElement("div",{className:"col-md-6"},a.createElement("h4",{className:"center"},a.createElement("strong",null,"Temp Set"))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6 col-sm-12"},a.createElement("h5",{className:""},a.createElement("strong",null,"High Temperature"))),a.createElement("div",{className:"col-md-6 col-sm-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("HighTemp",f.HighTemp,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center",style:{justifyContent:"center",display:"flex"}},a.createElement("input",{className:(f.HighTemp?"":"addFieldValidate")+" form-control",style:{width:"80%",height:30},type:"text",id:"HighTemp",name:"HighTemp",value:f.HighTemp,onChange:function(t){e.handleValueChange(t)}})),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("HighTemp",f.HighTemp,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"}))))))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6"},a.createElement("h5",{className:""},a.createElement("strong",null,"Median Temperature"))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("MedianTemp",f.MedianTemp,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center",style:{justifyContent:"center",display:"flex"}},a.createElement("input",{className:(f.MedianTemp?"":"addFieldValidate")+" form-control",style:{width:"80%",height:30},type:"text",id:"MedianTemp",name:"MedianTemp",value:f.MedianTemp,onChange:function(t){e.handleValueChange(t)}})),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("MedianTemp",f.MedianTemp,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"}))))))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6"},a.createElement("h5",{className:""},a.createElement("strong",null,"Low Temperature"))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("LowTemp",f.LowTemp,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center",style:{justifyContent:"center",display:"flex"}},a.createElement("input",{className:(f.LowTemp?"":"addFieldValidate")+" form-control",style:{width:"80%",height:30},type:"text",id:"LowTemp",name:"LowTemp",value:f.LowTemp,onChange:function(t){e.handleValueChange(t)}})),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("LowTemp",f.LowTemp,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"}))))))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6 pr-0"},a.createElement("h5",{className:""},a.createElement("strong",null,"Dead Band Temperature"))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("DeadBandTemp",f.DeadBandTemp,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center",style:{justifyContent:"center",display:"flex"}},a.createElement("input",{className:(null!=f.DeadBandTemp?"":"addFieldValidate")+" form-control",style:{width:"80%",height:30},type:"text",id:"DeadBandTemp",name:"DeadBandTemp",value:f.DeadBandTemp,onChange:function(t){e.handleValueChange(t)}})),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("DeadBandTemp",f.DeadBandTemp,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"}))))))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6"},a.createElement("h5",{className:""},a.createElement("strong",null,"Dead Band Minutes"))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("DeadBandMinutes",f.DeadBandMinutes,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center"},a.createElement("h5",{className:"margin-top"},a.createElement("strong",null,f.DeadBandMinutes," mins"))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("DeadBandMinutes",f.DeadBandMinutes,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"})))))))),a.createElement("br",null)),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("div",null,a.createElement("div",{className:"row mt-4",style:{color:"grey"}},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6 pr-0"},a.createElement("h5",{className:""},a.createElement("strong",null,"Min Time Before Restart"))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{disabled:!0,type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("MinTimeBeforeRestart",f.MinTimeBeforeRestart,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center"},a.createElement("h5",{className:"margin-top"},a.createElement("strong",null,f.MinTimeBeforeRestart," mins"))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{disabled:!0,type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("MinTimeBeforeRestart",f.MinTimeBeforeRestart,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"})))))))),a.createElement("br",null)),a.createElement("br",null))))),a.createElement("div",{className:"col-md-7"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-5"}),a.createElement("div",{className:"col-md-7"},a.createElement("h4",{className:"center"},a.createElement("strong",null,"Temp Sensor"))),a.createElement("div",{className:"col-md-5"}),a.createElement("div",{className:"col-md-7"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6"},a.createElement("h5",{className:"center"},a.createElement("strong",null,"Weights"))),a.createElement("div",{className:"col-md-6"},a.createElement("h5",{className:"center"},a.createElement("strong",null,"Actual Weights")))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-5"},a.createElement("h5",{className:"center"},a.createElement("strong",null,"Front Temperature"))),a.createElement("div",{className:"col-md-7"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("FrontTempWeight",f.FrontTempWeight,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center"},a.createElement("h5",{className:"margin-top"},a.createElement("strong",null,f.FrontTempWeight,"%"))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("FrontTempWeight",f.FrontTempWeight,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"}))))))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("FrontTempActualWeight",f.FrontTempActualWeight,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center"},a.createElement("h5",{className:"margin-top"},a.createElement("strong",null,f.FrontTempActualWeight))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("FrontTempActualWeight",f.FrontTempActualWeight,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"})))))))))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-5"},a.createElement("h5",{className:"center"},a.createElement("strong",null,"Back Temperature"))),a.createElement("div",{className:"col-md-7"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("BackTempWeight",f.BackTempWeight,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center"},a.createElement("h5",{className:"margin-top"},a.createElement("strong",null,f.BackTempWeight,"%"))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("BackTempWeight",f.BackTempWeight,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"}))))))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("BackTempActualWeight",f.BackTempActualWeight,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center"},a.createElement("h5",{className:"margin-top"},a.createElement("strong",null,f.BackTempActualWeight))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("BackTempActualWeight",f.BackTempActualWeight,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"})))))))))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-5"},a.createElement("h5",{className:"center"},a.createElement("strong",null,"Solid Temperature"))),a.createElement("div",{className:"col-md-7"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("SolidTempWeight",f.SolidTempWeight,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center"},a.createElement("h5",{className:"margin-top"},a.createElement("strong",null,f.SolidTempWeight,"%"))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("SolidTempWeight",f.SolidTempWeight,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"}))))))),a.createElement("div",{className:"col-md-6"},a.createElement("h5",{className:""},a.createElement("strong",null)))))))),E&&a.createElement("div",{className:"row",style:{marginTop:10,marginLeft:5}},a.createElement("div",{className:"col-md-6"},a.createElement("p",{className:"center",style:{color:"red",fontSize:13}},"* The sum of weights should be 100"))),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-7 pr-0"},a.createElement("h5",{className:""},a.createElement("strong",null,"Threshold Amps before compressor is considered On"))),a.createElement("div",{className:"col-md-5"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("ThresholdCompressorAmps",f.ThresholdCompressorAmps,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center"},a.createElement("h5",{className:"margin-top"},a.createElement("strong",null,f.ThresholdCompressorAmps," amps"))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("ThresholdCompressorAmps",f.ThresholdCompressorAmps,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"})))))))),a.createElement("br",null)),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-7 pr-0"},a.createElement("h5",{className:""},a.createElement("strong",null,"Threshold Amps before evap fan considered On"))),a.createElement("div",{className:"col-md-5"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("ThresholdAmps",f.ThresholdAmps,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center"},a.createElement("h5",{className:"margin-top"},a.createElement("strong",null,f.ThresholdAmps," amps"))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("ThresholdAmps",f.ThresholdAmps,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"})))))))),a.createElement("br",null)),a.createElement("div",{className:"row",style:{color:"grey"}},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-7 pr-0"},a.createElement("h5",{className:""},a.createElement("strong",null,"Threshold temp before evap fan turns On above/below control set point"))),a.createElement("div",{className:"col-md-5"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{disabled:!0,type:"button",className:"btn vanposButton heatTo pull-right",onClick:function(){e.handleCompressorChangeInputs("ThresholdTemp",f.ThresholdTemp,!1)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-minus"})))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding center"},a.createElement("h5",{className:"margin-top"},a.createElement("strong",null,f.ThresholdTemp," deg"))),a.createElement("div",{className:"col-md-4 col-sm-4 no-padding"},a.createElement("button",{disabled:!0,type:"button",className:"btn vanposButton coolTo",onClick:function(){e.handleCompressorChangeInputs("ThresholdTemp",f.ThresholdTemp,!0)}},a.createElement("div",null,a.createElement("i",{className:"fa fa-plus"})))))))))))))),a.createElement("br",null)),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-3"},a.createElement("button",{className:"btn btn-success pull-left",disabled:E&&"CompressorControl"==r,onClick:function(){e.SaveADP()}},"Save ADP"))),a.createElement("br",null),"  ",a.createElement("br",null))))))),!N&&a.createElement("h3",null,"You don't have access")))},t}(a.Component);t.default=E}});