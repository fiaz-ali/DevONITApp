webpackJsonp([73],{2699:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(1073)),r=(n.n(o),n(670)),a=n(12),s=n(665),c=n(53),l=n(20),u=n(117),d=n(118),m=n(789),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())})},y=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},b=null,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={repositories:[],isEdit:!1,repoObject:Object(),repoToDelete:Object(),secretKey:"",showValidationMessege:!1,Credentials:{password:"",username:""},verifyUser:!0},b=n,n.deleteRepository=n.deleteRepository.bind(n),n.onDeleteRepository=n.onDeleteRepository.bind(n),n.saveRepository=n.saveRepository.bind(n),n.onEditRepository=n.onEditRepository.bind(n),n.handleRepoForm=n.handleRepoForm.bind(n),n.loadRepositories=n.loadRepositories.bind(n),n.handleSecretKeyChange=n.handleSecretKeyChange.bind(n),n.onBackupRepository=n.onBackupRepository.bind(n),n}return p(t,e),t.prototype.componentDidMount=function(){return f(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return[4,this.loadRepositories()];case 1:return e.sent(),[2]}})})},t.prototype.loadRepositories=function(){return f(this,void 0,void 0,function(){return y(this,function(e){return(new c.b).GetObject(c.a.DOCUMENT(),a.b,function(e,t){if(e)console.log("Get Object Error Returned",e),b.setState({repositories:[]});else{var n=Object(l.g)(t.Body);if(n){var i=JSON.parse(n);JSON.stringify(i)!=JSON.stringify(b.state.repositories)&&b.setState({repositories:i})}}}),[2]})})},t.prototype.saveRepository=function(){return f(this,void 0,void 0,function(){var e,t,n,i,o,r=this;return y(this,function(s){return e=this.state,t=e.repoObject,n=e.repositories,i=e.isEdit,o="",i?n.find(function(e){return e.origin==t.origin}).repository=t.repository:(o=t.origin,n.push({origin:t.origin,repository:t.repository})),this.setState({repositories:n,isEdit:!1,repoObject:{origin:"",repository:""}},function(){if((new c.b).PutObject(c.a.DOCUMENT(),a.b,JSON.stringify(n)),setTimeout(function(){Object(a.h)()},1e3),!i){var e={allowAutoSMS:!0,city:"",company:"",contact:"root",email:"",facility:"",facilityAssignedTo:[],departmentsAndGroups:[],group:"",groups:[{value:"Admin",label:"Admin"}],mobile:"",name:"root",notes:"",password:"ONIT$$$$$#####",confirmPassword:"",qualifications:[],role:"1",state:"",streetAddress:"",zipcode:"",stripePaymentMethodId:"",stripeCustomerId:"",stripeSubscriptionId:""};setTimeout(function(){Object(a.a)()},1e3),setTimeout(function(){return f(r,void 0,void 0,function(){return y(this,function(t){return e&&(Object(u.a)(!0),Object(d.l)("",e,!1,o),Object(u.a)(!1)),[2]})})},5e3)}}),[2]})})},t.prototype.deleteRepository=function(){return f(this,void 0,void 0,function(){var e,t,n;return y(this,function(i){return e=this.state,t=e.repositories,n=e.repoToDelete,t.splice(t.findIndex(function(e){return e.origin==n.origin}),1),this.setState({repositories:t},function(){(new c.b).PutObject(c.a.DOCUMENT(),a.b,JSON.stringify(t)),setTimeout(function(){Object(a.h)()},1e3)}),[2]})})},t.prototype.onDeleteRepository=function(e){this.setState({repoToDelete:e})},t.prototype.onEditRepository=function(e){this.setState({isEdit:!0,repoObject:e},function(){document.getElementById("btnRepositoryForm").click()})},t.prototype.onBackupRepository=function(e){Object(u.a)(!0),Object(a.c)(e.origin,e.repository),setTimeout(function(){Object(u.a)(!1)},1e3)},t.prototype.handleRepoForm=function(e){var t=this.state.repoObject;t[""+e.target.name]=e.target.value,this.setState({repoObject:t})},t.prototype.handleSecretKeyChange=function(e){this.setState({secretKey:e})},t.prototype.render=function(){var e=this,t=this.state,n=t.repositories,o=t.repoObject,c=t.isEdit,l=t.verifyUser;return i.createElement("div",{className:"content"},i.createElement("div",{id:"loadingDiv",className:"modal in modal-loading","data-backdrop":"false",role:"dialog",style:{display:"none",background:"#0000003a"}},i.createElement("svg",{style:{position:"absolute",top:"40%",left:"40%"},width:"15%",height:"15%",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg",stroke:"#337840"},i.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)",strokeWidth:"2"},i.createElement("circle",{cx:"22",cy:"22",r:"17.0118",strokeOpacity:"0"},i.createElement("animate",{attributeName:"r",begin:"1.5s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),i.createElement("animate",{attributeName:"strokeOpacity",begin:"1.5s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),i.createElement("animate",{attributeName:"strokeWidth",begin:"1.5s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})),i.createElement("circle",{cx:"22",cy:"22",r:"9.01182",strokeOpacity:"0"},i.createElement("animate",{attributeName:"r",begin:"3s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),i.createElement("animate",{attributeName:"strokeOpacity",begin:"3s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),i.createElement("animate",{attributeName:"strokeWidth",begin:"3s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})),i.createElement("circle",{cx:"22",cy:"22",r:"2.25887"},i.createElement("animate",{attributeName:"r",begin:"0s",dur:"1.5s",values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"}))))),l&&i.createElement(m.a,{onConfirmation:function(t){t?e.setState({verifyUser:!1}):e.setState({verifyUser:!0})}}),!l&&i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"dropdown pull-right"}),i.createElement("button",{type:"button",className:"btn btn-dark pull-right",onClick:function(){e.setState({isEdit:!1,repoObject:{origin:"",repository:""}},function(){document.getElementById("btnRepositoryForm").click()})}},i.createElement("i",{className:"fa fa-plus"})," Add New Repository"))),i.createElement("br",null),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"card",id:"DevicesList"},i.createElement("div",{className:"header"},i.createElement("h4",{className:"title"},"Repositories")),i.createElement("div",{className:"content"},i.createElement("div",{className:"dataCard"},i.createElement("button",{type:"button",id:"btnRepositoryForm",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#RepositoryFormDialog"}," ."),i.createElement(s.a,{id:"RepositoryFormDialog",heading:"Repository Information",showCancelButton:!0,cancelButtonText:"Cancel",onSaveButtonClick:function(){e.saveRepository()},saveButtonText:"Save",disableSaveButton:!1},i.createElement("div",{className:"content"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("label",{htmlFor:"point"},"Instance:"),i.createElement("input",{id:"point",type:"text",disabled:c,name:"origin",className:"form-control",value:o.origin,onChange:function(t){return e.handleRepoForm(t)}}))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("label",{htmlFor:"point"},"Repository:"),i.createElement("input",{id:"point",type:"text",name:"repository",className:"form-control",value:o.repository,onChange:function(t){return e.handleRepoForm(t)}}))))),i.createElement("div",{className:"row hidden-sm hidden-xs"},i.createElement("div",{className:"col-md-8 col-sm-12"},i.createElement("div",{className:"col-md-6 headingText"},"Instance"),i.createElement("div",{className:"col-md-6 headingText"},"Repository")),i.createElement("div",{className:"col-md-4 col-sm-12 headingText"},"Action")),n&&n.map(function(t,n){return i.createElement("div",{key:n,className:"row clickable"},i.createElement("div",{className:"col-md-8 col-sm-12"},i.createElement("div",{className:"col-md-6 trim-data",title:t.origin},i.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Origin"),t.origin),i.createElement("div",{className:"col-md-6 trim-data",title:Object(a.g)(t.repository)},i.createElement("span",{className:"hidden visible-sm-inline visible-xs-inline headingText"},"Repository"),t.repository)),i.createElement("div",{className:"col-md-12 col-sm-12"},i.createElement("button",{className:"btn-sm btn-danger active pull-right custom-outline-btn",onClick:function(n){e.onDeleteRepository(t)},"data-toggle":"modal","data-target":"#ConfirmDeleteDialog"},i.createElement("i",{className:"fa fa-trash"})),i.createElement("button",{className:"btn-sm btn-success active pull-right custom-outline-btn",onClick:function(){e.setState({isEdit:!0}),e.onEditRepository(t)}},i.createElement("i",{className:"fa fa-edit"})),i.createElement("button",{className:"btn-sm btn-success active pull-right custom-outline-btn",onClick:function(){e.onBackupRepository(t)}},i.createElement("i",{className:"fa fa-hdd-o"})," Create Backup")))}),i.createElement(r.a,{instance:"",id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this respository?",heading:"Confirm...",onConfirmButtonClick:function(){e.deleteRepository()}}))))))))},t}(i.Component);t.default=h}});