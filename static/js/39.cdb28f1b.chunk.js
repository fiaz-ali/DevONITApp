webpackJsonp([39],{1243:function(e,t,n){"use strict";t.f=function(e,t,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,Object(c.f)({model:e,isEdit:t,itemToUpdate:n},c.a.DOCUMENTS.SaveDocument,i.b.DOCS).then(function(){Object(a.b)("Document "+(t?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Document.")})];case 1:return[2,o.sent()]}})})},t.d=function(e,t,n){return o(this,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,Object(c.e)({buildingName:e,infoEntity:t,entityName:n},c.a.DOCUMENTS.GetDocuments,i.b.DOCS)];case 1:return[2,a.sent()]}})})},t.e=function(e,t,n,l){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,Object(c.f)({buildingName:e,model:t,isEdit:n,itemToUpdate:l},c.a.DOCUMENTS.SaveCommunityDoc,i.b.DOCS).then(function(){Object(a.b)("Community Document "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Community Document.")})];case 1:return[2,o.sent()]}})})},t.b=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.DOCUMENTS.GetCommunityDocs,i.b.DOCS)];case 1:return[2,t.sent()]}})})},t.c=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({fileName:e},c.a.DOCUMENTS.GetDocumentFilesList,i.b.DOCS)];case 1:return[2,t.sent()]}})})},t.a=function(e,t,n){return o(this,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,Object(c.e)({buildingName:e,infoEntity:t,entityName:n},c.a.DOCUMENTS.getAttachments,i.b.DOCS)];case 1:return[2,a.sent()]}})})};var i=n(8),a=n(6),c=n(5),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function o(e){try{l(i.next(e))}catch(e){c(e)}}function r(e){try{l(i.throw(e))}catch(e){c(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,r)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,a,c,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}}},1244:function(e,t,n){"use strict";var i=n(2),a=(n.n(i),n(8)),c=n(34),o=n(148),r=n(77),l=n(786),s=n(150),u=n(10),d=n(783),m=n(53),f=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function o(e){try{l(i.next(e))}catch(e){c(e)}}function r(e){try{l(i.throw(e))}catch(e){c(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,r)}l((i=i.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){var n,i,a,c,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}},b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={documentObject:n.props.documentObject,_infoEntityItems:[],DropDownList:[],isEdit:n.props.isEdit,documentTypes:a.a,files:[],oldS3File:[],fileName:n.props.fileName?n.props.fileName:""},n.handleFormChange=n.handleFormChange.bind(n),n.handleMultiInfoEntityChange=n.handleMultiInfoEntityChange.bind(n),n._fetchItems=n._fetchItems.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n}return f(t,e),t.prototype.componentDidMount=function(){return h(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return this.props.infoEntity?[4,this._fetchItems()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.props.isEdit&&this.setState({documentObject:this.props.documentObject,isEdit:this.props.isEdit,oldS3File:this.props.documentObject.s3FileName}),[2]}})})},t.prototype.componentWillReceiveProps=function(e){this.setState({isEdit:e.isEdit,documentObject:e.documentObject,files:e.files,oldS3File:e.documentObject.s3FileName})},t.prototype._fetchItems=function(){return h(this,void 0,void 0,function(){var e,t,n;return p(this,function(i){switch(i.label){case 0:if(Object(c.a)(!0),!(e=this.props.infoEntity))return[2];switch(t=[],e){case"Equip":return[3,1];case"Space":return[3,3];case"Zone":return[3,5];case"Point":return[3,7]}return[3,8];case 1:return[4,Object(r.g)(this.props.buildingName)];case 2:return t=i.sent(),[3,8];case 3:return[4,Object(d.b)(this.props.buildingName)];case 4:return t=i.sent(),[3,8];case 5:return[4,Object(l.e)(this.props.buildingName)];case 6:return t=i.sent(),[3,8];case 7:return[3,8];case 8:return n=t.map(function(e){return{value:e.ontology.value,label:e.rdfsLabel.value}}),this.setState({_infoEntityItems:t,DropDownList:n}),Object(c.a)(!1),[2]}})})},t.prototype.handleMultiInfoEntityChange=function(e){var t=this.state,n=t.documentObject,i=t.files;n.infoEntity=e,this.setState({documentObject:n}),this.props.handleDocument(n,i)},t.prototype.handleFormChange=function(e){var t=this,n=this.state,i=n.documentObject,a=n.files,c=e.target.name;i[""+c]=e.target.value,this.setState({documentObject:i},function(){t.props.handleDocument(i,a),t.setState({files:[],documentObject:Object()})})},t.prototype.handleDueDateChange=function(e){var t=this.state.documentObject;t.date=e.toString(),this.setState({documentObject:t})},t.prototype.handlefileAttached=function(e){var t=this;if(e.length>0){for(var n=this.state.documentObject,i=0;i<e.length;i++){var c=e[i].name.split(".").pop(),o=this.props.buildingName+"_"+Object(u.j)(15)+"."+c;this.props.isCommunityDoc||(n.rdfsLabel=e[i].name),n.s3FileName[i]=this.state.fileName+"-"+o}var r=n,l=e;Object(a.g)(e),this.setState({files:[],documentObject:Object()},function(){t.props.handleDocument(r,l)})}},t.prototype.render=function(){var e=this,t=this.state,n=t.documentObject,a=t.DropDownList,c=t.isEdit,r=t.documentTypes,l=t.oldS3File,u=m.c+"/"+m.a.DOCUMENT+"/"+l;return i.createElement("div",{className:"content"},!this.props.isCommunityDoc&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"infoEntity"},this.props.infoEntity,":")),i.createElement("div",{className:"col-md-9"},c&&n&&n.infoEntity&&i.createElement("input",{id:"item",name:"item",disabled:!0,className:"form-control",value:n.infoEntity[0].label}),!c&&i.createElement(o.a,{id:"infoEntity",name:"infoEntity",closeMenuOnSelect:!1,isMulti:!0,value:n.infoEntity,onChange:this.handleMultiInfoEntityChange,placeholder:"Select "+this.props.infoEntity,options:a})))),this.props.isCommunityDoc&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"name"},"Document Name:")),i.createElement("div",{className:"col-md-9"},i.createElement("input",{id:"name",name:"rdfsLabel",disabled:c,className:"form-control",value:n.rdfsLabel,onChange:function(t){return e.handleFormChange(t)}})))),!this.props.isCommunityDoc&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"filename"},"File Name:")),i.createElement("div",{className:"col-md-9"},i.createElement("input",{id:"filename",name:"filename",disabled:c,className:"form-control",value:this.state.fileName,onChange:function(t){return e.setState({fileName:t.target.value.replace(new RegExp(" ","g"),"")})}})))),i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},"\xa0"),i.createElement("div",{className:"col-md-9"},i.createElement(s.a,{handleAttachedFile:this.handlefileAttached,files:this.state.files,isEdit:this.state.isEdit,single:!1})))),l&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},"\xa0"),i.createElement("div",{className:"col-md-9"},l.map(function(e,t){-1!=e.toLowerCase().indexOf(".pdf")||-1!=e.toLowerCase().indexOf(".txt")&&i.createElement("a",{className:"file-attachment",href:m.c+"/"+m.a.DOCUMENT+"/"+l[t],target:"_blank"},"ATTACHED FILE"),-1!=e.toLowerCase().indexOf(".mp4")&&i.createElement("video",{height:"150",width:"200",controls:!0},i.createElement("source",{src:u,type:"video/mp4"})),(-1!=e.toLowerCase().indexOf(".jpg")||-1!=e.toLowerCase().indexOf(".jpeg")||-1!=e.toLowerCase().indexOf(".png"))&&i.createElement("img",{height:"150",width:"245",src:m.c+"/"+m.a.DOCUMENT+"/"+l[t]})})))),i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"linkToDocument"},"Document Link:")),i.createElement("div",{className:"col-md-9"},i.createElement("input",{id:"linkToDocument",name:"linkToDocument",className:"form-control",value:n.linkToDocument,onChange:function(t){return e.handleFormChange(t)}})))),!this.props.isCommunityDoc&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"documentType"},"Document Type:")),i.createElement("div",{className:"col-md-9"},i.createElement("select",{className:"form-control",id:"documentType",name:"documentType",onChange:function(t){return e.handleFormChange(t)},value:n.documentType},i.createElement("option",{value:"-1"},"Select Document Type"),r.map(function(e,t){return e.value===n.documentType?i.createElement("option",{key:t,selected:!0,value:e.value},e.label):i.createElement("option",{key:t,value:e.value},e.label)}))))))},t}(i.Component);t.a=b},724:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2),c=(n.n(a),n(21)),o=n(17),r=n(8),l=n(34),s=n(1243),u=n(7),d=n(10),m=n(54),f=n(53),h=n(1244),p=n(158),b=n(9),v=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),E=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function o(e){try{l(i.next(e))}catch(e){c(e)}}function r(e){try{l(i.throw(e))}catch(e){c(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,r)}l((i=i.apply(e,t||[])).next())})},y=this&&this.__generator||function(e,t){var n,i,a,c,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}},N=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isEdit:!1,documentObject:{infoEntity:[],enteredBy:"",documentType:"",date:"",documentName:"",rdfsLabel:"",enteredByName:"",s3FileName:[],linkToDocument:""},Documents:[],DocumentTypes:p.a,itemToDelete:Object(),files:[]},i=n,n.handleTypeFilters=n.handleTypeFilters.bind(n),n.handleDocumentForm=n.handleDocumentForm.bind(n),n.saveDocument=n.saveDocument.bind(n),n.fetchDocuments=n.fetchDocuments.bind(n),n.onDeleteDocument=n.onDeleteDocument.bind(n),n.deleteDocument=n.deleteDocument.bind(n),n}return v(t,e),t.prototype.componentDidMount=function(){return E(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this.fetchDocuments()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.fetchDocuments=function(){return E(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,Object(s.b)(this.props.buildingName).then(function(e){i.setState({Documents:e})})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.handleTypeFilters=function(e){var t=e.target.checked,n=this.state.DocumentTypes;n[n.findIndex(function(t){return t.Type===e.target.value})].visible=t,this.setState({DocumentTypes:n});for(var i=[],a=p.b,c=0;c<a.length;c++)for(var o=0;o<n.length;o++)n[o].Type==a[c].Type&&1==n[o].visible&&i.push(a[c]);this.setState({Documents:i})},t.prototype.saveDocument=function(){return E(this,void 0,void 0,function(){var e,t,n,a,c,o,u,d,m,h=this;return y(this,function(p){switch(p.label){case 0:return e=this.state,t=e.documentObject,n=e.isEdit,a=e.itemToDelete,t&&t.infoEntity?(Object(l.a)(!0),1!=n?[3,2]:[4,Object(s.e)(this.props.buildingName,t,this.state.isEdit,a)]):[3,5];case 1:return p.sent(),[3,4];case 2:return c=JSON.parse(b.a.getItem("user")),t.enteredBy=c.contact,[4,Object(s.e)(this.props.buildingName,t,this.state.isEdit)];case 3:p.sent(),p.label=4;case 4:if(o=new f.b,(u=Object(r.d)())&&u.length)for(d=0;d<u.length;d++)(m=u[d])||(m=u[d].file),m&&o.UploadFile(f.a.COMMUNITYDOCS,t.s3FileName[d],m,function(e,t){e?console.log(e):console.log(t)});this.setState({documentObject:{infoEntity:[],enteredBy:"",documentType:"",date:"",documentName:"",rdfsLabel:"",enteredByName:"",s3FileName:[],linkToDocument:""},files:[],isEdit:!1},function(){return E(h,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return[4,i.fetchDocuments()];case 1:return e.sent(),[2]}})})}),Object(l.a)(!1),p.label=5;case 5:return[2]}})})},t.prototype.onDeleteDocument=function(e){return E(this,void 0,void 0,function(){return y(this,function(t){return this.setState({itemToDelete:e}),[2]})})},t.prototype.deleteDocument=function(){return E(this,void 0,void 0,function(){var e;return y(this,function(t){switch(t.label){case 0:return(e=this.state.itemToDelete).documentName.value?[4,Object(d.d)(e.documentName.value,r.b.DOCS)]:[3,3];case 1:return t.sent(),[4,this.fetchDocuments()];case 2:t.sent(),Object(s.c)(e.rdfsLabel.value).then(function(t){t&&0==t.length&&(new f.b).DeleteFile(f.a.COMMUNITYDOCS,e.rdfsLabel.value)}),t.label=3;case 3:return[2]}})})},t.prototype.onEditDocument=function(e){return E(this,void 0,void 0,function(){var t;return y(this,function(n){return(t=this.state.documentObject).infoEntity=[],t.documentType=e.documentType&&e.documentType.value,t.rdfsLabel=e.rdfsLabel&&e.rdfsLabel.value,t.documentName=e.documentName&&e.documentName.value,t.enteredBy=e.enteredBy&&e.enteredBy.value,t.enteredByName=e.enteredByName&&e.enteredByName.value,this.setState({documentObject:t,isEdit:!0,itemToDelete:e}),document.getElementById("btnDocumentForm").click(),[2]})})},t.prototype.handleDocumentForm=function(e,t){this.setState({documentObject:e,files:t})},t.prototype.render=function(){var e=this,t=this.state,n=t.Documents,i=t.DocumentTypes,l=t.isEdit,s=t.documentObject,d=(this.props,Object(r.c)()),p=s.rdfsLabel&&(s.s3FileName&&d||s.linkToDocument)&&!0;return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(o.a,{id:"filterDocumentsModal",heading:"Filter Documents",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1},i&&i.length>0&&i.map(function(t,n){return!0===t.visible?a.createElement("div",{key:t+"-"+n},a.createElement("input",{checked:!0,type:"checkbox",value:t.Type,onChange:e.handleTypeFilters})," ",a.createElement("label",null,t.Type)):a.createElement("div",null,a.createElement("input",{type:"checkbox",value:t.Type,onChange:e.handleTypeFilters})," ",a.createElement("label",null,t.Type))})),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("button",{type:"button",className:"btn btn-dark pull-right","data-toggle":"modal","data-target":"#documentFormDialog",onClick:function(){e.setState({isEdit:!1,files:[],documentObject:{infoEntity:[],enteredBy:"",documentType:"",date:"",documentName:"",rdfsLabel:"",enteredByName:"",s3FileName:[],linkToDocument:""}})}},a.createElement("i",{className:"fa fa-plus"})," Add "))),a.createElement("br",null),a.createElement("div",{className:"card padding-10"},a.createElement("div",{className:""},a.createElement("h4",{className:"title"},"Community Documents")),a.createElement("div",{className:"content"},a.createElement(c.AppContext.Consumer,null,function(t){return a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"row hidden-xs no-padding"},a.createElement("div",{className:"col-md-10 col-sm-12  no-padding dataCard"},a.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small grid-header-left"},"Name"),a.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small grid-header"},"Link"),a.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small grid-header"},"Date"),a.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small grid-header"},"Entered By")),a.createElement("div",{className:"col-md-1 col-sm-12 headingText"})),n&&n.length>0&&n.map(function(t,n){var i=Object(u.g)(t.linkToDocument);return i=i?i.indexOf("ttp")>0?i:"http://"+i:"",a.createElement("div",{key:t.documentName+"-"+n,className:"row no-padding"},""!=Object(u.g)(t.rdfsLabel)&&a.createElement("div",{className:"no-padding"},a.createElement("div",{className:"col-md-10 col-sm-12  no-padding"},a.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small trim-data",title:Object(u.g)(t.rdfsLabel)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Name"),a.createElement("a",{href:f.c+"/"+f.a.COMMUNITYDOCS+"/"+encodeURIComponent(Object(u.g)(t.s3FileName?t.s3FileName:t.rdfsLabel)),target:"_blank"},Object(u.g)(t.rdfsLabel))),a.createElement("div",{className:"col-md-3 padding-10 col-sm-12 small trim-data",title:Object(u.g)(t.linkToDocument)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Link"),a.createElement("a",{href:i,target:"_blank"},i)),a.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small trim-data",title:Object(u.g)(t.date)?new Date(Object(u.g)(t.date)).YYMMDDHHMM():""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Date"),Object(u.g)(t.date)?new Date(Object(u.g)(t.date)).YYMMDDHHMM():""),a.createElement("div",{className:"col-md-2 padding-10 col-sm-12 small trim-data",title:Object(u.g)(t.enteredByName)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Entered By"),Object(u.g)(t.enteredByName))),a.createElement("div",{className:"col-md-2 col-sm-12 col-xs-12",style:{paddingTop:"3px"}},a.createElement("button",{className:"btn-sm btn-danger active pull-right","data-toggle":"modal","data-target":"#ConfirmDeleteDialog",onClick:function(n){e.onDeleteDocument(t)}},a.createElement("i",{className:"fa fa-trash"})," Delete "))))}),a.createElement("button",{type:"button",id:"btnDocumentForm",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#documentFormDialog"}," ."),a.createElement(o.a,{id:"documentFormDialog",onSaveButtonClick:function(){e.saveDocument()},saveButtonText:"Save",disableSaveButton:!p},a.createElement(h.a,{instance:e.props.instance,isEdit:l,infoEntity:"CommunityDocs",buildingName:e.props.buildingName,documentObject:s,handleDocument:e.handleDocumentForm,isCommunityDoc:!0,files:e.state.files})),a.createElement(m.a,{instance:e.props.instance,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this item?",heading:"Confirm...",onConfirmButtonClick:function(){e.deleteDocument()}}))})))))))},t}(a.Component);t.default=N},783:function(e,t,n){"use strict";t.g=function(e,t,n,a){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,Object(c.e)({buildingName:e,spaceName:t,spaceWithCalendar:n},c.a.SPACES.GETSPACES,i.b.SPACE,a)];case 1:return[2,o.sent()]}})})},t.c=function(e,t,n){return o(this,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,Object(c.e)({floor:e,buildingName:t},c.a.SPACES.GetLocationsList,i.b.SPACE,n)];case 1:return[2,a.sent()]}})})},t.d=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({zone:e,buildingName:t},c.a.SPACES.getLocationsListSpacesByZones,i.b.SPACE)];case 1:return[2,n.sent()]}})})},t.b=function(e,t,n){void 0===n&&(n=!0);return o(this,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,Object(c.e)({buildingName:e,type:t},c.a.SPACES.GetAllLocationsList,i.b.SPACE,n)];case 1:return[2,a.sent()]}})})},t.a=function(e,t,n,l,s){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,Object(c.f)({buildingName:e,model:t,floor:n,isEdit:l,spacetoUpdate:s},c.a.SPACES.SAVESPACE,i.b.SPACE).then(function(){Object(a.b)("Space "+(l?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Space.")})];case 1:return[2,o.sent()]}})})},t.f=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.SPACES.GetSpaceTypesList,i.b.SPACE)];case 1:return[2,t.sent()]}})})},t.e=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({spaceName:e},c.a.SPACES.GetSpaceOptimalInfo,i.b.SPACE)];case 1:return[2,t.sent()]}})})},t.h=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.f)({spaceToUpdate:e},c.a.SPACES.UpdateSpaceOptimalInfo,i.b.SPACE).then(function(){Object(a.b)("Space Updated Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Space.")})];case 1:return[2,t.sent()]}})})};var i=n(8),a=n(6),c=n(5),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function o(e){try{l(i.next(e))}catch(e){c(e)}}function r(e){try{l(i.throw(e))}catch(e){c(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,r)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,a,c,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}}},786:function(e,t,n){"use strict";t.a=function(e,t,n){return o(this,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,Object(c.e)({buildingName:e,zoneName:t,bimSid:n},c.a.ZONES.GETZONES,i.b.ZONE)];case 1:return[2,a.sent()]}})})},t.b=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({buildingName:e,floor:t},c.a.ZONES.SAVEFLOOR,i.b.ZONE).then(function(){Object(a.b)("Floor Added Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Floor.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({model:e,buildingName:t},c.a.ZONES.SAVEZONE,i.b.ZONE).then(function(){Object(a.b)("Zone Added Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Zone.")})];case 1:return[2,n.sent()]}})})},t.f=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.ZONES.GETFLOORLIST,i.b.ZONE)];case 1:return[2,t.sent()]}})})},t.g=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,equipmentType:t},c.a.ZONES.GETSERVICEPROVIDERSLIST,i.b.ZONE)];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,excludeFloors:t},c.a.ZONES.GetAllZonesList,i.b.ZONE)];case 1:return[2,n.sent()]}})})},t.h=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,Object(c.e)({buildingName:e},c.a.ZONES.GetZoneTypesList,i.b.ZONE)];case 1:return[2,t.sent()]}})})},t.d=function(e,t){return o(this,void 0,void 0,function(){var n=this;return r(this,function(l){switch(l.label){case 0:return[4,Object(c.f)({buildingName:e,zoneName:t},c.a.ZONES.DELETEZONE,i.b.ZONE).then(function(){return o(n,void 0,void 0,function(){return r(this,function(e){return Object(a.b)("Zone Deleted Successfully."),[2]})})}).catch(function(e){Object(a.a)("Error occured while deleting.")})];case 1:return[2,l.sent()]}})})};var i=n(8),a=n(6),c=n(5),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,c){function o(e){try{l(i.next(e))}catch(e){c(e)}}function r(e){try{l(i.throw(e))}catch(e){c(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,r)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,a,c,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}}}});