webpackJsonp([12],{1001:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var a=[{roleID:"1",value:"1-Super User"},{roleID:"2",value:"2-Operating Officer / Manager"},{roleID:"3",value:"3-Staff / Contractors"},{roleID:"4",value:"4-Customer"},{roleID:"5",value:"5-Service Manager"},{roleID:"6",value:"6-Service Worker"}],o=[{roleID:"3",value:"3-Staff / Contractors"},{roleID:"4",value:"4-Customer"},{roleID:"5",value:"5-Service Manager"},{roleID:"6",value:"6-Service Worker"}]},1002:function(e,t,n){"use strict";var a=n(3),o=n.n(a),i=n(934),r=n(935),s=(n.n(r),n(574)),l=n(45),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,s)}l((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isOpen:!1,photoIndex:0,filesName:n.props.filesName},n}return c(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({filesName:e.filesName})},t.prototype.deleteFile=function(e){return u(this,void 0,void 0,function(){var t,n,a,o,i=this;return d(this,function(r){switch(r.label){case 0:return t=this.props.filesName,n=this.props.buildingName,a=this.props.equipment,o=t&&t[e],t.splice(e,1),(new l.b).DeleteFile(l.a.DOCUMENT,o),this.props.isFromEquipment?[4,Object(s.w)(n,a,!0,!0).then(function(){i.props.onChangeFiles(t)})]:[3,2];case 1:return r.sent(),[3,3];case 2:this.props.isFromComponent?this.props.saveComponent():this.props.onChangeFiles(t),r.label=3;case 3:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.filesName,a=t.showDownloadLink,r=t.showRemoveButton,s=t.colSize,c=t.showImageViewer,u=this.state,d=u.isOpen,m=u.photoIndex,h=n&&n[m],p="";return h?(h.toLowerCase().indexOf(".mp4")>0&&(p="assets/img/video-file-icon.png"),h.toLowerCase().indexOf(".pdf")>0&&(p="assets/img/pdf-file-icon.png"),!(h.toLowerCase().indexOf(".pdf")>0||h.toLowerCase().indexOf(".mp4")>0||h.toLowerCase().indexOf(".png")>0||h.toLowerCase().indexOf(".jpeg")>0||h.toLowerCase().indexOf(".jpg")>0)&&(p=l.c+"/"+l.a.DOCUMENT+"/"+(n&&n[m]))):p=l.c+"/"+l.a.DOCUMENT+"/"+(n&&n[m]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-12 no-padding"},n&&n.length>0&&n.map(function(t,n){if(t)return o.a.createElement("div",{className:s?"mb-2 col-md-"+s:"col-md-3 mb-2",style:{paddingRight:"0px"}},o.a.createElement("div",null,r&&o.a.createElement("div",{className:"discobtn headingText files-delete-div",title:"Delete",onClick:function(){e.deleteFile(n)}},o.a.createElement("i",{className:"fa fa-close"})),o.a.createElement("div",{onClick:function(){e.setState({isOpen:!0,photoIndex:n})},style:{cursor:"pointer"}},t.toLowerCase().indexOf(".mp4")>0&&o.a.createElement("img",{className:"img-thumbnail",style:{width:"22em",height:"14em"},src:"assets/img/video-file-icon.png"}),t.toLowerCase().indexOf(".pdf")>0&&o.a.createElement("img",{className:"img-thumbnail",style:{width:"22em",height:"14em"},src:"assets/img/pdf-file-icon.png"}),!(t.toLowerCase().indexOf(".pdf")>0||t.toLowerCase().indexOf(".mp4")>0||t.toLowerCase().indexOf(".png")>0||t.toLowerCase().indexOf(".jpeg")>0||t.toLowerCase().indexOf(".jpg")>0)&&o.a.createElement("img",{className:"img-thumbnail",style:{width:"22em",height:"14em"},src:"assets/img/office-file-icon.png"}),(t.toLowerCase().indexOf(".jpg")>0||t.toLowerCase().indexOf(".jpeg")>0||t.toLowerCase().indexOf(".png")>0)&&o.a.createElement("img",{className:"img-thumbnail",style:{width:"22em",height:"14em"},src:l.c+"/"+l.a.DOCUMENT+"/"+t})),a&&o.a.createElement("div",{className:" discobtn trim-data center"},o.a.createElement("a",{className:"downloadImageBtn discobtn trim-data",href:l.c+"/"+l.a.DOCUMENT+"/"+t},c&&o.a.createElement("span",null," (Click here for download)"),c&&o.a.createElement("br",{className:""}),o.a.createElement("span",null,t),!c&&o.a.createElement("hr",{className:""})))))})),d&&n&&o.a.createElement("div",null,o.a.createElement(i.a,{mainSrc:p||l.c+"/"+l.a.DOCUMENT+"/"+(n&&n[m]),nextSrc:p||l.c+"/"+l.a.DOCUMENT+"/"+(n&&n[m]),prevSrc:p||l.c+"/"+l.a.DOCUMENT+"/"+(n&&n[m]),onCloseRequest:function(){e.setState({isOpen:!1,photoIndex:0})},onMovePrevRequest:function(){return e.setState({photoIndex:(m+n.length-1)%n.length})},onMoveNextRequest:function(){return e.setState({photoIndex:(m+1)%n.length})}})))},t}(o.a.Component);t.a=m},1467:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var a,o=n(3),i=(n.n(o),n(89)),r=n(1001),s=n(578),l=n(26),c=n(87),u=n(17),d=n(580),m=n(585),h=n(573),p=n(598),f=n(44),v=n(18),g=n(695),b=n(974),y=n(596),E=n.n(y),w=n(14),N=n(1468),_=n.n(N),x=n(568),C=n(657),S=n(45),D=n(1002),O=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),T=this&&this.__assign||function(){return(T=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},M=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,s)}l((a=a.apply(e,t||[])).next())})},P=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},A=new Date,k=new Date;a=a;var F=function(t){function n(e){var n=t.call(this,e)||this;return n.sigPad={},n.clear=function(){n.sigPad.clear()},n.state={Contact:Object(),_Groups:[],_Qualifications:[],groupsDropDownList:[],departmentsGroupsDropDownList:[],buildingsDropDownList:[],smsStartTime:"",smsEndTime:"",newDepartAndGroupName:"",fileTitle:"",files:[],recentSelectedFiles:[],showhideImageUploader:!1,lotoQualifications:[]},a=n,n.handleContactForm=n.handleContactForm.bind(n),n.saveContact=n.saveContact.bind(n),n._fetchContactGroupList=n._fetchContactGroupList.bind(n),n._fetchQualificationsList=n._fetchQualificationsList.bind(n),n._fetchBuildingsList=n._fetchBuildingsList.bind(n),n.handleQualification=n.handleQualification.bind(n),n._fetchContact=n._fetchContact.bind(n),n.handleMultiGroupChange=n.handleMultiGroupChange.bind(n),n.handleMultiFacilityChange=n.handleMultiFacilityChange.bind(n),n.handleAllowAutoSMS=n.handleAllowAutoSMS.bind(n),n.handleSMSSchedule=n.handleSMSSchedule.bind(n),n.setSmsSchedule=n.setSmsSchedule.bind(n),n.handleDepartmentsAndGroupsChange=n.handleDepartmentsAndGroupsChange.bind(n),n.addNewDepartmentGroup=n.addNewDepartmentGroup.bind(n),n._fetchDepartmentOrGroup=n._fetchDepartmentOrGroup.bind(n),n.handleTitleChange=n.handleTitleChange.bind(n),n.onFileChange=n.onFileChange.bind(n),n.saveImage=n.saveImage.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n}return O(n,t),n.prototype.componentDidMount=function(){return M(this,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,this._fetchContactGroupList()]:[3,7];case 1:return t.sent(),[4,this._fetchQualificationsList()];case 2:return t.sent(),[4,this._fetchBuildingsList()];case 3:return t.sent(),[4,this._fetchDepartmentOrGroup()];case 4:return t.sent(),this.setSmsSchedule(),(e=this.props.contactName)&&e.length>0?(Object(c.a)(!0),[4,this._fetchContact()]):[3,6];case 5:return t.sent(),Object(c.a)(!1),[3,7];case 6:this.setState({Contact:Object()}),t.label=7;case 7:return[2]}})})},n.prototype._fetchContact=function(e){return M(this,void 0,void 0,function(){var t=this;return P(this,function(n){switch(n.label){case 0:return Object(c.a)(!0),this.props.buildingName?[4,Object(s.n)("",[e?this.state.Contact.contact:this.props.contactName]).then(function(e){var n=t.state,a=n.buildingsDropDownList,o=n.departmentsGroupsDropDownList,i=e[0],r=t.state.Contact;r.contact=Object(u.g)(i.contact),r.name=Object(u.g)(i.name),r.mobile=Object(u.g)(i.phone),r.email=Object(u.g)(i.email),r.role=Object(u.g)(i.role),r.company=Object(u.g)(i.company),r.streetAddress=Object(u.g)(i.street),r.city=Object(u.g)(i.city),r.state=Object(u.g)(i.state),r.zipcode=Object(u.g)(i.zipcode),r.hourlyRate=Object(u.g)(i.hourlyRate)?parseFloat(Object(u.g)(i.hourlyRate)):0,r.facility=Object(u.g)(i.assignedTo),r.profileImage=Object(u.g)(i.profileImage);var s=""!=Object(u.g)(i.assignedTo)?i.assignedTo.value.indexOf(",")>0?i.assignedTo.value.split(","):[i.assignedTo.value]:[];s.forEach(function(e){-1==a.findIndex(function(t){return t.value==e})&&s.splice(s.findIndex(function(t){return t==e}),1)}),r.facilityAssignedTo=i.assignedTo&&s.map(function(e,t){return{label:Object(v.i)(e),value:e}});var l=""!=Object(u.g)(i.departmentsAndGroups)?i.departmentsAndGroups.value.indexOf(",")>0?i.departmentsAndGroups.value.split(","):[i.departmentsAndGroups.value]:[];l.forEach(function(e){-1==o.findIndex(function(t){return t.value==e})&&o.splice(l.findIndex(function(t){return t==e}),1)}),r.departmentsAndGroups=i.departmentsAndGroups&&l.map(function(e,t){return{label:Object(v.i)(e),value:e}}),r.group=Object(u.g)(i.group);var c=i.group.value.indexOf(",")>0?i.group.value.split(","):[i.group.value];r.groups=i.group&&c.map(function(e,t){return{label:e.replace(new RegExp("Tenant","g"),"Customer"),value:e}}),r.notes=Object(u.g)(i.notes);var d=Object(u.g)(i.qualifications);if(r.qualifications=d.length>0?d.split(","):[],r.allowAutoSMS="true"==Object(u.g)(i.allowAutoSMS),r.smsSchedule=Object(u.g)(i.smsSchedule),""!=r.smsSchedule){var m=r.smsSchedule.split("-");(A=new Date).setHours(parseInt(m[0])),A.setMinutes(0),(k=new Date).setHours(parseInt(m[1])),k.setMinutes(0)}r.signatureDataURL=Object(u.g)(i.signatureDataURL),t.setState({Contact:r,smsStartTime:A.toString(),smsEndTime:k.toString()})}).catch(function(e){return e})]:[2];case 1:return n.sent(),Object(c.a)(!1),[2]}})})},n.prototype._fetchContactGroupList=function(){return M(this,void 0,void 0,function(){var e=this;return P(this,function(t){switch(t.label){case 0:return[4,Object(s.l)().then(function(t){var n=t&&t.map(function(e){return{value:e.value,label:e.value.replace(new RegExp("Tenant","g"),"Customer")}});e.setState({groupsDropDownList:n})})];case 1:return t.sent(),[2]}})})},n.prototype._fetchBuildingsList=function(){return M(this,void 0,void 0,function(){var e=this;return P(this,function(t){switch(t.label){case 0:return[4,Object(p.d)().then(function(t){if(t){var n=JSON.parse(w.a.getItem("user"));if("1"==n.role){var a=t&&t.map(function(e){return{value:Object(u.g)(e.building),label:Object(u.g)(e.rdfsLabel)}});e.setState({buildingsDropDownList:a})}else if(n.facility&&""!=n.facility){a=t.filter(function(e){return 1==n.facility.includes(Object(u.g)(e.building))}).map(function(e){return{value:Object(u.g)(e.building),label:Object(u.g)(e.rdfsLabel)}});e.setState({buildingsDropDownList:a})}}})];case 1:return t.sent(),[2]}})})},n.prototype._fetchQualificationsList=function(){return M(this,void 0,void 0,function(){var e=this;return P(this,function(t){switch(t.label){case 0:return[4,Object(s.o)().then(function(t){e.setState({_Qualifications:t})})];case 1:return t.sent(),[2]}})})},n.prototype.handleContactForm=function(e){var t=this.state.Contact,n=e.target.name;n&&n.length>0&&"contact"==n&&(e.target.value=e.target.value.replace(new RegExp(" ","g"),"")),"checkbox"==e.target.type?t[""+n]=e.target.checked:t[""+n]=e.target.value,this.setState({Contact:t})},n.prototype.handleAllowAutoSMS=function(e){var t=this.state.Contact;t.allowAutoSMS=e,this.setState({Contact:t})},n.prototype.handleMultiGroupChange=function(e){var t=this.state.Contact;t.groups=e,this.setState({Contact:t})},n.prototype.handleMultiFacilityChange=function(e){var t=this.state.Contact;t.facilityAssignedTo=e,this.setState({Contact:t})},n.prototype.handleDepartmentsAndGroupsChange=function(e){var t=this.state.Contact;t.departmentsAndGroups=e,this.setState({Contact:t})},n.prototype.handleQualification=function(e,t){var n=this.state.Contact,a=this.state.lotoQualifications,o=n.qualifications?n.qualifications:[];if(1==t)o.push(e);else{var i=o.indexOf(e);i>-1&&o.splice(i,1)}n.qualifications=o,this.setState({Contact:n,lotoQualifications:a})},n.prototype.saveContact=function(e){return M(this,void 0,void 0,function(){var t,n,a,o,i,r,l,u;return P(this,function(d){switch(d.label){case 0:return t=this.state.Contact,n=this.props,a=n.isEdit,o=n.instance,t.groups=[{label:"Admin",value:"Admin"}],i=t.groups.map(function(e){return e.value}),[4,Object(v.p)(Object(v.s)(t.contact),i)];case 1:return r=d.sent(),t.password===t.confirmPassword?[3,2]:(Object(f.a)("Passwords don't match."),[3,6]);case 2:return r&&!a?[3,5]:t?(Object(c.a)(!0),[4,Object(s.g)(this.props.buildingName,t,this.props.isEdit)]):[3,4];case 3:d.sent(),Object(c.a)(!1),l=new g.a,u="",u=a?t.name+", your ONIT profile has been added or updated. Your User Name:"+t.contact+". To Unsubscribe to these messages, visit "+window.location.origin+"/#"+o+"/UnsubscribeSMSAlerts/FullScreen or contact your supervisor.":"Thank you for joining the ONIT Network! Your number has been associated with username: "+t.contact+". To Unsubscribe to these messages, visit "+window.location.origin+"/#"+o+"/UnsubscribeSMSAlerts/FullScreen or contact your supervisor.",l.SendSMS(t.mobile,u,o,function(e){}),e&&1==e||document.getElementById("btnbackPeopleList").click(),d.label=4;case 4:return[3,6];case 5:alert("user already exists, please change user name"),d.label=6;case 6:return[2]}})})},n.prototype.hasQualification=function(e){var t=this.state.Contact.qualifications;return!!(e&&t&&t.length>0)&&!!t.find(function(t){return t==e})},n.prototype.handleSMSSchedule=function(e,t){var n=this;if(t)if("From"==e){A=t;var a=t.toString();this.setState({smsStartTime:a},function(){n.setSmsSchedule()})}else{k=t;a=t.toString();this.setState({smsEndTime:a},function(){n.setSmsSchedule()})}},n.prototype.saveSignature=function(){var t=this.state.Contact;t=t;var n={trimmedDataURL:this.sigPad.getTrimmedCanvas().toDataURL("image/png")};t.signatureDataURL=n.trimmedDataURL;var a=new e(n.trimmedDataURL.replace(/^data:image\/\w+;base64,/,""),"base64");a=a,this.setState({Contact:t})},n.prototype.setSmsSchedule=function(){var e=this.state,t=e.smsEndTime,n=e.smsStartTime,a=e.Contact;if(""!=t&&""!=n){var o=new Date(t).getHours(),i=new Date(n).getHours();a.smsSchedule=i+"-"+o,this.setState({Contact:a})}},n.prototype.addNewDepartmentGroup=function(){return M(this,void 0,void 0,function(){var e,t,n,a=this;return P(this,function(o){switch(o.label){case 0:return e=this.state.newDepartAndGroupName,t=this.state.Contact,n=e.replace(new RegExp(" ","g"),""),[4,Object(s.a)(this.props.buildingName,n).then(function(){t.departmentsAndGroups||(t.departmentsAndGroups=[]),t.departmentsAndGroups&&t.departmentsAndGroups.push(T({value:n,label:n})),a.setState({Contact:t,newDepartAndGroupName:""},function(){return M(a,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._fetchDepartmentOrGroup()];case 1:return e.sent(),[2]}})})})})];case 1:return o.sent(),[2]}})})},n.prototype._fetchDepartmentOrGroup=function(){return M(this,void 0,void 0,function(){var e,t=this;return P(this,function(n){switch(n.label){case 0:return e=[],[4,Object(s.e)().then(function(n){if(n&&n.length>0)for(var a=0;a<n.length;a++){var o={value:n[a],label:n[a]};e&&e.push(T({},o))}t.setState({departmentsGroupsDropDownList:e})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},n.prototype.onFileChange=function(e){return M(this,void 0,void 0,function(){var t,n=this;return P(this,function(a){return t=this.state.Contact,e&&e.length>0?t.profileImage=e[0]:t.profileImage="",this.setState({Contact:t},function(){n.props.isEdit&&n.saveContact(!0)}),[2]})})},n.prototype.handlefileAttached=function(e){var t=this;if(e.length>0){var n=this.state,a=n.files,o=n.Contact,i=n.recentSelectedFiles,r=n.fileTitle;o.profileImage||(o.profileImage=""),a||(a=[]),i||(i=[]);for(var s=0;s<e.length;s++){var c=e[s].name.split(".").pop(),u=(new Date).YYMMDDHHMMSS2()+"-"+r+"."+c.toLowerCase();o.profileImage=u,i.push(u)}Object(l.g)(e),this.setState({files:e,recentSelectedFiles:i,Contact:o},function(){return M(t,void 0,void 0,function(){return P(this,function(e){return[2]})})})}},n.prototype.handleTitleChange=function(e){this.setState({fileTitle:e.replace(new RegExp(" ","g"),"")},function(){document.getElementById("fileTitle").style.boxShadow=e?"0px 0px 15px gainsboro":"0px 0px 15px red"})},n.prototype.saveImage=function(){return M(this,void 0,void 0,function(){var e,t,n,a,o;return P(this,function(i){if(e=this.state.recentSelectedFiles,t=new S.b,(n=Object(l.d)())&&n.length)for(a=0;a<n.length;a++)o=n[a],t.UploadFile(S.a.DOCUMENT,e[a],o);return this.setState({fileTitle:"",files:[],recentSelectedFiles:[],showhideImageUploader:!1},function(){}),[2]})})},n.prototype.render=function(){var e=this,t=this.props,n=t.isView,a=t.isEdit,s=t.instance,l=t.buildingName,c=this.state,u=c.Contact,p=c._Qualifications,f=c.buildingsDropDownList,v=c.smsEndTime,g=c.smsStartTime,y=c.departmentsGroupsDropDownList,N=c.newDepartAndGroupName,S=c.fileTitle,O=c.showhideImageUploader,T=c.files,M=u.contact&&u.role&&u.qualifications&&u.qualifications.length>0&&u.facilityAssignedTo&&u.facilityAssignedTo.length>0&&!0,P=JSON.parse(w.a.getItem("user")),F=Object(m.b)(P,"people","write");return document.getElementById("warningText")&&(document.getElementById("warningText").style.display="none"),o.createElement(i.a.Consumer,null,function(t){return o.createElement("div",{className:"content"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"card"},o.createElement("div",{className:"container-fluid padding-10"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"name"},"Name"))),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",disabled:n,id:"name",name:"name",className:"form-control",value:u.name,onChange:function(t){return e.handleContactForm(t)}})),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"mobile"},"Mobile #"))),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",disabled:n,id:"mobile",name:"mobile",className:"form-control",value:u.mobile,onChange:function(t){return e.handleContactForm(t)}})))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"allowAutoSMS"},"Allow Automated Messaging:")),o.createElement("div",{className:"col-md-1"},o.createElement("br",null),o.createElement("div",{className:"switch-container"},o.createElement("label",null,o.createElement("input",{id:"allowAutoSMS",disabled:n,name:"allowAutoSMS",checked:u.allowAutoSMS,onChange:function(t){t.target.checked?document.getElementById("btnConfirmAllow").click():e.handleContactForm(t)},className:"switch",type:"checkbox"}),o.createElement("div",null,o.createElement("div",null)))),o.createElement("br",null)," No/Yes"),u.allowAutoSMS&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"smsSchedule"},"SMS Text Schedule"))),o.createElement("div",{className:"col-md-2 col-xs-12"},o.createElement("label",null,"From"),o.createElement(E.a,{className:"form-control",selected:g?A:null,onChange:function(t){e.handleSMSSchedule("From",t)},showTimeSelect:!0,showTimeSelectOnly:!0,dateFormat:"HH:mm",timeIntervals:60,customInput:o.createElement("input",{type:"text",className:"form-control",placeholder:"Start Time","aria-label":"","aria-describedby":"button-addon4",value:e.state.smsStartTime})})),o.createElement("div",{className:"col-md-2 col-xs-12"},o.createElement("label",null,"To"),o.createElement(E.a,{className:"form-control",selected:v?k:null,onChange:function(t){e.handleSMSSchedule("To",t)},showTimeSelect:!0,showTimeSelectOnly:!0,dateFormat:"HH:mm",timeIntervals:60,customInput:o.createElement("input",{type:"text",className:"form-control",placeholder:"Start Time","aria-label":"","aria-describedby":"button-addon4",value:e.state.smsEndTime})}))))),o.createElement("button",{id:"btnConfirmAllow",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmAllowDialog"},"."),o.createElement(h.a,{instance:s,id:"ConfirmAllowDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure the user is prepared to receive automated messages?",heading:"Confirm...",onConfirmButtonClick:function(){e.handleAllowAutoSMS(!0)}}),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"contact"},"User Name"))),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",disabled:a||n,id:"contact",name:"contact",className:"form-control",value:u.contact,onChange:function(t){return e.handleContactForm(t)}})),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"role"},"Role"))),o.createElement("div",{className:"col-md-4"},o.createElement("select",{className:"form-control",disabled:a&&"1"!=t.authenticatedUser.role||n,id:"role",name:"role",value:u.role,onChange:function(t){return e.handleContactForm(t)}},o.createElement("option",{value:"",key:-2},"Select Role"),!("2"==P.role)&&r.a.map(function(e,t){return e.roleID==u.role?o.createElement("option",{key:t,value:e.roleID,selected:!0},e.value," "):o.createElement("option",{key:t,value:e.roleID},e.value," ")}),"2"==P.role&&r.b.map(function(e,t){return e.roleID==u.role?o.createElement("option",{key:t,value:e.roleID,selected:!0},e.value," "):o.createElement("option",{key:t,value:e.roleID},e.value," ")}))))),!(a||n)&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"newpassword"},"Password"))),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"password",disabled:n,id:"newpassword",name:"password",className:"form-control",value:u.password,onChange:function(t){return e.handleContactForm(t)}})),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"confirmpass"},"Confirm Password"))),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"password",disabled:n,id:"confirmpass",name:"confirmPassword",className:"form-control",value:u.confirmPassword,onChange:function(t){return e.handleContactForm(t)}})))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"email"},"Email"))),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",disabled:n,id:"email",name:"email",className:"form-control",value:u.email,onChange:function(t){return e.handleContactForm(t)}})),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"company"},"Company"))),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",disabled:n,id:"company",name:"company",className:"form-control",value:u.company,onChange:function(t){return e.handleContactForm(t)}})))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"streetAddress"},"Address"))),o.createElement("div",{className:"col-md-3"},o.createElement("input",{type:"text",disabled:n,id:"streetAddress",name:"streetAddress",className:"form-control",placeholder:"Street Address",value:u.streetAddress,onChange:function(t){return e.handleContactForm(t)}})),o.createElement("div",{className:"col-md-2"},o.createElement("input",{type:"text",disabled:n,id:"city",name:"city",className:"form-control",placeholder:"City",value:u.city,onChange:function(t){return e.handleContactForm(t)}})),o.createElement("div",{className:"col-md-3"},o.createElement("input",{type:"text",disabled:n,id:"state",name:"state",className:"form-control",placeholder:"State",value:u.state,onChange:function(t){return e.handleContactForm(t)}})),o.createElement("div",{className:"col-md-2"},o.createElement("input",{type:"text",disabled:n,id:"zipcode",name:"zipcode",className:"form-control",placeholder:"ZipCode",value:u.zipcode,onChange:function(t){return e.handleContactForm(t)}})))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"assignedto"},"Facility Assigned To"))),o.createElement("div",{className:"col-md-4"},o.createElement(d.a,{isDisabled:n||!F||a&&"1"!=t.authenticatedUser.role,closeMenuOnSelect:!1,isMulti:!0,value:u.facilityAssignedTo,onChange:e.handleMultiFacilityChange,placeholder:"Select Building(s)",options:f})),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"departmentsAndGroups"},"Department / Group"))),o.createElement("div",{className:"col-md-3"},o.createElement(d.a,{isDisabled:n||!F||a&&"1"!=t.authenticatedUser.role,closeMenuOnSelect:!1,isMulti:!0,value:u.departmentsAndGroups,onChange:e.handleDepartmentsAndGroupsChange,placeholder:"Select Department & Group(s)",options:y})),o.createElement("div",{className:"col-md-1"},o.createElement("button",{className:"btn btn-sm btn-dark btn-fill","data-toggle":"modal","data-target":"#departmentsAndGroupsDailogeBox ",title:"Add"},o.createElement("i",{className:"fa fa-plus"}))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-2 col-sm-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"hourlyRate"},"Hourly Rate"))),o.createElement("div",{className:"col-md-2 col-sm-2"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"number",disabled:a&&"1"!=t.authenticatedUser.role||n,id:"hourlyRate",name:"hourlyRate",className:"form-control",value:u.hourlyRate,onChange:function(t){return e.handleContactForm(t)}}))),o.createElement("div",{className:"col-md-1 col-sm-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"notes"},"Notes"))),o.createElement("div",{className:"col-md-7 col-sm-6"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text ",disabled:a&&"1"!=t.authenticatedUser.role||n,id:"notes",name:"notes",className:"form-control",value:u.notes,onChange:function(t){return e.handleContactForm(t)}}))))),a&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-2"},u.name&&o.createElement(b.a,{userName:u.contact,dialogButtonName:"SetPassword",displaybuttonText:"Set Password",displaybutton:!0})),o.createElement("div",{className:"col-md-5 col-md-offset-5 pr-5"},o.createElement("button",{className:"btn btn-fill btn-primary pull-right ","data-toggle":"modal","data-target":"#AddDailogeBox",title:"Enter Signature",onClick:function(){}},u.signatureDataURL?"Update Signature":"Add Signature"),o.createElement("br",null),u.signatureDataURL&&o.createElement("img",{src:u.signatureDataURL,style:{marginTop:5,width:"100%",border:"1px solid #14505b",borderRadius:"5px"}}),o.createElement(x.a,{id:"AddDailogeBox",heading:"Signature Pad",saveButtonText:"Done",onSaveButtonClick:function(){e.saveSignature()}},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"border",style:{height:"150px",width:"500px",borderBottom:"1px solid #14505b",borderRadius:"5px"}},o.createElement(_.a,{penColor:"black",minWidth:1,maxWidth:1,canvasProps:{width:500,height:150,className:"sigCanvas"},ref:function(t){e.sigPad=t}}),o.createElement("button",{className:"btn btn-danger pull-right",title:"Clear Signature",onClick:function(){e.sigPad.clear()}},"Clear"))))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-10 col-md-offset-1"},o.createElement("div",{className:"col-md-12",style:{paddingLeft:"0px"}},o.createElement("div",{className:"card no-margin padding-10"},o.createElement("div",{className:"container-fluid no-padding"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12  padding-10"},o.createElement("div",{className:"col-md-3 col-sm-4",style:{paddingTop:"8px"}},o.createElement("h5",{className:"no-margin"},o.createElement("strong",null,"Profile Image:"))),o.createElement("div",{className:"col-md-9 col-sm-8"},!(u&&u.profileImage)&&!O&&o.createElement("button",{className:"btn btn-sm btn-dark btn-fill",title:"Upload File",onClick:function(){e.setState({showhideImageUploader:!0})}},o.createElement("i",{className:"fa fa-plus"}))))),O&&o.createElement("div",{className:"row",style:{padding:"10px 10px 0px 10px"}},o.createElement("div",{className:"col-md-12 padding-10"},o.createElement("a",{className:"margin-5 closebtnfornewcomp pull-right",title:"Close",onClick:function(){e.setState({showhideImageUploader:!1,fileTitle:""})}},o.createElement("i",{className:"fa fa-close"})),o.createElement("div",{className:"card no-margin padding-10",style:{background:"#d3d3d30f"}},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 headingText padding-10"},"Title:"),o.createElement("div",{className:"col-md-9"},o.createElement("input",{onChange:function(t){e.handleTitleChange(t.target.value)},type:"text",name:"fileTitle",id:"fileTitle",value:S,className:"form-control cell_border"})),!S&&o.createElement("div",{id:"warningText",className:"col-md-12 d-none center"},o.createElement("h5",{className:"text-danger headingText"}," File Title is empty!!!  ")))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-3 headingText padding-10"},"File Upload:"),o.createElement("div",{className:"col-md-9",onClick:function(){S?(document.getElementById("fileTitle").style.boxShadow="0px 0px 15px gainsboro",document.getElementById("warningText").style.display="none"):(document.getElementById("fileTitle").style.boxShadow="0px 0px 15px red",document.getElementById("warningText").style.display="block")}},o.createElement(C.a,{disable:!e.state.fileTitle,single:!0,handleAttachedFile:e.handlefileAttached,files:T})))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12",style:{paddingRight:"24px"}},o.createElement("button",{className:"margin-5 btn btn-danger pull-right active",onClick:function(){e.setState({showhideImageUploader:!1,fileTitle:""})}}," Cancel "),o.createElement("button",{className:"margin-5 btn btn-success pull-right active",onClick:function(){e.saveImage()}}," Done ")))))),u&&u.profileImage&&o.createElement("div",{className:"row padding-10",style:{marginBottom:"0px"}},o.createElement("div",{className:"col-md-12"},o.createElement(D.a,{colSize:6,filesName:[u.profileImage],onChangeFiles:e.onFileChange,showDownloadLink:!0,showRemoveButton:!0})))))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4"},"3"!=t.authenticatedUser.role&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("h3",null,"Qualifications"),o.createElement("span",null,"(check all that are applicable)"))),o.createElement("div",{className:"col-md-12 padding-10"},o.createElement("div",{className:"col-md-12",id:"div-qualifications"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"list-group"},p.map(function(t,n){return o.createElement("div",{key:n},o.createElement("input",{type:"checkbox",name:t.value,checked:!(!u.qualifications||!u.qualifications.find(function(e){return e==t.value})),id:t.value,onChange:function(n){return e.handleQualification(t.value,n.target.checked)}}),o.createElement("label",{className:"list-group-item",htmlFor:t.value},t.value.replace(new RegExp("Tenant","g"),"Customer")))})))))))),!n&&o.createElement("div",{className:"row"},o.createElement("br",null),o.createElement("br",null),o.createElement("div",{className:"col-md-12 inline-block"},o.createElement("button",{disabled:!M,className:"btn btn-primary btn-fill",onClick:function(){e.saveContact()}},o.createElement("i",{className:"fa fa-save"})," Save"),o.createElement("button",{id:"btnbackPeopleList",className:"btn btn-secondary btn-fill",onClick:function(){window.location.hash=s+"/"+l+"/People"}},o.createElement("i",{className:"fa fa-window-close"})," Cancel"))))),o.createElement(x.a,{id:"departmentsAndGroupsDailogeBox",heading:"Add Department / Group",saveButtonText:"Done",onSaveButtonClick:function(){e.addNewDepartmentGroup()},disableSaveButton:!N},o.createElement("div",{className:"content"},o.createElement("div",{className:"dataCard"},o.createElement("div",null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"Department/Group Name:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("input",{value:N,onChange:function(t){e.setState({newDepartAndGroupName:t.target.value})},type:"text",className:"form-control"})))))))))))})},n}(o.Component);t.default=F}.call(t,n(5).Buffer)},1468:function(e,t,n){!function(t,a){e.exports=a(n(4),n(3),n(1469),n(1470))}(0,function(e,t,n,a){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=a(n(1)),l=n(2),c=a(l),u=a(n(3)),d=a(n(4)),m=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a._sigPad=null,a._excludeOurProps=function(){var e=a.props;return e.canvasProps,e.clearOnResize,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["canvasProps","clearOnResize"])},a.getCanvas=function(){return a._canvas},a.getTrimmedCanvas=function(){var e=document.createElement("canvas");return e.width=a._canvas.width,e.height=a._canvas.height,e.getContext("2d").drawImage(a._canvas,0,0),(0,d.default)(e)},a.getSignaturePad=function(){return a._sigPad},a._checkClearOnResize=function(){a.props.clearOnResize&&a._resizeCanvas()},a._resizeCanvas=function(){var e=a.props.canvasProps||{},t=e.width,n=e.height;if(!t||!n){var o=a._canvas,i=Math.max(window.devicePixelRatio||1,1);t||(o.width=o.offsetWidth*i),n||(o.height=o.offsetHeight*i),o.getContext("2d").scale(i,i),a.clear()}},a.on=function(){return window.addEventListener("resize",a._checkClearOnResize),a._sigPad.on()},a.off=function(){return window.removeEventListener("resize",a._checkClearOnResize),a._sigPad.off()},a.clear=function(){return a._sigPad.clear()},a.isEmpty=function(){return a._sigPad.isEmpty()},a.fromDataURL=function(e,t){return a._sigPad.fromDataURL(e,t)},a.toDataURL=function(e,t){return a._sigPad.toDataURL(e,t)},a.fromData=function(e){return a._sigPad.fromData(e)},a.toData=function(){return a._sigPad.toData()},o(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){this._sigPad=new u.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var e=this,t=this.props.canvasProps;return c.default.createElement("canvas",i({ref:function(t){e._canvas=t}},t))}}]),t}();m.propTypes={velocityFilterWeight:s.default.number,minWidth:s.default.number,maxWidth:s.default.number,minDistance:s.default.number,dotSize:s.default.oneOfType([s.default.number,s.default.func]),penColor:s.default.string,throttle:s.default.number,onEnd:s.default.func,onBegin:s.default.func,canvasProps:s.default.object,clearOnResize:s.default.bool},m.defaultProps={clearOnResize:!0},t.default=m},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=a}])})},1469:function(e,t,n){"use strict";function a(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}function o(e,t,n,a){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=a}function i(e,t){var n=this,a=t||{};this.velocityFilterWeight=a.velocityFilterWeight||.7,this.minWidth=a.minWidth||.5,this.maxWidth=a.maxWidth||2.5,this.throttle="throttle"in a?a.throttle:16,this.minDistance="minDistance"in a?a.minDistance:5,this.throttle?this._strokeMoveUpdate=function(e,t,n){var a,o,i,r=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,i=e.apply(a,o),r||(a=o=null)};return function(){var c=Date.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return a=this,o=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),s=c,i=e.apply(a,o),r||(a=o=null)):r||!1===n.trailing||(r=setTimeout(l,u)),i}}(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=a.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=a.penColor||"black",this.backgroundColor=a.backgroundColor||"rgba(0,0,0,0)",this.onBegin=a.onBegin,this.onEnd=a.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(n._mouseButtonDown=!0,n._strokeBegin(e))},this._handleMouseMove=function(e){n._mouseButtonDown&&n._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];n._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];n._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===n._canvas&&(e.preventDefault(),n._strokeEnd(e))},this.on()}Object.defineProperty(t,"__esModule",{value:!0}),a.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},a.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},a.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},o.prototype.length=function(){for(var e=0,t=void 0,n=void 0,a=0;a<=10;a+=1){var o=a/10,i=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){var s=i-t,l=r-n;e+=Math.sqrt(s*s+l*l)}t=i,n=r}return e},o.prototype._point=function(e,t,n,a,o){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*a*(1-e)*e*e+o*e*e*e},i.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new Image,o=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/o,r=n.height||this._canvas.height/o;this._reset(),a.src=e,a.onload=function(){t._ctx.drawImage(a,0,0,i,r)},this._isEmpty=!1},i.prototype.toDataURL=function(e){var t;switch(e){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return(t=this._canvas).toDataURL.apply(t,[e].concat(a))}},i.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},i.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"===typeof this.onBegin&&this.onBegin(e)},i.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,a=this._createPoint(t,n),o=this._data[this._data.length-1],i=o&&o[o.length-1],r=i&&a.distanceTo(i)<this.minDistance;if(!i||!r){var s=this._addPoint(a),l=s.curve,c=s.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:a.x,y:a.y,time:a.time,color:this.penColor})}},i.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var a=this._data[this._data.length-1],o=a[a.length-1];n.equals(o)||a.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"===typeof this.onEnd&&this.onEnd(e)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(e,t,n){var o=this._canvas.getBoundingClientRect();return new a(e-o.left,t-o.top,n||(new Date).getTime())},i.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,a=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,i=new o(t[1],n,a,t[2]),r=this._calculateCurveWidths(i);return t.shift(),{curve:i,widths:r}}return{}},i.prototype._calculateCurveControlPoints=function(e,t,n){var o=e.x-t.x,i=e.y-t.y,r=t.x-n.x,s=t.y-n.y,l=(e.x+t.x)/2,c=(e.y+t.y)/2,u=(t.x+n.x)/2,d=(t.y+n.y)/2,m=Math.sqrt(o*o+i*i),h=Math.sqrt(r*r+s*s),p=h/(m+h),f=u+(l-u)*p,v=d+(c-d)*p,g=t.x-f,b=t.y-v;return{c1:new a(l+g,c+b),c2:new a(u+g,d+b)}},i.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,a={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(o);return a.start=this._lastWidth,a.end=i,this._lastVelocity=o,this._lastWidth=i,a},i.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},i.prototype._drawPoint=function(e,t,n){var a=this._ctx;a.moveTo(e,t),a.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(e,t,n){var a=this._ctx,o=n-t,i=Math.floor(e.length());a.beginPath();for(var r=0;r<i;r+=1){var s=r/i,l=s*s,c=l*s,u=1-s,d=u*u,m=d*u,h=m*e.startPoint.x;h+=3*d*s*e.control1.x,h+=3*u*l*e.control2.x,h+=c*e.endPoint.x;var p=m*e.startPoint.y;p+=3*d*s*e.control1.y,p+=3*u*l*e.control2.y,p+=c*e.endPoint.y;var f=t+c*o;this._drawPoint(h,p,f)}a.closePath(),a.fill()},i.prototype._drawDot=function(e){var t=this._ctx,n="function"===typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},i.prototype._fromData=function(e,t,n){for(var o=0;o<e.length;o+=1){var i=e[o];if(i.length>1)for(var r=0;r<i.length;r+=1){var s=i[r],l=new a(s.x,s.y,s.time),c=s.color;if(0===r)this.penColor=c,this._reset(),this._addPoint(l);else if(r!==i.length-1){var u=this._addPoint(l),d=u.curve,m=u.widths;d&&m&&t(d,m,c)}}else this._reset(),n(i[0])}},i.prototype._toSVG=function(){var e=this,t=this._data,n=this._canvas,a=Math.max(window.devicePixelRatio||1,1),o=n.width/a,i=n.height/a,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"width",n.width),r.setAttributeNS(null,"height",n.height),this._fromData(t,function(e,t,n){var a=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){var o="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);a.setAttribute("d",o),a.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),a.setAttribute("stroke",n),a.setAttribute("fill","none"),a.setAttribute("stroke-linecap","round"),r.appendChild(a)}},function(t){var n=document.createElement("circle"),a="function"===typeof e.dotSize?e.dotSize():e.dotSize;n.setAttribute("r",a),n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("fill",t.color),r.appendChild(n)});var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+i+'" width="'+o+'" height="'+i+'">',l=r.innerHTML;if(void 0===l){var c=document.createElement("dummy"),u=r.childNodes;c.innerHTML="";for(var d=0;d<u.length;d+=1)c.appendChild(u[d].cloneNode(!0));l=c.innerHTML}return"data:image/svg+xml;base64,"+btoa(s+l+"</svg>")},i.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(e,n){return t._drawCurve(e,n.start,n.end)},function(e){return t._drawDot(e)}),this._data=e},i.prototype.toData=function(){return this._data},t.default=i},1470:function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t,n,a){return function(e,t,n,a){return{red:a[4*(n*t+e)],green:a[4*(n*t+e)+1],blue:a[4*(n*t+e)+2],alpha:a[4*(n*t+e)+3]}}(e,t,n,a).alpha}function a(e,t,a,o){for(var i=e?1:-1,r=e?0:a-1;e?r<a:r>-1;r+=i)for(var s=0;s<t;s++)if(n(s,r,t,o))return r;return null}function o(e,t,a,o){for(var i=e?1:-1,r=e?0:t-1;e?r<t:r>-1;r+=i)for(var s=0;s<a;s++)if(n(r,s,t,o))return r;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getContext("2d"),n=e.width,i=e.height,r=t.getImageData(0,0,n,i).data,s=a(!0,n,i,r),l=a(!1,n,i,r),c=o(!0,n,i,r),u=o(!1,n,i,r)-c+1,d=l-s+1,m=t.getImageData(c,s,u,d);return e.width=u,e.height=d,t.clearRect(0,0,u,d),t.putImageData(m,0,0),e}}])})},695:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(17),o=n(19),i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,s)}l((a=a.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=function(){function e(){}return e.prototype.SendSMS=function(e,t,n,s){return i(this,void 0,void 0,function(){var i;return r(this,function(r){switch(r.label){case 0:return t+=", To Unsubscribe SMS Alerts: "+window.location.origin+"/#"+n+"/UnsubscribeSMSAlerts/FullScreen",i={to:e,body:t},[4,fetch(o.g+"SendSMS",{mode:"cors",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/sparql-results+json"},body:Object(a.i)(i)})];case 1:return[2,r.sent()]}})})},e.prototype.SendSMS_Multiple=function(e,t,n,s,l){return i(this,void 0,void 0,function(){var i;return r(this,function(r){switch(r.label){case 0:return s&&(t+=", To Unsubscribe SMS Alerts: "+window.location.origin+"/#"+n+"/UnsubscribeSMSAlerts/FullScreen"),i={to:e,body:t},[4,fetch(o.g+"SendMultipleSMS",{mode:"cors",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Accept:"application/sparql-results+json"},body:Object(a.i)(i)})];case 1:return[2,r.sent()]}})})},e}()}});