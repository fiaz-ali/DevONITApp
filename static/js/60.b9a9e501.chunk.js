webpackJsonp([60,91],{1097:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l,i=a(2),r=(a.n(i),a(116)),s=a(746),c=a(1121),o=a(656),m=a(23),d=a(11),u=a(873),h=a(649),p=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),f=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(l,i){function r(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?l(e.value):function(e){return e instanceof a?e:new a(function(t){t(e)})}(e.value).then(r,s)}c((n=n.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){var a,n,l,i,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,n&&(l=2&i[0]?n.return:i[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,i[1])).done)return l;switch(n=0,l&&(i=[2&i[0],l.value]),i[0]){case 0:case 1:l=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,n=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!l||i[1]>l[0]&&i[1]<l[3])){r.label=i[1];break}if(6===i[0]&&r.label<l[1]){r.label=l[1],l=i;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(i);break}l[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],n=0}finally{a=l=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},b=this&&this.__spreadArrays||function(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),l=0;for(t=0;t<a;t++)for(var i=arguments[t],r=0,s=i.length;r<s;r++,l++)n[l]=i[r];return n},g=function(e){function t(t){var a=e.call(this,t)||this;return a.pageLength=15,a.state={AcknowledgedItems:[],sortOrder:1,AlarmList:[],showArchivedOnly:!1,alarmType:s.a.OperationalAlarm,selectedAlarm:Object(),equipmentList:"",selectedIndex:0,BimActiveCheck:!1,rowClicked:!1,floorList:[]},n=a,a._FetchAlarmList=a._FetchAlarmList.bind(a),a.sortAlarmList=a.sortAlarmList.bind(a),a.handleRowCheck=a.handleRowCheck.bind(a),a.handleAcknowledge=a.handleAcknowledge.bind(a),a.handleRowClick=a.handleRowClick.bind(a),a.getUnique=a.getUnique.bind(a),a.handleFloorPlan=a.handleFloorPlan.bind(a),a}return p(t,e),t.prototype.componentDidMount=function(){return f(this,void 0,void 0,function(){var e,t,a,i=this;return v(this,function(s){return e=this.props,t=e.alarmType,a=e.buildingName,this.setState({alarmType:t},function(){return f(i,void 0,void 0,function(){var e=this;return v(this,function(t){return a&&setTimeout(function(){return f(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,n._FetchAlarmList(!1)];case 1:return e.sent(),[2]}})})},300),[2]})})}),l=setInterval(function(){return f(i,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return Object(r.a)(!0),[4,this._FetchAlarmList(!0)];case 1:return e.sent(),Object(r.a)(!1),[2]}})})},6e4),[2]})})},t.prototype.componentWillUnmount=function(){return f(this,void 0,void 0,function(){return v(this,function(e){return clearInterval(l),[2]})})},t.prototype._FetchAlarmList=function(e){return f(this,void 0,void 0,function(){var t,a,n,l,i,r,s,o,m,d,u,h,p,f;return v(this,function(v){switch(v.label){case 0:return t=this.props,a=t.buildingName,n=t.equipmentName,l=t.spaceName,i=t.deviceName,r=t.deviceId,s=t.mapperAlarmList,o=this.state,m=o.alarmType,d=o.showArchivedOnly,(u=o.AlarmList)||(u=[]),s&&s.length>0?(u=s,[3,3]):[3,1];case 1:return h=this.pageLength,p=e?0:u.length,[4,Object(c.d)(m,a,d,p,h,n,l,i,r)];case 2:f=v.sent(),e?u=b(f):u.push.apply(u,f),v.label=3;case 3:return this.setState({AlarmList:u}),[2]}})})},t.prototype.handleFloorPlan=function(){return f(this,void 0,void 0,function(){var e,t,a,n;return v(this,function(l){return localStorage.setItem("AlarmList",JSON.stringify("")),e=this.props,t=e.buildingName,a=e.instance,(n=this.state.AlarmList)&&n.length>0?localStorage.setItem("AlarmList",JSON.stringify(n)):localStorage.setItem("AlarmList",JSON.stringify("")),window.open("http://"+Object(m.j)()+"/#"+a+"/"+t+"/BimSpace/Alarms/FullScreen","_blank"),[2]})})},t.prototype.sortAlarmList=function(e,t){var a=this.state.AlarmList,n=this.state.sortOrder,l=a.sort(function(t,a){if(t&&a){var l="",i="";switch(e){case"Floor":t.floorRdfsLabel&&a.floorRdfsLabel&&(l=t.floorRdfsLabel,i=a.floorRdfsLabel);break;case"Title":t.title&&a.title&&(l=t.title,i=a.title);break;case"Space":t.spaceRdfsLabel&&a.spaceRdfsLabel&&(l=t.spaceRdfsLabel,i=a.spaceRdfsLabel);break;case"TimeofAlarm":t.timeofalarm&&a.timeofalarm&&(l=t.timeofalarm,i=a.timeofalarm)}var r=0;return l.toLocaleLowerCase()<i.toLocaleLowerCase()?r=-1:l.toLocaleLowerCase()>i.toLocaleLowerCase()&&(r=1),r*n}});this.setState({AlarmList:l,sortOrder:-1*n})},t.prototype.handleRowCheck=function(e,t){var a=this.state.AlarmList;a[t].isSelected=e,this.setState({AlarmList:a})},t.prototype.handleAcknowledge=function(){return f(this,void 0,void 0,function(){var e,t,a,n;return v(this,function(l){switch(l.label){case 0:for(e=JSON.parse(d.a.getItem("user")),t=this.state.alarmType,a=this.state.AlarmList,!1,a.map(function(e){e.acknowledge}),n=0;n<a.length;n++)!!a[n].isSelected&&(a[n].acknowledge=!!a[n].isSelected,a[n].acknowledge&&(a[n].acknowledgedBy=e?e.contact:"")),a[n].isSelected=!1;return this.setState({AlarmList:a}),t!=s.a.CustomerAlarm?[3,2]:[4,Object(c.a)(a)];case 1:return l.sent(),[3,6];case 2:return t!=s.a.OperationalAlarm?[3,4]:[4,Object(c.b)(a)];case 3:return l.sent(),[3,6];case 4:return t!=s.a.SupervisoryAlarm?[3,6]:[4,Object(c.c)(a)];case 5:l.sent(),l.label=6;case 6:return[4,this._FetchAlarmList(!0)];case 7:return l.sent(),[2]}})})},t.prototype.handleArchive=function(){return f(this,void 0,void 0,function(){var e,t,a,n;return v(this,function(l){switch(l.label){case 0:for(e=JSON.parse(d.a.getItem("user")),t=this.state.alarmType,a=this.state.AlarmList,!1,a.map(function(e){e.archived}),n=0;n<a.length;n++)!!a[n].isSelected&&(a[n].archived=!!a[n].isSelected,a[n].archived&&(a[n].archivedBy=e?e.contact:"")),a[n].isSelected=!1;return this.setState({AlarmList:a}),t!=s.a.CustomerAlarm?[3,2]:[4,Object(c.a)(a)];case 1:return l.sent(),[3,6];case 2:return t!=s.a.OperationalAlarm?[3,4]:[4,Object(c.b)(a)];case 3:return l.sent(),[3,6];case 4:return t!=s.a.SupervisoryAlarm?[3,6]:[4,Object(c.c)(a)];case 5:l.sent(),l.label=6;case 6:return[4,this._FetchAlarmList(!0)];case 7:return l.sent(),[2]}})})},t.prototype.handleRowClick=function(e,t){this.setState({selectedIndex:t,BimActiveCheck:!0,rowClicked:!0}),this.selectedDeviceEquipment(e.deviceOntology),this.setState({selectedAlarm:e},function(){document.getElementById("showSelectedAlarmDetails").click()})},t.prototype.selectedDeviceEquipment=function(e){return f(this,void 0,void 0,function(){var t,a,n,l;return v(this,function(i){switch(i.label){case 0:return[4,Object(o.t)(e,this.props.buildingName)];case 1:return t=i.sent(),a="",t?(n=t.relatedEquipment&&t.relatedEquipment.map(function(e){return e.value}))&&n.length>0?[4,Object(m.s)(n)]:[3,3]:[3,3];case 2:(l=i.sent())&&l.length>0&&(a=l.map(function(e){return e.rdfsLabel}).join(", ")),i.label=3;case 3:return this.setState({equipmentList:a}),[2]}})})},t.prototype.getUnique=function(e){return f(this,void 0,void 0,function(){return v(this,function(t){return[2,e.filter(function(e,t,a){return a.indexOf(e)===t})]})})},t.prototype.render=function(){var e=this,t=this.state.alarmType,a=this.props,n=a.buildingName,l=a.instance,r=a.equipmentName,c=a.spaceName,o=a.isInTab,p=this.state,b=p.AlarmList,g=p.showArchivedOnly,E=p.selectedAlarm,N=p.BimActiveCheck,y=!!(b&&b.length>0);if(b)for(var A=0;A<b.length;A++){b[A].isSelected||(y=!1)}var w=JSON.parse(d.a.getItem("user")),k=parseInt(w.role);return i.createElement("div",{className:"content"},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 "},i.createElement("div",{className:"btn-group margin-5",style:{marginLeft:"0px"}},k<4&&i.createElement("button",{type:"button",className:"btn btn-dark "+(t==s.a.OperationalAlarm?"btn-fill":"")+" ",onClick:function(){o?e.setState({alarmType:s.a.OperationalAlarm,showArchivedOnly:!1,AlarmList:[]},function(){return f(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,this._FetchAlarmList(!0)];case 1:return e.sent(),[2]}})})}):window.location.hash="/"+l+"/"+n+"/"+(r?"Alarms/OperationalAlarms/Equip/"+r:c?"Alarms/OperationalAlarms/Space/"+c:"Health/Alarms/OperationalAlarms")}},i.createElement("span",null,"Operational Alarms")),k<=4&&i.createElement("button",{type:"button",className:"btn btn-dark "+(t==s.a.CustomerAlarm?"btn-fill":"")+" ",onClick:function(){o?e.setState({alarmType:s.a.CustomerAlarm,showArchivedOnly:!1,AlarmList:[]},function(){return f(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,this._FetchAlarmList(!0)];case 1:return e.sent(),[2]}})})}):window.location.hash="/"+l+"/"+n+"/"+(r?"Alarms/CustomerAlarms/Equip/"+r:c?"Alarms/CustomerAlarms/Space/"+c:"Health/Alarms/CustomerAlarms")}},i.createElement("span",null,"Customer Alarms")),k<4&&i.createElement("button",{type:"button",className:"btn btn-dark "+(t==s.a.SupervisoryAlarm?"btn-fill":"")+" ",onClick:function(){o?e.setState({alarmType:s.a.SupervisoryAlarm,showArchivedOnly:!1,AlarmList:[]},function(){return f(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,this._FetchAlarmList(!0)];case 1:return e.sent(),[2]}})})}):window.location.hash="/"+l+"/"+n+"/"+(r?"Alarms/SupervisoryAlarms/Equip/"+r:c?"Alarms/SupervisoryAlarms/Space/"+c:"Health/Alarms/SupervisoryAlarms")}},i.createElement("span",{className:""},"Supervisory Alarms"))),i.createElement("button",{type:"button",className:"margin-5 btn btn-success btn-fill",onClick:function(){return f(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,this.handleFloorPlan()];case 1:return e.sent(),[2]}})})}}," ",i.createElement("span",null,"FLOOR PLAN")),!g&&i.createElement(i.Fragment,null,i.createElement("button",{type:"button",className:"margin-5 btn btn-default pull-right active",onClick:function(){e.handleArchive()}}," ",i.createElement("span",null,"CLEAR")),i.createElement("button",{type:"button",className:"margin-5 btn btn-default btn-fill pull-right",onClick:function(){e.handleAcknowledge()}}," ",i.createElement("span",null,"ACKNOWLEDGE"))))),i.createElement("br",null),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("a",{className:"btn-sm btn-success active pull-left custom-icon-btn",title:"Archived "+(t==s.a.CustomerAlarm?"Customer":t==s.a.SupervisoryAlarm?"Supervisory":t==s.a.OperationalAlarm?"Operational":"")+" Alarms",style:{display:"flex",alignItems:"center",fontSize:24,margin:3,padding:"6.5px",border:"1px solid",borderRadius:5,width:38,height:38},onClick:function(t){e.setState({showArchivedOnly:!g,AlarmList:[]},function(){return e._FetchAlarmList(!0)})}},g?i.createElement("i",{title:"Show Alarms",style:{width:"100%",textAlign:"center"},className:"fas fa-bell"}):i.createElement("i",{title:"Show Archived",style:{width:"100%"},className:"fa fa-file-archive-o"})))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("br",null),i.createElement("div",{className:"card padding-10",style:{paddingTop:"0px"}},i.createElement("div",{className:"content",style:{paddingTop:"10px"}},i.createElement("div",{className:"dataCard"},i.createElement("div",{className:"row hidden-sm hidden-xs no-padding"},i.createElement("div",{className:"col-md-12 no-padding dataCard"},i.createElement("div",{className:"col-md-3 col-sm-12 small  grid-header",onClick:function(){return e.sortAlarmList("Title")}},i.createElement("i",{className:"fa fas fa-sort"}),"Title"),i.createElement("div",{className:(g?"col-md-1":"col-md-2")+" col-sm-12 small  grid-header",onClick:function(){return e.sortAlarmList("Floor")}},i.createElement("i",{className:"fa fas fa-sort"}),"Floor"),i.createElement("div",{className:"col-md-1 col-sm-12 small  grid-header",onClick:function(){return e.sortAlarmList("Space")}},i.createElement("i",{className:"fa fas fa-sort"}),"Space"),i.createElement("div",{className:"col-md-1 col-sm-12 small  grid-header",onClick:function(){return e.sortAlarmList("Value")}},i.createElement("i",{className:"fa fas fa-sort"}),"Value"),g&&i.createElement("div",{className:"col-md-1 col-sm-12 small grid-header",onClick:function(){return e.sortAlarmList("ArchivedBy")}},i.createElement("i",{className:"fa fas fa-sort"}),"Archive By"),i.createElement("div",{className:"col-md-1 col-sm-12 small grid-header",onClick:function(){return e.sortAlarmList("AcknowledgedBy")}},i.createElement("i",{className:"fa fas fa-sort"}),"Ack. By"),g&&i.createElement("div",{className:"col-md-1 col-sm-12 small grid-header",onClick:function(){return e.sortAlarmList("ArchiveTime")}},i.createElement("i",{className:"fa fas fa-sort"}),"Archive Time"),i.createElement("div",{className:"col-md-1 col-sm-12 small grid-header",onClick:function(){return e.sortAlarmList("AcknowledgeTime")}},i.createElement("i",{className:"fa fas fa-sort"}),"Ack. Time"),i.createElement("div",{className:"col-md-2 col-sm-12 small  grid-header",onClick:function(){return e.sortAlarmList("TimeofAlarm")}},i.createElement("i",{className:"fa fas fa-sort"}),"Time of Alarm"),!g&&i.createElement("div",{className:"col-md-1 col-sm-12 small  grid-header"},i.createElement("input",{style:{marginTop:"0px",marginLeft:"50px",height:"17px"},onChange:function(t){if(b){for(var a=0;a<b.length;a++){b[a].isSelected=t.target.checked}e.setState({AlarmList:b})}},type:"checkbox",checked:y,className:"form-control"})))),b&&b.length>0&&b.map(function(t,a){var n=t.spaceRdfsLabel?t.spaceRdfsLabel:Object(m.l)(t.space),l=t.floorRdfsLabel?t.floorRdfsLabel:Object(m.l)(t.floor);return i.createElement("div",{key:a,className:" row clickable"},i.createElement("div",{className:t.acknowledge?"col-md-12 no-padding":"text-danger col-md-12 no-padding blink-text"},i.createElement("div",{onClick:function(){e.handleRowClick(t,a)},className:"col-md-3 small headingText trim-data",title:t.title?t.title:""},i.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Title"),t.title?t.title:""),i.createElement("div",{onClick:function(){e.handleRowClick(t,a)},className:(g?"col-md-1":"col-md-2")+" col-sm-12 small headingText trim-data",title:l||""},i.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Floor"),l||""),i.createElement("div",{onClick:function(){e.handleRowClick(t,a)},className:"col-md-1 col-sm-12 small headingText trim-data",title:n||""},i.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Space"),n||""),i.createElement("div",{onClick:function(){e.handleRowClick(t,a)},className:"col-md-1 col-sm-12 small headingText trim-data",title:t.sensedValue?t.sensedValue.toString():""},i.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Value"),t.sensedValue?t.sensedValue:""),g&&i.createElement("div",{onClick:function(){e.handleRowClick(t,a)},className:"col-md-1 small headingText trim-data",title:t.archivedBy?t.archivedBy:""},i.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Archive By"),t.archivedBy?t.archivedBy:""),i.createElement("div",{onClick:function(){e.handleRowClick(t,a)},className:"col-md-1 small headingText trim-data",title:t.acknowledgedBy?t.acknowledgedBy:""},i.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Acknowledged By"),t.acknowledgedBy?t.acknowledgedBy:""),g&&i.createElement("div",{onClick:function(){e.handleRowClick(t,a)},className:"col-md-1 small headingText trim-data",title:t.archiveTimestamp?new Date(t.archiveTimestamp).toLocaleString():""},i.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Archive Time"),t.archiveTimestamp?new Date(t.archiveTimestamp).toLocaleString():""),i.createElement("div",{onClick:function(){e.handleRowClick(t,a)},className:"col-md-1 small headingText trim-data",title:t.acknowledgeTimestamp?new Date(t.acknowledgeTimestamp).toLocaleString():""},i.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Acknowledge Time"),t.acknowledgeTimestamp?new Date(t.acknowledgeTimestamp).toLocaleString():""),i.createElement("div",{onClick:function(){e.handleRowClick(t,a)},className:"col-md-2 small headingText trim-data",title:t.timeofalarm?t.timeofalarm:""},i.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Time of Alarm"),t.timeofalarm),!g&&i.createElement("div",{className:"col-md-1 headingText"},i.createElement("span",{className:"visible-sm-inline visible-xs-inline  headingText"},"Select"),i.createElement("input",{style:{marginTop:"0px",marginLeft:"36px",height:"17px"},onChange:function(t){e.handleRowCheck(t.target.checked,a)},type:"checkbox",checked:t.isSelected,className:"form-control"}))))}),b&&b.length>=this.pageLength&&b.length%this.pageLength==0&&i.createElement("div",{className:"row center"},i.createElement("button",{type:"button",className:"margin-5 btn btn-secondary",onClick:function(){e._FetchAlarmList(!1)}}," ",i.createElement("span",null,"Load More..."))),i.createElement("button",{type:"button",id:"showSelectedAlarmDetails",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#selectedAlarmDetails"}," ."),i.createElement(h.a,{id:"selectedAlarmDetails",isEditForm:!0,heading:"Alarm Details",saveButtonText:"Ok",cancelButtonText:"Ok",onCancelButtonClick:function(){e.setState({BimActiveCheck:!1,selectedAlarm:Object()})},onCancelButtonClickActive:!0,showCancelButton:!1,showSaveButton:!0,onSaveButtonClick:function(){e.setState({BimActiveCheck:!1,selectedAlarm:Object()})}},E&&i.createElement("div",null,i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},!E.archived&&i.createElement("button",{type:"button",className:"margin-5 btn btn-default pull-right active",onClick:function(){e.handleRowCheck(!0,e.state.selectedIndex),e.handleArchive(),document.getElementById("showSelectedAlarmDetails").click()}}," ",i.createElement("span",null,"CLEAR")),!E.acknowledge&&i.createElement("button",{type:"button",className:"margin-5 btn btn-default btn-fill pull-right",onClick:function(){e.handleRowCheck(!0,e.state.selectedIndex),e.handleAcknowledge(),document.getElementById("showSelectedAlarmDetails").click()}}," ",i.createElement("span",null,"ACKNOWLEDGE"))),i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{style:{fontWeight:"bold"},className:"header no-padding"},"Title:")),i.createElement("div",{className:"col-md-9",style:{marginLeft:"-5%"}},i.createElement("p",null,E.title?E.title:""))),E.description&&i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-3"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Description:")),i.createElement("div",{className:"col-md-9",style:{marginLeft:"-5%"}},i.createElement("p",null," ",E.description?E.description:""))),E.deviceName&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-5"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Device Name:")),i.createElement("div",{className:"col-md-7"},i.createElement("p",null,E.deviceName?E.deviceName:E.device?Object(m.l)(E.device):""))),this.state.equipmentList&&this.state.equipmentList.length>0&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-5"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Related Equipment:")),i.createElement("div",{className:"col-md-7"},i.createElement("p",null,this.state.equipmentList))),E.sensedValueKey&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-5"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Sensed Key:")),i.createElement("div",{className:"col-md-7"},i.createElement("p",null,E.sensedValueKey?E.sensedValueKey:""))),E.sensedValue&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-5"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Sensed Value:")),i.createElement("div",{className:"col-md-7"},i.createElement("p",null,E.sensedValue?E.sensedValue:""))),E.floorRdfsLabel&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-5"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Floor:")),i.createElement("div",{className:"col-md-7"},i.createElement("p",null,E.floorRdfsLabel?E.floorRdfsLabel:Object(m.l)(E.floor)))),E.spaceRdfsLabel&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-5"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Space:")),i.createElement("div",{className:"col-md-7"},i.createElement("p",null,E.spaceRdfsLabel?E.spaceRdfsLabel:Object(m.l)(E.space)))),E.acknowledgedBy&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-5"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Acknowledged By:")),i.createElement("div",{className:"col-md-7"},i.createElement("p",null,E.acknowledgedBy?E.acknowledgedBy:""))),E.acknowledgeTimestamp&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-5"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Acknowledge Time:")),i.createElement("div",{className:"col-md-7"},i.createElement("p",null,E.acknowledgeTimestamp?E.acknowledgeTimestamp.ToEasternDateTime():""))),E.archivedBy&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-5"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Archived By:")),i.createElement("div",{className:"col-md-7"},i.createElement("p",null,E.archivedBy?E.archivedBy:""))),E.archiveTimestamp&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-5"},i.createElement("label",{className:"header no-padding",style:{fontWeight:"bold"}},"Archive Time:")),i.createElement("div",{className:"col-md-7"},i.createElement("p",null,E.archiveTimestamp?E.archiveTimestamp.ToEasternDateTime():""))))),i.createElement("div",{className:"row"},N&&i.createElement("div",{className:"col-md-12"},i.createElement(u.a,{instance:l,spaceName:E.space,buildingName:n,isAlarming:!E.archived,isAchrived:!(!E.archived&&!E.acknowledge),isView:N}))))))))))))},t}(i.Component);t.default=g},1363:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=(a.n(n),a(722)),i=a(1097),r=a(656),s=a(11),c=a(746),o=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),m=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(l,i){function r(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?l(e.value):function(e){return e instanceof a?e:new a(function(t){t(e)})}(e.value).then(r,s)}c((n=n.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var a,n,l,i,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,n&&(l=2&i[0]?n.return:i[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,i[1])).done)return l;switch(n=0,l&&(i=[2&i[0],l.value]),i[0]){case 0:case 1:l=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,n=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!l||i[1]>l[0]&&i[1]<l[3])){r.label=i[1];break}if(6===i[0]&&r.label<l[1]){r.label=l[1],l=i;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(i);break}l[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],n=0}finally{a=l=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=function(e){function t(t){var a=e.call(this,t)||this;return a.state={Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},enclosure:"",deviceNumber:""}},a}return o(t,e),t.prototype.componentDidMount=function(){return m(this,void 0,void 0,function(){var e,t,a,n;return d(this,function(l){switch(l.label){case 0:return e=this.props,t=e.buildingName,a=e.InsightName,[4,Object(r.t)(a,t)];case 1:return n=l.sent(),this.setState({Moncon:n}),[2]}})})},t.prototype.render=function(){var e=this.props,t=e.instance,a=e.buildingName,r=e.InsightName,o=e.ControlName,m=e.type,d=e.hideTabs,u=this.state.Moncon,h=JSON.parse(s.a.getItem("user")),p=parseInt(h.role);return n.createElement("div",{className:"content"},n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12"},!d&&n.createElement(l.a,{InsightName:r,buildingName:a,instance:t,ControlName:o,type:m}),n.createElement("div",{className:"card",id:"InsightsList"},n.createElement(i.default,{instance:t,alarmType:4==p?c.a.CustomerAlarm:c.a.OperationalAlarm,deviceName:r,buildingName:a,isInTab:!0,deviceId:u.deviceID}))))))},t}(n.Component);t.default=u}});