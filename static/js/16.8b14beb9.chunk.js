webpackJsonp([16,18,91],{1054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(10)),i=n(1114),l=n(655),c=n(657),s=n(658),r=n(23),m=n(661),d=n(1115),u=n(116),p=n(1116),v=n(11),h=n(690),g=n(825),f=n(776),b=n(773),E=n(1117),N=n(1118),y=n(700),S=n(672),C=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),D=this&&this.__assign||function(){return(D=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},w=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,c)}s((a=a.apply(e,t||[])).next())})},k=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},T=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],l=0,c=i.length;l<c;l++,o++)a[o]=i[l];return a},L=function(e){function t(t){var n=e.call(this,t)||this;return n.state={Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:Object(r.u)(12),floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",networkDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:"",subnetmask:"255.255.255.0"},topic:"",deviceNumber:"",enclosure:"",deviceState:"",supervisorAlarmTimeDelay:180},oldModel:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",networkDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:"",subnetmask:"255.255.255.0"},topic:"",deviceNumber:"",enclosure:"",deviceState:"",supervisorAlarmTimeDelay:180},_spaces:[],_monconDeviceTypes:[],newLocation:{ontology:"",buildingName:n.props.buildingName,floor:"",type:"",name:"",rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:""},SensorList:[],HVAC_List:[],Equipment_List:[],newEquipmentType:"",EquipmentList:[],PanelEquipmentList:[],ComputingDevice_List:[],NetworkDevice_List:[],isHistorian:!1,deviceType:n.props.deviceType?n.props.deviceType:"Electronic",networkDevice:Object(),computingDevice:Object(),deviceID:"",MonconApplications:[]},n.getHVAC_List=n.getHVAC_List.bind(n),n.getEquipment_List=n.getEquipment_List.bind(n),n.getEnclosureEquipment_List=n.getEnclosureEquipment_List.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.handleMonConDeviceTypeChange=n.handleMonConDeviceTypeChange.bind(n),n.handleLightningTypeChange=n.handleLightningTypeChange.bind(n),n.handleManufacturerChange=n.handleManufacturerChange.bind(n),n.handleModelChange=n.handleModelChange.bind(n),n.handleConnectionTypeChange=n.handleConnectionTypeChange.bind(n),n.getComputingDevices=n.getComputingDevices.bind(n),n.getNetworkDevices=n.getNetworkDevices.bind(n),n.handleNotesChange=n.handleNotesChange.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.handleWirelessConfigChange=n.handleWirelessConfigChange.bind(n),n.handleNewLocationChange=n.handleNewLocationChange.bind(n),n.handleMultiSensorChange=n.handleMultiSensorChange.bind(n),n.handleMultiStrategiesChange=n.handleMultiStrategiesChange.bind(n),n.onChangeGraphURL=n.onChangeGraphURL.bind(n),n.verifyDeviceID=n.verifyDeviceID.bind(n),n.checkDeviceID=n.checkDeviceID.bind(n),n.handleDeviceNameChange=n.handleDeviceNameChange.bind(n),n.handleDeviceChange=n.handleDeviceChange.bind(n),n.getDevices=n.getDevices.bind(n),n.handleEquipmentList=n.handleEquipmentList.bind(n),n.onChangeComputingDevice=n.onChangeComputingDevice.bind(n),n.onChangeNetworkDevice=n.onChangeNetworkDevice.bind(n),n.onChangeControllerIpAddress=n.onChangeControllerIpAddress.bind(n),n.onChangeDigitalTwinLink=n.onChangeDigitalTwinLink.bind(n),n.onChangeVirtualBimLink=n.onChangeVirtualBimLink.bind(n),n.restoreSelectedVersion=n.restoreSelectedVersion.bind(n),n.handleNetworkDeviceChange=n.handleNetworkDeviceChange.bind(n),n.handleComputingDeviceChange=n.handleComputingDeviceChange.bind(n),n.saveNetworkingDevice=n.saveNetworkingDevice.bind(n),n.getNetworkingDevice=n.getNetworkingDevice.bind(n),n.getComputingDevice=n.getComputingDevice.bind(n),n.saveDevice=n.saveDevice.bind(n),n.saveComputingDevice=n.saveComputingDevice.bind(n),n.getMonconApplicatons=n.getMonconApplicatons.bind(n),n}return C(t,e),t.prototype.componentDidMount=function(){return w(this,void 0,void 0,function(){var e,t,n,a,o,i,l,c,m,d,p,h,g,f,b,E,N=this;return k(this,function(y){switch(y.label){case 0:return Object(u.a)(!0),e=this.props,t=e.deviceName,n=void 0===t?"":t,a=e.buildingName,o=e.isInsight,i=e.isView,l=e.isEdit,c=e.deviceType,[4,this.verifyDeviceID()];case 1:return y.sent(),a?(this.getDevices(),[4,this.getHVAC_List()]):[3,11];case 2:return y.sent(),[4,this.getEquipment_List()];case 3:return y.sent(),[4,this.getEnclosureEquipment_List()];case 4:return y.sent(),[4,this.fetchSpaces()];case 5:return y.sent(),m=Object(),d=Object(),p=Object(),o&&(m.monitoringControlDeviceType="Thermostat",m.connectionType="Wireless"),(i||l)&&n?"Electronic"!=c?[3,7]:[4,Object(s.t)(n,a)]:[3,9];case 6:return m=y.sent(),[3,8];case 7:"Network"==c?this.getNetworkingDevice(n):"Computing"==c&&this.getComputingDevice(n),y.label=8;case 8:return[3,10];case 9:h=JSON.parse(v.a.getItem("user")),m.deviceName=Object(r.u)(12),m.createdby=h.contact,m.wirelessConfig={ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:"",subnetmask:"255.255.255.0"},m.deviceID=this.state.deviceID,m.deviceState="Planned",m.timestamp=new Date,m.supervisorAlarmTimeDelay=180,d.ontology=Object(r.u)(12),d.deviceID=this.state.deviceID,d.deviceState="Planned",d.createdBy=h.contact,d.timestamp=new Date,p.ontology=Object(r.u)(12),p.deviceID=this.state.deviceID,p.instance=this.props.instance,p.deviceState="Planned",d.createdBy=h.contact,d.timestamp=new Date,this.setState({deviceType:this.props.tab}),y.label=10;case 10:m&&(m.rdfsLabel&&-1!=m.rdfsLabel.toLowerCase().indexOf(m.deviceID)&&(m.rdfsLabel=m.rdfsLabel.split("-").length>0?m.rdfsLabel.split("-")[0]:m.rdfsLabel),m.relatedEquipment&&m.relatedEquipment.length>0&&(g=this.state.EquipmentList).length>0&&(f=[],m.relatedEquipment&&m.relatedEquipment.map(function(e){var t=Object();t=g.find(function(t){return t.value==e.value}),f.push(t)}),m.relatedEquipment=f),m.sensors&&m.sensors.length>0&&(b=this.state.SensorList).length>0&&(E=[],m.sensors&&m.sensors.map(function(e){var t=Object();t=b.find(function(t){return t.value==e.value}),E.push(t)}),m.sensors=E),this.setState({Moncon:m,oldModel:D({},m),networkDevice:d,computingDevice:p},function(){N.getMonconApplicatons()})),y.label=11;case 11:return this.getComputingDevices(),this.getNetworkDevices(),Object(u.a)(!1),[2]}})})},t.prototype.getDevices=function(){return w(this,void 0,void 0,function(){var e,t,n,a;return k(this,function(i){switch(i.label){case 0:return e=this.props.buildingName,t=[],e?[4,Object(s.w)(e)]:[3,2];case 1:(n=i.sent())&&n.length>0&&(a=Object(),n.map(function(e){a={value:Object(o.g)(e.moncondevice),label:Object(o.g)(e.rdfsLabel)},t.push(a)})),i.label=2;case 2:return this.setState({SensorList:t}),[2]}})})},t.prototype.verifyDeviceID=function(){return w(this,void 0,void 0,function(){var e;return k(this,function(t){switch(t.label){case 0:return""!=(e=this.state.deviceID)&&e?[3,2]:[4,this.checkDeviceID()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.handleDeviceTypeChange=function(e){return w(this,void 0,void 0,function(){return k(this,function(t){return this.setState({deviceType:e}),[2]})})},t.prototype.checkDeviceID=function(){return w(this,void 0,void 0,function(){var e,t,n=this;return k(this,function(a){switch(a.label){case 0:return e=this.state.deviceID,t=Object(r.s)(6).toString(),this.props.buildingName?[4,Object(s.a)(t,this.props.buildingName).then(function(n){e=n&&n[0]?"":t}).catch(function(e){return e})]:[3,2];case 1:a.sent(),this.setState({deviceID:e},function(){return w(n,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.verifyDeviceID()];case 1:return e.sent(),[2]}})})}),a.label=2;case 2:return[2]}})})},t.prototype.getHVAC_List=function(){return w(this,void 0,void 0,function(){var e=this;return k(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,Object(l.g)(this.props.buildingName).then(function(t){for(var n=0;n<t.length;n++){var a=t[n];Object(o.g)(a.ontology)&&Object(o.g)(a.rdfsLabel)&&Object(r.F)(Object(o.g)(a.ontology),Object(o.g)(a.rdfsLabel))}e.setState({HVAC_List:t})})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.getNetworkingDevice=function(e){return w(this,void 0,void 0,function(){var t,n,a;return k(this,function(i){switch(i.label){case 0:return[4,Object(g.f)(e)];case 1:return t=i.sent(),n=Object(),t&&t.length>0&&t[0]?n={ontology:Object(o.g)(t[0].ontology),name:Object(o.g)(t[0].name),modelNo:Object(o.g)(t[0].modelNo),ipAddress:Object(o.g)(t[0].ipAddress),networkType:Object(o.g)(t[0].networkType),networkDevice:Object(o.g)(t[0].networkDevice),networkURL:Object(o.g)(t[0].networkURL),floor:Object(o.g)(t[0].floor)?Object(o.g)(t[0].floor):"",location:Object(o.g)(t[0].location)?Object(o.g)(t[0].location):"",building:Object(o.g)(t[0].building)?Object(o.g)(t[0].building):"",enclosure:Object(o.g)(t[0].enclosure),deviceState:Object(o.g)(t[0].deviceState),deviceID:Object(o.g)(t[0].deviceID)?Object(o.g)(t[0].deviceID):this.state.deviceID,createdBy:Object(o.g)(t[0].createdBy),timestamp:Object(o.g)(t[0].timestamp)&&new Date(Object(o.g)(t[0].timestamp))?new Date(Object(o.g)(t[0].timestamp)):new Date,referenceSolutionOntology:Object(o.g)(t[0].referenceSolutionOntology)}:(a=JSON.parse(v.a.getItem("user")),n.ontology=Object(r.u)(12),n.deviceID=this.state.deviceID,n.createdBy=a.contact,n.timestamp=new Date),this.setState({networkDevice:n}),[2]}})})},t.prototype.getComputingDevice=function(e){return w(this,void 0,void 0,function(){var t,n,a,i,l,c,s,m,d,u,p,g;return k(this,function(f){switch(f.label){case 0:return[4,Object(h.f)(e)];case 1:return t=f.sent(),n=Object(),t&&t.length>0&&t[0]?(a=Object(o.g)(t[0].devices),i=a&&a.split(","),l=[],i&&i.length>0?[4,Object(r.w)(i)]:[3,3]):[3,6];case 2:if((d=f.sent())&&d.length>0)for(u=0;u<d.length;u++)p=d[u],l.push({label:p.rdfsLabel,value:p.ontology});f.label=3;case 3:return c=Object(o.g)(t[0].relatedComputingDevices),s=c&&c.split(","),m=[],s&&s.length>0?[4,Object(r.w)(s)]:[3,5];case 4:if((d=f.sent())&&d.length>0)for(u=0;u<d.length;u++)p=d[u],m.push({label:p.rdfsLabel,value:p.ontology});f.label=5;case 5:return n={building:Object(o.g)(t[0].building),controllerIpAddress:Object(o.g)(t[0].controllerIpAddress),deviceID:Object(o.g)(t[0].deviceID)?Object(o.g)(t[0].deviceID):this.state.deviceID,deviceState:Object(o.g)(t[0].deviceState),networkDevice:Object(o.g)(t[0].networkDevice),devices:l,relatedComputingDevices:m,enclosure:Object(o.g)(t[0].enclosure),floor:Object(o.g)(t[0].floor),instance:Object(o.g)(t[0].instance),name:Object(o.g)(t[0].name),ontology:Object(o.g)(t[0].ontology),space:Object(o.g)(t[0].space),macID:Object(o.g)(t[0].macID),createdBy:Object(o.g)(t[0].createdBy),timestamp:Object(o.g)(t[0].timestamp)&&new Date(Object(o.g)(t[0].timestamp))?new Date(Object(o.g)(t[0].timestamp)):new Date,referenceSolutionOntology:Object(o.g)(t[0].referenceSolutionOntology)},[3,7];case 6:g=JSON.parse(v.a.getItem("user")),n.ontology=Object(r.u)(12),n.deviceID=this.state.deviceID,n.createdBy=g.contact,n.timestamp=new Date,f.label=7;case 7:return this.setState({computingDevice:n}),[2]}})})},t.prototype.getEquipment_List=function(){return w(this,void 0,void 0,function(){var e,t;return k(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(l.h)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0?e.map(function(e){return{value:Object(o.g)(e.ontology),label:Object(o.g)(e.rdfsLabel)}}):[],this.setState({EquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.getEnclosureEquipment_List=function(){return w(this,void 0,void 0,function(){var e,t;return k(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(l.o)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(o.g)(e.ontology),label:Object(o.g)(e.rdfsLabel)}}),this.setState({PanelEquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.fetchSpaces=function(){return w(this,void 0,void 0,function(){var e=this;return k(this,function(t){return Object(c.h)(this.props.buildingName).then(function(t){e.setState({_spaces:t})}).catch(function(e){return e}),[2]})})},t.prototype.handleNewLocationChange=function(e){this.setState({newLocation:e})},t.prototype.handleMonConDeviceTypeChange=function(e){var t=this;this.setState({Moncon:e},function(){t.getMonconApplicatons()})},t.prototype.getMonconApplicatons=function(){return w(this,void 0,void 0,function(){var e,t;return k(this,function(n){switch(n.label){case 0:return e=this.state.Moncon,[4,Object(s.j)([e.monitoringControlDeviceType]).catch(function(e){return[]})];case 1:return t=n.sent(),this.setState({MonconApplications:T(t)}),[2]}})})},t.prototype.handleDeviceNameChange=function(e){var t=this.state.Moncon;t.rdfsLabel=e,this.setState({Moncon:t})},t.prototype.handleEquipmentList=function(e){if(!this.props.isView){var t=this.state.Moncon;t.relatedEquipment=e,this.setState({Moncon:t})}},t.prototype.handleSupervisorAlarmTimeDelayChange=function(e){var t=this.state.Moncon;t.supervisorAlarmTimeDelay=e.target.value,this.setState({Moncon:t})},t.prototype.handleDeviceChange=function(e){var t=this.state.Moncon;t.adminPassword=e,this.setState({Moncon:t})},t.prototype.handleDeviceIDChange=function(e){var t=this.state.Moncon;t.deviceID=e,this.setState({Moncon:t})},t.prototype.handleDeviceStateChange=function(e){var t=this.state.Moncon;t.deviceState=e,this.setState({Moncon:t})},t.prototype.handleManufacturerChange=function(e){var t=this.state.Moncon;t.manufacturer=e,this.setState({Moncon:t})},t.prototype.handleModelChange=function(e){var t=this.state.Moncon;t.model=e,this.setState({Moncon:t})},t.prototype.handleFirmwareVersionChange=function(e){var t=this.state.Moncon;t.firmwareVersion=e,this.setState({Moncon:t})},t.prototype.handleBoardAddressChange=function(e){var t=this.state.Moncon;t.boardAddress=e,this.setState({Moncon:t})},t.prototype.handleLocationChange=function(e){var t=this.state.Moncon;t.location=e.selectedLocation,t.floor=e.selectedFloor},t.prototype.handleLightningTypeChange=function(e){var t=this.state.Moncon;t.relayLightingType=e,this.setState({Moncon:t})},t.prototype.handleConnectionTypeChange=function(e){var t=this.state.Moncon;t.connectionType=e,this.setState({Moncon:t})},t.prototype.onChangeComputingDevice=function(e){var t=this,n=this.state.Moncon;n.computingDevice=e.target.value,this.setState({Moncon:n},function(){t.onChangeControllerIpAddress()})},t.prototype.onChangeNetworkDevice=function(e){var t=this.state.Moncon;t.networkDevice=e.target.value,this.setState({Moncon:t},function(){})},t.prototype.onChangeMonconApplication=function(e){var t=this.state.Moncon;t.application=e.target.value,this.setState({Moncon:t})},t.prototype.onChangeControllerIpAddress=function(){var e=this.state,t=e.Moncon,n=e.ComputingDevice_List;if(t.computingDevice){var a=n.find(function(e){return Object(o.g)(e.ontology)==t.computingDevice}).controllerIpAddress;t.wirelessConfig.controllerIPAddress=Object(o.g)(a),this.setState({Moncon:t})}},t.prototype.getComputingDevices=function(){return w(this,void 0,void 0,function(){var e;return k(this,function(t){switch(t.label){case 0:return[4,Object(h.f)()];case 1:return e=t.sent(),this.setState({ComputingDevice_List:e}),[2]}})})},t.prototype.getNetworkDevices=function(){return w(this,void 0,void 0,function(){var e;return k(this,function(t){switch(t.label){case 0:return[4,Object(g.f)()];case 1:return e=t.sent(),this.setState({NetworkDevice_List:e}),[2]}})})},t.prototype.handleNotesChange=function(e){var t=this.state.Moncon;t.notes=e,this.setState({Moncon:t})},t.prototype.handleEnclosureChange=function(e){var t=this.state.Moncon;t.enclosure=e,this.setState({Moncon:t})},t.prototype.handleDeviceNumberChange=function(e){var t=this.state.Moncon;t.deviceNumber=e,this.setState({Moncon:t})},t.prototype.handleWirelessConfigChange=function(e){var t=this.state.Moncon,n=e.target.name;t.wirelessConfig[""+n]=e.target.value,this.setState({Moncon:t})},t.prototype.saveDevice=function(){return w(this,void 0,void 0,function(){var e;return k(this,function(t){return"Electronic"==(e=this.state.deviceType)?this._saveMoncon():"Network"==e?this.saveNetworkingDevice():"Computing"==e&&this.saveComputingDevice(),[2]})})},t.prototype._saveMoncon=function(e){return w(this,void 0,void 0,function(){var t,n,a,i,l,c,m,d,p,h,g,f,E;return k(this,function(N){switch(N.label){case 0:return t=this.state,n=t.Moncon,a=t.oldModel,i=this.props,l=i.instance,c=i.buildingName,m=i.isEdit,d=JSON.parse(v.a.getItem("user")),n?(n.deviceName=n&&n.deviceName?n.deviceName:Object(r.u)(12),n.createdby||(n.createdby=d.name),Object(u.a)(!0),n.deviceName?n.onitUrlLink=window.location.origin+"/#"+l+"/"+c+"/Point/EditDevice/Electronic/"+n.deviceName:n.onitUrlLink=window.location.origin+"/#"+l+"/"+c+"/Point/EditDevice/Electronic/",n.rdfsLabel=n.rdfsLabel+"-"+n.deviceID,[4,Object(S.d)(this.props.buildingName)]):[3,5];case 1:return p=N.sent(),h=Object(o.g)(p[0].buildingCode),g=Object(s.e)(n.wirelessConfig&&n.wirelessConfig.ipAddress,n.wirelessConfig&&n.wirelessConfig.controllerIPAddress,n.boardAddress,n.monitoringControlDeviceType,h),n.topic=g,f=void 0,E=void 0,e?(f=e||n,E=n):(f=n,E=m?a:null),[4,Object(s.l)(n,c,this.props.isEdit)];case 2:return N.sent(),[4,Object(b.b)(n.deviceName,f,E,d.contact)];case 3:return N.sent(),this.props.getNewDeviceLabel&&this.props.getNewDeviceLabel(n.deviceName),[4,Object(r.F)(n.deviceName,n.rdfsLabel)];case 4:N.sent(),Object(u.a)(!1),N.label=5;case 5:return this.props.onChangeTab?this.props.onChangeTab("Tab1"):document.getElementById("AddDeviceDailogeButton")?document.getElementById("AddDeviceDailogeButton").click():window.history.back(),Object(u.a)(!1),[2]}})})},t.prototype.saveNetworkingDevice=function(){return w(this,void 0,void 0,function(){var e,t,n,a;return k(this,function(o){switch(o.label){case 0:return Object(u.a)(!0),e=this.props,t=e.isEdit,n=e.buildingName,(a=this.state.networkDevice).building=n,[4,Object(g.d)(a,t)];case 1:return o.sent(),this.props.onChangeTab&&this.props.onChangeTab("Tab1"),Object(u.a)(!1),[2]}})})},t.prototype.saveComputingDevice=function(){return w(this,void 0,void 0,function(){var e,t;return k(this,function(n){switch(n.label){case 0:return Object(u.a)(!0),e=this.props.isEdit,t=this.state.computingDevice,[4,Object(h.c)(t,e)];case 1:return n.sent(),this.props.onChangeTab?this.props.onChangeTab("Tab1"):document.getElementById("AddDeviceDailogeButton")?document.getElementById("AddDeviceDailogeButton").click():window.history.back(),Object(u.a)(!1),[2]}})})},t.prototype.handleMultiSensorChange=function(e){var t=this.state.Moncon;t.sensors=[e],this.setState({Moncon:t})},t.prototype.handleMultiStrategiesChange=function(e){var t=this.state.Moncon;t.strategy=e,this.setState({Moncon:t})},t.prototype.onChangeGraphURL=function(e){var t=this.state.Moncon;t.graphURL=e,this.setState({Moncon:t})},t.prototype.onChangeDigitalTwinLink=function(e){var t=this.state.Moncon;t.digitalTwinLink=e,this.setState({Moncon:t})},t.prototype.onChangeVirtualBimLink=function(e){var t=this.state.Moncon;t.virtualBimLink=e,this.setState({Moncon:t})},t.prototype.handleNetworkDeviceChange=function(e){this.setState({networkDevice:e})},t.prototype.handleComputingDeviceChange=function(e){this.setState({computingDevice:e})},t.prototype.restoreSelectedVersion=function(e){return w(this,void 0,void 0,function(){var t;return k(this,function(n){switch(n.label){case 0:return e&&e.model?(t=JSON.parse(e.model),[4,this._saveMoncon(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.Moncon,l=t.SensorList,c=t.EquipmentList,s=t.ComputingDevice_List,r=t.NetworkDevice_List,u=t.isHistorian,h=t.PanelEquipmentList,g=t.deviceType,b=t.networkDevice,S=t.computingDevice,C=t.MonconApplications,D=this.props,w=D.instance,k=D.hideBackButton,T=this.props,L=T.isInsight,F=T.buildingName,O=T.isView,A=T.isEdit,P=T.deviceName,x=JSON.parse(v.a.getItem("user")),j=n.monitoringControlDeviceType&&(-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("relay")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ceiling")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ats")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("generator")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("watt")),_=n.monitoringControlDeviceType&&-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("cbw"),M=!1;"Electronic"==g?(M=j?!!(n.floor&&n.location&&n.rdfsLabel&&n.boardAddress&&n.computingDevice&&n.wirelessConfig&&n.wirelessConfig.controllerIPAddress&&n.wirelessConfig&&n.wirelessConfig.ipAddress):_?!!(n.floor&&n.location&&n.rdfsLabel&&n.computingDevice&&n.wirelessConfig&&n.wirelessConfig.controllerIPAddress&&n.wirelessConfig&&n.wirelessConfig.ipAddress):!!(n.floor&&n.location&&n.rdfsLabel),M=!!(n.rdfsLabel&&n.adminPassword&&n.monitoringControlDeviceType&&n.floor&&n.location&&n.wirelessConfig.ipAddress&&n.location)):"Network"==g?M=!!(b.name&&b.deviceID&&b.ipAddress&&b.networkType&&b.floor&&b.location):"Computing"==g&&(M=!!(S.name&&S.deviceID&&S.building&&S.floor&&S.space&&S.controllerIpAddress&&S.macID));var I=n&&n.monitoringControlDeviceType&&-1!=n.monitoringControlDeviceType.toLowerCase().indexOf("intesis"),V=!1,q="";return"Network"==g&&b.ontology?(V=!0,q=b.ontology):"Computing"==g&&S.ontology?(V=!0,q=S.ontology):"Electronic"==g&&n.deviceName&&(V=!0,q=n.deviceName),(O||A)&&(q=P),a.createElement(a.Fragment,null,u&&a.createElement("div",null,a.createElement("div",{className:"col-md-12"},a.createElement("button",{className:"btn btn-success pull-right active custom-outline-btn",style:{marginLeft:3,marginTop:5},onClick:function(){e.setState({isHistorian:!1})}}," Go To Back"))),u&&a.createElement(f.default,{buildingName:F,instance:w,ObjectId:n.deviceName,restoreSelectedVersion:this.restoreSelectedVersion}),!u&&a.createElement("div",{className:"content",style:{marginRight:"10px",marginLeft:"10px"}},a.createElement("div",{className:"card"},a.createElement("div",{className:"container-fluid padding-10",style:{marginTop:"-15px"}},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"deviceType"},"Device Type:"))),a.createElement("div",{className:"col-md-3 col-sm-3 col-xs-4"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:(g?"":"addFieldValidate")+" form-control",id:"deviceType",name:"deviceType",disabled:O||A,onChange:function(t){return e.handleDeviceTypeChange(t.target.value)},value:g||""},a.createElement("option",{value:"Electronic"},"Electronic Device"),a.createElement("option",{value:"Network"},"Network Device"),a.createElement("option",{value:"Computing"},"Computing Device")))),a.createElement("div",{className:"col-md-6"},a.createElement("button",{className:"btn btn-success pull-right active custom-outline-btn",onClick:function(){e.setState({isHistorian:!0})}}," ",a.createElement("i",{className:"fa fa-history","aria-hidden":"true"})," Historian Archive"))))),"Network"==g&&a.createElement(E.a,{buildingName:F,isView:O,networkDevice:b,handleNetworkDeviceChange:this.handleNetworkDeviceChange,NetworkDevice_List:r}),"Computing"==g&&a.createElement(N.a,{instance:w,buildingName:F,isView:O,computingDevice:S,handleComputingDeviceChange:this.handleComputingDeviceChange,NetworkDevice_List:r}),"Electronic"==g&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"devicename"},L?"Insight":"Device"," Name:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"devicename",disabled:O,className:(n.rdfsLabel?"":"addFieldValidate")+" form-control",value:n.rdfsLabel?n.rdfsLabel:"",onChange:function(t){return e.handleDeviceNameChange(t.target.value)}}))))),(x&&"1"==x.role||x.name==n.createdby)&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"adminPassword"},L?"Insight":"Device"," Admin Password:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",id:"adminPassword",disabled:O,className:(n.adminPassword?"":"addFieldValidate")+" form-control",value:n.adminPassword?n.adminPassword:"",name:"adminPassword",onChange:function(t){return e.handleDeviceChange(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"deviceID"},L?"Insight":"Device"," ID:"))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"deviceID",disabled:!I,className:"form-control",value:n.deviceID?n.deviceID:"",onChange:function(t){return e.handleDeviceIDChange(t.target.value)}}))),I&&a.createElement(p.a,{buildingName:F}),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"pull-right padding-5"},a.createElement("label",{htmlFor:"deviceState"},"Device State:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("select",{className:(n.deviceState?"":"addFieldValidate")+" form-control",id:"deviceState",name:"deviceState",disabled:O,onChange:function(t){return e.handleDeviceStateChange(t.target.value)},value:n.deviceState?n.deviceState:""},a.createElement("option",{value:"Planned"},"Planned"),a.createElement("option",{value:"Ordered"},"Ordered"),a.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),a.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),a.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),a.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),a.createElement("option",{value:"Assembly"},"Assembly"),a.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),a.createElement("option",{value:"Kitting"},"Kitting"),a.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),a.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),a.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),a.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),a.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),a.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),a.createElement("option",{value:"Existing"},"Existing In Use"),a.createElement("option",{value:"Retired"},"Retired"),a.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),a.createElement("option",{value:"Sold"},"Sold"),a.createElement("option",{value:"DisposedOf"},"Disposed Of"),a.createElement("option",{value:"ErrorDeleted"},"Error Deleted"))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"txtDeviceNumber"},"Device Number:"))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"txtDeviceNumber",className:"form-control",disabled:O,value:n.deviceNumber?n.deviceNumber:"",name:"txtDeviceNumber",onChange:function(t){return e.handleDeviceNumberChange(t.target.value)}}))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"pull-right padding-5"},a.createElement("label",{htmlFor:"txtEnclosure"},"Cabinet / Panel:"))),a.createElement("div",{className:"col-md-3 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"otherEquipment",disabled:O,value:n.enclosure?n.enclosure:"",onChange:function(t){return e.handleEnclosureChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Cabinet Equipment"),h&&h.length>0&&h.map(function(e,t){return a.createElement("option",{key:t,value:e.value},e.label," ")})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"computingdevice"},"Connected Computing Device:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:(j||_?n.computingDevice?"":"addFieldValidate":"")+" form-control",id:"computingdevice",disabled:O,value:n.computingDevice?n.computingDevice:"",onChange:function(t){e.onChangeComputingDevice(t)}},a.createElement("option",{value:"",key:-2},"Select Computing Device"),s.length>0&&s.map(function(e,t){return a.createElement("option",{key:t,value:Object(o.g)(e.ontology)},Object(o.g)(e.name))})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"networkdevice"},"Networking Device:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"networkdevice",value:n.networkDevice?n.networkDevice:"",disabled:O,onChange:function(t){e.onChangeNetworkDevice(t)}},a.createElement("option",{value:"",key:-2},"Select Network Device"),r.length>0&&r.map(function(e,t){return a.createElement("option",{key:t,value:Object(o.g)(e.ontology)},Object(o.g)(e.name))})))))),a.createElement("div",{className:"row "},a.createElement("div",{className:"col-md-12"},a.createElement(d.a,{buildingName:F,Moncon:n,isEdit:A,isView:O,handleMonConDeviceTypeChange:this.handleMonConDeviceTypeChange}))),a.createElement("div",{className:"row "},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"application"},"Moncon Application:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"application",value:n.application?n.application:"",disabled:O,onChange:function(t){e.onChangeMonconApplication(t)}},a.createElement("option",{value:"",key:-2},"General"),C.length>0&&C.map(function(e,t){return a.createElement("option",{key:t,value:e.ontology},e.applicationLabel)})))))),j&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"boardAddress"},"Board Address"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"boardAddress",disabled:O,className:(n.boardAddress?"":"addFieldValidate")+" form-control",value:n.boardAddress?n.boardAddress:"",onChange:function(t){return e.handleBoardAddressChange(t.target.value)}})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"Manufacturer"},"Manufacturer:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"Manufacturer",disabled:O,className:"form-control",value:n.manufacturer?n.manufacturer:"",onChange:function(t){return e.handleManufacturerChange(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"Model"},"Model:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"Model",disabled:O,className:"form-control",value:n.model?n.model:"",onChange:function(t){return e.handleModelChange(t.target.value)}}))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"firmwareVersion"},"Firmware Version:"))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"firmwareVersion",name:"firmwareVersion",disabled:O,className:"form-control",value:n.firmwareVersion?n.firmwareVersion:"",onChange:function(t){return e.handleFirmwareVersionChange(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"hvac"},"Related Equipment:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement(m.a,{isDisabled:O,closeMenuOnSelect:!1,isMulti:!0,value:n.relatedEquipment?n.relatedEquipment:[],onChange:this.handleEquipmentList,placeholder:"Select Equipment",options:c})),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"supervisorAlarmTimeDelay"},"Supervisory Alarm Time Delay (sec):"))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"supervisorAlarmTimeDelay",name:"supervisorAlarmTimeDelay",disabled:O,className:"form-control",value:n.supervisorAlarmTimeDelay?n.supervisorAlarmTimeDelay:"",onChange:function(t){return e.handleSupervisorAlarmTimeDelayChange(t)}}))))),a.createElement(i.a,{instance:this.props.instance,buildingName:F,isDisabled:O,selectedFloorLocation:{selectedFloor:n.floor,selectedLocation:n.location},onLocationChange:this.handleLocationChange}),(x&&"1"==x.role||x.name==n.createdby)&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"connectiontype"},"Connection Type:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"connectiontype",disabled:O,value:n.connectionType?n.connectionType:"",onChange:function(t){return e.handleConnectionTypeChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Connection Type"),a.createElement("option",{value:"Physical"},"Physical"),a.createElement("option",{value:"Wireless"},"Wireless")))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"cadBIM"},"ONIT URL Link:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("div",{className:"form-control",id:"onitUrlLink"},n.onitUrlLink?n.onitUrlLink:""))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"ipaddress"},"IP Address:"))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"ipaddress",className:(n.wirelessConfig&&n.wirelessConfig.ipAddress?"":"addFieldValidate")+" form-control",disabled:O,value:n.wirelessConfig&&n.wirelessConfig.ipAddress,name:"ipAddress",onChange:function(t){return e.handleWirelessConfigChange(t)}}))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group pull-right"},a.createElement("label",{htmlFor:"controllerIPAddress"},"Controller IP Address:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"controllerIPAddress",className:"form-control",disabled:!0,value:n.wirelessConfig&&n.wirelessConfig.controllerIPAddress?n.wirelessConfig.controllerIPAddress:"",name:"controllerIPAddress"}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"thermostatMacAddress"},"MAC Address:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"thermostatMacAddress",className:"form-control",disabled:O,value:n.wirelessConfig&&n.wirelessConfig.thermostatMacAddress?n.wirelessConfig.thermostatMacAddress:"",name:"thermostatMacAddress",onChange:function(t){return e.handleWirelessConfigChange(t)}}))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group pull-right"},a.createElement("label",{htmlFor:"thermostatMacAddress"},"Subnet Mask:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"subnetmask",className:"form-control",disabled:O,value:n.wirelessConfig&&n.wirelessConfig.subnetmask?n.wirelessConfig.subnetmask:"",name:"subnetmask",onChange:function(t){return e.handleWirelessConfigChange(t)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"ssid"},"SSID (Wireless Network):"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"ssid",className:"form-control",disabled:O,value:n.wirelessConfig&&n.wirelessConfig.ssid?n.wirelessConfig.ssid:"",name:"ssid",onChange:function(t){return e.handleWirelessConfigChange(t)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"password"},"Password (Wireless Network):"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"password",className:"form-control",disabled:O,value:n.wirelessConfig&&n.wirelessConfig.password?n.wirelessConfig.password:"",name:"password",onChange:function(t){return e.handleWirelessConfigChange(t)}})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"graphURLs"},"Graph URL:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",disabled:O,id:"graphURL",className:"form-control",value:n.graphURL?n.graphURL:"",onChange:function(t){return e.onChangeGraphURL(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"digitalTwinLink"},"Digital Twin URL:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",disabled:O,id:"digitalTwinLink",className:"form-control",value:n.digitalTwinLink?n.digitalTwinLink:"",onChange:function(t){return e.onChangeDigitalTwinLink(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"virtualBimLink"},"Virtual Bim URL:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",disabled:O,id:"virtualBimLink",className:"form-control",value:n.virtualBimLink?n.virtualBimLink:"",onChange:function(t){return e.onChangeVirtualBimLink(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"connectiontype"},"Sensors:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",null,a.createElement(m.a,{disabled:O,isDisabled:O,closeMenuOnSelect:!0,isMulti:!1,value:n.sensors?n.sensors:[],onChange:this.handleMultiSensorChange,placeholder:"Sensors for Optimization Strategies",options:l}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"notes"},"Notes:"))),a.createElement("div",{className:"col-md-6 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"notes",className:"form-control",disabled:O,value:n.notes?n.notes:"",onChange:function(t){return e.handleNotesChange(t.target.value)}})))))),V&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement(y.a,{buildingName:F,assetOntology:q,showUploader:!O,entityType:g+"Device"}))),!k&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 inline-block"},!O&&a.createElement("button",{className:"btn btn-primary btn-fill",type:"button",disabled:!M,onClick:function(){e.saveDevice()}},a.createElement("i",{className:"fa fa-save"})," Save")))))))},t}(a.Component);t.default=L},1114:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(667)),i=n(657),l=n(651),c=n(23),s=n(879),r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),m=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,c)}s((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={floorsList:[],locationList:[],newFloor:Object(),newLocation:{ontology:"",buildingName:n.props.buildingName,floor:"",type:"",name:"",rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:""},toggleDialogForm:!1,selectedFloorLocation:{selectedFloor:"",selectedLocation:""}},n._getFloorsList=n._getFloorsList.bind(n),n._getLocationsList=n._getLocationsList.bind(n),n.handleNewFloorChange=n.handleNewFloorChange.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.createFloor=n.createFloor.bind(n),n.updateSpace=n.updateSpace.bind(n),n}return r(t,e),t.prototype.componentDidMount=function(){return m(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,this._getFloorsList()]:[3,3];case 1:return t.sent(),[4,this._getLocationsList(this.state.selectedFloorLocation.selectedFloor)];case 2:t.sent(),(e=this.props.selectedFloorLocation)&&this.setState({selectedFloorLocation:e}),t.label=3;case 3:return[2]}})})},t.prototype.componentWillReceiveProps=function(e){return m(this,void 0,void 0,function(){var t,n=this;return d(this,function(a){return e.selectedFloorLocation&&(t=this.state.selectedFloorLocation,e.selectedFloorLocation.selectedFloor&&e.selectedFloorLocation.selectedLocation&&(e.selectedFloorLocation.selectedFloor!=t.selectedFloor||e.selectedFloorLocation.selectedLocation!=t.selectedLocation)&&this.setState({selectedFloorLocation:e.selectedFloorLocation},function(){n._getFloorsList(),n._getLocationsList(n.state.selectedFloorLocation.selectedFloor)})),[2]})})},t.prototype._getFloorsList=function(){return m(this,void 0,void 0,function(){var e=this;return d(this,function(t){switch(t.label){case 0:return[4,Object(o.f)(this.props.buildingName).then(function(t){e.setState({floorsList:t})})];case 1:return t.sent(),[2]}})})},t.prototype._getLocationsList=function(e){return m(this,void 0,void 0,function(){var t,n=this;return d(this,function(a){switch(a.label){case 0:return t=this.props.buildingName,[4,Object(i.d)(e,t).then(function(e){n.setState({locationList:e})})];case 1:return a.sent(),[2]}})})},t.prototype.handleNewFloorChange=function(e){var t=this.state.newFloor;t.rdfsLabel=e,this.setState({newFloor:t})},t.prototype.handleFloorChange=function(e){return m(this,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:return"newFloor"!==e?[3,1]:(document.getElementById("btnShowFloorForm").click(),[3,4]);case 1:return""===e?[3,4]:(t=this.state.selectedFloorLocation,e===t.selectedFloor?[3,3]:(t.selectedFloor=e,t.selectedLocation="",this.setState({selectedFloorLocation:t}),[4,this._getLocationsList(e)]));case 2:n.sent(),n.label=3;case 3:this.props.onLocationChange(t),n.label=4;case 4:return[2]}})})},t.prototype.handleLocationChange=function(e){return m(this,void 0,void 0,function(){var t;return d(this,function(n){return t=this.state.selectedFloorLocation,"addLocation"===e?this.setState({toggleDialogForm:!0},function(){document.getElementById("btnShowSpaceFormDialog").click()}):t.selectedLocation=e,this.setState({selectedFloorLocation:t}),this.props.onLocationChange(t),[2]})})},t.prototype.createFloor=function(){return m(this,void 0,void 0,function(){var e,t=this;return d(this,function(n){switch(n.label){case 0:return(e=this.state.newFloor)&&e.rdfsLabel?(e.floor=e.floor?e.floor:Object(c.u)(7),[4,Object(o.b)(this.props.buildingName,e)]):[3,4];case 1:return n.sent(),[4,this._getFloorsList()];case 2:return n.sent(),[4,this.handleFloorChange(e.floor)];case 3:n.sent(),setTimeout(function(){document.getElementById("btnShowSpaceFormDialog").click(),t.setState({toggleDialogForm:!1})},1e3),n.label=4;case 4:return[2]}})})},t.prototype.updateSpace=function(e){return m(this,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:return[4,this._getLocationsList(e.floor)];case 1:return n.sent(),(t=this.state.selectedFloorLocation).selectedFloor=e.floor,t.selectedLocation=e.name,this.setState({selectedFloorLocation:t}),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.isDisabled,o=t.buildingName,i=t.instance,c=this.state,r=c.selectedFloorLocation,m=c.floorsList,d=c.locationList,u=c.newFloor,p=c.toggleDialogForm;return a.createElement("div",{className:"row",style:{paddingTop:"10px"}},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"floor"},"Floor:"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("select",{id:"floor",className:(r.selectedFloor?"":"addFieldValidate")+" form-control",disabled:n,value:r.selectedFloor,onChange:function(t){return e.handleFloorChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Floor"),a.createElement("option",{value:"newFloor",key:-1},"New Floor"),a.createElement("hr",null),m&&m.length>0&&m.map(function(e,t){return a.createElement("option",{value:e.ontology.value,key:t},e.rdfsLabel.value," ")})),a.createElement("button",{type:"button",id:"btnShowFloorForm",className:"btn btn-primary btn-fill","data-toggle":"modal","data-target":"#floorFormDialog",style:{display:"none"}},"."),a.createElement(l.a,{id:"floorFormDialog",onSaveButtonClick:function(){e.createFloor()},saveButtonText:"Save and Create Space",disableSaveButton:!1},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-4 center"},a.createElement("label",{htmlFor:"newfloor"},"Floor:")),a.createElement("div",{className:"col-md-7"},a.createElement("input",{id:"newfloor",type:"text",className:"form-control",value:u.rdfsLabel,onChange:function(t){return e.handleNewFloorChange(t.target.value)}}))))))),a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"space"},"Space:"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("select",{id:"space",className:(r.selectedLocation?"":"addFieldValidate")+" form-control",disabled:n,value:r.selectedLocation,onChange:function(t){return e.handleLocationChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Location"),a.createElement("hr",null),a.createElement("option",{value:"addLocation",key:-1},"New Space"),a.createElement("hr",null),d.map(function(e,t){return a.createElement("option",{value:e.ontology.value,key:t},e.rdfsLabel.value," ")}))))),p&&a.createElement(s.a,{updateSpace:this.updateSpace,closeDailogBtnID:"btnShowSpaceFormDialog",floor:r.selectedFloor,buildingName:o,instance:i}))},t}(a.Component);t.a=u},1115:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(651)),i=n(116),l=n(658),c=n(11),s=n(10),r=n(661),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),d=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,c)}s((a=a.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_monconDeviceTypes:[],_monconDeviceTypesMulti:[],newDeviceType:"",Moncon:Object(),selectedMonconDevice:Object()},n._fetchMonConDeviceTypes=n._fetchMonConDeviceTypes.bind(n),n.saveEquipmentType=n.saveEquipmentType.bind(n),n.onchangeEquipmentType=n.onchangeEquipmentType.bind(n),n.handleMonConDeviceTypeChange=n.handleMonConDeviceTypeChange.bind(n),n}return m(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.state,n=t.selectedMonconDevice,a=t._monconDeviceTypesMulti;e&&e.Moncon&&e.Moncon.monitoringControlDeviceType&&(n=a&&a.find(function(t){return t.value==e.Moncon.monitoringControlDeviceType})),this.setState({Moncon:e.Moncon,selectedMonconDevice:n})},t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchMonConDeviceTypes()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype._fetchMonConDeviceTypes=function(){return d(this,void 0,void 0,function(){var e=this;return u(this,function(t){switch(t.label){case 0:return Object(i.a)(!0),[4,Object(l.y)().then(function(t){var n=[];t.map(function(e){var t=Object();t.label=Object(s.g)(e.moncon),t.value=Object(s.g)(e.moncon),n.push(t)}),"1"==JSON.parse(c.a.getItem("user")).role&&n.push({label:"Add New Device Type",value:"newDeviceType"}),e.setState({_monconDeviceTypes:t,_monconDeviceTypesMulti:n})}).catch(function(e){return e})];case 1:return t.sent(),Object(i.a)(!1),[2]}})})},t.prototype.onchangeEquipmentType=function(e){var t=e.target.value;this.setState({newDeviceType:t})},t.prototype.saveEquipmentType=function(){return d(this,void 0,void 0,function(){var e,t,n,a=this;return u(this,function(o){switch(o.label){case 0:return e=this.state.Moncon,t=this.state.newDeviceType,n=t.replace(new RegExp(" ","g"),""),t="",Object(i.a)(!0),[4,Object(l.z)(n,this.props.buildingName).then(function(e){}).catch(function(e){return e})];case 1:return o.sent(),e.monitoringControlDeviceType=n,this.setState({Moncon:e,newDeviceType:t},function(){return d(a,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this._fetchMonConDeviceTypes()];case 1:return e.sent(),[2]}})})}),Object(i.a)(!1),this.props.handleMonConDeviceTypeChange(e),[2]}})})},t.prototype.handleMonConDeviceTypeChange=function(e){var t=this.state,n=t.selectedMonconDevice,a=t.Moncon;if(e){var o=e.value;"newDeviceType"==o?document.getElementById("newEquipTypeDailogebtn").click():(a.monitoringControlDeviceType=o,n=e,this.props.handleMonConDeviceTypeChange(a)),this.setState({Moncon:a,selectedMonconDevice:n})}},t.prototype.render=function(){var e=this,t=this.props.isView,n=this.state,i=n.newDeviceType,l=n._monconDeviceTypesMulti,c=n.selectedMonconDevice;return a.createElement("div",{className:""},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"moncontype"},"Monitoring/Control Device Type:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:(c.value?"":"addFieldValidate")+" form-group"},a.createElement(r.a,{isDisabled:t,closeMenuOnSelect:!0,isMulti:!1,value:c,onChange:this.handleMonConDeviceTypeChange,placeholder:"Select Monitoring",options:l}))),a.createElement("div",{className:"colmd-12"},a.createElement("button",{id:"newEquipTypeDailogebtn",type:"button","data-toggle":"modal","data-target":"#AddTypeDailogeBox",className:"btn btn-dark hidden"}),a.createElement(o.a,{id:"AddTypeDailogeBox",heading:"Add New Device Type",saveButtonText:"Done",onSaveButtonClick:function(){e.saveEquipmentType()},disableSaveButton:!i},a.createElement("div",{className:"content"},a.createElement("div",{className:"dataCard"},a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{style:{padding:"10px"},className:"row"},a.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"New Device Type:"),a.createElement("div",{className:"col-md-8 headingText"},a.createElement("input",{value:i,onChange:function(t){e.onchangeEquipmentType(t)},type:"text",className:"form-control"})," "))))))))))},t}(a.Component);t.a=p},1116:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(651)),i=n(116),l=n(666),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),s=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,c)}s((a=a.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={intesisHome_Devices:[],filterString:""},n._fetchIntesisInfo=n._fetchIntesisInfo.bind(n),n}return c(t,e),t.prototype._fetchIntesisInfo=function(){return s(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return Object(i.a)(!0),[4,Object(l.v)(this.props.buildingName)];case 1:return(e=t.sent())&&e.devices&&this.setState({intesisHome_Devices:e.devices}),Object(i.a)(!1),[2]}})})},t.prototype.handleFilterStringChange=function(e){this.setState({filterString:e})},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.intesisHome_Devices,i=t.filterString;return a.createElement("div",{className:"col-md-1 col-sm-1 padding-5"},a.createElement("button",{className:"btn btn-xs btn-secondary btn-fill","data-toggle":"modal","data-target":"#IntesisHomeDeviceList",type:"button",title:"View available IntesisHome devices",onClick:function(){return s(e,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this._fetchIntesisInfo()];case 1:return e.sent(),[2]}})})}},a.createElement("i",{className:"fa fa-list"})),a.createElement(o.a,{id:"IntesisHomeDeviceList",heading:"IntesisHome Device List",saveButtonText:"Close",disableSaveButton:!1},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-9"},a.createElement("div",{className:"col-md-3 padding-5"},a.createElement("label",null,"Filters: ")),a.createElement("div",{className:"col-md-9"},a.createElement("input",{className:"form-control",type:"text",name:"filter",id:"filter",value:i,onChange:function(t){return e.handleFilterStringChange(t.target.value)},title:"Search filter..."}))),a.createElement("div",{className:"col-md-3 padding-5"},a.createElement("button",{className:"btn btn-sm btn-secondary btn-fill pull-right",type:"button",title:"Configure available IntesisHome devices to the API Credentials",onClick:function(){return s(e,void 0,void 0,function(){return r(this,function(e){return window.open("https://user.intesishome.com/oauth2/devices?scope=unused&state=asdflkjlaks&redirect_uri=google.com&client_id=my2wy-k2d5b-pmkgp-dbjr6-1ze2j"),[2]})})}},a.createElement("i",{className:"fa fas fa-tasks"})," Configure Devices"))),a.createElement("hr",null),n&&n.filter(function(e){return-1!=e.name.toLowerCase().indexOf(i.toLowerCase())}).map(function(e){return a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-5"},a.createElement("label",{htmlFor:""},"Device Name:"),a.createElement("br",null),a.createElement("b",null,e.name)),a.createElement("div",{className:"col-md-7"},a.createElement("label",{htmlFor:""},"Device ID:"),a.createElement("br",null),a.createElement("b",null,e.device_id)))})))},t}(a.Component);t.a=m},1117:function(e,t,n){"use strict";var a=n(2),o=n.n(a),i=n(651),l=n(10),c=n(824),s=n(655),r=n(657),m=n(667),d=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,c)}s((a=a.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={DropdownModelObj:Object(),PanelEquipmentList:[],floorsList:[],locationList:[],networkDevice:n.props.networkDevice?n.props.networkDevice:Object(),networkListType:[]},n.getNetworkDeviceType=n.getNetworkDeviceType.bind(n),n.getPanelEquipmentList=n.getPanelEquipmentList.bind(n),n.getFloorsList=n.getFloorsList.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.getLocationsList=n.getLocationsList.bind(n),n.handleDeviceChange=n.handleDeviceChange.bind(n),n.handleNetworkType=n.handleNetworkType.bind(n),n.saveNetworkType=n.saveNetworkType.bind(n),n}return d(t,e),t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,this.getNetworkDeviceType()];case 1:return e.sent(),[4,this.getFloorsList()];case 2:return e.sent(),[4,this.getPanelEquipmentList()];case 3:return e.sent(),[2]}})})},t.prototype.componentWillReceiveProps=function(e){e&&e.networkDevice&&(e.networkDevice.floor&&this.state.locationList&&0==this.state.locationList.length&&this.getLocationsList(e.networkDevice.floor),this.setState({networkDevice:e.networkDevice}))},t.prototype.getNetworkDeviceType=function(){return u(this,void 0,void 0,function(){var e,t;return p(this,function(n){switch(n.label){case 0:return e=this.state.networkListType,[4,Object(c.c)()];case 1:return(t=n.sent())&&t.length>0&&(e=t.filter(function(e){return"Network Type"==Object(l.g)(e.type)}),this.setState({networkListType:e})),[2]}})})},t.prototype.getPanelEquipmentList=function(){return u(this,void 0,void 0,function(){var e,t;return p(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(s.o)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(l.g)(e.ontology),label:Object(l.g)(e.rdfsLabel)}}),this.setState({PanelEquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.getFloorsList=function(){return u(this,void 0,void 0,function(){var e=this;return p(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,Object(m.f)(this.props.buildingName).then(function(t){e.setState({floorsList:t})})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.getLocationsList=function(e){return u(this,void 0,void 0,function(){var t,n,a=this;return p(this,function(o){switch(o.label){case 0:return t=this.props.buildingName,n=this.state.locationList,""===e?[3,2]:[4,Object(r.d)(e,t).then(function(e){n=e,a.setState({locationList:n})})];case 1:return o.sent(),[3,3];case 2:n=[],this.setState({locationList:n}),o.label=3;case 3:return[2]}})})},t.prototype.handleFloorChange=function(e){return u(this,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:return(t=this.state.networkDevice).floor=e,e||(t.location=""),this.setState({networkDevice:t}),this.props.handleNetworkDeviceChange(t),[4,this.getLocationsList(e)];case 1:return n.sent(),[2]}})})},t.prototype.handleDeviceChange=function(e){var t=this.state.networkDevice;t[""+e.target.name]=e.target.value,this.setState({networkDevice:t}),this.props.handleNetworkDeviceChange(t)},t.prototype.handleNetworkType=function(e){var t=this.state.networkDevice;"Others"==e.target.value?(t.networkType="",document.getElementById("networkTypeDialog").click()):this.handleDeviceChange(e)},t.prototype.saveNetworkType=function(){return u(this,void 0,void 0,function(){var e,t,n=this;return p(this,function(a){switch(a.label){case 0:return e=this.state.DropdownModelObj,t=this.state.networkDevice.networkType,e.name=t,e.type="Network Type",[4,Object(c.b)(e,!1).then(function(){n.getNetworkDeviceType()}).catch(function(e){console.log(e)})];case 1:return a.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.isView,a=t.NetworkDevice_List,c=this.state,s=c.networkDevice,r=c.networkListType,m=c.PanelEquipmentList,d=c.floorsList,u=c.locationList;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row padding-10"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Device Name"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"name",name:"name",disabled:n,className:(s.name?"":"addFieldValidate")+" form-control",value:s.name,onChange:function(t){return e.handleDeviceChange(t)}}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"deviceID"},"Device ID"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"deviceID",disabled:!0,className:"form-control",value:s.deviceID,name:"deviceID",onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"deviceState"},"Device State"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("select",{className:"form-control",id:"deviceState",name:"deviceState",disabled:n,onChange:function(t){return e.handleDeviceChange(t)},value:s.deviceState?s.deviceState:""},o.a.createElement("option",{value:"Planned"},"Planned"),o.a.createElement("option",{value:"Ordered"},"Ordered"),o.a.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),o.a.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),o.a.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),o.a.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),o.a.createElement("option",{value:"Assembly"},"Assembly"),o.a.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),o.a.createElement("option",{value:"Kitting"},"Kitting"),o.a.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),o.a.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),o.a.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),o.a.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),o.a.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),o.a.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),o.a.createElement("option",{value:"Existing"},"Existing In Use"),o.a.createElement("option",{value:"Retired"},"Retired"),o.a.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),o.a.createElement("option",{value:"Sold"},"Sold"),o.a.createElement("option",{value:"DisposedOf"},"Disposed Of"),o.a.createElement("option",{value:"ErrorDeleted"},"Error Deleted"))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"modelNo"},"Model"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"modelNo",name:"modelNo",disabled:n,className:"form-control",value:s.modelNo,onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"ipAddress"},"IP Address"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"ipAddress",name:"ipAddress",disabled:n,className:(s.ipAddress?"":"addFieldValidate")+" form-control",value:s.ipAddress,onChange:function(t){return e.handleDeviceChange(t)}}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"networkType"},"Network Type"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(s.networkType?"":"addFieldValidate")+" form-control",id:"networkType",disabled:n,name:"networkType",value:s.networkType,onChange:function(t){return e.handleNetworkType(t)}},o.a.createElement("option",{value:""},"Select Network Type"),r&&r.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(l.g)(e.name)},Object(l.g)(e.name))}),o.a.createElement("option",{value:"Others"},"Others")))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"enclosure"},"Cabinet"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"enclosure",name:"enclosure",disabled:n,value:s.enclosure,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Cabinet Equipment"),m&&m.length>0&&m.map(function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.label," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"floor"},"Floor"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{id:"floor",className:(s.floor?"":"addFieldValidate")+" form-control",disabled:n,value:s.floor?s.floor:"",onChange:function(t){return e.handleFloorChange(t.target.value)}},o.a.createElement("option",{value:"",key:-2},"Select Floor"),d&&d.length>0&&d.map(function(e,t){return o.a.createElement("option",{value:Object(l.g)(e.ontology),key:t},Object(l.g)(e.rdfsLabel)," ")})))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"location"},"Space"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(s.location?"":"addFieldValidate")+" form-control",id:"location",name:"location",disabled:n,value:s.location,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Space"),u.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(l.g)(e.ontology)}," ",Object(l.g)(e.rdfsLabel)," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"networkdevice"},"Networking Device:"))),o.a.createElement("div",{className:"col-md-4 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"networkDevice",name:"networkDevice",value:s.networkDevice?s.networkDevice:"",disabled:n,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Network Device"),a.length>0&&a.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(l.g)(e.ontology)},Object(l.g)(e.name))})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"networkURL"},"Network URL:"))),o.a.createElement("div",{className:"col-md-4 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"networkURL",name:"networkURL",disabled:n,className:"form-control",value:s.networkURL,onChange:function(t){return e.handleDeviceChange(t)}})))))),o.a.createElement("button",{type:"button",id:"networkTypeDialog",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#dialogNetworkType"}," ."),o.a.createElement(i.a,{id:"dialogNetworkType",heading:"New Network Type",saveButtonText:"Save",cancelButtonText:"Cancel",disableSaveButton:!!s.networkType,showCancelButton:!0,showSaveButton:!0,onSaveButtonClick:function(){e.saveNetworkType()}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("label",{htmlFor:"point"},"Name:"),o.a.createElement("br",null),o.a.createElement("input",{type:"text",className:"controls clearfix form-control",name:"networkType",placeholder:"Other Name",onChange:function(t){return e.handleDeviceChange(t)},value:s.networkType})))))},t}(o.a.Component);t.a=v},1118:function(e,t,n){"use strict";var a=n(2),o=n.n(a),i=n(10),l=n(672),c=n(655),s=n(657),r=n(666),m=n(667),d=n(661),u=n(690),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),v=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,c)}s((a=a.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={PanelEquipmentList:[],floorsList:[],locationList:[],computingDevice:n.props.computingDevice?n.props.computingDevice:Object(),devicesList:[],buildings:[],computingDeviceList:[],filteredComputingDeviceList:[]},n.getPanelEquipmentList=n.getPanelEquipmentList.bind(n),n.getFloorsList=n.getFloorsList.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.getLocationsList=n.getLocationsList.bind(n),n.handleDeviceChange=n.handleDeviceChange.bind(n),n.fetchBuildings=n.fetchBuildings.bind(n),n.getDevicesList=n.getDevicesList.bind(n),n.handleRelatedDevices=n.handleRelatedDevices.bind(n),n.handleRelatedComputingDevices=n.handleRelatedComputingDevices.bind(n),n.handleBuildingChange=n.handleBuildingChange.bind(n),n.getComputingDevices=n.getComputingDevices.bind(n),n.filterComputingDevices=n.filterComputingDevices.bind(n),n}return p(t,e),t.prototype.componentDidMount=function(){return v(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,this.fetchBuildings()];case 1:return e.sent(),[4,this.getComputingDevices()];case 2:return e.sent(),[4,this.getPanelEquipmentList()];case 3:return e.sent(),[2]}})})},t.prototype.componentWillReceiveProps=function(e){return v(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return e&&e.computingDevice?e.computingDevice.building?(this.filterComputingDevices(e.computingDevice.building),this.state.devicesList&&0==this.state.devicesList.length?[4,this.getDevicesList(e.computingDevice.building)]:[3,2]):[3,4]:[3,5];case 1:t.sent(),t.label=2;case 2:return this.state.floorsList&&0==this.state.floorsList.length?[4,this.getFloorsList(e.computingDevice.building)]:[3,4];case 3:t.sent(),t.label=4;case 4:e.computingDevice.floor&&this.state.locationList&&0==this.state.locationList.length&&this.getLocationsList(e.computingDevice.floor),this.setState({computingDevice:e.computingDevice}),t.label=5;case 5:return[2]}})})},t.prototype.fetchBuildings=function(){return v(this,void 0,void 0,function(){var e=this;return h(this,function(t){switch(t.label){case 0:return[4,Object(l.d)().then(function(t){e.setState({buildings:t})}).catch(function(e){return e})];case 1:return t.sent(),[2]}})})},t.prototype.getComputingDevices=function(){return v(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return[4,Object(u.f)()];case 1:return e=t.sent(),this.setState({computingDeviceList:e}),[2]}})})},t.prototype.filterComputingDevices=function(e){return v(this,void 0,void 0,function(){var t,n,a,o,l;return h(this,function(c){if(t=this.state.computingDeviceList,n=[],e)for(a=t.filter(function(t){return Object(i.g)(t.building)==e}),o=0;o<a.length;o++)l=a[o],n.push({value:Object(i.g)(l.ontology),label:Object(i.g)(l.name)});else n=[];return this.setState({filteredComputingDeviceList:n}),[2]})})},t.prototype.getDevicesList=function(e){return v(this,void 0,void 0,function(){var t,n,a;return h(this,function(o){switch(o.label){case 0:return t=[],e?[4,Object(r.u)(e)]:[3,2];case 1:(n=o.sent())&&n.length>0&&(a=Object(),n.map(function(e){a={value:Object(i.g)(e.moncondevice),label:Object(i.g)(e.rdfsLabel)},t&&t.push(a)})),o.label=2;case 2:return this.setState({devicesList:t}),[2]}})})},t.prototype.getPanelEquipmentList=function(){return v(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(c.o)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(i.g)(e.ontology),label:Object(i.g)(e.rdfsLabel)}}),this.setState({PanelEquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.getFloorsList=function(e){return v(this,void 0,void 0,function(){var t=this;return h(this,function(n){switch(n.label){case 0:return e?[4,Object(m.f)(e).then(function(e){t.setState({floorsList:e})})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.getLocationsList=function(e){return v(this,void 0,void 0,function(){var t,n,a=this;return h(this,function(o){switch(o.label){case 0:return t=this.props.buildingName,n=this.state.locationList,""===e?[3,2]:[4,Object(s.d)(e,t).then(function(e){n=e,a.setState({locationList:n})})];case 1:return o.sent(),[3,3];case 2:n=[],this.setState({locationList:n}),o.label=3;case 3:return[2]}})})},t.prototype.handleBuildingChange=function(e){var t=this,n=this.state.computingDevice;n.building=e,e||(n.floor="",n.space=""),this.setState({computingDevice:n},function(){t.getDevicesList(e),t.getFloorsList(e),t.filterComputingDevices(e)}),this.props.handleComputingDeviceChange(n)},t.prototype.handleFloorChange=function(e){return v(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return(t=this.state.computingDevice).floor=e,e||(t.space=""),this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t),[4,this.getLocationsList(e)];case 1:return n.sent(),[2]}})})},t.prototype.handleDeviceChange=function(e){var t=this.state.computingDevice;t[""+e.target.name]=e.target.value,this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t)},t.prototype.handleRelatedDevices=function(e){var t=this.state.computingDevice;t.devices=e,this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t)},t.prototype.handleRelatedComputingDevices=function(e){var t=this.state.computingDevice;t.relatedComputingDevices=e,this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t)},t.prototype.render=function(){var e=this,t=this.props,n=t.isView,a=t.NetworkDevice_List,l=this.state,c=l.computingDevice,s=l.buildings,r=l.devicesList,m=l.PanelEquipmentList,u=l.floorsList,p=l.locationList,v=l.filteredComputingDeviceList;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row padding-10"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Device Name"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"name",name:"name",disabled:n,className:(c.name?"":"addFieldValidate")+" form-control",value:c.name,onChange:function(t){return e.handleDeviceChange(t)}}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"deviceID"},"Device ID"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"deviceID",disabled:!0,className:"form-control",value:c.deviceID,name:"deviceID",onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"deviceState"},"Device State"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("select",{className:(c.deviceState?"":"addFieldValidate")+" form-control",id:"deviceState",name:"deviceState",disabled:n,onChange:function(t){return e.handleDeviceChange(t)},value:c.deviceState?c.deviceState:""},o.a.createElement("option",{value:"Planned"},"Planned"),o.a.createElement("option",{value:"Ordered"},"Ordered"),o.a.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),o.a.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),o.a.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),o.a.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),o.a.createElement("option",{value:"Assembly"},"Assembly"),o.a.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),o.a.createElement("option",{value:"Kitting"},"Kitting"),o.a.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),o.a.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),o.a.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),o.a.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),o.a.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),o.a.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),o.a.createElement("option",{value:"Existing"},"Existing In Use"),o.a.createElement("option",{value:"Retired"},"Retired"),o.a.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),o.a.createElement("option",{value:"Sold"},"Sold"),o.a.createElement("option",{value:"DisposedOf"},"Disposed Of"),o.a.createElement("option",{value:"ErrorDeleted"},"Error Deleted"))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"controllerIpAddress"},"Controller IP Address"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",id:"controllerIpAddress",name:"controllerIpAddress",disabled:n,className:(c.controllerIpAddress?"":"addFieldValidate")+" form-control",value:c.controllerIpAddress,onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"enclosure"},"Cabinet"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"enclosure",name:"enclosure",disabled:n,value:c.enclosure,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Cabinet Equipment"),m&&m.length>0&&m.map(function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.label," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"macID"},"Device Mac ID"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"macID",name:"macID",disabled:n,className:(c.macID?"":"addFieldValidate")+" form-control",value:c.macID,onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"building"},"Building"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(c.building?"":"addFieldValidate")+" form-control",id:"building",disabled:n,name:"building",value:c.building,onChange:function(t){return e.handleBuildingChange(t.target.value)}},o.a.createElement("option",{value:""},"Select Building"),s&&s.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(i.g)(e.building)},Object(i.g)(e.rdfsLabel))})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"floor"},"Floor"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{id:"floor",className:(c.floor?"":"addFieldValidate")+" form-control",disabled:n,value:c.floor?c.floor:"",onChange:function(t){return e.handleFloorChange(t.target.value)}},o.a.createElement("option",{value:"",key:-2},"Select Floor"),u&&u.length>0&&u.map(function(e,t){return o.a.createElement("option",{value:Object(i.g)(e.ontology),key:t},Object(i.g)(e.rdfsLabel)," ")})))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"space"},"Space"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(c.space?"":"addFieldValidate")+" form-control",id:"space",name:"space",disabled:n,value:c.space,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Space"),p.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(i.g)(e.ontology)}," ",Object(i.g)(e.rdfsLabel)," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"connectedDevices"},"Related Devices"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement(d.a,{isDisabled:n,closeMenuOnSelect:!1,isMulti:!0,value:c.devices,onChange:this.handleRelatedDevices,placeholder:"Select Devices",options:r}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"space"},"Related Computing Devices"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement(d.a,{isDisabled:n,closeMenuOnSelect:!1,isMulti:!0,value:c.relatedComputingDevices,onChange:this.handleRelatedComputingDevices,placeholder:"Select Computing Devices",options:v}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"networkdevice"},"Networking Device:"))),o.a.createElement("div",{className:"col-md-4 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"networkDevice",name:"networkDevice",value:c.networkDevice?c.networkDevice:"",disabled:n,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Network Device"),a.length>0&&a.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(i.g)(e.ontology)},Object(i.g)(e.name))}))))))))},t}(o.a.Component);t.a=g},1478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var a,o=n(2),i=(n.n(o),n(20)),l=n(657),c=n(712),s=n(53),r=n(680),m=n(658),d=n(10),u=n(662),p=n.n(u),v=n(651),h=n(116),g=n(1054),f=n(1383),b=n(1047),E=n(655),N=n(23),y=n(879),S=n(673),C=n(11),D=n(667),w=n(776),k=n(773),T=n(700),L=n(661),F=n(1384),O=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),A=this&&this.__assign||function(){return(A=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},P=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,c)}s((a=a.apply(e,t||[])).next())})},x=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},j=n(1099),_=n(1247),M=function(t){function n(e){var n=t.call(this,e)||this;return n.state={point:Object(),oldModel:Object(),assets:[],_spaceList:[],floors:[],cableEquipments:[],components:[],sourceSinkcomponents:[],isEdit:!1,_pointFunctions:[],selectedPointFunctions:[],_pointTypes:[],deviceList:[],newLocation:Object(),equipment:Object(),lightingInformation:Object(),lampTypes:[],isQrCameraMode:!1,isHistorian:!1,pointsListDD:[],relatedPointsListDD:[],terminalPointsListForAsset1:[],terminalPointsListForAsset2:[],selectedDevice:Object(),deviceSensedList:[],isSensedValueBoolean:!1,isChecked:!1},a=n,n.handlePointForm=n.handlePointForm.bind(n),n.handlePointFunctions=n.handlePointFunctions.bind(n),n.getData=n.getData.bind(n),n._getAssets=n._getAssets.bind(n),n._getSpacesList=n._getSpacesList.bind(n),n.handleFileAttachment=n.handleFileAttachment.bind(n),n._fetchPointFunctions=n._fetchPointFunctions.bind(n),n.handleInstallDateChange=n.handleInstallDateChange.bind(n),n.handleCommissioningDateChange=n.handleCommissioningDateChange.bind(n),n.handleDeviceSelect=n.handleDeviceSelect.bind(n),n.savePoint=n.savePoint.bind(n),n.mergePoint=n.mergePoint.bind(n),n.getNewDeviceLabel=n.getNewDeviceLabel.bind(n),n.handleSpaceSelect=n.handleSpaceSelect.bind(n),n.getNewSpaceLabel=n.getNewSpaceLabel.bind(n),n.handleAssetSelect=n.handleAssetSelect.bind(n),n.onEquipmentChange=n.onEquipmentChange.bind(n),n._saveEquipment=n._saveEquipment.bind(n),n.getNewAssetLabel=n.getNewAssetLabel.bind(n),n.onChangeFunction=n.onChangeFunction.bind(n),n.addNewPointFunction=n.addNewPointFunction.bind(n),n.handlePointTypeSelect=n.handlePointTypeSelect.bind(n),n.onChangePointType=n.onChangePointType.bind(n),n.addNewPointType=n.addNewPointType.bind(n),n._fetchPointTypes=n._fetchPointTypes.bind(n),n.updateSpace=n.updateSpace.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n.handleScan=n.handleScan.bind(n),n.restoreSelectedVersion=n.restoreSelectedVersion.bind(n),n.fetchSourceSinkPointsList=n.fetchSourceSinkPointsList.bind(n),n.handleSinkSourceAssetSelect=n.handleSinkSourceAssetSelect.bind(n),n.handleSinkSourceComponentSelect=n.handleSinkSourceComponentSelect.bind(n),n.handleRelatedPoints=n.handleRelatedPoints.bind(n),n.onChangePointConnectedHandler=n.onChangePointConnectedHandler.bind(n),n.onChangeSoftwareAssetTypeHandler=n.onChangeSoftwareAssetTypeHandler.bind(n),n.onSpaceConnectedHandler=n.onSpaceConnectedHandler.bind(n),n.getMonconSensedAttributes=n.getMonconSensedAttributes.bind(n),n.getValuesFromMonconSensedAttribute=n.getValuesFromMonconSensedAttribute.bind(n),n.handleRulesChange=n.handleRulesChange.bind(n),n}return O(n,t),n.prototype.componentDidMount=function(){return P(this,void 0,void 0,function(){var e;return x(this,function(t){switch(t.label){case 0:return this.props.buildingName?(Object(h.a)(!0),[4,this.getData()]):[3,3];case 1:return t.sent(),[4,this._getAssets()];case 2:t.sent(),Object(h.a)(!1),t.label=3;case 3:return this.props.PointName||((e=this.state.point).point=Object(N.u)(12),e.pointState="Planned",this.setState({point:e})),[2]}})})},n.prototype.getData=function(){return P(this,void 0,void 0,function(){var e,t,n,a,o,i,l,c,s,u,p,v,h=this;return x(this,function(g){switch(g.label){case 0:return e=this.props,t=e.buildingName,n=e.PointName,a=Object(),[4,Object(r.l)()];case 1:return o=g.sent(),[4,Object(r.n)()];case 2:return i=g.sent(),[4,Object(D.f)(this.props.buildingName)];case 3:return l=g.sent(),[4,Object(E.j)(this.props.buildingName)];case 4:return c=g.sent(),[4,Object(m.w)(this.props.buildingName,!0)];case 5:return s=g.sent(),n?[4,Object(r.k)(t,n).then(function(e){return P(h,void 0,void 0,function(){var t,n;return x(this,function(a){switch(a.label){case 0:return t=e[0],n=Object(),t&&t.point&&Object(d.g)(t.point)?[4,this.mergePoint(t)]:[3,2];case 1:n=a.sent(),a.label=2;case 2:return[2,n]}})})})]:[3,7];case 6:return a=g.sent(),[3,8];case 7:a.assetConnectedAs="None",a.isConnectedTo="Device",g.label=8;case 8:return""!=a.pointId&&a.pointId?[3,10]:(u=Object(N.s)(7).toString(),[4,Object(r.a)(u,this.props.buildingName).then(function(e){e&&e[0]?a.pointId="":a.pointId=u})]);case 9:g.sent(),g.label=10;case 10:return p=Object(),a.monconDevice?(v=s.find(function(e){return Object(d.g)(e.moncondevice)==a.monconDevice}))?[4,Object(m.q)(v)]:[3,12]:[3,12];case 11:p=g.sent(),g.label=12;case 12:return this.setState({floors:l,_pointFunctions:o,_pointTypes:i,cableEquipments:c,deviceList:s,point:a,selectedDevice:p,oldModel:A({},a),isEdit:a.point==this.props.PointName},function(){return P(h,void 0,void 0,function(){return x(this,function(e){switch(e.label){case 0:return n?("Component"==a.isConnectedTo&&this._getComponents(!1),"Component"==a.sinkSourceAssetType&&this._getComponents(!0),[4,this.fetchSourceSinkPointsList(!0)]):[3,4];case 1:return e.sent(),[4,this.fetchSourceSinkPointsList(!1)];case 2:return e.sent(),"Sensed"!=a.pointType?[3,4]:[4,this.getMonconSensedAttributes(p.monitoringControlDeviceType,a.sensedValue)];case 3:e.sent(),e.label=4;case 4:return[2]}})})}),[2]}})})},n.prototype.fetchSourceSinkPointsList=function(e){return P(this,void 0,void 0,function(){var t,n,a,o,i,l,c;return x(this,function(s){switch(s.label){case 0:return t=this.props.buildingName,n=this.state.point,e?(a=[],o=[],n.isConnectedTo?(i="","Component"==n.isConnectedTo&&n.component?i=n.component:"Equipment"==n.isConnectedTo&&n.asset?i=n.asset:"Device"==n.isConnectedTo&&n.monconDevice&&(i=n.monconDevice),[4,Object(r.h)(t,"Terminal",n.isConnectedTo,i)]):[3,3]):[3,4];case 1:return o=s.sent(),[4,Object(r.h)(t,"",n.isConnectedTo,i)];case 2:a=s.sent(),s.label=3;case 3:return this.setState({relatedPointsListDD:a,terminalPointsListForAsset1:o,point:n}),[3,10];case 4:return l=[],n.sinkSourceAssetType?"Component"==n.sinkSourceAssetType&&n.sinkSourceComponent?[4,Object(r.h)(t,"",n.sinkSourceAssetType,n.sinkSourceComponent)]:[3,6]:[3,8];case 5:return l=s.sent(),[3,8];case 6:return n.sinkSourceAsset?[4,Object(r.h)(t,"",n.sinkSourceAssetType,n.sinkSourceAsset)]:[3,8];case 7:l=s.sent(),s.label=8;case 8:return c=[],[4,Object(r.h)(t,"Terminal",n.isConnectedTo,n.sinkSourceAsset)];case 9:c=s.sent(),this.setState({pointsListDD:l,terminalPointsListForAsset2:c}),s.label=10;case 10:return[2]}})})},n.prototype.fetchRelatedPointForSinkAssets=function(){return P(this,void 0,void 0,function(){var e,t,n,a;return x(this,function(o){switch(o.label){case 0:return e=this.props.buildingName,t=this.state.point,n=[],t.isConnectedTo?(a="","Component"==t.sinkSourceAssetType&&t.sinkSourceComponent?a=t.sinkSourceComponent:"Equipment"==t.sinkSourceAssetType&&t.sinkSourceAsset?a=t.sinkSourceAsset:"Device"==t.sinkSourceAssetType&&t.sinkSourceAsset&&(a=t.sinkSourceAsset),a?[4,Object(r.h)(e,"",t.sinkSourceAssetType,a)]:[3,2]):[3,2];case 1:n=o.sent(),o.label=2;case 2:return this.setState({relatedPointsListDD:n}),[2]}})})},n.prototype.fetchDevicesList=function(){return P(this,void 0,void 0,function(){var e;return x(this,function(t){switch(t.label){case 0:return[4,Object(m.w)(this.props.buildingName,!0)];case 1:return e=t.sent(),this.setState({deviceList:e}),[2]}})})},n.prototype._getAssets=function(){return P(this,void 0,void 0,function(){var e;return x(this,function(t){switch(t.label){case 0:return[4,Object(c.g)(this.props.buildingName,i.b.POINT)];case 1:return e=t.sent(),this.setState({assets:e}),[2]}})})},n.prototype._getComponents=function(e,t){return P(this,void 0,void 0,function(){var n,a,o=this;return x(this,function(i){return n=this.state.point,e?(a=n.sinkSourceAsset?n.sinkSourceAsset:t||"")&&Object(E.n)(this.props.buildingName,a).then(function(e){if(e.length>0){var t=[];e.map(function(e){var n={ontology:e.name,rdfsLabel:e.rdfsLabel};t.push(n)}),o.setState({sourceSinkcomponents:t})}else o.setState({sourceSinkcomponents:[]})}).catch(function(e){return e}):n.asset&&Object(E.n)(this.props.buildingName,n.asset).then(function(e){if(e.length>0){var t=[];e.map(function(e){var n={ontology:e.name,rdfsLabel:e.rdfsLabel};t.push(n)}),o.setState({components:t})}else o.setState({components:[]})}).catch(function(e){return e}),[2]})})},n.prototype._getSpacesList=function(e){return P(this,void 0,void 0,function(){var t,n;return x(this,function(a){switch(a.label){case 0:return t=this.props.buildingName,[4,Object(l.d)(e,t,!0)];case 1:return n=a.sent(),this.setState({_spaceList:n}),[2]}})})},n.prototype._fetchPointFunctions=function(){return P(this,void 0,void 0,function(){var e;return x(this,function(t){switch(t.label){case 0:return[4,Object(r.l)()];case 1:return e=t.sent(),this.setState({_pointFunctions:e}),[2]}})})},n.prototype.getNewDeviceLabel=function(e){return P(this,void 0,void 0,function(){var t,n=this;return x(this,function(o){return(t=this.state.point).monconDevice=e,this.setState({point:t},function(){return P(n,void 0,void 0,function(){return x(this,function(e){return a.fetchDevicesList(),[2]})})}),[2]})})},n.prototype._fetchPointTypes=function(){return P(this,void 0,void 0,function(){var e;return x(this,function(t){switch(t.label){case 0:return[4,Object(r.n)()];case 1:return e=t.sent(),this.setState({_pointTypes:e}),[2]}})})},n.prototype.getMonconSensedAttributes=function(e,t){return P(this,void 0,void 0,function(){var n,a,o;return x(this,function(i){switch(i.label){case 0:return[4,Object(m.h)(e)];case 1:return n=i.sent(),a=!1,t&&(o=n.find(function(e){return e.ontology==t}))&&(a=o.isBoolean),this.setState({deviceSensedList:n,isSensedValueBoolean:a}),[2]}})})},n.prototype.getValuesFromMonconSensedAttribute=function(e){return P(this,void 0,void 0,function(){var t,n,a,o,i;return x(this,function(l){return t=this.state,n=t.deviceSensedList,a=t.point,o=n.find(function(t){return t.sensedValue==e}),a&&o&&(a.sensedValue=e,a.unit=o.unit?o.unit:"",a.minimumExtremeValue=o.extremeMinimumRange?o.extremeMinimumRange.toString():"0",a.maximumExtremeValue=o.extremeMaximumRange?o.extremeMaximumRange.toString():"0",a.minimumNormalValue=o.minimumRange?o.minimumRange.toString():"0",a.maximumNormalValue=o.maximumRange?o.maximumRange.toString():"0",a.supervisoryMaximumRange=o.supervisoryMaximumRange?o.supervisoryMaximumRange.toString():"0",a.supervisoryMinimumRange=o.supervisoryMinimumRange?o.supervisoryMinimumRange.toString():"0",a.showError=!!o.showError,a.errorTimeDelay=o.errorTimeDelay?o.errorTimeDelay.toString():"60",a.generateAlarms=!!o.generateAlarms,i=o.isBoolean,this.setState({point:a,isSensedValueBoolean:i})),[2]})})},n.prototype.getNewSpaceLabel=function(e){var t=this.state._spaceList&&this.state._spaceList.find(function(t){return Object(d.g)(t.rdfsLabel)==e}),n=this.state.point;n.space=Object(d.g)(t&&t.ontology),this.setState({point:n})},n.prototype.mergePoint=function(e){return P(this,void 0,void 0,function(){var t;return x(this,function(n){switch(n.label){case 0:return e?(t=Object(),[4,Object(r.e)(e)]):[3,10];case 1:return(t=n.sent()).floor?[4,this.handleFloorChange(t.floor)]:[3,3];case 2:n.sent(),n.label=3;case 3:return t.space?[4,this.handleSpaceSelect(t.space)]:[3,5];case 4:n.sent(),n.label=5;case 5:return t.asset?[4,this.handleAssetSelect(t.asset)]:[3,7];case 6:n.sent(),n.label=7;case 7:return t.sinkSourceAsset?[4,this._getComponents(!0,t.sinkSourceAsset)]:[3,9];case 8:n.sent(),n.label=9;case 9:return[2,t];case 10:return[2]}})})},n.prototype.savePoint=function(e){return P(this,void 0,void 0,function(){var t,n,a,o,l,c,m,d,u,p;return x(this,function(v){switch(v.label){case 0:return t=this.state,n=t.point,a=t.isEdit,o=t.oldModel,a=n.point==this.props.PointName,l=this.props.buildingName,n.point=n.point?n.point:Object(N.u)(7),e?(c=e||n,m=n):(c=n,m=a?o:null),n?(Object(h.a)(!0),d=JSON.parse(C.a.getItem("user")),[4,Object(r.d)(c,l,a).then(function(){Object(k.b)(c.point,c,m,d.contact)})]):[3,2];case 1:v.sent(),u=new s.b,(p=Object(i.c)())&&(p.file||p.length>0)&&u.UploadFile(s.a.DOCUMENT(),n.s3FileName,p),Object(h.a)(!1),v.label=2;case 2:return window.location.hash="/"+this.props.instance+"/"+this.props.buildingName+"/Points",[2]}})})},n.prototype.handleFloorChange=function(e){return P(this,void 0,void 0,function(){var t,n,a,o=this;return x(this,function(i){return t=this.state,n=t.point,a=t.floors,n.floor=e,n.floorLabel=a&&a.find(function(t){return Object(d.g)(t.ontology)==e})?Object(d.g)(a.find(function(t){return Object(d.g)(t.ontology)==e}).rdfsLabel):"",this.setState({point:n,_spaceList:[]},function(){return P(o,void 0,void 0,function(){return x(this,function(t){switch(t.label){case 0:return[4,this._getSpacesList(e)];case 1:return t.sent(),[4,this._getAssets()];case 2:return t.sent(),[2]}})})}),[2]})})},n.prototype.handleInstallDateChange=function(e){var t=this.state.point;t.installDate=e.toString(),this.setState({point:t})},n.prototype.handleCommissioningDateChange=function(e){var t=this.state.point;t.commissioningDate=null==e?"":e.toString(),this.setState({point:t})},n.prototype.onSpaceConnectedHandler=function(){var e=this.state.point,t=this.state.pointsListDD,n=this.state.deviceList;e.sinkSourceAsset="",e.sinkSourceAssetType="",e.sinkSourcePoint="",e.sinkSourceComponent="",t=[],this.handleSinkSourceAssetTypeSelect("None"),this.setState({point:e,pointsListDD:t,deviceList:n})},n.prototype.handleSourceOrSink=function(e){var t=this.state.point;t.assetConnectedAs=e,this.setState({point:t}),this.onSpaceConnectedHandler()},n.prototype.onChangePointConnectedHandler=function(){var e=this.state.point,t=this.state.relatedPointsListDD,n=this.state.components;e.monconDevice="",e.relatedPoints=[],e.assetLabel="",e.asset="",e.component="",e.componentLabel="",t=[],n=[],this.setState({point:e,relatedPointsListDD:t,components:n})},n.prototype.handleConnectedTo=function(e){var t=this.state.point;t.isConnectedTo=e,this.setState({point:t}),this.onChangePointConnectedHandler()},n.prototype.handlePointForm=function(e){var t=this.state.point,n=e.target.name;if(t[""+n]=e.target.value,this.setState({point:t}),"pointType"==n){var a=this.state,o=a._pointFunctions,i=a.selectedPointFunctions;i="Sensed"==e.target.value?o.filter(function(e){return"Actuator"==Object(d.g)(e.point)||"Sensor"==Object(d.g)(e.point)}):o,this.setState({selectedPointFunctions:i})}},n.prototype.handleRulesChange=function(e){var t=this.state.point;t.rules=e,this.setState({point:t})},n.prototype.handleDeviceForm=function(e){var t=this.state.selectedDevice,n=e.target.name;if(!t||!t.wirelessConfig){var a=Object();t.wirelessConfig=a}t.wirelessConfig[""+n]=e.target.value,this.setState({selectedDevice:t})},n.prototype.onChangeSoftwareAssetTypeHandler=function(){var e=this.state.point,t=this.state.pointsListDD,n=this.state.sourceSinkcomponents;e.sinkSourceAsset="",e.sinkSourcePoint="",e.sinkSourceComponent="",e.sourcePointDescription="",e.sinkPointDescription="",e.webhook="",e.softwarePointDescription="",e.link1="",e.link2="",e.notes="",delete e.commissioningDate,t=[],n=[],this.setState({point:e,pointsListDD:t,sourceSinkcomponents:n})},n.prototype.handleSinkSourceAssetTypeSelect=function(e,t){var n=this,a=this.state.point;a.sinkSourceAssetType=e,this.setState({point:a},function(){t&&n.fetchRelatedPointForSinkAssets()}),this.onChangeSoftwareAssetTypeHandler()},n.prototype.handleSinkSourceAssetSelect=function(e){var t=this,n=this.state.point,a=e.target.value;""==a&&(n.sinkSourcePoint=""),n.sinkSourceAsset=a,this.setState({point:n},function(){"Component"==n.sinkSourceAssetType?t._getComponents(!0):t.fetchSourceSinkPointsList(!1)})},n.prototype.handleSinkSourceComponentSelect=function(e){var t=this,n=this.state.point,a=e.target.value;n.sinkSourceComponent=a,this.setState({point:n},function(){t.fetchSourceSinkPointsList(!1)})},n.prototype.handleRelatedPoints=function(e){var t=this.state.point;t.relatedPoints=e,this.setState({point:t})},n.prototype.handleTerminalPoint=function(e,t){var n=this.state.point;n[e]=t,this.setState({point:n})},n.prototype.handleScan=function(e){var t=this.state.point;e&&(t.tag=e.toString(),this.setState({point:t,isQrCameraMode:!1}))},n.prototype.handlePointTypeSelect=function(e){var t=this.state.point,n=e.target.value;"addNewPointType"==n?(t.pointType="",a.setState({point:t}),document.getElementById("addNewPointTypeDailogeButton").click()):(t.pointType=n,this.setState({point:t}))},n.prototype.handleAssetSelect=function(e){return P(this,void 0,void 0,function(){var t,n,a,o,i,c,s=this;return x(this,function(r){switch(r.label){case 0:return t=this.props.buildingName,n=this.state.point,a=this.state.assets,o=this.state.components,i=this.state.relatedPointsListDD,"addNewAsset"==e&&(n.asset="",this.setState({point:n}),document.getElementById("AddAssetDailogeButton").click()),""!=e?[3,1]:(n.asset="",n.relatedPoints=[],o=[],i=[],this.setState({point:n,relatedPointsListDD:i,components:o}),[3,5]);case 1:return n.asset=e,n.assetLabel=a&&a.find(function(t){return Object(d.g)(t.ontology)==e})?Object(d.g)(a.find(function(t){return Object(d.g)(t.ontology)==e}).rdfsLabel):"",[4,Object(l.c)(t,e)];case 2:return(c=r.sent())&&c.floor&&c.space?(n.space=c.space,n.floor=c.floor,[4,this.handleFloorChange(n.floor)]):[3,4];case 3:r.sent(),r.label=4;case 4:this.setState({point:n},function(){"Component"==n.isConnectedTo&&s._getComponents(!1),s.fetchSourceSinkPointsList(!0)}),r.label=5;case 5:return[2]}})})},n.prototype.handleComponentSelect=function(e){var t=this,n=this.state.point,a=this.state.components;n.component=e,n.componentLabel=a&&a.find(function(t){return Object(d.g)(t.ontology)==e})?Object(d.g)(a.find(function(t){return Object(d.g)(t.ontology)==e}).rdfsLabel):"",this.setState({point:n},function(){t.fetchSourceSinkPointsList(!0)})},n.prototype.handleSpaceSelect=function(e){var t=this,n=this.state.point,a=this.state._spaceList;"addNewSpace"==e?document.getElementById("btnShowSpaceFormDialog").click():(n.space=e,n.spaceLabel=a&&a.find(function(t){return Object(d.g)(t.ontology)==e})?Object(d.g)(a.find(function(t){return Object(d.g)(t.ontology)==e}).rdfsLabel):"",this.setState({point:n,assets:[]},function(){t._getAssets()}))},n.prototype.handleWireSelect=function(e){var t=this.state,n=t.point,a=t.equipment;"addNewWire"==e?(a.equipmentType="MiscAndProcess",a.subclassType="Cable",n.cableEquipment="",this.setState({point:n,equipment:a}),document.getElementById("AddAssetDailogeButton").click()):(n.cableEquipment=e,this.setState({point:n}))},n.prototype.handleDeviceSelect=function(e){return P(this,void 0,void 0,function(){var t,n,a,o,i,c,s,r=this;return x(this,function(u){switch(u.label){case 0:return t=this.props.buildingName,n=this.state.point,"addNewDevice"!=(a=e.target.value)?[3,1]:(n.monconDevice="",this.setState({point:n}),document.getElementById("AddDeviceDailogeButton").click(),[3,7]);case 1:return n.monconDevice=a,o=this.state.deviceList,i=o.find(function(e){return Object(d.g)(e.moncondevice)==n.monconDevice}),c=Object(),i?[4,Object(m.q)(i)]:[3,3];case 2:c=u.sent(),u.label=3;case 3:return[4,Object(l.c)(t,a)];case 4:return(s=u.sent())&&s.floor&&s.space?(n.space=s.space,n.floor=s.floor,[4,this.handleFloorChange(n.floor)]):[3,6];case 5:u.sent(),u.label=6;case 6:this.setState({point:n,selectedDevice:c},function(){r.fetchSourceSinkPointsList(!0),"Sensed"==n.pointType&&r.getMonconSensedAttributes(c.monitoringControlDeviceType)}),u.label=7;case 7:return[2]}})})},n.prototype.handlePointFunctions=function(e){var t=this,n=e.target.value,a=this.state.point;"addPointFunction"==n?(a.pointDevice="",this.setState({point:a}),document.getElementById("addNewFunctionDailogeButton").click()):(a.pointDevice=n,this.setState({point:a},function(){t.handleSensorActuatorSourceSink()}))},n.prototype.onChangeFunction=function(e){var t=this.state.point;t.pointDevice=e,this.setState({point:t},function(){})},n.prototype.onChangePointType=function(e){var t=this,n=this.state.point;n.pointType=e,this.setState({point:n},function(){t.handleSensorActuatorSourceSink()})},n.prototype.handleSensorActuatorSourceSink=function(){var e=this.state.point;e.pointType&&-1!=e.pointType.indexOf("Sens")&&("Sensor"==e.pointDevice?e.sinkSourceAssetType="self":"Actuator"==e.pointDevice&&(e.isConnectedTo="self")),this.setState({point:e})},n.prototype.addNewPointType=function(){return P(this,void 0,void 0,function(){var e,t,n=this;return x(this,function(a){switch(a.label){case 0:return e=this.state.point,t={ontology:e.pointType.replace(new RegExp(" ","g"),""),rdfsLabel:e.pointType},[4,Object(r.g)(this.props.buildingName,t).then(function(){})];case 1:return a.sent(),e.pointType=t.ontology,this.setState({point:e},function(){return P(n,void 0,void 0,function(){return x(this,function(e){switch(e.label){case 0:return[4,this._fetchPointTypes()];case 1:return e.sent(),[2]}})})}),[2]}})})},n.prototype.addNewPointFunction=function(){return P(this,void 0,void 0,function(){var e,t,n=this;return x(this,function(a){switch(a.label){case 0:return e=this.state.point,t={ontology:e.pointDevice.replace(new RegExp(" ","g"),""),rdfsLabel:e.pointDevice},[4,Object(r.f)(this.props.buildingName,t).then(function(){})];case 1:return a.sent(),e.pointDevice=t.ontology,this.setState({point:e},function(){return P(n,void 0,void 0,function(){return x(this,function(e){switch(e.label){case 0:return[4,this._fetchPointFunctions()];case 1:return e.sent(),[2]}})})}),[2]}})})},n.prototype.handleFileAttachment=function(t){var n=this.state.point;if(t&&(t.file||t.length>0)&&n.point&&n.point.length>0){var a=this.props.buildingName+"-_-"+n.point,o="";"video/mp4"==t.type?(o=a+".mp4",Object(i.f)(t)):"image/jpeg"==t.type||"image/png"==t.type?(o=a+".jpg",Object(i.f)(t.file)):(o=a+".jpg",Object(i.f)(new e(t.replace(/^data:image\/\w+;base64,/,""),"base64"))),n.s3FileName=o,this.setState({point:n},function(){})}},n.prototype.onEquipmentChange=function(e){var t=this.state.lightingInformation;t.fixtureName=e.equipmentName,t.fixtureType=e.subclassType;var n=b.a[e.subclassType]?b.a[e.subclassType]:[];this.setState({equipment:e,lightingInformation:t,lampTypes:n})},n.prototype._saveEquipment=function(){return P(this,void 0,void 0,function(){var e,t=this;return x(this,function(n){switch(n.label){case 0:return(e=this.state.equipment).equipmentName=e.equipmentName?e.equipmentName:Object(N.u)(7),!1&&!this.state.isEdit?[3,2]:(Object(h.a)(!0),[4,Object(E.x)(this.props.buildingName,e,this.state.isEdit).then(function(){var t=new s.b,n=Object(i.d)();if(n&&n.length)for(var a=0;a<n.length;a++){var o=n[a];t.UploadFile(s.a.DOCUMENT(),e.profileFileName[a],o)}})]);case 1:n.sent(),Object(h.a)(!1),"MiscAndProcess"!=e.equipmentType||"PlugLoad"!=e.subclassType&&e.subclassType,n.label=2;case 2:return this.setState({isEdit:!1,equipment:Object()},function(){return P(t,void 0,void 0,function(){return x(this,function(t){switch(t.label){case 0:return[4,this._getAssets()];case 1:return t.sent(),this.getNewAssetLabel(e.equipmentName),[2]}})})}),[2]}})})},n.prototype.getNewAssetLabel=function(e){return P(this,void 0,void 0,function(){var t,n;return x(this,function(a){return t=this.state.assets&&this.state.assets.find(function(t){return Object(d.g)(t.ontology)==e}),(n=this.state.point).asset=Object(d.g)(t&&t.ontology),this.setState({point:n}),[2]})})},n.prototype.updateSpace=function(e){return P(this,void 0,void 0,function(){var t;return x(this,function(n){switch(n.label){case 0:return(t=this.state.point).floor?[4,this._getSpacesList(t.floor)]:[3,2];case 1:n.sent(),t.space=e.name,this.setState({point:t}),n.label=2;case 2:return[2]}})})},n.prototype.handlefileAttached=function(e){var t=this.state.point;e.length>0&&(t.tag=e&&e[0].name,this.setState({point:t}))},n.prototype.restoreSelectedVersion=function(e){return P(this,void 0,void 0,function(){var t;return x(this,function(n){switch(n.label){case 0:return e&&e.model?(t=JSON.parse(e.model),[4,this.savePoint(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},n.prototype.saveMoncon=function(){return P(this,void 0,void 0,function(){var e,t,n;return x(this,function(a){switch(a.label){case 0:return e=this.props.buildingName,t=this.state.selectedDevice,n=JSON.parse(C.a.getItem("user")),t?(t.createdby||(t.createdby=n.name),Object(h.a)(!0),[4,Object(m.l)(t,e,this.props.isEdit)]):[3,2];case 1:a.sent(),Object(h.a)(!1),a.label=2;case 2:return[2]}})})},n.prototype.onChangeHandler=function(e){var t=this.state.point;t.generateAlarms=e,this.setState({point:t})},n.prototype.render=function(){var e=this,t=this.props,n=t.buildingName,a=t.instance,i=t.isEdit,l=t.isView,c=this.state,s=c.point,r=c.assets,m=c.components,u=c.deviceList,h=c._spaceList,b=c.equipment,E=c.isQrCameraMode,N=c.floors,C=c.isHistorian,D=c.pointsListDD,k=c.sourceSinkcomponents,O=c.relatedPointsListDD,A=c.terminalPointsListForAsset1,P=c.terminalPointsListForAsset2,x=c.selectedDevice,M=c.deviceSensedList,I=c.isSensedValueBoolean,V=c.selectedPointFunctions,q=c.cableEquipments,B=x&&x.wirelessConfig?x.wirelessConfig.thermostatMacAddress:"",R=x&&x.wirelessConfig?x.wirelessConfig.ipAddress:"",H=x&&x.wirelessConfig?x.wirelessConfig.subnetmask?x.wirelessConfig.subnetmask:"255.255.255.0":"",W=s.pointLabel,U=s.pointType,G=s.monconDevice,J=s.asset,Q=s.component,K=s.floor,z=s.space,Y=s.isConnectedTo,X=s.assetConnectedAs,Z=s.sinkSourceAssetType,$=s.sinkSourceAsset,ee=s.sinkSourceComponent,te=s.sinkSourcePoint,ne=!!(W&&U&&(K&&z||"Virtual"==U)),ae=!1,oe=!1,ie=!1;Y&&("Device"==Y?ae=!!G:"Equipment"==Y?ae=!!J:"Component"==Y?ae=!!Q:"Space"==Y&&(ae=!!z)),Z&&("Device"==Z?ie=!!$:"Equipment"==Z?ie=!!$:"Component"===Z&&(ie=!(!$||!s.sinkSourceComponent))),X&&Z&&("None"==Z&&(oe=!0),"Equipment"==Z||"Device"==Z?oe=!(!$||!te):"Component"==Z&&(oe=!!($&&te&&ee)));var le=!(!ne||!(ae&&oe||"Virtual"==U));"Manual"==U&&ae&&(le=ne),"Wired"==U&&ae&&ne&&ie&&(le=!!s.cableEquipment),"Terminal"==U&&ae&&ne&&(le=!!s.sinkSourceAsset,le=ne),"Sensed"==U&&("Sensor"==s.pointDevice&&Z&&ne&&(G||s.asset||s.sinkSourceComponent)?le=ne:"Actuator"==s.pointDevice&&Z&&$&&ne&&(le=ne));var ce=b&&b.rdfsLabel&&b.floor&&b.location&&b.equipmentState&&b.manufacturer&&!0,se=!!(M&&M.length>0),re="";return U&&-1!=U.indexOf("Sens")&&("Sensor"==s.pointDevice?re="Source":"Actuator"==s.pointDevice&&(re="Sink")),o.createElement(o.Fragment,null,C&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12"},o.createElement("button",{className:"btn btn-success pull-right active custom-outline-btn",style:{marginLeft:3,marginTop:5},onClick:function(){e.setState({isHistorian:!1})}}," Go Back To "))),C&&o.createElement(w.default,{buildingName:n,instance:a,ObjectId:s.point,restoreSelectedVersion:this.restoreSelectedVersion}),!C&&o.createElement("div",{className:"card",id:"pointsForm"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"content"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("button",{className:"btn btn-success pull-right active custom-outline-btn",onClick:function(){e.setState({isHistorian:!0})}}," ",o.createElement("i",{className:"fa fa-history","aria-hidden":"true"})," Historian Archive"))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"pointLabel"},"Point Name:")),o.createElement("div",{className:"col-md-10"},o.createElement("input",{type:"text",id:"pointLabel",name:"pointLabel",className:"form-control "+(s.pointLabel?"":"addFieldValidate"),value:s.pointLabel,disabled:l,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("label",{htmlFor:"pointId"},"Point ID")),o.createElement("div",{className:"col-md-8 col-sm-3"},o.createElement("div",{className:""},o.createElement("input",{type:"text",disabled:!0,id:"pointId",className:"form-control",onChange:function(t){e.handlePointForm(t)},value:s.pointId}))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointType"},"Point Type:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.pointType?"":"addFieldValidate"),id:"pointType",name:"pointType",disabled:l,onChange:function(t){return e.handlePointForm(t)},value:s.pointType?s.pointType:""},o.createElement("option",{value:""},"Select Point Type"),o.createElement("option",{value:"Sensed"},"Sensed/Actuated"),o.createElement("option",{value:"Manual"},"Manual"),o.createElement("option",{value:"Virtual"},"Virtual"),o.createElement("option",{value:"Wired"},"Wire"),o.createElement("option",{value:"Terminal"},"Terminal")))),"Terminal"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4 col-sm-3"},o.createElement("label",{htmlFor:"terminationType"},"Termination Type")),o.createElement("div",{className:"col-md-8 col-sm-3"},o.createElement("div",{className:""},o.createElement("input",{type:"text",id:"terminationType",name:"terminationType",className:"form-control",onChange:function(t){e.handlePointForm(t)},value:s.terminationType})))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("label",{htmlFor:"pointState"},"Point State:")," "),o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("select",{className:"form-control "+(s.pointState?"":"addFieldValidate"),id:"pointState",name:"pointState",disabled:l,onChange:function(t){return e.handlePointForm(t)},value:s.pointState?s.pointState:""},o.createElement("option",{value:"Planned"},"Planned"),o.createElement("option",{value:"Ordered"},"Ordered"),o.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),o.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),o.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),o.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),o.createElement("option",{value:"Assembly"},"Assembly"),o.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),o.createElement("option",{value:"Kitting"},"Kitting"),o.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),o.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),o.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),o.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),o.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),o.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),o.createElement("option",{value:"Existing"},"Existing In Use"),o.createElement("option",{value:"Retired"},"Retired"),o.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),o.createElement("option",{value:"Sold"},"Sold"),o.createElement("option",{value:"DisposedOf"},"Disposed Of"),o.createElement("option",{value:"ErrorDeleted"},"Error Deleted")))),"Virtual"!=s.pointType&&"Terminal"!=s.pointType&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointFunction"},"Point Function:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control",name:"pointDevice",disabled:l,id:"pointFunction",value:s.pointDevice,onChange:function(t){return e.handlePointFunctions(t)}},o.createElement("option",{value:"",key:-2},"Select Point Function"),V.map(function(e,t){return o.createElement("option",{key:t,value:Object(d.g)(e.point)},Object(d.g)(e.label))})))))),o.createElement("div",{className:"row padding-10"},"Terminal"!=s.pointType&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointId"},"Unit:")),o.createElement("div",{className:"col-md-8"},o.createElement("div",{className:""},o.createElement("input",{type:"text",className:"form-control",name:"unit",disabled:l,onChange:function(t){e.handlePointForm(t)},value:s.unit})))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointPIDName"},"Point P&ID Name:")),o.createElement("div",{className:"col-md-8"},o.createElement("div",{className:""},o.createElement("input",{type:"text",className:"form-control",name:"pointPIDName",disabled:l,onChange:function(t){e.handlePointForm(t)},value:s.pointPIDName})))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointNumber"},"Point Number:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",id:"pointNumber",name:"pointNumber",disabled:l,className:"form-control col-md-6",value:s.pointNumber,onChange:function(t){return e.handlePointForm(t)}})))),"Virtual"==s.pointType&&o.createElement("div",{className:"card"},o.createElement(F.a,{buildingName:n,instance:a,onRulesChange:this.handleRulesChange,rules:s.rules,isView:l}),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-6 padding-10 right"},o.createElement("label",{htmlFor:"floor"},"Interval (in seconds):")),o.createElement("div",{className:"col-md-6 padding-5"},o.createElement("input",{type:"number",id:"interval",disabled:l,name:"interval",className:"form-control",value:s.interval,placeholder:"300",style:{width:"100px"},onChange:function(t){e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-6 padding-10 right"},o.createElement("label",{htmlFor:"floor"},"Min Normal Range:")),o.createElement("div",{className:"col-md-6 padding-5"},o.createElement("input",{type:"number",id:"minimumNormalValue",disabled:l,name:"minimumNormalValue",className:"form-control",value:s.minimumNormalValue,placeholder:"20",style:{width:"100px"},onChange:function(t){e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-6 padding-10 right"},o.createElement("label",{htmlFor:"floor"},"Max Normal Range:")),o.createElement("div",{className:"col-md-6 padding-5"},o.createElement("input",{type:"number",id:"maximumNormalValue",disabled:l,name:"maximumNormalValue",className:"form-control",value:s.maximumNormalValue,placeholder:"100",style:{width:"100px"},onChange:function(t){e.handlePointForm(t)}}))))),"Virtual"!=s.pointType&&o.createElement(o.Fragment,null,o.createElement("div",{className:"card"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("div",{className:"col-md-3",style:{paddingRight:0}},o.createElement("label",{htmlFor:"Sensed"},re," Point Connected To ","Wired"==s.pointType?"First Asset":"",":")),o.createElement("div",{className:"col-md-9 col-xs-12"},o.createElement("div",{className:"form-control "+(s.isConnectedTo?"":"addFieldValidate")},"Manual"==s.pointType&&o.createElement("div",{className:"col-md-3 col-xs-3 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Space"==s.isConnectedTo,onChange:function(){e.handleConnectedTo("Space")},name:"isSpace",id:"isSpace"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSpace"},"\xa0Space")),o.createElement("div",{className:("Manual"==s.pointType?"col-md-3 col-xs-3":"col-md-4 col-xs-4")+" center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Sink"==re?"Device"==s.sinkSourceAssetType:"Device"==s.isConnectedTo,onChange:function(){"Sink"==re?e.handleSinkSourceAssetTypeSelect("Device",!0):e.handleConnectedTo("Device")},name:"isDevice",id:"isDevice"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isDevice"},"\xa0Device")),o.createElement("div",{className:("Manual"==s.pointType?"col-md-3 col-xs-3":"col-md-4 col-xs-4")+" center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Sink"==re?"Equipment"==s.sinkSourceAssetType:"Equipment"==s.isConnectedTo,onChange:function(){"Sink"==re?e.handleSinkSourceAssetTypeSelect("Equipment",!0):e.handleConnectedTo("Equipment")},name:"isEquipment",id:"isEquipment"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isEquipment"},"\xa0Equipment")),o.createElement("div",{className:("Manual"==s.pointType?"col-md-3 col-xs-3":"col-md-4 col-xs-4")+" center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Sink"==re?"Component"==s.sinkSourceAssetType:"Component"==s.isConnectedTo,onChange:function(){"Sink"==re?e.handleSinkSourceAssetTypeSelect("Component",!0):e.handleConnectedTo("Component")},name:"isComponent",id:"isComponent"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isComponent"},"\xa0Component")))))),("Sink"==re?"Equipment"==s.sinkSourceAssetType||"Component"==s.sinkSourceAssetType:"Component"==s.isConnectedTo||"Equipment"==s.isConnectedTo)&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},re," Equipment:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(("Sink"==re?s.sinkSourceAsset:s.asset)?"":"addFieldValidate"),disabled:l,id:"asset",name:"asset",value:"Sink"==re?s.sinkSourceAsset:s.asset,onChange:function(t){"Sink"==re?e.handleSinkSourceAssetSelect(t):e.handleAssetSelect(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Asset"),o.createElement("option",{value:"addNewAsset",key:-1},"Add new Asset from Point"),r.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),("Sink"==re?"Component"==s.sinkSourceAssetType:"Component"==s.isConnectedTo)&&o.createElement("div",{className:"col-md-4 col-xs-12",style:{paddingLeft:0}},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"components"},re," Device Equipment Component:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(("Sink"==re?s.sinkSourceComponent:s.component)?"":"addFieldValidate"),disabled:l,id:"components",name:"components",value:"Sink"==re?s.sinkSourceComponent:s.component,onChange:function(t){"Sink"==re?e.handleSinkSourceComponentSelect(t):e.handleComponentSelect(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Component"),"Sink"==re?k.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")}):m.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),"Wired"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},"Terminal Point 1:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control",disabled:l,id:"terminalPoint1",name:"terminalPoint1",value:s.terminalPoint1,onChange:function(t){return e.handleTerminalPoint("terminalPoint1",t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Terminal Point 1"),A.map(function(e,t){return o.createElement("option",{key:t,value:e.value},e.label," ")}))))),("Sink"==re?"Device"==s.sinkSourceAssetType:"Device"==s.isConnectedTo)&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"pointDevice"},re," Device:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(("Sink"==re?s.sinkSourceAsset:s.monconDevice)?"":"addFieldValidate"),name:"monconDevice",disabled:l,value:"Sink"==re?s.sinkSourceAsset:s.monconDevice,onChange:function(t){"Sink"==re?e.handleSinkSourceAssetSelect(t):e.handleDeviceSelect(t)}},o.createElement("option",{value:""},"Select Device"),o.createElement("option",{value:"addNewDevice"},"Add New Device"),u&&u.map(function(e,t){return o.createElement("option",{value:e&&e.moncondevice&&e.moncondevice.value,key:t},e&&e.rdfsLabel&&e.rdfsLabel.value," ")})))),"Wired"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},"Terminal Point 1:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control",disabled:l,id:"terminalPoint1",name:"terminalPoint1",value:s.terminalPoint1,onChange:function(t){return e.handleTerminalPoint("terminalPoint1",t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Terminal Point 1"),A.map(function(e,t){return o.createElement("option",{key:t,value:e.value},e.label," ")})))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},"Related Points:")),o.createElement("div",{className:"col-md-8"},o.createElement(L.a,{closeMenuOnSelect:!1,isMulti:!0,onChange:this.handleRelatedPoints,isDisabled:l,placeholder:"Select Related Points",options:O.length>0?O:[],value:s.relatedPoints}))),"Wired"!=s.pointType&&x&&x.wirelessConfig&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("button",{className:"btn btn-success active custom-outline-btn no-margin",onClick:function(){document.getElementById("btnShowDeviceDetails").click()}}," Device Wireless Details ")))),se&&"Sensed"==s.pointType&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sensedValue"},"Sensed Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sensedValue?"":"addFieldValidate"),name:"sensedValue",id:"sensedValue",disabled:l,value:s.sensedValue,onChange:function(t){return e.getValuesFromMonconSensedAttribute(t.target.value)}},o.createElement("option",{value:""},"Select Sensed Value"),M&&M.map(function(e,t){return o.createElement("option",{value:e.sensedValue,key:t},e.sensedValue," ")})))),!I&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"minimumExtremeValue"},"Abnormal Min. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"minimumExtremeValue",disabled:l,onChange:function(t){e.handlePointForm(t)},value:s.minimumExtremeValue}))),!I&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"minimumNormalValue"},"Normal Min. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"minimumNormalValue",disabled:l,onChange:function(t){e.handlePointForm(t)},value:s.minimumNormalValue})))),!I&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"maximumNormalValue"},"Normal Max. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"maximumNormalValue",disabled:l,onChange:function(t){e.handlePointForm(t)},value:s.maximumNormalValue}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"maximumExtremeValue"},"Abnormal Max. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"maximumExtremeValue",disabled:l,onChange:function(t){e.handlePointForm(t)},value:s.maximumExtremeValue}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"supervisoryMinimumRange"},"Supervisory Min. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"supervisoryMinimumRange",disabled:l,onChange:function(t){e.handlePointForm(t)},value:s.supervisoryMinimumRange})))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"supervisoryMaximumRange"},"Supervisory Max. Value:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"number",className:"form-control",name:"supervisoryMaximumRange",disabled:l,onChange:function(t){e.handlePointForm(t)},value:s.supervisoryMaximumRange}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"showError"},"Supervisory Show Error:")),o.createElement("div",{className:"col-md-8"},o.createElement("div",{className:"switch-container pull-right",style:{top:"5%",right:"10%"}},o.createElement("label",null,o.createElement("input",{checked:s.showError,name:"showError",onChange:function(t){e.handlePointForm(t)},className:"switch1",type:"checkbox"}),o.createElement("div",null,o.createElement("div",null)))))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-7"},o.createElement("label",{htmlFor:"supervisoryMaximumRange"},"Supervisory Error Time Delay:")),o.createElement("div",{className:"col-md-5"},o.createElement("input",{type:"number",className:"form-control",name:"errorTimeDelay",disabled:l,onChange:function(t){e.handlePointForm(t)},value:s.errorTimeDelay})))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"generateAlarms"},"Generate Alarms:")),o.createElement("div",{className:"switch-container pull-right",style:{top:"5%",right:"10%"}},o.createElement("label",null,o.createElement("input",{name:"isboolean",checked:s.generateAlarms,onChange:function(t){e.onChangeHandler(t.target.checked)},className:"switch1",type:"checkbox"}),o.createElement("div",null,o.createElement("div",null))))))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"floor"},"Floor:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.floor?"":"addFieldValidate"),disabled:l,id:"floor",name:"floor",value:s.floor,onChange:function(t){return e.handleFloorChange(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Floor"),N.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"space"},"Space:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.space?"":"addFieldValidate"),disabled:l,id:"space",name:"space",value:s.space,onChange:function(t){return e.handleSpaceSelect(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Space"),o.createElement("option",{value:"addNewSpace",key:-1},"Add New Space"),h&&h.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")}))),o.createElement(y.a,{updateSpace:this.updateSpace,closeDailogBtnID:"btnShowSpaceFormDialog",type:"",floor:"",buildingName:n,instance:a})),o.createElement("div",{className:"col-md-4 col-xs-12"}))),"Sensed"==s.pointType&&!s.pointDevice&&o.createElement("div",{className:"card"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,s.isConnectedTo," Connected As:")),o.createElement("div",{className:"col-md-9 col-xs-12"},o.createElement("div",{className:("Sink"==s.assetConnectedAs||"Source"==s.assetConnectedAs?"":"addFieldValidate")+" form-control "},o.createElement("div",{className:"col-md-6 col-xs-6 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Source"==s.assetConnectedAs,onChange:function(){e.handleSourceOrSink("Source")},name:"isSource",id:"isSource"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSource"},"\xa0Source")),o.createElement("div",{className:"col-md-6 col-xs-6 center"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Sink"==s.assetConnectedAs,onChange:function(){e.handleSourceOrSink("Sink")},name:"isSink",id:"isSink"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSink"},"\xa0Sink")))))),"None"!=s.assetConnectedAs&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Sink"==s.assetConnectedAs?"Hardware / Software Asset Type (Source):":"Software Asset Type (Sink):")),o.createElement("div",{className:"col-md-9"},o.createElement("div",{className:"form-control "+(s.sinkSourceAssetType?"":"addFieldValidate")},o.createElement("div",{className:"col-md-3 col-xs-3 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"None"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("None")},name:"isSSNone",id:"isSSNone"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSNone"},"\xa0Not Defined")),o.createElement("div",{className:"col-md-3 col-xs-3 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Device"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Device")},name:"isSSDevice",id:"isSSDevice"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSDevice"},"\xa0Device")),o.createElement("div",{className:"col-md-3 col-xs-3 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Equipment"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Equipment")},name:"isSSEquipment",id:"isSSEquipment"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSEquipment"},"\xa0Equipment")),o.createElement("div",{className:"col-md-3 col-xs-3 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Component"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Component")},name:"isSSComponent",id:"isSSComponent"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSComponent"},"\xa0Component")))))),"None"!=s.sinkSourceAssetType&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceAsset"},"Sink"==s.assetConnectedAs?"Hardware / Software "+(s.sinkSourceAssetType?"Component"==s.sinkSourceAssetType?"Equipment":s.sinkSourceAssetType:"Asset")+" (Source)":"Software "+(s.sinkSourceAssetType?"Component"==s.sinkSourceAssetType?"Equipment":s.sinkSourceAssetType:"Asset")+"  (Sink):")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourceAsset?"":"addFieldValidate"),id:"sinkSourceAsset",name:"sinkSourceAsset",value:s.sinkSourceAsset?s.sinkSourceAsset:"",disabled:l&&!s.sinkSourceAssetType,onChange:this.handleSinkSourceAssetSelect},o.createElement("option",{value:"",key:-2},"Select ","Sink"==s.assetConnectedAs?"Source":"Sink"," ",s.sinkSourceAssetType?"Component"==s.sinkSourceAssetType?"Equipment":s.sinkSourceAssetType:"Asset"),"Device"==s.sinkSourceAssetType&&u&&u.length>0&&u[0]&&u.map(function(e,t){return o.createElement(o.Fragment,null,o.createElement("option",{value:e&&e.moncondevice&&Object(d.g)(e.moncondevice)},e&&e.rdfsLabel&&Object(d.g)(e.rdfsLabel)))}),("Equipment"==s.sinkSourceAssetType||"Component"==s.sinkSourceAssetType)&&r&&r.length>0&&r[0]&&r.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),"Component"==s.sinkSourceAssetType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceComponent"},"Sink"==s.assetConnectedAs?"Hardware / Software "+s.sinkSourceAssetType+" (Source)":"Software "+s.sinkSourceAssetType+" (Sink):")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourceComponent?"":"addFieldValidate"),id:"sinkSourceComponent",name:"sinkSourceComponent",value:s.sinkSourceComponent?s.sinkSourceComponent:"",disabled:l&&!s.sinkSourceAssetType,onChange:this.handleSinkSourceComponentSelect},o.createElement("option",{value:"",key:-2},"Select ","Sink"==s.assetConnectedAs?"Source":"Sink"," ",s.sinkSourceAssetType?" "+s.sinkSourceAssetType:" Asset Point"),k&&k.length>0&&k[0]&&k.map(function(e){return o.createElement(o.Fragment,null,o.createElement("option",{value:e&&e.ontology&&Object(d.g)(e.ontology)},e&&e.rdfsLabel&&Object(d.g)(e.rdfsLabel)))})))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourcePoint"},"Sink"==s.assetConnectedAs?"Hardware / Software Point (Source)":"Software Point (Sink):")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourcePoint?"":"addFieldValidate"),id:"sinkSourcePoint",name:"sinkSourcePoint",value:s.sinkSourcePoint?s.sinkSourcePoint:"",disabled:l&&!s.sinkSourceAsset,onChange:this.handlePointForm},o.createElement("option",{value:"",key:-2},"Select ","Sink"==s.assetConnectedAs?"Source":"Sink"," ",s.sinkSourceAssetType?" "+s.sinkSourceAssetType:" Asset"," Point"),D&&D.length>0&&D[0]&&D.map(function(e){return o.createElement(o.Fragment,null,o.createElement("option",{value:e.value},e.label))}))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sourcePointDescription"},"Source Point Description:")),o.createElement("div",{className:"col-md-8"},o.createElement("textarea",{id:"sourcePointDescription",name:"sourcePointDescription",className:"form-control col-md-6",value:s.sourcePointDescription,disabled:l,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkPointDescription"},"Sink Point Description:")),o.createElement("div",{className:"col-md-8"},o.createElement("textarea",{id:"sinkPointDescription",name:"sinkPointDescription",className:"form-control col-md-6",value:s.sinkPointDescription,disabled:l,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"webhook"},"Graphics link:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"text",id:"webhook",name:"webhook",disabled:l,className:"form-control col-md-6",value:s.webhook,onChange:function(t){return e.handlePointForm(t)}}))))))),"Wired"==s.pointType&&o.createElement(o.Fragment,null,o.createElement("br",null),o.createElement("br",null),o.createElement("div",{className:"card"},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",null,"Point Connected To Second Asset:")),o.createElement("div",{className:"col-md-9 col-xs-12"},o.createElement("div",{className:"form-control "+(s.sinkSourceAssetType?"":"addFieldValidate")},o.createElement("div",{className:"col-md-4 col-xs-4 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Device"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Device")},name:"isSSDevice",id:"isSSDevice"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSDevice"},"\xa0Device")),o.createElement("div",{className:"col-md-4 col-xs-4 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Equipment"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Equipment")},name:"isSSEquipment",id:"isSSEquipment"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSEquipment"},"\xa0Equipment")),o.createElement("div",{className:"col-md-4 col-xs-4 center no-padding"},o.createElement("input",{type:"radio",className:"no-margin no-padding",disabled:l,checked:"Component"==s.sinkSourceAssetType,onChange:function(){e.handleSinkSourceAssetTypeSelect("Component")},name:"isSSComponent",id:"isSSComponent"}),o.createElement("label",{className:"no-margin no-padding",htmlFor:"isSSComponent"},"\xa0Component")))))),("Component"==s.sinkSourceAssetType||"Equipment"==s.sinkSourceAssetType)&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceAsset"},"Equipment:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourceAsset?"":"addFieldValidate"),disabled:l,id:"sinkSourceAsset",name:"sinkSourceAsset",value:s.sinkSourceAsset,onChange:function(t){return e.handleSinkSourceAssetSelect(t)}},o.createElement("option",{value:"",key:-2},"Select Asset"),r.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),"Component"==s.sinkSourceAssetType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceComponent"},"Device Equipment Component:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourceComponent?"":"addFieldValidate"),disabled:l,id:"sinkSourceComponent",name:"sinkSourceComponent",value:s.sinkSourceComponent,onChange:function(t){return e.handleSinkSourceComponentSelect(t)}},o.createElement("option",{value:"",key:-2},"Select Component"),m.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")})))),"Wired"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},"Terminal Point 2:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control",disabled:l,id:"terminalPoint2",name:"terminalPoint2",value:s.terminalPoint2,onChange:function(t){return e.handleTerminalPoint("terminalPoint2",t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Terminal Point 2"),P.map(function(e,t){return o.createElement("option",{key:t,value:e.value},e.label," ")}))))),"Device"==s.sinkSourceAssetType&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceAsset"},"Device:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.sinkSourceAsset?"":"addFieldValidate"),name:"sinkSourceAsset",disabled:l,value:s.sinkSourceAsset,onChange:function(t){return e.handleSinkSourceAssetSelect(t)}},o.createElement("option",{value:""},"Select Device"),u&&u.map(function(e,t){return o.createElement("option",{value:e&&e.moncondevice&&e.moncondevice.value,key:t},e&&e.rdfsLabel&&e.rdfsLabel.value," ")})))),"Wired"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"asset"},"Terminal Point 2:")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control",disabled:l,id:"terminalPoint2",name:"terminalPoint2",value:s.terminalPoint2,onChange:function(t){return e.handleTerminalPoint("terminalPoint2",t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Terminal Point 2"),P.map(function(e,t){return o.createElement("option",{key:t,value:e.value},e.label," ")}))))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"sinkSourceAsset"},"Wire Type: ")),o.createElement("div",{className:"col-md-8"},o.createElement("select",{className:"form-control "+(s.cableEquipment?"":"addFieldValidate"),disabled:l,id:"cableEquipment",name:"cableEquipment",value:s.cableEquipment,onChange:function(t){return e.handleWireSelect(t.target.value)}},o.createElement("option",{value:"",key:-2},"Select Wire Type"),o.createElement("option",{value:"addNewWire",key:-1},"Add New Wire Type"),o.createElement("hr",null),q.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology},e.rdfsLabel," ")})))))),o.createElement("br",null),o.createElement("br",null),"None"==s.assetConnectedAs&&"Terminal"!=s.pointType&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"webhook"},"Graphics link:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"text",id:"webhook",name:"webhook",disabled:l,className:"form-control col-md-6",value:s.webhook,onChange:function(t){return e.handlePointForm(t)}})))),"Terminal"!=s.pointType&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"softwarePointDescription"},"Software Point Description:")),o.createElement("div",{className:"col-md-8"},o.createElement("textarea",{id:"softwarePointDescription",name:"softwarePointDescription",disabled:l,className:"form-control col-md-6",value:s.softwarePointDescription,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"link1"},"Link 1:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"text",id:"link1",name:"link1",disabled:l,className:"form-control col-md-6",value:s.link1,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"link2"},"Link 2:")),o.createElement("div",{className:"col-md-8"},o.createElement("input",{type:"text",id:"link2",name:"link2",disabled:l,className:"form-control col-md-6",value:s.link2,onChange:function(t){return e.handlePointForm(t)}}))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4"},o.createElement("label",{htmlFor:"notes"},"Notes:")),o.createElement("div",{className:"col-md-8"},o.createElement("textarea",{id:"notes",name:"notes",disabled:l,className:"form-control col-md-6",value:s.notes,onChange:function(t){return e.handlePointForm(t)}}))),o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("label",{htmlFor:"link2"},"Commissioning Date:")),o.createElement("div",{className:"col-md-8 col-xs-12"},o.createElement(p.a,{disabled:l,id:"commissioningDate",className:"form-control",selected:s.commissioningDate?new Date(s.commissioningDate):void 0,onChange:function(t){return e.handleCommissioningDateChange(t)},dateFormat:"MMMM d, yyyy",customInput:o.createElement("input",{type:"text",className:"form-control",placeholder:"Commissioning Date","aria-label":"","aria-describedby":"button-addon4",value:s.commissioningDate})}))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement(T.a,{buildingName:n,assetOntology:l||i?this.props.PointName:s.point,showUploader:!l,entityType:"Point"}))),"Manual"==s.pointType&&o.createElement("div",{className:"col-md-4 col-xs-12"},o.createElement("div",{className:"col-md-2 col-xs-12 padding-10"},o.createElement("label",{htmlFor:"tag"},"Tag:")),o.createElement("div",{className:"col-md-6 col-xs-12"},o.createElement("input",{type:"text",id:"tag",name:"tag",className:"form-control",value:s.tag,disabled:l,onChange:function(t){return e.handlePointForm(t)}})),o.createElement("div",{className:"col-md-4 col-xs-12",style:{display:"inline-flex"}},o.createElement("button",{type:"button",disabled:l,className:"btn btn-dark btn-sm margin-5",onClick:function(){var t=e.state.isQrCameraMode;e.setState({isQrCameraMode:!t})}},o.createElement("i",{className:"fa fa-"+(E?"close":"camera")})),o.createElement("button",{type:"button",title:"QR Code Genrator",disabled:l||!s.tag||s.tag.length<=0,className:"margin-5 btn btn-dark btn-sm",onClick:function(){document.getElementById("QRCodeGenDailogebtn").click()}},o.createElement("i",{id:"icons",className:"fa fa-qrcode"}))),o.createElement("button",{id:"QRCodeGenDailogebtn",type:"button","data-toggle":"modal","data-target":"#QRCodeGenDailoge",className:"hidden"},"."),o.createElement(v.a,{id:"QRCodeGenDailoge",heading:"QR Code",saveButtonText:"Done",onSaveButtonClick:function(){},disableSaveButton:!1,showSaveButton:!1},o.createElement("div",{className:"center"},o.createElement("div",{className:"dataCard img-thumbnail"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-8 center"},s.tag&&o.createElement("div",null,o.createElement(_,{style:{verticalAlign:"middle",alignContent:"center"},id:"QRCode",value:s.tag,size:370,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0,renderAs:"canvas"}))),o.createElement("div",{className:"col-md-2 col-md-offset-2"},o.createElement("div",{className:"pull-right"},o.createElement(S.a,{filename:s.tag,data:"",ElementID:"QRCode"}))))))))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8 col-xs-12"}),o.createElement("div",{className:"col-md-4 col-xs-12"},E&&o.createElement(j,{delay:300,onError:function(e){console.log(e)},onScan:this.handleScan,style:{width:"100%"}}))),o.createElement("br",null),o.createElement("br",null),o.createElement("div",{className:"col-md-12 text-center"},!l&&o.createElement("button",{type:"button",className:"btn btn-primary active",disabled:!le,onClick:function(){e.savePoint()}},"Save"),"\xa0\xa0",o.createElement("button",{type:"button",className:"btn btn-danger active",onClick:function(){window.history.back()}},"Cancel")),o.createElement("br",null),o.createElement("br",null),o.createElement("button",{id:"AddDeviceDailogeButton","data-toggle":"modal","data-target":"#AddDeviceDailoge",type:"button",className:"btn btn-primary btn-fill hidden"},"."),o.createElement(v.a,{id:"AddDeviceDailoge",closeButtonId:"closeDeviceForm",heading:"Add New Device from Point",saveButtonText:"Done",isEditForm:!0,showSaveButton:!1},o.createElement(g.default,{getNewDeviceLabel:this.getNewDeviceLabel,buildingName:n,instance:a,isView:!1,isEdit:!1})),o.createElement("button",{id:"AddAssetDailogeButton","data-toggle":"modal","data-target":"#AddAssetDailoge",type:"button",className:"btn btn-primary btn-fill hidden"},"."),o.createElement(v.a,{id:"AddAssetDailoge",onSaveButtonClick:this._saveEquipment,disableSaveButton:!ce,heading:"Add New Wire",saveButtonText:"Save",isEditForm:!0,showSaveButton:!0},o.createElement(f.a,{onEquipmentChange:this.onEquipmentChange,equipment:b,isFromPoint:!0,buildingName:n,instance:a})),o.createElement("button",{id:"addNewFunctionDailogeButton","data-toggle":"modal","data-target":"#addNewFunctionDailoge",type:"button",className:"btn btn-primary btn-fill hidden"},"."),o.createElement(v.a,{id:"addNewFunctionDailoge",heading:"Add New Function From Point",saveButtonText:"Done",onSaveButtonClick:function(){e.addNewPointFunction()},disableSaveButton:!s.pointDevice},o.createElement("div",{className:"content"},o.createElement("div",{className:"dataCard"},o.createElement("div",null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"Add New Function:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("input",{value:s.pointDevice,onChange:function(t){e.onChangeFunction(t.target.value)},type:"text",className:"form-control"}))))))))),o.createElement("button",{id:"addNewPointTypeDailogeButton","data-toggle":"modal","data-target":"#addNewPointTypeDailoge",type:"button",className:"btn btn-primary btn-fill hidden"},"."),o.createElement(v.a,{id:"addNewPointTypeDailoge",heading:"Add New Point Type From Point",saveButtonText:"Done",onSaveButtonClick:function(){e.addNewPointType()},disableSaveButton:!s.pointType},o.createElement("div",{className:"content"},o.createElement("div",{className:"dataCard"},o.createElement("div",null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"Add New Point Type:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("input",{value:s.pointType,onChange:function(t){e.onChangePointType(t.target.value)},type:"text",className:"form-control"}))))))))),o.createElement("button",{id:"btnShowDeviceDetails","data-toggle":"modal","data-target":"#dialogShowDeviceDetails",type:"button",className:"btn btn-primary btn-fill hidden"},"."),o.createElement(v.a,{id:"dialogShowDeviceDetails",heading:"Device Wireless Details",saveButtonText:"Update",showCancelButton:!0,showSaveButton:!l,onSaveButtonClick:function(){e.saveMoncon()},disableSaveButton:!(H&&R&&B)},o.createElement("div",{className:"content card"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"}," MAC Address:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("input",{value:B,onChange:function(t){e.handleDeviceForm(t)},type:"text",name:"thermostatMacAddress",id:"thermostatMacAddress",className:"form-control",disabled:l}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"IP Address / Communication:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("textarea",{value:R,onChange:function(t){e.handleDeviceForm(t)},name:"ipAddress",id:"ipAddress",className:"form-control",disabled:l}))))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{style:{padding:"10px"},className:"row"},o.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"}," Subnet Mask:"),o.createElement("div",{className:"col-md-8 headingText"},o.createElement("input",{value:H,onChange:function(t){e.handleDeviceForm(t)},type:"text",name:"subnetmask",id:"subnetmask",className:"form-control",disabled:l})))))))))))},n}(o.Component);t.default=M}.call(t,n(6).Buffer)},776:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(116)),i=n(654),l=n(651),c=n(773),s=n(659),r=n(10),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),d=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,c)}s((a=a.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,a,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={archive:[],versionToRestore:Object(),historianArchiveDifferences:[],sourceTimestamp:Object(),targetTimestamp:Object(),user:"",peopleList:Object()},n.getHistorianArchive=n.getHistorianArchive.bind(n),n.restoreHistorian=n.restoreHistorian.bind(n),n.getPeopleList=n.getPeopleList.bind(n),n}return m(t,e),t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.instance&&this.props.ObjectId?(Object(o.a)(!0),[4,this.getHistorianArchive()]):[3,3];case 1:return e.sent(),[4,this.getPeopleList()];case 2:e.sent(),Object(o.a)(!1),e.label=3;case 3:return[2]}})})},t.prototype.getPeopleList=function(){return d(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,Object(s.s)(this.props.buildingName)];case 1:return e=t.sent(),this.setState({peopleList:e}),[2]}})})},t.prototype.getHistorianArchive=function(){return d(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,Object(c.a)(this.props.ObjectId)];case 1:return e=t.sent(),this.setState({archive:e}),[2]}})})},t.prototype.difference=function(e,t){return d(this,void 0,void 0,function(){var n,a,o,i,l,c;return u(this,function(s){switch(s.label){case 0:return n=this.state.peopleList,e&&e.model&&t&&t.model?(a=JSON.parse(e.model),o=JSON.parse(t.model),[4,this.getDifference(a,o)]):[3,2];case 1:i=s.sent(),l=n.find(function(t){return Object(r.g)(t.contact)==e.createdBy}),c=l&&l.name?Object(r.g)(l.name):"",console.log("historianArchiveDifferences",i),this.setState({historianArchiveDifferences:i,sourceTimestamp:e.timestamp,targetTimestamp:t.timestamp,user:c},function(){document.getElementById("btnShowDifference").click()}),s.label=2;case 2:return[2]}})})},t.prototype.getDifference=function(e,t,n){return d(this,void 0,Promise,function(){var a,o=this;return u(this,function(i){return a=[],Object.keys(e).forEach(function(i){return d(o,void 0,void 0,function(){var o,l,c,s;return u(this,function(r){switch(r.label){case 0:return o=e&&e[i]?e[i]:"",l=t&&t[i]?t[i]:"","object"!=typeof o?[3,3]:JSON.stringify(o)==JSON.stringify(l)?[3,2]:(c=isNaN(i)?i:n||"",[4,this.getDifference(o,l,c)]);case 1:s=r.sent(),a.push.apply(a,s),r.label=2;case 2:return[3,4];case 3:o!=l&&"value"!=i&&a.push({key:n?n+("label"!=i?" - "+i:""):i,source:o||"",target:l||""}),r.label=4;case 4:return[2]}})})}),[2,a]})})},t.prototype.restoreHistorian=function(){return d(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return(e=this.state.versionToRestore)&&e.model&&this.props.restoreSelectedVersion(e),[4,this.getHistorianArchive()];case 1:return t.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.props.instance,n=this.state,o=n.archive,c=n.versionToRestore,s=n.historianArchiveDifferences,r=n.sourceTimestamp,m=n.targetTimestamp,p=n.user;return a.createElement("div",{className:"card",id:"HistorianArchiveList"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("h3",null,"Historian Archive"))),a.createElement("br",null),a.createElement("div",{className:"row no-margin"},a.createElement("div",{className:"hidden-xs col-md-10 col-md-offset-1 col-md-offset-right-1 no-padding cell_border",style:{marginBottom:"0px"}},a.createElement("div",{className:"col-md-12 bgcol trim-data headingText",style:{padding:"10px"}},"Timestamp"))),a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"hidden"}),o&&o.length>0&&o.map(function(t,n){return a.createElement("div",{className:"col-md-10 cell_border no-padding col-md-offset-1 col-md-offset-right-1 clickable"},a.createElement("div",{className:"row no-margin hover"},a.createElement("div",{className:"col-md-4 padding-10"},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Timestamp"),"  ",t.timestamp.ToEasternDateTime()),a.createElement("div",{className:"col-md-8"},0!=n&&a.createElement("button",{className:"btn btn-sm btn-success btn-fill pull-right margin-5 mr-0",title:"Restore this version",onClick:function(n){e.setState({versionToRestore:t},function(){document.getElementById("btnConfirmRestore").click()})}},"Restore this version  "),n!=o.length-1&&a.createElement("button",{className:"btn btn-sm btn-primary btn-fill pull-right margin-5 mr-0",title:"Difference with previous version",onClick:function(a){return d(e,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return n==o.length-1?[3,2]:[4,this.difference(t,o[n+1])];case 1:e.sent(),e.label=2;case 2:return[2]}})})}},"Difference with previous version   "),0!=n&&a.createElement("button",{className:" btn btn-sm btn-primary btn-fill pull-right margin-5 mr-0",title:"Difference with latest version",onClick:function(a){return d(e,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return 0==n?[3,2]:[4,this.difference(t,o[0])];case 1:e.sent(),e.label=2;case 2:return[2]}})})}},"Difference with latest version   "))))})),a.createElement("button",{id:"btnConfirmRestore",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmRestoreDialog"},"."),a.createElement(i.a,{instance:t,id:"ConfirmRestoreDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:'Are you sure to Restore "'+(c&&c.timestamp?c.timestamp.ToEasternDateTime():"")+'" Version?',heading:"Confirm...",onConfirmButtonClick:function(){e.restoreHistorian()},onCancelButton:function(){e.setState({versionToRestore:Object()})}}),a.createElement("button",{type:"button",id:"btnShowDifference",className:"hidden","data-toggle":"modal","data-target":"#ShowDifference"}," "),a.createElement(l.a,{id:"ShowDifference",heading:"Difference",saveButtonText:"Done",onSaveButtonClick:function(){e.setState({historianArchiveDifferences:[],sourceTimestamp:Object(),targetTimestamp:Object(),user:""})},isEditForm:!0},a.createElement("div",{className:"scroll-y",style:{maxHeight:500}},a.createElement("div",{className:"container-fluid",style:{paddingLeft:"0px"}},a.createElement("div",{className:"content",style:{paddingTop:"0px"}},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12",style:{margin:"0px 10px"}},a.createElement("p",{className:"padding-5 small pull-left cell_border hover",style:{borderRadius:"5px",background:"rgb(220 220 220 / 21%)",color:"black"}},a.createElement("b",{style:{color:"gray"}},"Updated By: \xa0")," ",p,", (",new Date(r&&r).ToEasternDateTime(),")")),s&&s.length>0&&r&&m&&a.createElement("div",{className:"col-md-12",style:{margin:"10px"}},a.createElement("div",{className:"col-md-6 cell_border no-padding center",style:{background:"#dcdcdc94",borderRadius:"50px"}},a.createElement("h4",{className:"margin-10"}," After "),a.createElement("h4",{className:"margin-10"},r&&r.ToEasternDateTime())),a.createElement("div",{className:"col-md-6 cell_border no-padding center",style:{background:"gainsboro",borderRadius:"50px"}},a.createElement("h4",{className:"margin-10"}," Before "),a.createElement("h4",{className:"margin-10"},m&&m.ToEasternDateTime()))),s&&s.length>0&&s.map(function(e){return console.log(e),a.createElement("div",{className:"col-md-12",style:{margin:"10px"}},a.createElement("div",{className:"col-md-12 no-padding cell_border border-radius"},a.createElement("div",{className:"col-md-12 padding-10 center cell_border",style:{background:"ghostwhite"}},a.createElement("h5",{className:"no-margin",style:{textTransform:"uppercase",padding:"2px"}},a.createElement("b",null,"Attribute:")," ",a.createElement("span",{className:"text-primary"},e.key))),a.createElement("div",{className:"col-md-6 padding-10 center cell_border",style:{background:"#dcdcdc94"}},e.source?e.source:"-"),a.createElement("div",{className:"col-md-6 padding-10 center cell_border",style:{background:"gainsboro"}},e.target?e.target:"-")))})))))))),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null))))},t}(a.Component);t.default=p}});