webpackJsonp([39,62],{1042:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r,l=n(2),i=(n.n(l),n(116)),c=n(715),s=n(1043),o=n(656),m=n(31),u=n(11),d=n(958),h=n(649),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),f=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,l){function i(e){try{s(a.next(e))}catch(e){l(e)}}function c(e){try{s(a.throw(e))}catch(e){l(e)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}s((a=a.apply(e,t||[])).next())})},b=this&&this.__generator||function(e,t){var n,a,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},v=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var l=arguments[t],i=0,c=l.length;i<c;i++,r++)a[r]=l[i];return a},A=function(e){function t(t){var n=e.call(this,t)||this;return n.pageLength=15,n.state={AcknowledgedItems:[],sortOrder:1,AlarmList:[],showArchivedOnly:!1,alarmType:c.a.OperationalAlarm,selectedAlarm:Object(),equipmentList:"",selectedIndex:0,BimActiveCheck:!1,rowClicked:!1,floorList:[]},a=n,n._FetchAlarmList=n._FetchAlarmList.bind(n),n.sortAlarmList=n.sortAlarmList.bind(n),n.handleRowCheck=n.handleRowCheck.bind(n),n.handleClear=n.handleClear.bind(n),n.handleAcknowledge=n.handleAcknowledge.bind(n),n.handleRowClick=n.handleRowClick.bind(n),n.getUnique=n.getUnique.bind(n),n.handleFloorPlan=n.handleFloorPlan.bind(n),n}return p(t,e),t.prototype.componentDidMount=function(){return f(this,void 0,void 0,function(){var e,t,n,l=this;return b(this,function(c){return e=this.props,t=e.alarmType,n=e.buildingName,this.setState({alarmType:t},function(){return f(l,void 0,void 0,function(){var e=this;return b(this,function(t){return n&&setTimeout(function(){return f(e,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return[4,a._FetchAlarmList(!1)];case 1:return e.sent(),[2]}})})},300),[2]})})}),r=setInterval(function(){return f(l,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return Object(i.a)(!0),[4,this._FetchAlarmList(!0)];case 1:return e.sent(),Object(i.a)(!1),[2]}})})},6e4),[2]})})},t.prototype.componentWillUnmount=function(){return f(this,void 0,void 0,function(){return b(this,function(e){return clearInterval(r),[2]})})},t.prototype._FetchAlarmList=function(e){return f(this,void 0,void 0,function(){var t,n,a,r,l,i,c,o,m,u,d,h,p;return b(this,function(f){switch(f.label){case 0:return t=this.props,n=t.buildingName,a=t.equipmentName,r=t.spaceName,l=t.deviceName,i=t.deviceId,c=this.state,o=c.alarmType,m=c.showArchivedOnly,(u=c.AlarmList)||(u=[]),d=this.pageLength,h=e?0:u.length,[4,Object(s.d)(o,n,m,h,d,a,r,l,i)];case 1:return p=f.sent(),e?u=v(p):u.push.apply(u,p),this.setState({AlarmList:u}),[2]}})})},t.prototype.handleFloorPlan=function(){return f(this,void 0,void 0,function(){var e,t,n,a;return b(this,function(r){return localStorage.setItem("AlarmList",JSON.stringify("")),e=this.props,t=e.buildingName,n=e.instance,(a=this.state.AlarmList)&&a.length>0?localStorage.setItem("AlarmList",JSON.stringify(a)):localStorage.setItem("AlarmList",JSON.stringify("")),window.open("http://"+Object(m.j)()+"/#"+n+"/"+t+"/BimSpace/Alarms/FullScreen","_blank"),[2]})})},t.prototype.sortAlarmList=function(e,t){var n=this.state.AlarmList,a=this.state.sortOrder,r=n.sort(function(t,n){if(t&&n){var r="",l="";switch(e){case"Floor":t.floorRdfsLabel&&n.floorRdfsLabel&&(r=t.floorRdfsLabel,l=n.floorRdfsLabel);break;case"Title":t.title&&n.title&&(r=t.title,l=n.title);break;case"Space":t.spaceRdfsLabel&&n.spaceRdfsLabel&&(r=t.spaceRdfsLabel,l=n.spaceRdfsLabel);break;case"TimeofAlarm":t.timeofalarm&&n.timeofalarm&&(r=t.timeofalarm,l=n.timeofalarm)}var i=0;return r.toLocaleLowerCase()<l.toLocaleLowerCase()?i=-1:r.toLocaleLowerCase()>l.toLocaleLowerCase()&&(i=1),i*a}});this.setState({AlarmList:r,sortOrder:-1*a})},t.prototype.handleRowCheck=function(e,t){var n=this.state.AlarmList;n[t].isSelected=e,this.setState({AlarmList:n})},t.prototype.handleClear=function(){return f(this,void 0,void 0,function(){var e,t,n;return b(this,function(a){switch(a.label){case 0:for(e=this.state.alarmType,t=this.state.AlarmList,n=0;n<t.length;n++)t[n].status=t[n].isSelected?"clear":t[n].status,t[n].isSelected=!1;return this.setState({AlarmList:t}),e!=c.a.CustomerAlarm?[3,2]:[4,Object(s.a)(t)];case 1:return a.sent(),[3,6];case 2:return e!=c.a.OperationalAlarm?[3,4]:[4,Object(s.b)(t)];case 3:return a.sent(),[3,6];case 4:return e!=c.a.SupervisoryAlarm?[3,6]:[4,Object(s.c)(t)];case 5:a.sent(),a.label=6;case 6:return[4,this._FetchAlarmList(!0)];case 7:return a.sent(),[2]}})})},t.prototype.handleAcknowledge=function(){return f(this,void 0,void 0,function(){var e,t,n;return b(this,function(a){switch(a.label){case 0:for(e=this.state.alarmType,t=this.state.AlarmList,!1,t.map(function(e){e.acknowledge}),n=0;n<t.length;n++)!!t[n].isSelected&&(t[n].acknowledge=!!t[n].isSelected),t[n].isSelected=!1;return this.setState({AlarmList:t}),e!=c.a.CustomerAlarm?[3,2]:[4,Object(s.a)(t)];case 1:return a.sent(),[3,6];case 2:return e!=c.a.OperationalAlarm?[3,4]:[4,Object(s.b)(t)];case 3:return a.sent(),[3,6];case 4:return e!=c.a.SupervisoryAlarm?[3,6]:[4,Object(s.c)(t)];case 5:a.sent(),a.label=6;case 6:return[4,this._FetchAlarmList(!0)];case 7:return a.sent(),[2]}})})},t.prototype.handleArchive=function(){return f(this,void 0,void 0,function(){var e,t,n;return b(this,function(a){switch(a.label){case 0:for(e=this.state.alarmType,t=this.state.AlarmList,!1,t.map(function(e){e.archived}),n=0;n<t.length;n++)!!t[n].isSelected&&(t[n].archived=!!t[n].isSelected),t[n].isSelected=!1;return this.setState({AlarmList:t}),e!=c.a.CustomerAlarm?[3,2]:[4,Object(s.a)(t)];case 1:return a.sent(),[3,6];case 2:return e!=c.a.OperationalAlarm?[3,4]:[4,Object(s.b)(t)];case 3:return a.sent(),[3,6];case 4:return e!=c.a.SupervisoryAlarm?[3,6]:[4,Object(s.c)(t)];case 5:a.sent(),a.label=6;case 6:return[4,this._FetchAlarmList(!0)];case 7:return a.sent(),[2]}})})},t.prototype.handleRowClick=function(e,t){this.setState({selectedIndex:t,BimActiveCheck:!0,rowClicked:!0}),this.selectedDeviceEquipment(e.deviceOntology),this.setState({selectedAlarm:e},function(){document.getElementById("showSelectedAlarmDetails").click()})},t.prototype.selectedDeviceEquipment=function(e){return f(this,void 0,void 0,function(){var t,n,a,r;return b(this,function(l){switch(l.label){case 0:return[4,Object(o.t)(e,this.props.buildingName)];case 1:return t=l.sent(),n="",t?(a=t.relatedEquipment&&t.relatedEquipment.map(function(e){return e.value}))&&a.length>0?[4,Object(m.r)(a)]:[3,3]:[3,3];case 2:(r=l.sent())&&r.length>0&&(n=r.map(function(e){return e.rdfsLabel}).join(", ")),l.label=3;case 3:return this.setState({equipmentList:n}),[2]}})})},t.prototype.getUnique=function(e){return f(this,void 0,void 0,function(){return b(this,function(t){return[2,e.filter(function(e,t,n){return n.indexOf(e)===t})]})})},t.prototype.render=function(){var e=this,t=this.state.alarmType,n=this.props,a=n.buildingName,r=n.instance,i=n.equipmentName,s=n.spaceName,o=n.isInTab,p=this.state,v=p.AlarmList,A=p.showArchivedOnly,g=p.selectedAlarm,y=p.BimActiveCheck,E=!!(v&&v.length>0);if(v)for(var N=0;N<v.length;N++){v[N].isSelected||(E=!1)}var w=JSON.parse(u.a.getItem("user")),k=parseInt(w.role);return l.createElement("div",{className:"content"},l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12 "},l.createElement("div",{className:"btn-group margin-5",style:{marginLeft:"0px"}},k<4&&l.createElement("button",{type:"button",className:"btn btn-dark "+(t==c.a.OperationalAlarm?"btn-fill":"")+" ",onClick:function(){o?e.setState({alarmType:c.a.OperationalAlarm,showArchivedOnly:!1,AlarmList:[]},function(){return f(e,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return[4,this._FetchAlarmList(!0)];case 1:return e.sent(),[2]}})})}):window.location.hash="/"+r+"/"+a+"/"+(i?"Alarms/OperationalAlarms/Equip/"+i:s?"Alarms/OperationalAlarms/Space/"+s:"Health/Alarms/OperationalAlarms")}},l.createElement("span",null,"Operational Alarms")),k<=4&&l.createElement("button",{type:"button",className:"btn btn-dark "+(t==c.a.CustomerAlarm?"btn-fill":"")+" ",onClick:function(){o?e.setState({alarmType:c.a.CustomerAlarm,showArchivedOnly:!1,AlarmList:[]},function(){return f(e,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return[4,this._FetchAlarmList(!0)];case 1:return e.sent(),[2]}})})}):window.location.hash="/"+r+"/"+a+"/"+(i?"Alarms/CustomerAlarms/Equip/"+i:s?"Alarms/CustomerAlarms/Space/"+s:"Health/Alarms/CustomerAlarms")}},l.createElement("span",null,"Customer Alarms")),k<4&&l.createElement("button",{type:"button",className:"btn btn-dark "+(t==c.a.SupervisoryAlarm?"btn-fill":"")+" ",onClick:function(){o?e.setState({alarmType:c.a.SupervisoryAlarm,showArchivedOnly:!1,AlarmList:[]},function(){return f(e,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return[4,this._FetchAlarmList(!0)];case 1:return e.sent(),[2]}})})}):window.location.hash="/"+r+"/"+a+"/"+(i?"Alarms/SupervisoryAlarms/Equip/"+i:s?"Alarms/SupervisoryAlarms/Space/"+s:"Health/Alarms/SupervisoryAlarms")}},l.createElement("span",{className:""},"Supervisory Alarms"))),l.createElement("button",{type:"button",className:"margin-5 btn btn-success btn-fill",onClick:function(){return f(e,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return[4,this.handleFloorPlan()];case 1:return e.sent(),[2]}})})}}," ",l.createElement("span",null,"FLOOR PLAN")),!A&&l.createElement(l.Fragment,null,l.createElement("button",{type:"button",className:"margin-5 btn  btn-dark btn-fill pull-right",onClick:function(){e.handleClear()}}," ",l.createElement("span",null,"CLEAR")),l.createElement("button",{type:"button",className:"margin-5 btn btn-default pull-right active",onClick:function(){e.handleArchive()}}," ",l.createElement("span",null,"ARCHIVE")),l.createElement("button",{type:"button",className:"margin-5 btn btn-default btn-fill pull-right",onClick:function(){e.handleAcknowledge()}}," ",l.createElement("span",null,"ACKNOWLEDGE"))))),l.createElement("br",null),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12"},l.createElement("a",{className:"btn-sm btn-success active pull-left custom-icon-btn",title:"Archived "+(t==c.a.CustomerAlarm?"Customer":t==c.a.SupervisoryAlarm?"Supervisory":t==c.a.OperationalAlarm?"Operational":"")+" Alarms",style:{display:"flex",alignItems:"center",fontSize:24,margin:3,padding:"6.5px",border:"1px solid",borderRadius:5,width:38,height:38},onClick:function(t){e.setState({showArchivedOnly:!A,AlarmList:[]},function(){return e._FetchAlarmList(!0)})}},A?l.createElement("i",{title:"Show Alarms",style:{width:"100%",textAlign:"center"},className:"fas fa-bell"}):l.createElement("i",{title:"Show Archived",style:{width:"100%"},className:"fa fa-file-archive-o"})))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12"},l.createElement("br",null),l.createElement("div",{className:"card padding-10",style:{paddingTop:"0px"}},l.createElement("div",{className:"content",style:{paddingTop:"10px"}},l.createElement("div",{className:"dataCard"},l.createElement("div",{className:"row hidden-sm hidden-xs no-padding"},l.createElement("div",{className:"col-md-12 no-padding dataCard"},l.createElement("div",{className:(A?"col-md-4":"col-md-3")+" col-sm-12 small  grid-header",onClick:function(){return e.sortAlarmList("Title")}},l.createElement("i",{className:"fa fas fa-sort"}),"Title"),l.createElement("div",{className:"col-md-2 col-sm-12 small grid-header-left",onClick:function(){return e.sortAlarmList("Floor")}},l.createElement("i",{className:"fa fas fa-sort"}),"Floor"),l.createElement("div",{className:"col-md-2 col-sm-12 small grid-header",onClick:function(){return e.sortAlarmList("Space")}},l.createElement("i",{className:"fa fas fa-sort"}),"Space"),l.createElement("div",{className:"col-md-3 col-sm-12 small  grid-header",onClick:function(){return e.sortAlarmList("TimeofAlarm")}},l.createElement("i",{className:"fa fas fa-sort"}),"Time of Alarm"),!A&&l.createElement("div",{className:"col-md-2 col-sm-12 small  grid-header"},l.createElement("input",{style:{marginTop:"0px",marginLeft:"50px",height:"17px"},onChange:function(t){if(v){for(var n=0;n<v.length;n++){v[n].isSelected=t.target.checked}e.setState({AlarmList:v})}},type:"checkbox",checked:E,className:"form-control"})))),v&&v.length>0&&v.map(function(t,n){var a=t.spaceRdfsLabel?t.spaceRdfsLabel:Object(m.k)(t.space),r=t.floorRdfsLabel?t.floorRdfsLabel:Object(m.k)(t.floor);return l.createElement("div",{key:n,className:" row clickable"},l.createElement("div",{className:t.acknowledge?"col-md-12 no-padding":"text-danger col-md-12 no-padding blink-text"},l.createElement("div",{onClick:function(){e.handleRowClick(t,n)},className:(A?"col-md-4":"col-md-3")+" small headingText trim-data",title:t.title},l.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Title"),t.title),l.createElement("div",{onClick:function(){e.handleRowClick(t,n)},className:"col-md-2 small headingText trim-data",title:r},l.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Floor"),r),l.createElement("div",{onClick:function(){e.handleRowClick(t,n)},className:"col-md-2 small headingText trim-data",title:a},l.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Space"),a),l.createElement("div",{onClick:function(){e.handleRowClick(t,n)},className:"col-md-3 small headingText trim-data",title:t.timeofalarm.ToEasternDateTime()},l.createElement("span",{className:"visible-sm-inline visible-xs-inline headingText"},"Time of Alarm"),t.timeofalarm.ToEasternDateTime()),!A&&l.createElement("div",{className:"col-md-1 headingText"},l.createElement("span",{className:"visible-sm-inline visible-xs-inline  headingText"},"Select"),l.createElement("input",{style:{marginTop:"0px",marginLeft:"36px",height:"17px"},onChange:function(t){e.handleRowCheck(t.target.checked,n)},type:"checkbox",checked:t.isSelected,className:"form-control"}))))}),v&&v.length>=this.pageLength&&v.length%this.pageLength==0&&l.createElement("div",{className:"row center"},l.createElement("button",{type:"button",className:"margin-5 btn btn-secondary",onClick:function(){e._FetchAlarmList(!1)}}," ",l.createElement("span",null,"Load More..."))),l.createElement("button",{type:"button",id:"showSelectedAlarmDetails",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#selectedAlarmDetails"}," ."),l.createElement(h.a,{id:"selectedAlarmDetails",isEditForm:!0,heading:"Alarm Details",saveButtonText:"Ok",cancelButtonText:"Ok",onCancelButtonClick:function(){e.setState({BimActiveCheck:!1,selectedAlarm:Object()})},onCancelButtonClickActive:!0,showCancelButton:!1,showSaveButton:!0,onSaveButtonClick:function(){e.setState({BimActiveCheck:!1,selectedAlarm:Object()})}},g&&l.createElement("div",{className:"row"},!g.archived&&l.createElement("div",{className:"col-md-12"},l.createElement("button",{type:"button",className:"margin-5 btn btn-default pull-right active",onClick:function(){e.handleRowCheck(!0,e.state.selectedIndex),e.handleArchive(),document.getElementById("showSelectedAlarmDetails").click()}}," ",l.createElement("span",null,"ARCHIVE")),l.createElement("button",{type:"button",className:"margin-5 btn btn-default btn-fill pull-right",onClick:function(){e.handleRowCheck(!0,e.state.selectedIndex),e.handleAcknowledge(),document.getElementById("showSelectedAlarmDetails").click()}}," ",l.createElement("span",null,"ACKNOWLEDGE"))),l.createElement("div",{className:"col-md-4"},l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"col-md-5"},l.createElement("label",{className:"header no-padding"},"Title:")),l.createElement("div",{className:"col-md-7"},l.createElement("p",null,g.title))),l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"col-md-5"},l.createElement("label",{className:"header no-padding"},"Description:")),l.createElement("div",{className:"col-md-7"},l.createElement("p",null," ",g.description))),l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"col-md-5"},l.createElement("label",{className:"header no-padding"},"Device Name:")),l.createElement("div",{className:"col-md-7"},l.createElement("p",null,g.deviceName?g.deviceName:g.device?Object(m.k)(g.device):""))),l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"col-md-5"},l.createElement("label",{className:"header no-padding"},"Related Equipment:")),l.createElement("div",{className:"col-md-7"},l.createElement("p",null,this.state.equipmentList))),l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"col-md-5"},l.createElement("label",{className:"header no-padding"},"Sensed Key:")),l.createElement("div",{className:"col-md-7"},l.createElement("p",null,g.sensedValueKey))),l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"col-md-5"},l.createElement("label",{className:"header no-padding"},"Sensed Value:")),l.createElement("div",{className:"col-md-7"},l.createElement("p",null,g.sensedValue))),l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"col-md-5"},l.createElement("label",{className:"header no-padding"},"Floor:")),l.createElement("div",{className:"col-md-7"},l.createElement("p",null,g.floorRdfsLabel?g.floorRdfsLabel:Object(m.k)(g.floor)))),l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"col-md-5"},l.createElement("label",{className:"header no-padding"},"Space:")),l.createElement("div",{className:"col-md-7"},l.createElement("p",null,g.spaceRdfsLabel?g.spaceRdfsLabel:Object(m.k)(g.space))))),y&&l.createElement("div",{className:"col-md-8"},l.createElement(d.a,{instance:r,spaceName:g.space,buildingName:a,isAlarming:!g.archived||!g.acknowledge,isAchrived:!(!g.archived&&!g.acknowledge),isView:y})))))))))))},t}(l.Component);t.default=A},1043:function(e,t,n){"use strict";t.d=function(e,t,n,l,s,o,m,u,d){return i(this,void 0,void 0,function(){var i,h,p,f;return c(this,function(c){switch(c.label){case 0:return h="",p=window.location.hash,h=-1!=p.indexOf("/")?p.substring(1,p.indexOf("/")):p.substring(1),f=e==r.a.CustomerAlarm?a.a.ALARMS.GetCutomerAlarm:e==r.a.SupervisoryAlarm?a.a.ALARMS.GetSupervisorAlarm:(r.a.OperationalAlarm,a.a.ALARMS.GetOperationalAlarm),t?[4,Object(a.d)(f,"instance="+h+"&buildingName="+t+"&isArchivedOnly="+n+"&skip="+l+"&limit="+s+(o?"&equipmentName="+o:"")+(m?"&spaceName="+m:"")+(u?"&device="+u:"")+(d?"&deviceId="+d:""))]:[3,2];case 1:return i=c.sent(),[3,4];case 2:return[4,Object(a.d)(f,"instance="+h)];case 3:i=c.sent(),c.label=4;case 4:return[2,i.result]}})})},t.c=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({model:e},a.a.ALARMS.UpdateSuperviorAlarm,"").then(function(e){if(e&&e.result)return e.result;Object(l.b)("Supervisory Alarm updated Successfully.")}).catch(function(e){Object(l.a)("Error occured while updating Supervisory Alarm.")})];case 1:return[2,t.sent()]}})})},t.a=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({model:e},a.a.ALARMS.UpdateCustomerAlarm,"").then(function(e){if(e&&e.result)return e.result;Object(l.b)("Customer Alarm updated Successfully.")}).catch(function(e){Object(l.a)("Error occured while updating Customer Alarm.")})];case 1:return[2,t.sent()]}})})},t.b=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(a.f)({model:e},a.a.ALARMS.UpdateOperationalAlarm,"").then(function(e){if(e&&e.result)return e.result;Object(l.b)("Operational Alarm updated Successfully.")}).catch(function(e){Object(l.a)("Error occured while updating Operational Alarm.")})];case 1:return[2,t.sent()]}})})};var a=n(12),r=n(715),l=n(32),i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,l){function i(e){try{s(a.next(e))}catch(e){l(e)}}function c(e){try{s(a.throw(e))}catch(e){l(e)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}s((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}},1186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=(n.n(a),n(720)),l=n(1042),i=n(656),c=n(11),s=n(715),o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),m=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,l){function i(e){try{s(a.next(e))}catch(e){l(e)}}function c(e){try{s(a.throw(e))}catch(e){l(e)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}s((a=a.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,a,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},enclosure:"",deviceNumber:""}},n}return o(t,e),t.prototype.componentDidMount=function(){return m(this,void 0,void 0,function(){var e,t,n,a;return u(this,function(r){switch(r.label){case 0:return e=this.props,t=e.buildingName,n=e.InsightName,[4,Object(i.t)(n,t)];case 1:return a=r.sent(),this.setState({Moncon:a}),[2]}})})},t.prototype.render=function(){var e=this.props,t=e.instance,n=e.buildingName,i=e.InsightName,o=e.ControlName,m=e.type,u=e.hideTabs,d=this.state.Moncon,h=JSON.parse(c.a.getItem("user")),p=parseInt(h.role);return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},!u&&a.createElement(r.a,{InsightName:i,buildingName:n,instance:t,ControlName:o,type:m}),a.createElement("div",{className:"card",id:"InsightsList"},a.createElement(l.default,{instance:t,alarmType:4==p?s.a.CustomerAlarm:s.a.OperationalAlarm,deviceName:i,buildingName:n,isInTab:!0,deviceId:d.deviceID}))))))},t}(a.Component);t.default=d}});