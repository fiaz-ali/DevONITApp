webpackJsonp([61],{3188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=(n.n(r),n(675)),i=n(23),o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={verifyProjectList:[],verifyProject:Object()},n.onChangeHandler=n.onChangeHandler.bind(n),n.fatchList=n.fatchList.bind(n),n.saveVerifyProjectDetail=n.saveVerifyProjectDetail.bind(n),n}return o(t,e),t.prototype.componentDidMount=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this.fatchList()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.fatchList=function(){return s(this,void 0,void 0,function(){var e,t=this;return c(this,function(n){switch(n.label){case 0:return this.props.projectName?[4,Object(a.h)(this.props.buildingName)]:[3,2];case 1:(e=n.sent())||(e=[]),e=e.filter(function(e){return e.projectName==t.props.projectName}),this.setState({verifyProjectList:e}),n.label=2;case 2:return[2]}})})},t.prototype.saveVerifyProjectDetail=function(){return s(this,void 0,void 0,function(){var e,t,n,r,i,o,l=this;return c(this,function(u){switch(u.label){case 0:e=this.props,t=e.instance,n=e.buildingName,(r=this.state.verifyProjectList)||(r=[]),i=0,u.label=1;case 1:return i<r.length?((o=r[i]).buildingName=o.buildingName,o.projectName=o.projectName,o.oneMonth=o.oneMonthAdj,o.threeMonth=o.threeMonthAdj,o.sixMonth=o.sixMonthAdj,o.twelveMonth=o.twelveMonthAdj,[4,Object(a.k)(o).then(function(e){}).catch(function(e){return e})]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return this.setState({verifyProject:Object()},function(){return s(l,void 0,void 0,function(){return c(this,function(e){return window.location.hash=t+"/"+n+"/VerifyMeasure/VerifyDetail/"+this.props.projectName,[2]})})}),[2]}})})},t.prototype.onChangeHandler=function(e,t,n){var r=this.state.verifyProjectList;r[n][""+e]=t,this.setState({verifyProjectList:r})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,a=t.buildingName,o=this.state.verifyProjectList;return r.createElement("div",{className:"content"},r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12"},r.createElement("br",null),r.createElement("div",{className:"card"},r.createElement("div",{className:"content"},r.createElement("div",{className:""},r.createElement("div",{className:"card",style:{marginBottom:"1px",border:"1px solid gainsboro",background:"gainsboro"}},r.createElement("div",{className:"row no-padding"},r.createElement("div",{className:"col-md-12"},r.createElement("div",{className:"col-md-3 headingText padding-10"},Object(i.m)(this.props.projectName)," "),r.createElement("div",{className:"col-md-2 headingText padding-10"},"1 Month"),r.createElement("div",{className:"col-md-2 headingText padding-10"},"3 Month"),r.createElement("div",{className:"col-md-2 headingText padding-10",style:{paddingLeft:"5%"}},"6 Month"),r.createElement("div",{className:"col-md-2 headingText padding-10",style:{paddingLeft:"5%"}},"12 Month")))),o&&o.length>0&&o.map(function(t,n){return r.createElement("div",{className:"card",style:{marginBottom:"1px"},key:n},r.createElement("div",{className:"row padding-10"},r.createElement("div",{className:"col-md-3",style:{paddingLeft:"2%"}},t.departmentName),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12",style:{height:"27px",paddingLeft:"9%"}},t.oneMonth),r.createElement("div",{className:"col-md-12 headingText"},r.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value,n)},style:{border:"1px solid red",color:"red"},type:"text",name:"oneMonthAdj",value:o[n].oneMonthAdj,className:"img-thumbnail cell_border"})))),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12",style:{height:"27px",paddingLeft:"9%"}},t.threeMonth),r.createElement("div",{className:"col-md-12 headingText"},r.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value,n)},style:{border:"1px solid red",color:"red"},type:"text",name:"threeMonthAdj",value:o[n].threeMonthAdj,className:"img-thumbnail cell_border"})))),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12",style:{height:"27px",paddingLeft:"9%"}},t.sixMonth),r.createElement("div",{className:"col-md-12 headingText"},r.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value,n)},style:{border:"1px solid red",color:"red"},type:"text",name:"sixMonthAdj",value:o[n].sixMonthAdj,className:"img-thumbnail cell_border"})))),r.createElement("div",{className:"col-md-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12",style:{height:"27px",paddingLeft:"9%"}},t.twelveMonth),r.createElement("div",{className:"col-md-12 headingText"},r.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value,n)},style:{border:"1px solid red",color:"red"},type:"text",name:"twelveMonthAdj",value:o[n].twelveMonthAdj,className:"img-thumbnail cell_border"}))))))}),r.createElement("div",{className:"row padding-10"},r.createElement("div",{className:"col-md-9 col-md-offset-2 no-padding"},r.createElement("button",{className:"btn btn-fill btn-danger margin-5 pull-right",onClick:function(){window.location.hash=n+"/"+a+"/VerifyMeasure/VerifyDetail/"+e.props.projectName}},r.createElement("i",{className:"fa fa-close"})," Cancel"),r.createElement("button",{className:"btn btn-fill btn-success pull-right margin-5",onClick:function(){e.saveVerifyProjectDetail()}}," ",r.createElement("i",{className:"fa fa-save"}),"Save"))))))))))},t}(r.Component);t.default=l},675:function(e,t,n){"use strict";t.j=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.Verify.SaveVerify,a.b.VERIFY).then(function(){Object(i.b)("New Verify saved Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving New Verify.")})];case 1:return[2,t.sent()]}})})},t.g=function(e,t,n){return s(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.e)({buildingName:e,verifyType:t,id:n},r.a.Verify.FetchVerify,a.b.VERIFY,!0)];case 1:return[2,i.sent()]}})})},t.c=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({_id:e},r.a.Verify.DeleteVerify,a.b.VERIFY).then(function(){Object(i.b)(" Deleted Successfully.")}).catch(function(e){Object(i.a)("Error occured while deleting.")})];case 1:return[2,t.sent()]}})})},t.d=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({_id:e},r.a.Verify.DeleteVerifyDetail,a.b.VERIFY).then(function(){Object(i.b)(" Deleted Successfully.")}).catch(function(e){Object(i.a)("Error occured while deleting.")})];case 1:return[2,t.sent()]}})})},t.h=function(e,t){return s(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({buildingName:e,projectName:t},r.a.Verify.FetchVerifyDetail,a.b.VERIFY)];case 1:return[2,n.sent()]}})})},t.k=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.Verify.SaveVerifyDetail,a.b.VERIFY).then(function(){Object(i.b)("Verify details saved Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving Verify details.")})];case 1:return[2,t.sent()]}})})},t.a=function(e){return s(this,void 0,void 0,function(){var t,n;return c(this,function(s){switch(s.label){case 0:return t=(new Date).ToEasternDateTime(),n=JSON.parse(o.a.getItem("user")),e&&(e._id=e._id&&e._id,e.projectID=e.projectID?e.projectID:"",e.projectNumber=e.projectNumber?e.projectNumber:"",e.implementation=e.implementation?e.implementation:"",e.projectManager=e.projectManager?e.projectManager:"",e.assets=e.assets?e.assets:[],e.descriptionOfECMProject=e.descriptionOfECMProject?e.descriptionOfECMProject:"",e.energy=e.energy?e.energy:"",e.cost=e.cost?e.cost:"",e.greenHouse=e.greenHouse?e.greenHouse:"",e.estimatedImplementationCost=e.estimatedImplementationCost?e.estimatedImplementationCost:"",e.implementationPlanDescription=e.implementationPlanDescription?e.implementationPlanDescription:"",e.keyDates=e.keyDates?e.keyDates:"",e.stakeholders=e.stakeholders?e.stakeholders:[],e.objectives=e.objectives?e.objectives:"",e.updatedBy=e.updatedBy?n.name+", ("+t+")":n.name+", "+t,e.lastUpdated=e.lastUpdated?new Date(e.lastUpdated).ToEasternDateTime():t,e.optionSelected=e.optionSelected?e.optionSelected:"",e.desiredAccuracy=e.desiredAccuracy?e.desiredAccuracy:"",e.overallApproach=e.overallApproach?e.overallApproach:"",e.baselinePeriod=e.baselinePeriod?e.baselinePeriod:"",e.postRetrofitPeriod=e.postRetrofitPeriod?e.postRetrofitPeriod:"",e.descriptionofMeasurement=e.descriptionofMeasurement?e.descriptionofMeasurement:"",e.linkedDocuments=e.linkedDocuments?e.linkedDocuments:"",e.energyAndDemandSavings=e.energyAndDemandSavings?e.energyAndDemandSavings:"",e.calculatingSavingsUncertainty=e.calculatingSavingsUncertainty?e.calculatingSavingsUncertainty:"",e.costSavingsAndGreenhouseGasEmissions=e.costSavingsAndGreenhouseGasEmissions?e.costSavingsAndGreenhouseGasEmissions:"",e.approachForExtrapolatingResults=e.approachForExtrapolatingResults?e.approachForExtrapolatingResults:"",e.OtherInternalExpenses=e.OtherInternalExpenses?e.OtherInternalExpenses:[{description:"",cost:"",notes:""}],e.totalInternalExpenses=e.totalInternalExpenses?e.totalInternalExpenses:"",e.totalInternalExpensesNotes=e.totalInternalExpensesNotes?e.totalInternalExpensesNotes:"",e.externalLabourCosts=e.externalLabourCosts?e.externalLabourCosts:[{description:"",cost:"",notes:""}],e.otherExpenditure=e.otherExpenditure?e.otherExpenditure:[{description:"",Qty:"",rate:"",totalCost:"",notes:""}],e.totalExternalExpenses=e.totalExternalExpenses?e.totalExternalExpenses:"",e.totalExternalExpensesNotes=e.totalExternalExpensesNotes?e.totalExternalExpensesNotes:"",e.totalBudget=e.totalBudget?e.totalBudget:"",e.totalBudgetNotes=e.totalBudgetNotes?e.totalBudgetNotes:"",e.costNotes=e.costNotes?e.costNotes:"",e.estimatedImplementationCostNotes=e.estimatedImplementationCostNotes?e.estimatedImplementationCostNotes:"",e.filesNames=e.filesNames?e.filesNames:[""],e.scopeList=e.scopeList?e.scopeList:[{_id:"",projectID:"",inScope:"",outOfScope:""}],e.deliverableList=e.deliverableList?e.deliverableList:[{_id:"",projectID:"",deliverable:"",dueDate:""}],e.keyConsiderationsList=e.keyConsiderationsList?e.keyConsiderationsList:[],e.successCriteriaList=e.successCriteriaList?e.successCriteriaList:[],e.keyParameterList=e.keyParameterList?e.keyParameterList:[],e.otherParameterList=e.otherParameterList?e.otherParameterList:[],e.PotentialInteractiveList=e.PotentialInteractiveList?e.PotentialInteractiveList:[],e.BaselineAdjustmentsList=e.BaselineAdjustmentsList?e.BaselineAdjustmentsList:[],e.MeasurementEquipmentList=e.MeasurementEquipmentList?e.MeasurementEquipmentList:[],e.BenefitsSummary=e.BenefitsSummary?e.BenefitsSummary:Object(),e.BenefitsDetails=e.BenefitsDetails?e.BenefitsDetails:Object()),[4,Object(r.f)({model:e},r.a.Verify.SaveProjectInformation,a.b.VERIFY).then(function(){Object(i.b)("Project Information Saved Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving.")})];case 1:return[2,s.sent()]}})})},t.f=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({projectID:e},r.a.Verify.FetchProjectInformation,a.b.VERIFY,!0)];case 1:return[2,t.sent()]}})})},t.b=function(e,t){return s(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({ontology:e,_id:t},r.a.Verify.DeleteBenefitDetails,a.b.VERIFY).then(function(){Object(i.b)("Benefit Detail Deleted Successfully.")}).catch(function(e){Object(i.a)("Error occured while deleting.")})];case 1:return[2,n.sent()]}})})},t.e=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.d)(r.a.Verify.GetHistorianArchive,"modelID="+e)];case 1:return[2,t.sent()]}})})},t.l=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.Verify.SaveVerifyTaskInformation,a.b.VERIFY).then(function(){Object(i.b)("Saved Verify Task Information Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving.")})];case 1:return[2,t.sent()]}})})},t.i=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({modelID:e},r.a.Verify.FetchVerifyTaskInformation,a.b.VERIFY)];case 1:return[2,t.sent()]}})})},t.m=function(e,t){return s(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({ontology:e,workerEstimatedDuration:t},r.a.Verify.UpdateTaskWorkerEstimateDuration,a.b.VERIFY).then(function(){Object(i.b)("Updated Estimate Duration Successfully.")}).catch(function(e){Object(i.a)("Error occured while saving.")})];case 1:return[2,n.sent()]}})})};var r=n(12),a=n(20),i=n(32),o=n(11),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}}});