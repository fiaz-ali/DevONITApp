webpackJsonp([66],{685:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),i=(n.n(c),n(21)),a=n(149),s=n(34),l=n(836),r=n(7),o=n(54),u=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function c(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(c.prototype=n.prototype,new c)}}(),d=this&&this.__awaiter||function(e,t,n,c){return new(n||(n=Promise))(function(i,a){function s(e){try{r(c.next(e))}catch(e){a(e)}}function l(e){try{r(c.throw(e))}catch(e){a(e)}}function r(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,l)}r((c=c.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,c,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,c&&(i=2&a[0]?c.return:a[0]?c.throw||((i=c.return)&&i.call(c),0):c.next)&&!(i=i.call(c,a[1])).done)return i;switch(c=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,c=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],c=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={checklist:[],selectedChecklist:Object()},n.sortCheckList=n.sortCheckList.bind(n),n._fetchChecklistList=n._fetchChecklistList.bind(n),n._deleteChecklistTemplate=n._deleteChecklistTemplate.bind(n),n}return u(t,e),t.prototype.componentWillMount=function(){return d(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,this._fetchChecklistList()];case 1:return e.sent(),[2]}})})},t.prototype.componentWillReceiveProps=function(e){e.selectedChecklist&&this.setState({selectedChecklist:e.selectedChecklist})},t.prototype._fetchChecklistList=function(){return d(this,void 0,void 0,function(){var e,t=this;return h(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,Object(s.a)(!0),[4,Object(l.g)(e).then(function(e){""==Object(r.g)(e[0].ontology)&&(e=[]),t.setState({checklist:e,selectedChecklist:Object()})}).catch(function(e){return e})];case 1:return n.sent(),Object(s.a)(!1),[2]}})})},t.prototype.sortCheckList=function(e){},t.prototype._deleteChecklistTemplate=function(e){return d(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return e?(Object(s.a)(!0),[4,Object(l.c)(e,this.props.buildingName).then(function(e){}).catch(function(e){return e})]):[3,2];case 1:t.sent(),this._fetchChecklistList(),Object(s.a)(!1),t.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,s=t.buildingName,l=t.isSelectionlist,u=this.state,d=u.checklist,h=u.selectedChecklist;return c.createElement(i.AppContext.Consumer,null,function(t){return c.createElement("div",{className:"content"},c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-12"},!l&&c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-12 "},c.createElement("div",{className:"padding-5"},c.createElement(a.a,{filename:"checkList",data:[],ElementID:"CheckList"}),c.createElement("button",{type:"button",className:"btn btn-dark pull-right margin-left-right-5",onClick:function(){window.location.hash=n+"/"+s+"/NewChecklist"}},c.createElement("i",{className:"fa fa-plus"}),c.createElement("span",null,"New CheckList")),c.createElement("button",{className:"btn btn-secondary btn-fill pull-left margin-left-right-5",onClick:function(){window.location.hash=n+"/"+s+"/Tasks"}},c.createElement("i",{className:"fa fa-angle-double-left"}),"  Back ")))),c.createElement("div",{className:"card padding-10",id:"CheckList"},c.createElement("div",{className:"content",style:{paddingTop:"0px"}},c.createElement("div",{className:"dataCard"},c.createElement("div",{className:"row hidden-xs no-padding"},c.createElement("div",{className:(l?"col-sm-11":"col-sm-10")+" no-padding"},c.createElement("div",{className:"col-sm-2 small grid-header-left",onClick:function(){return e.sortCheckList("Module")}},"Module Use"),c.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortCheckList("Name")}},"Checklist Name"),c.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortCheckList("Equipment")}},"Equipment"),c.createElement("div",{className:"col-sm-1 small headingText grid-header",onClick:function(){return e.sortCheckList("Space")}},"Space"),c.createElement("div",{className:"col-sm-2 small headingText grid-header",onClick:function(){return e.sortCheckList("LastDate")}},"Last Date of Use"),c.createElement("div",{className:"col-sm-2 small headingText grid-header",onClick:function(){return e.sortCheckList("DataEntry")}},"Checklist/Data Entry"),c.createElement("div",{className:"col-sm-1 small headingText grid-header",onClick:function(){return e.sortCheckList("Uses")}},"Uses")),!l&&c.createElement("div",{className:"col-sm-2"})),d.map(function(t,i){return c.createElement("div",{className:"row no-padding"},c.createElement("div",{className:(l?"col-sm-11":"col-sm-10")+" no-padding ",style:{cursor:"pointer"},onClick:function(){l?(e.props.handleSelection(t),e.setState({selectedChecklist:t})):event.preventDefault()}},c.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Module Use"),""),c.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:Object(r.g)(t.rdfsLabel)},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Checklist Name"),Object(r.g)(t.rdfsLabel)),c.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:"Equip"==Object(r.g)(t.assetType)?""+Object(r.g)(t.assetLabel):""},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Equipment"),"Equip"==Object(r.g)(t.assetType)?""+Object(r.g)(t.assetLabel):""),c.createElement("div",{className:"col-md-1 col-sm-12  padding-10 trim-data",title:"Space"==Object(r.g)(t.assetType)?""+Object(r.g)(t.assetLabel):""},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Space"),"Space"==Object(r.g)(t.assetType)?""+Object(r.g)(t.assetLabel):""),c.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""!=Object(r.g)(t.lastUsed)?new Date(Object(r.g)(t.lastUsed)).ToEasternDateTime():""},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Last Date of Use"),""!=Object(r.g)(t.lastUsed)?new Date(Object(r.g)(t.lastUsed)).ToEasternDateTime():""),c.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Checklist/Data Entry"),""),c.createElement("div",{className:"col-md-1 col-sm-12  padding-10 trim-data",title:Object(r.g)(t.uses)},c.createElement("span",{className:"hidden visible-xs-inline headingText"},"Uses"),Object(r.g)(t.uses))),l&&c.createElement("div",{className:"col-sm-1 padding-10  trim-data"},Object(r.g)(t.ontology)==Object(r.g)(h.ontology)&&c.createElement("i",{style:{fontSize:"18px"},className:"fa fa-check"})),!l&&c.createElement("div",{className:"col-sm-1 no-padding"},c.createElement("button",{className:"btn-xs btn-danger btn-fill",title:"Delete Checklist",onClick:function(e){document.getElementById("deleteChecklistTempBtn").click()}},c.createElement("i",{className:"fa fa-trash"})),c.createElement("button",{className:"btn-xs btn-success btn-fill",title:"Edit Checklist",onClick:function(e){window.location.hash=n+"/"+s+"/NewChecklist/"+Object(r.g)(t.ontology)}},c.createElement("i",{className:"fa fa-edit"})),c.createElement("button",{id:"deleteChecklistTempBtn",style:{display:"none"},"data-toggle":"modal","data-target":"#deleteChecklist"},"."),c.createElement(o.a,{instance:e.props.instance,id:"deleteChecklist",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to remove Checklist Template?",heading:"Confirm...",onConfirmButtonClick:function(){e._deleteChecklistTemplate(t)}})))}))))))))})},t}(c.Component);t.default=m},836:function(e,t,n){"use strict";t.i=function(e,t,n){return s(this,void 0,void 0,function(){return l(this,function(s){switch(s.label){case 0:return[4,Object(c.f)({model:e,buildingName:t,isEdit:n},c.a.CHECKLIST.UPDATECHECKLISTTEMPLATE,i.b.CHECKLIST).then(function(){Object(a.b)("Checklist "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Checklist.")})];case 1:return[2,s.sent()]}})})},t.h=function(e,t,n){return s(this,void 0,void 0,function(){return l(this,function(s){switch(s.label){case 0:return[4,Object(c.f)({model:e,buildingName:t,isEdit:n},c.a.CHECKLIST.UPDATECHECKLIST,i.b.CHECKLIST).then(function(){Object(a.b)("Checklist "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(a.a)("Error occured while saving Checklist.")})];case 1:return[2,s.sent()]}})})},t.g=function(e,t){return s(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,checklist:t},c.a.CHECKLIST.GETCHECKLISTTEMPLATES,i.b.CHECKLIST)];case 1:return[2,n.sent()]}})})},t.f=function(e,t){return s(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,checklist:t},c.a.CHECKLIST.GETCHECKLIST,i.b.CHECKLIST)];case 1:return[2,n.sent()]}})})},t.e=function(e,t){return s(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,activity:t},c.a.CHECKLIST.GETCHECKLISTTEMPLATEACTIVITIES,i.b.CHECKLIST)];case 1:return[2,n.sent()]}})})},t.d=function(e,t){return s(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(c.e)({buildingName:e,activity:t},c.a.CHECKLIST.GETCHECKLISTACTIVITIES,i.b.CHECKLIST)];case 1:return[2,n.sent()]}})})},t.j=function(e,t,n){return s(this,void 0,void 0,function(){return l(this,function(s){switch(s.label){case 0:return[4,Object(c.f)({buildingName:e,templateID:t,uses:n},c.a.CHECKLIST.UPDATECHECKLISTTEMPLATEUSES,i.b.CHECKLIST).then(function(){}).catch(function(e){Object(a.a)("Error occured while saving Checklist Uses.")})];case 1:return[2,s.sent()]}})})},t.b=function(e,t){return s(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({id:e,buildingName:t},c.a.CHECKLIST.DELETECHECKLIST,i.b.CHECKLIST).then(function(){Object(a.b)(" Deleted Successfully.")}).catch(function(e){Object(a.a)("Error occured while deleting.")})];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return s(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({taskID:e,buildingName:t},c.a.CHECKLIST.UNASSIGNCHECKLIST,i.b.CHECKLIST).then(function(){Object(a.b)(" Unassign Checklist Successfully.")}).catch(function(e){Object(a.a)("Error occured while Unassign Checklist.")})];case 1:return[2,n.sent()]}})})},t.c=function(e,t){return s(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,Object(c.f)({model:e,buildingName:t},c.a.CHECKLIST.DELETECHECKLISTTEMPLATE,i.b.CHECKLIST).then(function(){Object(a.b)(" Deleted Successfully.")}).catch(function(e){Object(a.a)("Error occured while deleting.")})];case 1:return[2,n.sent()]}})})};var c=n(5),i=n(8),a=n(6),s=this&&this.__awaiter||function(e,t,n,c){return new(n||(n=Promise))(function(i,a){function s(e){try{r(c.next(e))}catch(e){a(e)}}function l(e){try{r(c.throw(e))}catch(e){a(e)}}function r(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,l)}r((c=c.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,c,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,c&&(i=2&a[0]?c.return:a[0]?c.throw||((i=c.return)&&i.call(c),0):c.next)&&!(i=i.call(c,a[1])).done)return i;switch(c=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,c=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],c=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}}});