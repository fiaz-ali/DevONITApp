webpackJsonp([65],{1458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(3),i=(n.n(o),n(493)),c=n(12),s=n(573),l=n(483),r=n(959),m=n(52),p=n(13),u=n(501),d=n(25),h=n(26),f=n(519),b=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),g=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function c(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,s)}l((a=a.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){var n,a,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,a=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={components:[],newComponent:Object(),equipment:Object(),componentToDelete:Object(),isEdit:!1,sortOrder:1,isView:!1,componentPoints:[],selectedComponent:Object(),isDeletePoint:!1,pointToDelete:Object(),allComponentsPoints:[],pointsList:[]},a=n,n._fetchComponents=n._fetchComponents.bind(n),n._fetchEquipment=n._fetchEquipment.bind(n),n.onComponentChange=n.onComponentChange.bind(n),n._saveComponent=n._saveComponent.bind(n),n.saveComponent=n.saveComponent.bind(n),n.onDeleteComponent=n.onDeleteComponent.bind(n),n.fetchComponentPoints=n.fetchComponentPoints.bind(n),n.deleteComponent=n.deleteComponent.bind(n),n.showNewComponentDialog=n.showNewComponentDialog.bind(n),n.sortComponents=n.sortComponents.bind(n),n._getPointsList=n._getPointsList.bind(n),n}return b(t,e),t.prototype.componentDidMount=function(){return g(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.equipmentName?[4,this._fetchComponents()]:[3,3];case 1:return e.sent(),[4,this._fetchEquipment()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype._getPointsList=function(){return g(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return[4,Object(f.g)(this.props.buildingName).then(function(t){e=t})];case 1:return t.sent(),[2,e]}})})},t.prototype._fetchEquipment=function(){return g(this,void 0,void 0,function(){var e=this;return v(this,function(t){switch(t.label){case 0:return this.props.buildingName&&this.props.equipmentName?[4,Object(i.m)(this.props.buildingName,this.props.equipmentName).then(function(t){if(t.length>0){var n=t[0],o=e.state.equipment;o.equipmentName=Object(c.g)(n.equip),o.rdfsLabel=Object(c.g)(n.rdfsLabel),o.equipmentType=Object(c.g)(n.type),o.subclassType=Object(c.g)(n.subtype),o.floor=Object(c.g)(n.floor),o.floor=Object(c.g)(n.floorRdfsLabel),o.location=Object(c.g)(n.location),o.location=Object(c.g)(n.locationRdfsLabel),o.locationDescription=Object(c.g)(n.locationDescription),o.manufacturer=Object(c.g)(n.manufacturer),o.model=Object(c.g)(n.model),o.serial=Object(c.g)(n.serial),o.uploadedby=Object(c.g)(n.uploadedby),o.uploadedtime=Object(c.g)(n.uploadedtime),o.capacity=Object(c.g)(n.capacity),o.refrigerantType=Object(c.g)(n.refrigerantType),o.units=Object(c.g)(n.units),o.notes=Object(c.g)(n.notes),a.setState({equipment:o})}}).catch(function(e){return e})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype._fetchComponents=function(){return g(this,void 0,void 0,function(){var e,t,n,a=this;return v(this,function(o){switch(o.label){case 0:return Object(m.a)(!0),[4,this._getPointsList()];case 1:return e=o.sent(),t=this.props.equipmentName,n=this.props.buildingName,this.props.equipmentName?[4,Object(i.l)(n,t).then(function(t){return g(a,void 0,void 0,function(){var a,o,s,l,r=this;return v(this,function(m){switch(m.label){case 0:if(!(t.length>0))return[3,5];a=[],o=[],s=function(s){var l,m,p,u;return v(this,function(d){switch(d.label){case 0:return l=t[s],m={equipName:Object(c.g)(l.equipName),ampere:Object(c.g)(l.ampere),location:Object(c.g)(l.location),rdfsLabelLocation:Object(c.g)(l.rdfsLabelLocation),profileLink:Object(c.g)(l.profile),name:Object(c.g)(l.name),rdfsLabel:Object(c.g)(l.rdfsLabel),phase:Object(c.g)(l.phase),volts:Object(c.g)(l.volts),quantity:"1",description:Object(c.g)(l.description),notes:Object(c.g)(l.notes),componentType:Object(c.g)(l.type),userType:Object(c.g)(l.userType),manufacturer:Object(c.g)(l.manufacturer),manufactureDate:Object(c.g)(l.manufactureDate)?new Date(Object(c.g)(l.manufactureDate)).toLocaleString():"",lastInspectionDate:Object(c.g)(l.lastInspectionDate)?new Date(Object(c.g)(l.lastInspectionDate)).toLocaleString():"",lastServiceDate:Object(c.g)(l.lastServiceDate)?new Date(Object(c.g)(l.lastServiceDate)).toLocaleString():"",lastRechargeDate:Object(c.g)(l.lastRechargeDate)?new Date(Object(c.g)(l.lastRechargeDate)).toLocaleString():"",nextInspectionDate:Object(c.g)(l.nextInspectionDate)?new Date(Object(c.g)(l.nextInspectionDate)).toLocaleString():"",model:Object(c.g)(l.model),inputCapacity:Object(c.g)(l.inputCapacity),inputCapacityUnits:Object(c.g)(l.inputCapacityUnits),outputCapacity:Object(c.g)(l.outputCapacity),outputCapacityUnits:Object(c.g)(l.outputCapacityUnits),componentFileName:Object(c.g)(l.componentFileName&&l.componentFileName).split(","),uploadedby:Object(c.g)(l.uploadedby),uploadedtime:Object(c.g)(l.uploadedtime),asignPoints:[]},p=Object(c.g)(l.asignPoints&&l.asignPoints).split(","),u=[],p&&p.length>0&&p.map(function(t){var n=e&&e.length>0&&e.find(function(e){return e.value==t});n&&u.push(n)}),m.asignPoints=u,a.push(m),[4,Object(i.i)(n,m.name).then(function(e){return g(r,void 0,void 0,function(){var t,n,a;return v(this,function(i){switch(i.label){case 0:if(!(e&&e.length>0))return[3,5];t=[],n=0,i.label=1;case 1:return n<e.length?(a=e[n])&&a.point&&Object(c.g)(a.point)?[4,this.mergePoint(a).then(function(e){t.push(e)})]:[3,3]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:o.push({compName:m.name,points:t}),i.label=5;case 5:return[2]}})})})];case 1:return d.sent(),[2]}})},l=0,m.label=1;case 1:return l<t.length?[5,s(l)]:[3,4];case 2:m.sent(),m.label=3;case 3:return l++,[3,1];case 4:return this.setState({components:a,allComponentsPoints:o,newComponent:Object()},function(){r.sortComponents("name",1)}),[3,6];case 5:this.setState({components:[],allComponentsPoints:[],newComponent:Object()}),m.label=6;case 6:return[2]}})})}).catch(function(e){return e})]:[3,3];case 2:o.sent(),Object(m.a)(!1),o.label=3;case 3:return[2]}})})},t.prototype._saveComponent=function(){return g(this,void 0,void 0,function(){var e,t,n,a,o,c,s;return v(this,function(l){switch(l.label){case 0:return Object(m.a)(!0),e=this.state,t=e.newComponent,n=e.equipment,a=e.components,o=this.props.buildingName,c=a.filter(function(e){return e.componentType==t.componentType}).length+1,s=JSON.parse(h.a.getItem("user")),t.uploadedby=s.name,t.uploadedtime=(new Date).toLocaleString(),t.name=t.name?t.name:Object(p.l)(8),Object(p.u)(t.name,t.rdfsLabel),[4,Object(i.s)(o,n.equipmentName,t,c)];case 1:return l.sent(),[4,this._fetchComponents()];case 2:return l.sent(),Object(m.a)(!1),[2]}})})},t.prototype.saveComponent=function(){return g(this,void 0,void 0,function(){var e,t,n,a,o,c,s;return v(this,function(l){switch(l.label){case 0:return e=this.state,t=e.newComponent,n=e.equipment,a=e.components,o=this.props.buildingName,c=a.filter(function(e){return e.componentType==t.componentType}).length+1,s=JSON.parse(h.a.getItem("user")),t.uploadedby=s.name,t.uploadedtime=(new Date).toLocaleString(),t.name=t.name?t.name:Object(p.l)(8),Object(p.u)(t.name,t.rdfsLabel),[4,Object(i.s)(o,n.equipmentName,t,c)];case 1:return l.sent(),this.setState({newComponent:t}),[2]}})})},t.prototype.onComponentChange=function(e){this.setState({newComponent:e})},t.prototype.onDeleteComponent=function(e){this.setState({componentToDelete:e})},t.prototype.onDeletePoint=function(e){this.setState({pointToDelete:e,isDeletePoint:!0})},t.prototype.deleteComponent=function(){return g(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return Object(m.a)(!0),e=this.state.componentToDelete,[4,Object(p.e)(e.name,d.b.EQUIP)];case 1:return t.sent(),[4,this._fetchComponents()];case 2:return t.sent(),Object(m.a)(!1),[2]}})})},t.prototype.onDeleteComponentPoint=function(){return g(this,void 0,void 0,function(){var e,t,n=this;return v(this,function(a){switch(a.label){case 0:return Object(m.a)(!0),e=this.props.buildingName,(t=this.state.pointToDelete).component="",t.componentLabel="",console.log(t),[4,Object(f.d)(t,e,!0).then(function(){return g(n,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,this._fetchComponents()];case 1:return e.sent(),document.getElementById("btnRemovePointLink").click(),[2]}})})})];case 1:return a.sent(),this.setState({isDeletePoint:!1}),Object(m.a)(!1),[2]}})})},t.prototype.fetchComponentPoints=function(e){return g(this,void 0,void 0,function(){var t,n;return v(this,function(a){return t=this.state.allComponentsPoints,n=[],n=t.find(function(t){return t.compName==e.name}).points,this.setState({componentPoints:n,selectedComponent:e}),document.getElementById("btnComponentPoints").click(),[2]})})},t.prototype.mergePoint=function(e){return g(this,void 0,Promise,function(){var t;return v(this,function(n){return t=Object(),e&&(t.point=Object(c.g)(e.point),t.pointId=Object(c.g)(e.pointId),t.pointLabel=Object(c.g)(e.pointLabel),t.pointType=Object(c.g)(e.pointType),t.pointDevice=Object(c.g)(e.pointDevice),t.notes=Object(c.g)(e.notes),t.monconDevice=Object(c.g)(e.monconDevice),t.s3FileName=Object(c.g)(e.s3FileName),t.softwarePointDescription=Object(c.g)(e.softwarePointDescription),t.webhook=Object(c.g)(e.webhook),t.sourcePoint=Object(c.g)(e.sourcePoint),t.sourcePointDescription=Object(c.g)(e.sourcePointDescription),t.sinkPoint=Object(c.g)(e.sinkPoint),t.sinkPointDescription=Object(c.g)(e.sinkPointDescription),t.link1=Object(c.g)(e.link1),t.link2=Object(c.g)(e.link2),t.installDate=Object(c.g)(e.installDate),t.commissioningDate=Object(c.g)(e.commissioningDate),t.isExisting="true"!=Object(c.g)(e.isPlanned),t.isSensed="true"==Object(c.g)(e.isSensed),t.unit=Object(c.g)(e.unit),t.tag=Object(c.g)(e.tag),t.floor=Object(c.g)(e.floor),t.space=Object(c.g)(e.space),t.asset=Object(c.g)(e.asset),t.component=Object(c.g)(e.component),t.assetLabel=Object(c.g)(e.assetLabel),t.componentLabel=Object(c.g)(e.componentLabel),t.floorLabel=Object(c.g)(e.floorLabel),t.spaceLabel=Object(c.g)(e.spaceLabel)),[2,t]})})},t.prototype.showNewComponentDialog=function(e,t){return g(this,void 0,void 0,function(){return v(this,function(n){return this.setState({newComponent:e&&e.name?e:{equipName:"",ampere:"",description:"",location:"",name:"",notes:"",phase:"",profileLink:"",quantity:"",rdfsLabel:"",componentType:"",volts:"",userType:"",manufacturer:"",manufactureDate:"",lastInspectionDate:"",lastServiceDate:"",lastRechargeDate:"",nextInspectionDate:"",model:"",inputCapacity:"",inputCapacityUnits:"",outputCapacity:"",outputCapacityUnits:"",rdfsLabelLocation:""},isEdit:!(!e||!e.name),isView:t||!1},function(){setTimeout(function(){},100)}),document.getElementById("showAddComponentDialog").click(),[2]})})},t.prototype.sortComponents=function(e,t){var n=this.state.components,a=this.state.sortOrder,o=n.sort(function(n,o){if(n&&o){var i="",c="";switch(e){case"name":n.name&&o.name&&(i=n.name,c=o.name);break;case"rdfsLabel":i=n.rdfsLabel,c=o.rdfsLabel;break;case"type":n.componentType&&o.componentType&&(i=n.componentType,c=o.componentType);break;case"location":n.location&&o.location&&(i=n.location,c=o.location);break;case"profileLink":n.profileLink&&o.profileLink&&(i=n.profileLink,c=o.profileLink)}var s=0;return i.toLocaleLowerCase()<c.toLocaleLowerCase()?s=-1:i.toLocaleLowerCase()>c.toLocaleLowerCase()&&(s=1),s*(t||a)}});this.setState({components:o,sortOrder:-1*(t||a)})},t.prototype.render=function(){var e=this,t=this.props,n=t.buildingName,a=t.equipmentName,i=t.instance,c=this.state,m=c.components,d=c.newComponent,f=c.equipment,b=c.isEdit,y=c.isView,C=c.componentPoints,E=c.isDeletePoint,N=c.selectedComponent,D=c.allComponentsPoints,L=d&&d.rdfsLabel&&d.location&&d.componentType&&!0,w=JSON.parse(h.a.getItem("user")),O=Object(u.b)(w,"info-equip","write");return o.createElement("div",{className:"content"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement(s.a,{workFlowSpaceList:this.props.workFlowSpaceList,inspectionOntology:"",instance:this.props.instance,buildingName:n,tabName:"Equip",showComponentButton:!0,itemName:a,showAuditTypes:!0,showBIMButtons:!0}),O&&o.createElement(o.Fragment,null,o.createElement("button",{type:"button",className:"btn btn-dark pull-right",onClick:function(){window.location.hash=i+"/"+n+"/Equip/AddMultipleComponents/"+a}},o.createElement("i",{className:"fa fa-plus"})," Add Multiple Component(s)"),o.createElement("button",{type:"button",className:"btn btn-dark pull-right",style:{marginRight:"5px"},onClick:function(t){e.showNewComponentDialog()}},o.createElement("i",{className:"fa fa-plus"})," Add Component(s)")),o.createElement("button",{id:"showAddComponentDialog",style:{display:"none"},"data-toggle":"modal","data-target":"#addComponentDialog",onClick:function(){$("div").scrollTop(0)}},"."),o.createElement(l.a,{id:"addComponentDialog",cancelButtonId:"closeDialogue",onSaveButtonClick:function(){e._saveComponent()},saveButtonText:"Save",isEditForm:!0,showCancelButton:!0,showSaveButton:!y,cancelButtonText:y?"Close":"Cancel",heading:d.name?y?"Component Detail":"Edit Component":"Add Component(s)",disableSaveButton:!L},o.createElement(r.a,{saveComponent:this.saveComponent,instance:this.props.instance,buildingName:n,isEdit:b,redirectURL:window.location.hash,onComponentChange:this.onComponentChange,fetchComponentList:this._fetchComponents,component:d,isView:y})))),o.createElement("br",null),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"card",id:"ComponentList"},o.createElement("div",{className:"header"},o.createElement("h4",{className:"title"},f.rdfsLabel,"'s Components")),o.createElement("div",{className:"content"},o.createElement("div",{className:"dataCard"},o.createElement("div",{className:"row hidden-xs"},o.createElement("div",{className:"col-sm-12"},o.createElement("div",{className:"col-sm-3 headingText",onClick:function(){return e.sortComponents("rdfsLabel")}},"Name",o.createElement("i",{className:"fa fas fa-sort"})),o.createElement("div",{className:"col-sm-2 headingText",onClick:function(){return e.sortComponents("name")}},"Label",o.createElement("i",{className:"fa fas fa-sort"})),o.createElement("div",{className:"col-sm-2 headingText",onClick:function(){return e.sortComponents("type")}},"Type",o.createElement("i",{className:"fa fas fa-sort"})),o.createElement("div",{className:"col-sm-2 headingText",onClick:function(){return e.sortComponents("location")}},"Location",o.createElement("i",{className:"fa fas fa-sort"})),o.createElement("div",{className:"col-sm-3 headingText",onClick:function(){return e.sortComponents("profileLink")}},"Profile Link",o.createElement("i",{className:"fa fas fa-sort"})))),m&&m.length>0&&m.map(function(t,n){var a=t.name.split("_"),i=D.find(function(e){return e.compName==t.name});return o.createElement("div",{key:n,className:"row clickable"},o.createElement("div",{className:"col-sm-12"},o.createElement("div",{className:"col-sm-3 trim-data",title:t.rdfsLabel},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"Name"),o.createElement("label",{className:"clickable",onClick:function(){e.showNewComponentDialog(t,!0)}},Object(p.i)(a[0])," - ",t.componentType)),o.createElement("div",{className:"col-sm-2 trim-data",title:Object(p.i)(a[0])+"_"+a[1]},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"Label"),t.rdfsLabel),o.createElement("div",{className:"col-sm-2 trim-data",title:t.componentType},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"type"),t.componentType),o.createElement("div",{className:"col-sm-2 trim-data",title:t.rdfsLabelLocation},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"location"),t.rdfsLabelLocation),o.createElement("div",{className:"col-sm-3 trim-data",title:t.profileLink},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"profile Link"),o.createElement("a",{href:t.profileLink&&t.profileLink.indexOf("ttp")>0?t.profileLink:"http://"+t.profileLink,target:"_blank",title:t.profileLink},t.profileLink))),o.createElement("br",null),O&&o.createElement("div",{className:"col-sm-12 col-xs-12"},o.createElement("a",{className:"btn-sm btn-success active pull-right",title:"Edit",onClick:function(){e.showNewComponentDialog(t)},style:{margin:"3px",padding:"6px",border:"1px solid",borderRadius:"5px",width:"31px",height:"31px"}},o.createElement("i",{className:"fa fa-edit"})),i&&o.createElement("a",{className:"btn-sm btn-primary pull-right active custom-icon-btn",title:"Points",onClick:function(n){e.fetchComponentPoints(t)},style:{border:"1px solid #183eaf",backgroundColor:"#183eaf"}},o.createElement("img",{className:"icon-img",src:"assets/img/points.png"}))))}))),o.createElement("button",{id:"btnComponentPoints",style:{display:"none"},"data-toggle":"modal","data-target":"#showComponentPoints",onClick:function(){$("div").scrollTop(0)}},"."),o.createElement(l.a,{id:"showComponentPoints",showCancelButton:!0,showSaveButton:!1,cancelButtonText:"Close",heading:N.rdfsLabel+" Points",cancelButtonId:"btnRemovePointLink"},o.createElement("div",{className:"content"},o.createElement("div",{className:"dataCard"},o.createElement("div",{className:"row hidden-xs"},o.createElement("div",{className:"col-sm-12"},o.createElement("div",{className:"col-sm-6 headingText"},"Point"),o.createElement("div",{className:"col-sm-6 headingText"},o.createElement("span",{className:"pull-right"},"Linkage")))),C&&C.length>0&&C.map(function(t,n){return o.createElement("div",{key:n,className:"row clickable"},o.createElement("div",{className:"col-sm-12"},o.createElement("div",{className:"col-sm-6 trim-data",title:t.pointLabel},o.createElement("span",{className:"hidden visible-xs-inline headingText"},"Name"),o.createElement("a",{target:"_blank",href:"#"+e.props.instance+"/"+e.props.buildingName+"/PointForm/"+t.point}," ",t.pointLabel)),o.createElement("div",{className:"col-sm-6 trim-data",title:"Remove"},O&&o.createElement("button",{className:"btn-xs btn-danger btn-fill pull-right",onClick:function(n){e.onDeletePoint(t)}}," Remove "))))}),E&&o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-8"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"pauseNote"},"Are you sure to delete component ",N.rdfsLabel,"'s point linkage?"))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement("button",{type:"button",className:"btn btn-primary btn-fill",onClick:function(){return g(e,void 0,void 0,function(){return v(this,function(e){return this.onDeleteComponentPoint(),[2]})})}},"Yes"),o.createElement("button",{type:"button",className:"btn btn-danger btn-fill",onClick:function(){e.setState({isDeletePoint:!E})}},"No"))))))))))))},t}(o.Component);t.default=y},959:function(e,t,n){"use strict";var a,o=n(3),i=(n.n(o),n(497)),c=n(496),s=n(493),l=n(25),r=n(53),m=n(13),p=n(52),u=n(483),d=n(510),h=n.n(d),f=n(578),b=n(519),g=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),v=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function c(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,s)}l((a=a.apply(e,t||[])).next())})},y=this&&this.__generator||function(e,t){var n,a,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,a=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},C=function(e){function t(t){var n=e.call(this,t)||this;return n.state={component:n.props.component?n.props.component:Object(),newComponentType:Object(),locationList:[],typeList:[],componentSubclassTypeList:[],fileTitle:"",files:[],recentSelectedFiles:[],showhideImageUploader:!1,componentToDelete:Object(),isConfirmDelete:!1,componentManufactureDate:void 0,componentLastInspectionDate:void 0,componentLastServiceDate:void 0,componentLastRechargeDate:void 0,componentNextInspectionDate:void 0,pointsList:[]},a=n,n.handleComponentChange=n.handleComponentChange.bind(n),n._getLocationsList=n._getLocationsList.bind(n),n._getTypeList=n._getTypeList.bind(n),n._getComponentTypeSubclassList=n._getComponentTypeSubclassList.bind(n),n.handleTitleChange=n.handleTitleChange.bind(n),n.onFileChange=n.onFileChange.bind(n),n.saveImage=n.saveImage.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n.saveComponentSubclassType=n.saveComponentSubclassType.bind(n),n.deletecomponent=n.deletecomponent.bind(n),n.toDeleteComponent=n.toDeleteComponent.bind(n),n.handleManufactureDate=n.handleManufactureDate.bind(n),n.handleLastInspectionDate=n.handleLastInspectionDate.bind(n),n.handleLastServiceDate=n.handleLastServiceDate.bind(n),n.handleLastRechargeDate=n.handleLastRechargeDate.bind(n),n.handleNextInspectionDate=n.handleNextInspectionDate.bind(n),n._getPointsList=n._getPointsList.bind(n),n.handlerPointChange=n.handlerPointChange.bind(n),n}return g(t,e),t.prototype.componentWillReceiveProps=function(e){return v(this,void 0,void 0,function(){var t;return y(this,function(n){return t=this.state.component,(t=e.component).name=e.component&&e.component.name?e.component.name:Object(m.l)(7),this.setState({component:t}),[2]})})},t.prototype.componentDidMount=function(){return v(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._getLocationsList(this.props.buildingName)]:[3,5];case 1:return e.sent(),[4,this._getTypeList()];case 2:return e.sent(),[4,this._getComponentTypeSubclassList()];case 3:return e.sent(),[4,this._getPointsList()];case 4:e.sent(),e.label=5;case 5:return[2]}})})},t.prototype._getPointsList=function(){return v(this,void 0,void 0,function(){var e;return y(this,function(t){switch(t.label){case 0:return e=this.state.pointsList,[4,Object(b.g)(this.props.buildingName).then(function(t){e=t})];case 1:return t.sent(),this.setState({pointsList:e}),[2]}})})},t.prototype._getLocationsList=function(e){return v(this,void 0,void 0,function(){return y(this,function(t){switch(t.label){case 0:return[4,Object(c.b)(e).then(function(e){a.setState({locationList:e})})];case 1:return t.sent(),[2]}})})},t.prototype._getComponentTypeSubclassList=function(){return v(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return[4,Object(s.j)().then(function(e){var t=e.sort(function(e,t){return e.value<t.value?-1:e.value>t.value?1:0});a.setState({componentSubclassTypeList:t})})];case 1:return e.sent(),[2]}})})},t.prototype._getTypeList=function(){return v(this,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return[4,Object(s.k)("Equip",1).then(function(e){var t=e.sort(function(e,t){return e.value<t.value?-1:e.value>t.value?1:0});a.setState({typeList:t})})];case 1:return e.sent(),[2]}})})},t.prototype.handleComponentChange=function(e,t){var n=this.state.component;switch(e){case"rdfsLabel":n.rdfsLabel=t;break;case"volts":n.volts=t;break;case"ampere":n.ampere=t;break;case"phase":n.phase=t;break;case"location":n.location=t;break;case"profileLink":n.profileLink=t;break;case"quantity":n.quantity=t;break;case"description":n.description=t;break;case"notes":n.notes=t;break;case"type":"newComponent"==t?document.getElementById("btnNewComponentTypeFormDialog").click():n.componentType=t;break;case"usertype":n.userType=t;break;case"manufacturer":n.manufacturer=t;break;case"model":n.model=t;break;case"inputCapacity":n.inputCapacity=t;break;case"inputCapacityUnits":n.inputCapacityUnits=t;break;case"outputCapacity":n.outputCapacity=t;break;case"outputCapacityUnits":n.outputCapacityUnits=t}this.setState({component:n},function(){a.props.onComponentChange(n)})},t.prototype.handlerPointChange=function(e){var t=this.state.component;t.asignPoints=e,this.setState({component:t})},t.prototype.handleComponentTypeFormChange=function(e,t){var n=this.state.newComponentType;switch(e){case"rdfsLabel":n.componentTypeName=t,n.componentType=t.replace(new RegExp(" ","g"),"");break;case"type":n.subClassOf=t}this.setState({newComponentType:n})},t.prototype.onFileChange=function(e){return v(this,void 0,void 0,function(){var t;return y(this,function(n){return(t=this.state.component).componentFileName=e,this.props.onComponentChange(t),[2]})})},t.prototype.handlefileAttached=function(e){var t=this,n=this.state.fileTitle;if(e.length>0){var a=this.state,o=a.files,i=a.component,c=a.recentSelectedFiles;i.componentFileName||(i.componentFileName=[]),o||(o=[]),c||(c=[]);for(var s=0;s<e.length;s++){var r=e[s].name.split(".").pop(),m=(new Date).YYMMDDHHMMSS2()+"-"+n+"."+r.toLowerCase();m=m.replace(new RegExp(" ","g"),"-"),i.componentFileName.push(m),c.push(m)}Object(l.g)(e),this.setState({files:e,recentSelectedFiles:c,component:i},function(){return v(t,void 0,void 0,function(){return y(this,function(e){return[2]})})})}},t.prototype.handleTitleChange=function(e){this.setState({fileTitle:e.replace(new RegExp(" ","g"),"")},function(){document.getElementById("fileTitle").style.boxShadow=e?"0px 0px 15px gainsboro":"0px 0px 15px red"})},t.prototype.saveImage=function(){return v(this,void 0,void 0,function(){var e,t,n,a,o,i,c=this;return y(this,function(s){if(e=this.state.recentSelectedFiles,t=this.state.component,this.props.onComponentChange(t),n=new r.b,(a=Object(l.d)())&&a.length)for(o=0;o<a.length;o++)i=a[o],n.UploadFile(r.a.DOCUMENT,e[o],i);return this.setState({fileTitle:"",files:[],recentSelectedFiles:[],component:t,showhideImageUploader:!1},function(){return v(c,void 0,void 0,function(){return y(this,function(e){return[2]})})}),[2]})})},t.prototype.saveComponentSubclassType=function(){return v(this,void 0,void 0,function(){var e,t=this;return y(this,function(n){switch(n.label){case 0:return e=this.state.newComponentType,[4,Object(s.t)(e).then(function(){t._getTypeList()})];case 1:return n.sent(),[2]}})})},t.prototype.deletecomponent=function(e){this.setState({componentToDelete:e})},t.prototype.toDeleteComponent=function(){return v(this,void 0,void 0,function(){var e;return y(this,function(t){switch(t.label){case 0:return Object(p.a)(!0),e=this.state.componentToDelete,[4,Object(m.e)(e.name,l.b.EQUIP)];case 1:return t.sent(),Object(p.a)(!1),this.props.fetchComponentList(),document.getElementById("closeDialogue").click(),[2]}})})},t.prototype.handleManufactureDate=function(e){var t=this.state.component;t.manufactureDate=e.toLocaleString(),this.setState({component:t,componentManufactureDate:e}),this.props.onComponentChange(t)},t.prototype.handleLastInspectionDate=function(e){var t=this.state.component;t.lastInspectionDate=e.toLocaleString(),this.setState({component:t,componentLastInspectionDate:e}),this.props.onComponentChange(t)},t.prototype.handleLastServiceDate=function(e){var t=this.state.component;t.lastServiceDate=e.toLocaleString(),this.setState({component:t,componentLastServiceDate:e}),this.props.onComponentChange(t)},t.prototype.handleLastRechargeDate=function(e){var t=this.state.component;t.lastRechargeDate=e.toLocaleString(),this.setState({component:t,componentLastRechargeDate:e}),this.props.onComponentChange(t)},t.prototype.handleNextInspectionDate=function(e){var t=this.state.component;t.nextInspectionDate=e.toLocaleString(),this.setState({component:t,componentNextInspectionDate:e}),this.props.onComponentChange(t)},t.prototype.render=function(){var e,t=this,n=this.props,a=n.isEdit,c=n.isView,s=this.state,l=s.component,r=s.locationList,p=s.typeList,d=s.componentSubclassTypeList,b=s.newComponentType,g=s.isConfirmDelete,v=s.pointsList,y=l.name&&l.name.split("_"),C=this.props.component.manufactureDate,E=this.props.component.lastInspectionDate,N=this.props.component.lastServiceDate,D=this.props.component.lastRechargeDate,L=this.props.component.nextInspectionDate,w=!(!c||!this.props.component.name);return y&&(e=Object(m.i)(y[0])+" - "+l.componentType),document.getElementById("warningText")&&(document.getElementById("warningText").style.display="none"),o.createElement("div",{className:"content"},o.createElement("div",{className:"card no-margin padding-10 padding-10"},o.createElement("div",{className:"row "},a&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"type"},"Component Name:"))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text",disabled:a||c,id:"name",className:"form-control",value:e})))),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"type"},"Component Type:"))),o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement("select",{disabled:c,id:"type",className:"form-control",value:l.componentType,onChange:function(e){return t.handleComponentChange("type",e.target.value)}},o.createElement("option",{value:"",key:-1},"Select Subclass"),o.createElement("option",{value:"newComponent",className:"headingText"},"Other "),o.createElement("hr",null),p&&p.length>0&&p.map(function(e,t){return o.createElement("option",{value:e.value,key:t},e.value," ")})))),!(a||c)&&o.createElement("div",{className:"col-md-1"},o.createElement("label",null,o.createElement("i",{className:"fa fas fa-asterisk"}))),!(a||c)&&o.createElement(o.Fragment,null,o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"quantity"},"Quantity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"quantity",type:"number",className:"form-control",value:l.quantity?l.quantity:"1",onChange:function(e){return t.handleComponentChange("quantity",e.target.value)}})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"name"},"Component Label:")),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",id:"rdfsLabel",disabled:c,className:"form-control",value:l.rdfsLabel,onChange:function(e){return t.handleComponentChange("rdfsLabel",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"location"},"Location:")),o.createElement("div",{className:"col-md-3"},o.createElement("select",{id:"location",disabled:c,className:"form-control",value:l.location,onChange:function(e){return t.handleComponentChange("location",e.target.value)}},o.createElement("option",{value:"",key:-2},"Select Location"),r&&r.length>0&&r.map(function(e,t){return o.createElement("option",{key:t,value:e.ontology.value},e.rdfsLabel.value," ")}))),o.createElement("div",{className:"col-md-1"},o.createElement("label",null,o.createElement("i",{className:"fa fas fa-asterisk"})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"manufacturer"},"Manufacturer:")),o.createElement("div",{className:"col-md-4"},o.createElement("input",{type:"text",id:"manufacturer",disabled:c,className:"form-control",value:l.manufacturer,onChange:function(e){return t.handleComponentChange("manufacturer",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"model"},"Model:")),o.createElement("div",{className:"col-md-3"},o.createElement("input",{type:"text",id:"model",disabled:c,className:"form-control",value:l.model,onChange:function(e){return t.handleComponentChange("model",e.target.value)}}))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"MANUFACTURE DATE"))),w&&o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:c,className:"form-control",value:l.manufactureDate?new Date(l.manufactureDate).toLocaleString():""})),!w&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement(h.a,{className:"form-control",selected:C?new Date(this.props.component.manufactureDate):this.state.componentManufactureDate,onChange:function(e){return t.handleManufactureDate(e)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",disabled:!(!c||!C),placeholder:"Manufacture Date","aria-label":"","aria-describedby":"button-addon4",value:l.manufactureDate})}))),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"LAST INSPECTION DATE"))),w&&o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:c,className:"form-control",value:l.lastInspectionDate?new Date(l.lastInspectionDate).toLocaleString():""})),!w&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement(h.a,{className:"form-control",selected:E?new Date(this.props.component.lastInspectionDate):this.state.componentLastInspectionDate,onChange:function(e){return t.handleLastInspectionDate(e)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",disabled:c,placeholder:"Last Inspection Date","aria-label":"","aria-describedby":"button-addon4",value:l.lastInspectionDate})})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"LAST RECHARGE DATE"))),w&&o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:c,className:"form-control",value:l.lastRechargeDate?new Date(l.lastRechargeDate).toLocaleString():""})),!w&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement(h.a,{className:"form-control",selected:D?new Date(this.props.component.lastRechargeDate):this.state.componentLastRechargeDate,onChange:function(e){return t.handleLastRechargeDate(e)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",disabled:c,placeholder:"Last Recharge Date","aria-label":"","aria-describedby":"button-addon4",value:l.lastRechargeDate})}))),o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"LAST SERVICE DATE"))),w&&o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:c,className:"form-control",value:l.lastServiceDate?new Date(l.lastServiceDate).toLocaleString():""})),!w&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement(h.a,{className:"form-control",selected:N?new Date(this.props.component.lastServiceDate):this.state.componentLastServiceDate,onChange:function(e){return t.handleLastServiceDate(e)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",disabled:c,placeholder:"Last Service Date","aria-label":"","aria-describedby":"button-addon4",value:l.lastServiceDate})})))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"age"},"NEXT INSPECTION DATE"))),w&&o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:c,className:"form-control",value:l.nextInspectionDate?new Date(l.nextInspectionDate).toLocaleString():""})),!w&&o.createElement("div",{className:"col-md-4"},o.createElement("div",{className:"form-group"},o.createElement(h.a,{className:"form-control",selected:L?new Date(this.props.component.nextInspectionDate):this.state.componentNextInspectionDate,onChange:function(e){return t.handleNextInspectionDate(e)},dateFormat:"MMMM d, yyyy h:mm aa",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:o.createElement("input",{type:"text",className:"form-control",disabled:c,placeholder:"Next Inspection Date","aria-label":"","aria-describedby":"button-addon4",value:l.nextInspectionDate})}))),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"inputCapacity"},"USER TYPE:")),o.createElement("div",{className:"col-md-4"},o.createElement("input",{id:"usertype",type:"text",disabled:c,className:"form-control",value:l.userType,onChange:function(e){return t.handleComponentChange("usertype",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"profileLink"},"Profile Link:")),o.createElement("div",{className:"col-md-6"},o.createElement("input",{type:"text",id:"profileLink",disabled:c,className:"form-control",value:l.profileLink,onChange:function(e){return t.handleComponentChange("profileLink",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"volt"},"Volt:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"volt",type:"number",disabled:c,className:"form-control",value:l.volts,onChange:function(e){return t.handleComponentChange("volts",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"amphere"},"Amps:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"amphere",type:"number",disabled:c,className:"form-control",value:l.ampere,onChange:function(e){return t.handleComponentChange("ampere",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"phase"},"Phase:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"phase",type:"number",disabled:c,className:"form-control",value:l.phase,onChange:function(e){return t.handleComponentChange("phase",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"inputCapacity"},"Input Capacity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"inputCapacity",type:"number",disabled:c,className:"form-control",value:l.inputCapacity,onChange:function(e){return t.handleComponentChange("inputCapacity",e.target.value)}})),o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"inputCapacityUnits"},"Input Capacity Units:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"inputCapacityUnits",type:"text",disabled:c,className:"form-control",value:l.inputCapacityUnits,onChange:function(e){return t.handleComponentChange("inputCapacityUnits",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"outputCapacity"},"Output Capacity:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"outputCapacity",type:"number",disabled:c,className:"form-control",value:l.outputCapacity,onChange:function(e){return t.handleComponentChange("outputCapacity",e.target.value)}})),o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"outputCapacityUnits"},"Output Capacity Units:")),o.createElement("div",{className:"col-md-2"},o.createElement("input",{id:"outputCapacityUnits",type:"text",disabled:c,className:"form-control",value:l.outputCapacityUnits,onChange:function(e){return t.handleComponentChange("outputCapacityUnits",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"description"},"Description:")),o.createElement("div",{className:"col-md-4"},o.createElement("textarea",{className:"form-control",id:"description",disabled:c,value:l.description,onChange:function(e){t.handleComponentChange("description",e.target.value)}})),o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"notes"},"Notes:")),o.createElement("div",{className:"col-md-4"},o.createElement("textarea",{className:"form-control",id:"notes",disabled:c,value:l.notes,onChange:function(e){t.handleComponentChange("notes",e.target.value)}}))),o.createElement("div",{className:"row form-group"},o.createElement("div",{className:"col-md-2"},o.createElement("label",{htmlFor:"description"},"ASSIGN Points:")),o.createElement("div",{className:"col-md-4"},o.createElement(i.a,{closeMenuOnSelect:!1,isMulti:!0,onChange:function(e){t.handlerPointChange(e)},placeholder:"Select Points",options:v&&v.length>0?v:[],isDisabled:c,value:l.asignPoints?l.asignPoints:[]}))),o.createElement("br",null),(c||a)&&o.createElement(f.a,{buildingName:this.props.buildingName,assetOntology:l.name,entityType:"Component",showUploader:!c}),o.createElement("button",{type:"button",id:"btnNewComponentTypeFormDialog",className:"btn btn-primary btn-fill","data-toggle":"modal","data-target":"#newComponentTypeFormDialog",style:{display:"none"},onClick:function(){$("div").scrollTop(0)}},"."),o.createElement(u.a,{id:"newComponentTypeFormDialog",onSaveButtonClick:function(){t.saveComponentSubclassType()},showSaveButton:!0,heading:"Add Component Type",saveButtonText:"Save and Continue",disableSaveButton:""==b.componentTypeName&&""==b.subClassOf},o.createElement("div",{className:"dataCard padding-10 no-margin"},o.createElement("div",{className:""},o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"type"},"Component Type:")),o.createElement("div",{className:"col-md-9"},o.createElement("select",{id:"type",className:"form-control",name:"type",onChange:function(e){return t.handleComponentTypeFormChange("type",e.target.value)},value:b.subClassOf},o.createElement("option",{value:""},"Select Type"),d&&d.map(function(e,t){return 0===t?o.createElement("option",{key:t,selected:!0,value:e.value},e.value):o.createElement("option",{key:t,value:e.value},e.value)}))))),o.createElement("div",{className:"row padding-10"},o.createElement("div",{className:"col-md-12 col-xs-12"},o.createElement("div",{className:"col-md-3"},o.createElement("label",{htmlFor:"rdfsLabel"},"Name:")),o.createElement("div",{className:"col-md-9"},o.createElement("input",{name:"rdfsLabel",value:b.componentTypeName,onChange:function(e){return t.handleComponentTypeFormChange("rdfsLabel",e.target.value)},type:"text",className:"form-control"})," "))),o.createElement("br",null))))),o.createElement("br",null),o.createElement("div",{className:"row"},g&&o.createElement("div",{className:"col-md-12"},o.createElement("h4",null,"Are you sure to Delete Component?"),o.createElement("button",{className:"btn btn-danger btn-fill",onClick:function(){t.state.isConfirmDelete;t.setState({isConfirmDelete:!1},function(){t.toDeleteComponent()})}},"Yes"),"\xa0\xa0\xa0",o.createElement("button",{className:"btn btn-primary btn-fill",onClick:function(){t.state.isConfirmDelete;t.setState({isConfirmDelete:!1},function(){})}},"No"))),a&&!c&&o.createElement("button",{className:"btn btn-danger active pull-right",onClick:function(){var e=t.props.component;t.state.isConfirmDelete;t.setState({isConfirmDelete:!0},function(){t.deletecomponent(e)})}},o.createElement("span",{className:"fa fa-trash-o"}),"Delete Component"),o.createElement("br",null),o.createElement("br",null))},t}(o.Component);t.a=C}});