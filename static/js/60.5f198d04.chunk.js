webpackJsonp([60],{649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=(n.n(a),n(16)),i=n(793),c=n(787),o=n(8),s=n(6),l=n(837),u=n(106),d=n(753),h=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),f=this&&this.__assign||function(){return(f=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},b=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,i){function c(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(c,o)}s((a=a.apply(e,t||[])).next())})},m=this&&this.__generator||function(e,t){var n,a,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,a=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={CeilingSensorBoardInfo:Object(),Old_RelayBoardInfo:Object(),RelayBoardInfo:Object(),I1RelayBoardInfo:Object(),modelChanged:!1,Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",manufacturer:"",model:"",location:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:""},isSchedule:!1,relatedEquipment:[]},EquipmentList:[],currentChange:"",detailsExpanded:!1,localBTNState:!1,spaces:[],relayControlStatusDesc:"",scheduleSelected:!1,relayisOn:!1,relayisOnNo:0,relayCensorStatus:Object(),relay1Status:!1,relay2Status:!1,relay3Status:!1,relay4Status:!1,I1RelayStatus:!1,relayControlStatus:"",relayControlType:"",isOptimizeControl:!1,isOptimizeControlStatus:""},n,n._fetchData=n._fetchData.bind(n),n._fetchCeilingSensorBoardInfo=n._fetchCeilingSensorBoardInfo.bind(n),n._fetchRelayCensorStatus=n._fetchRelayCensorStatus.bind(n),n._fetchV4RelayBoardInfo=n._fetchV4RelayBoardInfo.bind(n),n._fetchI1RelayBoardInfo=n._fetchI1RelayBoardInfo.bind(n),n.saveRelayStatusChanges=n.saveRelayStatusChanges.bind(n),n.setOptimizeSettings=n.setOptimizeSettings.bind(n),n.cancelSend=n.cancelSend.bind(n),n.resetChanges=n.resetChanges.bind(n),n.applyChanges=n.applyChanges.bind(n),n.handleChange=n.handleChange.bind(n),n.handleRelayOnOff=n.handleRelayOnOff.bind(n),n.handleRelayControlStatus=n.handleRelayControlStatus.bind(n),n.handleScheduleSelection=n.handleScheduleSelection.bind(n),n}return h(t,e),t.prototype.componentDidMount=function(){return b(this,void 0,void 0,function(){return m(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchData()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.componentWillUnmount=function(){return b(this,void 0,void 0,function(){return m(this,function(e){return clearInterval(void 0),[2]})})},t.prototype._fetchData=function(){return b(this,void 0,void 0,function(){var e,t,n,a,r,i,s,l,h,f,p,y=this;return m(this,function(v){switch(v.label){case 0:return e=this.state,t=e.scheduleSelected,n=e.relayControlType,a=this.props,r=a.RelayDeviceName,i=a.buildingName,r?(Object(u.a)(!0),[4,Object(d.f)(this.props.buildingName)]):[3,3];case 1:return s=v.sent(),l=s&&s.length>0&&s.map(function(e){return{value:Object(o.g)(e.ontology),label:Object(o.g)(e.rdfsLabel)}}),h=Object(),[4,Object(c.d)(r,i)];case 2:h=v.sent(),t=h.isSchedule,n=h.monitoringControlDeviceType,localStorage.getItem(h.deviceID)&&localStorage.getItem(h.deviceID).length>0&&(-1!=n.indexOf("OneRelay")?(f=JSON.parse(localStorage.getItem(h.deviceID)),this.setState({I1RelayBoardInfo:f,modelChanged:!1,currentChange:""})):(p=JSON.parse(localStorage.getItem(h.deviceID)),this.setState({RelayBoardInfo:p,modelChanged:!1,currentChange:""}))),this.setState({Moncon:h,EquipmentList:l,scheduleSelected:t,relayControlType:n},function(){return b(y,void 0,void 0,function(){return m(this,function(e){return this._fetchRelayCensorStatus(),-1!=n.indexOf("OneRelay")?this._fetchI1RelayBoardInfo():this._fetchV4RelayBoardInfo(),this._fetchCeilingSensorBoardInfo(),[2]})})}),Object(u.a)(!1),v.label=3;case 3:return[2]}})})},t.prototype._fetchCeilingSensorBoardInfo=function(){return b(this,void 0,void 0,function(){var e,t,n,a=this;return m(this,function(r){return Object(u.a)(!0),e=this.state.Moncon,t=this.props.buildingName,n="",e.sensors&&e.sensors.map(function(e){return b(a,void 0,void 0,function(){var a,r;return m(this,function(o){switch(o.label){case 0:return n=e.value,a=Object(),[4,Object(c.d)(n,t)];case 1:return"CeilingSensor"!=(a=o.sent()).monitoringControlDeviceType?[3,3]:[4,Object(i.h)(a).then(function(e){return!e||e&&e.error?(Object(s.a)("Error occurred while fetching ceiling sensor board info."),Object()):e}).catch(function(e){return Object()})];case 2:return r=o.sent(),this.setState({CeilingSensorBoardInfo:r,modelChanged:!1,currentChange:""}),[2];case 3:return[2]}})})}),Object(u.a)(!1),[2]})})},t.prototype._fetchI1RelayBoardInfo=function(){return b(this,void 0,void 0,function(){var e,t;return m(this,function(n){switch(n.label){case 0:return Object(u.a)(!0),e=this.state.Moncon,[4,Object(i.j)(e).then(function(t){return!t||t&&t.error?(Object(s.a)("Error occurred while fetching relay board info."),Object()):(localStorage.setItem(e.deviceID,JSON.stringify(t)),t)}).catch(function(e){return Object()})];case 1:return t=n.sent(),this.setState({I1RelayBoardInfo:t,modelChanged:!1,currentChange:""}),Object(u.a)(!1),[2]}})})},t.prototype._fetchV4RelayBoardInfo=function(){return b(this,void 0,void 0,function(){var e,t;return m(this,function(n){switch(n.label){case 0:return Object(u.a)(!0),e=this.state.Moncon,[4,Object(i.s)(e).then(function(t){if(!t||t&&t.error)return Object(s.a)("Error occurred while fetching relay board info."),Object();var n=JSON.stringify(t);return n=(n=n.replace(/'/g,'"')).replace(/^"(.*)"$/,"$1"),t=JSON.parse(n),localStorage.setItem(e.deviceID,JSON.stringify(t)),t}).catch(function(e){return Object()})];case 1:return t=n.sent(),this.setState({RelayBoardInfo:t,Old_RelayBoardInfo:f({},t),modelChanged:!1,currentChange:""}),Object(u.a)(!1),[2]}})})},t.prototype._fetchRelayCensorStatus=function(){return b(this,void 0,void 0,function(){var e,t,n,a=this;return m(this,function(r){switch(r.label){case 0:return Object(u.a)(!0),e=this.props,t=e.buildingName,n=e.RelayDeviceName,[4,Object(i.q)(t,n).then(function(e){var t=e[0];if(!t)return a.setState({relay1Status:!1,relay2Status:!1,relay3Status:!1,relay4Status:!1}),Object();var n=Object();n.relayStatus=[],n.controlStatus=Object(o.g)(t.controlStatus),n.deviceType=Object(o.g)(t.deviceType);var r=a.state,i=r.relay1Status,c=r.relay2Status,s=r.relay3Status,l=r.relay4Status,u=r.relayControlStatus,d=r.I1RelayStatus,h=Object(o.g)(t.relayStatus).split(",");"OneRelayLightingControl"==n.deviceType?(h&&(d="1"==h[0],n.relayStatus=h),u=Object(o.g)(t.controlStatus),a.setState({I1RelayStatus:d,relayControlStatus:u})):(h&&(i="1"==h[0],c="1"==h[1],s="1"==h[2],l="1"==h[3],n.relayStatus=h),u=Object(o.g)(t.controlStatus),a.setState({relay1Status:i,relay2Status:c,relay3Status:s,relay4Status:l,relayControlStatus:u}));var f="Optimize"==n.controlStatus||"Normal"==n.controlStatus;a.setState({isOptimizeControl:f,isOptimizeControlStatus:f?n.controlStatus:""})}).catch(function(e){return Object()})];case 1:return r.sent(),Object(u.a)(!1),[2]}})})},t.prototype.handleRelayOnOff=function(e,t){var n=this.state,a=n.relay1Status,r=n.relay2Status,i=n.relay3Status,c=n.relay4Status;1==t&&(a=e),2==t&&(r=e),3==t&&(i=e),4==t&&(c=e),this.setState({modelChanged:!0,relayisOnNo:t,relayisOn:e,relay1Status:a,relay2Status:r,relay3Status:i,relay4Status:c})},t.prototype.handleI1RelayOnOff=function(e){this.setState({I1RelayStatus:e,modelChanged:!0})},t.prototype.handleChange=function(e,t){var n=this.state.RelayBoardInfo;n[e]=t,this.setState({RelayBoardInfo:n,modelChanged:!0,currentChange:e})},t.prototype.handleRelayControlStatus=function(e){return b(this,void 0,void 0,function(){var t=this;return m(this,function(n){switch(n.label){case 0:if("Schedule"==e)this.handleScheduleSelection(!0);else{if("Optimize"==e)return this.setState({modelChanged:!0,isOptimizeControl:!0,relayControlStatus:e,currentChange:"Optimize"}),[2];this.state.scheduleSelected&&this.handleScheduleSelection(!1)}return[4,this.saveRelayStatusChanges(e).then(function(){t.setState({relayControlStatus:e,isOptimizeControl:!1})})];case 1:return n.sent(),[2]}})})},t.prototype.cancelSend=function(){var e=this.state,t=e.relay1Status,n=e.relay2Status,a=e.relay3Status,r=e.relay4Status,i=e.I1RelayStatus,c=e.relayCensorStatus;-1!=e.relayControlType.indexOf("OneRelay")?(i=!i,this.setState({I1RelayStatus:i,modelChanged:!1})):(t="1"==c.relayStatus[0],n="1"==c.relayStatus[1],a="1"==c.relayStatus[2],r="1"==c.relayStatus[3],this.setState({relay1Status:t,relay2Status:n,relay3Status:a,relay4Status:r,modelChanged:!1}))},t.prototype.setOptimizeSettings=function(e){return b(this,void 0,void 0,function(){var t,n,a,r=this;return m(this,function(c){switch(c.label){case 0:return t=this.props,n=t.buildingName,a=t.RelayDeviceName,[4,Object(i.a)(n,a).then(function(t){return b(r,void 0,void 0,function(){var n,r,c,l=this;return m(this,function(u){switch(u.label){case 0:return n=Object(),t[0]?(n.device=Object(o.g)(t[0].device),n.A1=Object(o.g)(t[0].A1),n.A2=Object(o.g)(t[0].A2),n.B1=Object(o.g)(t[0].B1),n.B2=Object(o.g)(t[0].B2),n.C1=Object(o.g)(t[0].C1),n.C2=Object(o.g)(t[0].C2),n.D1=Object(o.g)(t[0].D1),n.D2=Object(o.g)(t[0].D2),n.E1=Object(o.g)(t[0].E1),n.E2=Object(o.g)(t[0].E2),n.F1=Object(o.g)(t[0].F1),n.F2=Object(o.g)(t[0].F2),n.G1=Object(o.g)(t[0].G1),n.G2=Object(o.g)(t[0].G2)):(n.device=a,n.A1="0",n.A2="0",n.B1="0",n.B2="0",n.C1="0",n.C2="0",n.D1="0",n.D2="0",n.E1="0",n.E2="0",n.F1="0",n.F2="0",n.G1="0",n.G2="0"),(r=Object()).isOptimize=e,e?(r.varA=parseInt(n.A2),r.varB=parseInt(n.B2),r.varC=parseInt(n.C2),r.varD=parseInt(n.D2),r.varE=parseInt(n.E2),r.varF=parseInt(n.F2),r.varG=parseInt(n.G2)):(r.varA=parseInt(n.A1),r.varB=parseInt(n.B1),r.varC=parseInt(n.C1),r.varD=parseInt(n.D1),r.varE=parseInt(n.E1),r.varF=parseInt(n.F1),r.varG=parseInt(n.G1)),c=this.state.Moncon,[4,Object(i.z)(c,r).then(function(e){return b(l,void 0,void 0,function(){return m(this,function(t){return e?Object(s.b)("Settings posted successfully. "):e.error&&Object(s.a)(e.reason),[2]})})}).catch(function(e){Object(s.a)("Some error orccured. ")})];case 1:return u.sent(),[2]}})})})];case 1:return c.sent(),[2]}})})},t.prototype.resetChanges=function(){return b(this,void 0,void 0,function(){var e=this;return m(this,function(t){return this.setState({modelChanged:!1,currentChange:""},function(){return b(e,void 0,void 0,function(){var e;return m(this,function(t){switch(t.label){case 0:return e=this.state.relayControlType,[4,this._fetchRelayCensorStatus()];case 1:return t.sent(),-1!=e.indexOf("OneRelay")?this._fetchI1RelayBoardInfo():this._fetchV4RelayBoardInfo(),[4,this._fetchCeilingSensorBoardInfo()];case 2:return t.sent(),[2]}})})}),[2]})})},t.prototype.handleScheduleSelection=function(e){return b(this,void 0,void 0,function(){var t=this;return m(this,function(n){switch(n.label){case 0:return[4,Object(i.E)(this.props.RelayDeviceName,e)];case 1:return n.sent(),e?Object(s.b)("Successfully Selected Schedule"):Object(s.b)("Successfully unSelected Schedule"),this.setState({scheduleSelected:e},function(){-1!=t.state.relayControlType.indexOf("OneRelay")?t._fetchI1RelayBoardInfo():t._fetchV4RelayBoardInfo(),t._fetchCeilingSensorBoardInfo()}),[2]}})})},t.prototype.saveRelayStatusChanges=function(e){return b(this,void 0,void 0,function(){var t,n,a,r,c,o,l,d,h,f,b,p,y;return m(this,function(m){return Object(u.a)(!0),t=this.props,n=t.buildingName,a=t.RelayDeviceName,r=this.state,c=r.relay1Status,o=r.relay2Status,l=r.relay3Status,d=r.relay4Status,h=r.relayCensorStatus,f=r.relayControlType,b=r.I1RelayStatus,p=r.isOptimizeControlStatus,y=[],-1!=f.indexOf("OneRelay")?y.push(b?"1":"0"):(y.push(c?"1":"0"),y.push(o?"1":"0"),y.push(l?"1":"0"),y.push(d?"1":"0")),h.relayStatus=y,h.controlStatus="Optimize"==e?p:e,h.deviceType=f,h.device=a,console.log(JSON.stringify(h)),Object(i.D)(n,h).then(function(e){}).catch(function(e){Object(s.a)("Some error orccured. ")}),Object(u.a)(!1),[2]})})},t.prototype.applyChanges=function(){return b(this,void 0,void 0,function(){var e=this;return m(this,function(t){return Object(u.a)(!0),this.setState({modelChanged:!1,currentChange:""},function(){return b(e,void 0,void 0,function(){var e,t,n,a,r,c,o,l,d=this;return m(this,function(h){switch(h.label){case 0:return Object(u.a)(!0),e=this.state,t=e.Moncon,n=e.relayisOnNo,a=e.relayisOn,r=e.relayControlStatus,c=e.I1RelayStatus,o=e.relayControlType,l=e.isOptimizeControl,[4,this.saveRelayStatusChanges(r)];case 1:return h.sent(),l?this.setOptimizeSettings(l):-1!=o.indexOf("OneRelay")?Object(i.w)(t,c).then(function(e){return b(d,void 0,void 0,function(){return m(this,function(t){return e?Object(s.b)("Changes applied successfully. "):e.error&&Object(s.a)(e.reason),[2]})})}).catch(function(e){Object(s.a)("Some error orccured. ")}):Object(i.A)(t,!1,a,n).then(function(e){return b(d,void 0,void 0,function(){return m(this,function(t){return e?Object(s.b)("Changes applied successfully. "):e.error&&Object(s.a)(e.reason),[2]})})}).catch(function(e){Object(s.a)("Some error orccured. ")}),this.setState({isOptimizeControl:!1}),Object(u.a)(!1),[2]}})})}),[2]})})},t.prototype.render=function(){var e=this,t=this.state,n=t.CeilingSensorBoardInfo,i=t.Moncon,c=t.modelChanged,o=t.currentChange,s=t.detailsExpanded,u=t.localBTNState,d=t.RelayBoardInfo,h=t.relayControlStatus,f=t.relayisOn,b=t.relayisOnNo,m=t.relay1Status,p=t.relay2Status,y=t.relay3Status,v=t.relay4Status,E=t.relayControlType,g=t.I1RelayBoardInfo,O=t.I1RelayStatus,S=t.isOptimizeControl,I=t.isOptimizeControlStatus,C=this.props,N=C.instance,w=C.buildingName,j=C.RelayDeviceName,_=C.type,R="Local"!=h;return a.createElement(r.AppContext.Consumer,null,function(t){return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(l.a,{InsightName:j,ControlName:"RelayControl",buildingName:w,instance:N,type:_}),a.createElement("div",{className:"card",id:"InsightsList"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"header"},a.createElement("h3",{className:"title"},a.createElement("strong",null,i.rdfsLabel)," "),a.createElement("button",{type:"button",className:"btn btn-fill btn-secondary pull-right",onClick:function(){return e.resetChanges()}},a.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"}),"Refresh"),"\xa0",a.createElement("h4",{className:"title"},a.createElement("strong",null,e.props.type.toUpperCase(),":",i&&i.relatedEquipment.map(function(e,t){return a.createElement("span",{key:t},t+1==i.relatedEquipment.length?"":",")}))))),a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},-1!=E.indexOf("OneRelay")&&a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("h4",{className:"padding-5 margin-5"},"Power Watts: ",a.createElement("b",null,g&&g.active_power_Watts?g.active_power_Watts:0," ")),a.createElement("h4",{className:"padding-5 margin-5"},"Amperes: ",a.createElement("b",null,g&&g.current_Amperes?g.current_Amperes:0)),a.createElement("h4",{className:"padding-5 margin-5"},"Frequency Hz: ",a.createElement("b",null,g&&g.frequency_Hz?g.frequency_Hz:0))),a.createElement("div",{className:"col-md-6 col-xs-12"},a.createElement("h4",{className:"padding-5 margin-5"},"Energy Watt/Hour: ",a.createElement("b",null,g&&g.import_active_energy_Wh?g.import_active_energy_Wh:0," ")),a.createElement("h4",{className:"padding-5 margin-5"},"Power Factor: ",a.createElement("b",null,g&&g.power_factor?g.power_factor:0)),a.createElement("h4",{className:"padding-5 margin-5"},"Voltage volts: ",a.createElement("b",null,g&&g.voltage_volts?g.voltage_volts:0))))),-1==E.indexOf("OneRelay")&&a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("table",{className:"table table-striped"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null),a.createElement("th",null,a.createElement("b",null,"Amperes")),a.createElement("th",null,a.createElement("b",null,"Power Watt")),a.createElement("th",null))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,a.createElement("b",null,"Relay One")),a.createElement("td",null,a.createElement("b",null,d&&d.mAmps_relay1?d.mAmps_relay1:0," A")),a.createElement("td",null,a.createElement("b",null,d&&d.power_Wt_relay1?d.power_Wt_relay1:0," W")),a.createElement("td",null,"Manual"==h&&a.createElement(a.Fragment,null,a.createElement("button",{type:"button",className:m?"btn":"btn btn-fill",disabled:c,onClick:function(){e.handleRelayOnOff(!1,1)}},"Off"),a.createElement("button",{type:"button",className:m?"btn btn-fill":"btn",disabled:c,onClick:function(){e.handleRelayOnOff(!0,1)}},"On")))),a.createElement("tr",null,a.createElement("td",null,a.createElement("b",null,"Relay Two")),a.createElement("td",null,a.createElement("b",null,d&&d.mAmps_relay2?d.mAmps_relay2:0," A")),a.createElement("td",null,a.createElement("b",null,d&&d.power_Wt_relay2?d.power_Wt_relay2:0," W")),a.createElement("td",null,"Manual"==h&&a.createElement(a.Fragment,null,a.createElement("button",{type:"button",className:p?"btn":"btn btn-fill",disabled:c,onClick:function(){e.handleRelayOnOff(!1,2)}},"Off"),a.createElement("button",{type:"button",className:p?"btn btn-fill":"btn",disabled:c,onClick:function(){e.handleRelayOnOff(!0,2)}},"On")))),a.createElement("tr",null,a.createElement("td",null,a.createElement("b",null,"Relay Three")),a.createElement("td",null,a.createElement("b",null,d&&d.mAmps_relay3?d.mAmps_relay3:0," A")),a.createElement("td",null,a.createElement("b",null,d&&d.power_Wt_relay3?d.power_Wt_relay3:0," W")),a.createElement("td",null,"Manual"==h&&a.createElement(a.Fragment,null,a.createElement("button",{type:"button",className:y?"btn":"btn btn-fill",disabled:c,onClick:function(){e.handleRelayOnOff(!1,3)}},"Off"),a.createElement("button",{type:"button",className:y?"btn btn-fill":"btn",disabled:c,onClick:function(){e.handleRelayOnOff(!0,3)}},"On")))),a.createElement("tr",null,a.createElement("td",null,a.createElement("b",null,"Relay Four")),a.createElement("td",null,a.createElement("b",null,d&&d.mAmps_relay4?d.mAmps_relay4:0," A")),a.createElement("td",null,a.createElement("b",null," - ")),a.createElement("td",null,"Manual"==h&&a.createElement(a.Fragment,null,a.createElement("button",{type:"button",className:v?"btn":"btn btn-fill",disabled:c,onClick:function(){e.handleRelayOnOff(!1,4)}},"Off"),a.createElement("button",{type:"button",className:v?"btn btn-fill":"btn",disabled:c,onClick:function(){e.handleRelayOnOff(!0,4)}},"On"))))))),a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("h4",{className:"padding-5 margin-5"},"Source Volts: ",a.createElement("b",null,d&&d.nominal_src_volts?d.nominal_src_volts:0," ")),a.createElement("h4",{className:"padding-5 margin-5"},"Illumiance: ",a.createElement("b",null,n&&n.illuminance_lux?n.illuminance_lux:0," Lumens")),a.createElement("h4",{className:"padding-5 margin-5"},"Motion Sensed: ",a.createElement("b",null,n&&n.illuminance_lux&&n.motion_sensed>0?"True":"False"))),a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},-1!=E.indexOf("OneRelay")&&"Manual"==h&&a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",className:O?"btn":"btn btn-fill",disabled:c,onClick:function(){e.handleI1RelayOnOff(!1)}},"Off"),a.createElement("button",{type:"button",className:O?"btn btn-fill":"btn",disabled:c,onClick:function(){e.handleI1RelayOnOff(!0)}},"On"))),a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",className:"Local"==h?"btn btn-success btn-fill":"btn btn-success",disabled:""!=o&&"state"!=o,onClick:function(){e.handleRelayControlStatus("Local")}},"Local"),a.createElement("button",{type:"button",className:R?"btn btn-success btn-fill":"btn btn-success",disabled:""!=o&&"state"!=o},"Remote"),a.createElement("button",{type:"button",className:"Manual"==h?"btn btn-success btn-fill":"btn btn-success",disabled:""!=o&&"state"!=o||u,onClick:function(){e.handleRelayControlStatus("Manual")}},"Manual"),a.createElement("button",{type:"button",className:"Schedule"==h?"btn btn-success btn-fill":"btn btn-success",disabled:""!=o&&"state"!=o||u,onClick:function(){e.handleRelayControlStatus("Schedule")}},"Schedule"),a.createElement("button",{type:"button",className:"Optimize"==h?"btn btn-success btn-fill":"btn btn-success",disabled:""!=o&&"state"!=o||u,onClick:function(){e.handleRelayControlStatus("Optimize")}},"Optimize"))),a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"}),a.createElement("div",{className:"col-md-6 col-xs-12 InsightRow"},"Optimize"==h&&a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",className:"Normal"==I?"btn btn-fill":"btn",onClick:function(){e.setState({isOptimizeControlStatus:"Normal"})}},"Normal"),a.createElement("button",{type:"button",className:"Optimize"==I?"btn btn-fill":"btn",onClick:function(){e.setState({isOptimizeControlStatus:"Optimize"})}},"Optimize")))),a.createElement("div",{className:"accordion row padding-10",id:"accordionExample",style:{paddingLeft:"30px",border:"1px solid #80808066",margin:"10px",borderRadius:"7px"}},a.createElement("div",{className:"",id:"headingOne"},a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne",style:{border:0,left:"-25px",position:"relative"},"aria-expanded":"true","aria-controls":"collapseOne",onClick:function(){e.setState({detailsExpanded:!s})}},a.createElement("i",{className:s?"fa fa-minus":"fa fa-plus","aria-hidden":"true"}))),a.createElement("div",{id:"collapseOne",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"},a.createElement("div",{className:"col-md-6 col-xs-12 padding-10"},a.createElement("h5",{className:"title"},a.createElement("strong",null,"IP Address:")," ",i.wirelessConfig&&i.wirelessConfig.ipAddress),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Controller IP Address:")," ",i.wirelessConfig&&i.wirelessConfig.controllerIPAddress),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Manufacturer:")," ",i.manufacturer),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Model:")," ",i.model),a.createElement("h5",{className:"title"},a.createElement("strong",null,"Device ID:")," ",i.deviceID?i.deviceID:"")))),a.createElement("div",{className:c?"InsightApplyChanges":"hidden"},S?a.createElement("h4",null,"Do you want to apply these changes (Optimize Settings: ",I,") ?"):a.createElement("h4",null,"Do you want to apply these changes (Relay ",-1!=E.indexOf("OneRelay")?" : "+(O?"on":"off"):b+" : "+(f?"on":"off"),")?"),a.createElement("div",null,a.createElement("button",{type:"button",className:"btn btn-fill btn-secondary",onClick:function(){return e.cancelSend()}},"Cancel"),"\xa0",a.createElement("button",{type:"button",className:"btn btn-fill btn-danger",onClick:function(){return e.resetChanges()}},"Reset"),"\xa0",a.createElement("button",{type:"button",className:"btn btn-fill btn-primary",onClick:function(){return e.applyChanges()}},"Apply Changes")))))))))})},t}(a.Component);t.default=p},753:function(e,t,n){"use strict";t.p=function(e,t,n){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(i.f)({buildingName:e,equipment:t,isEdit:n},i.a.EQUIPMENT.SaveEquipment,a.b.EQUIP).then(function(){Object(r.b)("Equipment "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Equipment.")})];case 1:return[2,c.sent()]}})})},t.o=function(e,t,n,s){return c(this,void 0,void 0,function(){var c;return o(this,function(o){switch(o.label){case 0:return c=!!n.name,[4,Object(i.f)({buildingName:e,equipmentName:t,component:n,counter:s},i.a.EQUIPMENT.SaveComponent,a.b.EQUIP).then(function(){Object(r.b)("Component(s) "+(c?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Component(s).")})];case 1:return[2,o.sent()]}})})},t.q=function(e,t,n,s){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(i.f)({isEdit:e,buildingName:t,equipmentName:n,lightingInformation:s},i.a.EQUIPMENT.SaveLightingInformation,a.b.EQUIP).then(function(){Object(r.b)("Lighting Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Lighting Info.")})];case 1:return[2,c.sent()]}})})},t.r=function(e,t,n,s,l){return c(this,void 0,void 0,function(){return o(this,function(c){switch(c.label){case 0:return[4,Object(i.f)({isEdit:e,buildingName:t,equipmentName:n,plugLoadModel:s,isCustom:l},i.a.EQUIPMENT.SavePlugLoadModel,a.b.EQUIP).then(function(){Object(r.b)("Plugload Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Plugload Info.")})];case 1:return[2,c.sent()]}})})},t.d=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.FetchEquipments,a.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.j=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetEquipmentDetails,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.e=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.GetAllCoolingAndHeatingEquipmentsList,a.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.f=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.GetAllEquipmentExceptCoolingAndHeatingList,a.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.g=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.GetAllEquipmentsList,a.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.k=function(){return c(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Object(i.e)({},i.a.EQUIPMENT.GetEquipmentTypeList,a.b.EQUIP)];case 1:return[2,e.sent()]}})})},t.m=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({typeName:e,distance:t},i.a.EQUIPMENT.GetSubClassTypeListForEquipment,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.h=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({typeName:e,distance:t},i.a.EQUIPMENT.GetComponentTypesList,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.c=function(e){return c(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.EQUIPMENT.FetchEquipmentExportData,a.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.i=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetComponents,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.l=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetFixtures,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.n=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.GetTypeByEquipmentName,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.b=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.FetchPowerSource,a.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return c(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e,equipmentName:t},i.a.EQUIPMENT.FetchPlugLoad,a.b.EQUIP)];case 1:return[2,n.sent()]}})})};var a=n(7),r=n(6),i=n(5),c=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,i){function c(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(c,o)}s((a=a.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,a,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,a=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}},787:function(e,t,n){"use strict";t.b=function(e,t,n){return o(this,void 0,void 0,function(){return s(this,function(c){switch(c.label){case 0:return[4,Object(i.f)({model:e,buildingName:t,isEdit:n},i.a.DEVICES.UPDATEDEVICE,a.b.POINT).then(function(){Object(r.b)("Device "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving Device.")})];case 1:return[2,c.sent()]}})})},t.e=function(e,t){return o(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({buildingName:e},i.a.DEVICES.GETDEVICEDETAIL,a.b.POINT,t)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return o(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(i.e)({DeviceID:e,buildingName:t},i.a.DEVICES.CheckDeviceID,a.b.POINT)];case 1:return[2,n.sent()]}})})},t.f=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,Object(i.e)({},i.a.DEVICES.GETDEVICETYPELIST,a.b.POINT)];case 1:return[2,e.sent()]}})})},t.g=function(e,t){return o(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(i.f)({newEquipmentType:e,buildingName:t},i.a.DEVICES.SaveEquipmentType,a.b.POINT).then(function(){Object(r.b)("New Equipment Type Added Successfully.")}).catch(function(e){Object(r.a)("Error occured while saving New Equipment type.")})];case 1:return[2,n.sent()]}})})},t.d=function(e,t){return o(this,void 0,void 0,function(){var n,r,l,u,d,h;return s(this,function(f){switch(f.label){case 0:return t?[4,function(e,t,n){return o(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,Object(i.e)({buildingName:e,pointName:t,deviceName:n},i.a.DEVICES.GETDEVICEDETAIL,a.b.POINT)];case 1:return[2,r.sent()]}})})}(t,null,e)]:[2];case 1:return n=f.sent(),r=Object(),n&&n.length>0&&(l=n[0],r.monitoringControl=Object(c.g)(l.moncondevice),r.monitoringControlDeviceType=Object(c.g)(l.moncontype),r.deviceName=Object(c.g)(l.moncondevice),r.deviceID=Object(c.g)(l.deviceID),r.rdfsLabel=Object(c.g)(l.rdfsLabel),r.manufacturer=Object(c.g)(l.manufacturer),r.model=Object(c.g)(l.model),r.graphURL=Object(c.g)(l.graphURL),r.location=Object(c.g)(l.location),r.floor=Object(c.g)(l.floor),r.connectionType=Object(c.g)(l.connectiontype),r.notes=Object(c.g)(l.notes),r.setpointRangeFrom=Object(c.g)(l.setpointRangeFrom),r.setpointRangeTo=Object(c.g)(l.setpointRangeTo),r.createdby=Object(c.g)(l.createdby),r.adminPassword=Object(c.g)(l.adminPassword),r.onitUrlLink=Object(c.g)(l.onitUrlLink),u=[],l.relatedEquipment&&l.relatedEquipment.value&&(u=l.relatedEquipment.value.indexOf(",")>0?l.relatedEquipment.value.split(","):[l.relatedEquipment.value]),r.relatedEquipment=u.map(function(e,t){return{label:e,value:e}}),d=[],l.strategy&&l.strategy.value&&(d=l.strategy.value.indexOf(",")>0?l.strategy.value.split(","):[l.strategy.value]),r.strategy=d.map(function(e,t){return{label:e,value:e}}),h=[],l.sensors&&l.sensors.value&&(h=l.sensors.value.indexOf(",")>0?l.sensors.value.split(","):[l.sensors.value]),r.sensors=h.map(function(e,t){return{label:e,value:e}}),r.isExisting="false"!=Object(c.g)(l.isExisting),r.wirelessConfig={ipAddress:Object(c.g)(l.ipaddress),controllerIPAddress:Object(c.g)(l.controllerIPAddress),thermostatMacAddress:Object(c.g)(l.macaddress),ssid:Object(c.g)(l.ssid),password:Object(c.g)(l.password)},r.isSchedule="true"==Object(c.g)(l.isSchedule)),[2,r]}})})},t.c=function(e){return o(this,void 0,void 0,function(){var t,n,a,r;return s(this,function(i){if(t=[],e.length>0)for(n=0;n<e.length;n++)a=Object(),r=e[n],a.aa_DeviceName=r.moncontype,a.ab_DeviceID=r.deviceID,a.ac_Manufacturer=r.manufacturer,a.ad_Model=r.model,a.ba_Floor=r.rdfsLabelFloor,a.bb_FloorCode=r.floor,a.bc_Space=r.rdfsLabelLocation,a.bd_SpaceCode=r.location,a.ca_Equipment=r.rdfsLabel,a.cb_Equipmentcode=r.moncondevice,a.cc_Connection=r.connectiontype,a.cd_OnitUrlLink=r.onitUrlLink,t.push(a);return[2,t]})})};var a=n(7),r=n(6),i=n(5),c=n(8),o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,i){function c(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(c,o)}s((a=a.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,a,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,a=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}},793:function(e,t,n){"use strict";t.o=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.FetchInsights_Export,a.b.POINT)];case 1:return[2,t.sent()]}})})},t.n=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.FetchInsights,a.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.k=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.FetchInsightExportData,a.b.POINT)];case 1:return[2,t.sent()]}})})},t.l=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchInsightInfo,a.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.x=function(e,t,n){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({Moncon:e,InsightInfo:t,Old_InsightInfo:n},r.a.DEVICES.PostInsightChanges,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.m=function(e,t,n){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.e)({buildingName:e,insightName:t,isBuilding:n},r.a.DEVICES.FetchInsightSchedule,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.C=function(e,t,n){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({model:e,buildingName:t,isBuilding:n},r.a.DEVICES.SaveInsightSchedule,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.B=function(e,t,n){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({model:e,buildingName:t,isBuilding:n},r.a.DEVICES.ResetInsightSchedule,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.h=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchCeilingSensorBoardInfo,a.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.v=function(e,t,n){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({Moncon:e,ceilingSensorBoardInfo:t,Old_CeilingSensorBoardInfo:n},r.a.DEVICES.PostCeilingSensorBoardChanges,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.e=function(e,t,n,o){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({model:e,buildingName:t,insightName:n,spaceName:o},r.a.DEVICES.SaveADP,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.g=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.f)({model:e},r.a.DEVICES.SaveRelayADP,a.b.POINT)];case 1:return[2,t.sent()]}})})},t.a=function(e,t){return i(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({building:e,device:t},r.a.DEVICES.GetRelayADP,a.b.POINT)];case 1:return[2,n.sent()]}})})},t.p=function(e){return i(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return[4,Object(r.d)(r.a.DEVICES.GetIntesisHomeConfig,"buildingName="+e)];case 1:return(t=n.sent())&&t[0]?[2,t[0]]:[2,void 0]}})})},t.y=function(e,t,n){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({DeviceID:e,serviceName:t,serviceValue:n},r.a.DEVICES.PostIntesisChanges,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.u=function(e,t,n){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({buildingName:e,DeviceID:t,services:n},r.a.DEVICES.GetIntesisData,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.c=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.DEVICES.GetIntesisHomeCredentials,a.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.f=function(e,t,n){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({buildingName:e,clientID:t,clientSecret:n},r.a.DEVICES.SaveIntesisHomeCredentials,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.E=function(e,t){return i(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({InsightName:e,isSchedule:t},r.a.DEVICES.SaveScheduleSelected,a.b.POINT)];case 1:return[2,n.sent()]}})})},t.b=function(e,t,n){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({deviceID:e,from:t,to:n},r.a.DEVICES.GetIntesisGraphData,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.d=function(e,t,n){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({deviceName:e,from:t,to:n},r.a.DEVICES.GetRelayGraphData,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.i=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({InsightName:e},r.a.DEVICES.GetDeviceADP,a.b.POINT)];case 1:return[2,t.sent()]}})})},t.r=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({spaceName:e},r.a.DEVICES.GetSpaceADP,a.b.POINT)];case 1:return[2,t.sent()]}})})},t.s=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchV4RelayBoardInfo,a.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.A=function(e,t,n,o){return i(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return[4,Object(r.f)({Moncon:e,isSetAll:t,isSetOn:n,relayNo:o},r.a.DEVICES.PostV4RelayBoardChanges,a.b.POINT)];case 1:return[2,i.sent()]}})})},t.j=function(e){return i(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({Moncon:e},r.a.DEVICES.FetchI1RelayBoardInfo,a.b.POINT,!0)];case 1:return[2,t.sent()]}})})},t.w=function(e,t){return i(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({Moncon:e,isSetOn:t},r.a.DEVICES.PostI1RelayBoardChanges,a.b.POINT)];case 1:return[2,n.sent()]}})})},t.q=function(e,t){return i(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({building:e,device:t},r.a.DEVICES.FetchRelayCensorStatus,a.b.POINT,!0)];case 1:return[2,n.sent()]}})})},t.z=function(e,t){return i(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({Moncon:e,model:t},r.a.DEVICES.PostRelayBoardOptimizeSettings,a.b.POINT)];case 1:return[2,n.sent()]}})})},t.D=function(e,t){return i(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.f)({building:e,relayCensorStatus:t},r.a.DEVICES.SaveRelayCensorStatus,a.b.POINT)];case 1:return[2,n.sent()]}})})},t.t=function(e){var t=Object();t.activestage=0,t.availablemodes=0,t.away=0,t.cooltemp=0,t.cooltempmax=0,t.cooltempmin=0,t.fan=0,t.fanstate=0,t.heattemp=0,t.heattempmax=0,t.heattempmin=0,t.mode=0,t.schedule=0,t.schedulepart=0,t.spacetemp=0,t.state=0,t.tempunits=0,t.name="";for(var n=0;n<e.length;n++){var a=e[n];t.cooltemp+=a.cooltemp?a.cooltemp:0,t.cooltempmax+=a.cooltempmax?a.cooltempmax:0,t.cooltempmin+=a.cooltempmin?a.cooltempmin:0,t.fan+=a.fan?a.fan:0,t.fanstate+=a.fanstate?a.fanstate:0,t.heattemp+=a.heattemp?a.heattemp:0,t.heattempmax+=a.heattempmax?a.heattempmax:0,t.heattempmin+=a.heattempmin?a.heattempmin:0,t.mode+=a.mode?a.mode:0,t.schedule+=a.schedule?a.schedule:0,t.schedulepart+=a.schedulepart?a.schedulepart:0,t.spacetemp+=a.spacetemp?a.spacetemp:0,t.activestage+=a.activestage?a.activestage:0,t.availablemodes+=a.availablemodes?a.availablemodes:0,t.away+=a.away?a.away:0,t.state+=a.state?a.state:0,t.tempunits+=a.tempunits?a.tempunits:0,"THERMOSTAT"==a.name&&(t.name=a.name?a.name:"")}var r=e.length;return t.cooltemp=t.cooltemp/r,t.cooltempmax=t.cooltempmax/r,t.cooltempmin=t.cooltempmin/r,t.fan=t.fan/r,t.fanstate=t.fanstate/r,t.heattemp=t.heattemp/r,t.heattempmax=t.heattempmax/r,t.heattempmin=t.heattempmin/r,t.mode=t.mode/r,t.schedule=t.schedule/r,t.schedulepart=t.schedulepart/r,t.spacetemp=t.spacetemp/r,t.activestage=t.activestage/r,t.availablemodes=t.availablemodes/r,t.away=t.away/r,t.state=t.state/r,t.tempunits=t.tempunits/r,t};var a=n(7),r=n(5),i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,i){function c(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(c,o)}s((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,a=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}},837:function(e,t,n){"use strict";var a=n(2),r=(n.n(a),n(22)),i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.InsightName,n=e.buildingName,i=e.instance,c=e.ControlName,o=e.type;this.state;return a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 "},a.createElement("ul",{className:"nav nav-tabs"},a.createElement("li",{className:window.location.hash.indexOf("/"+o+"/"+c+"/")>-1?"active":""},a.createElement(r.b,{to:"/"+i+"/"+n+"/Insights/"+o+"/"+c+"/"+t},"Current Values")),"Optimal"!=o&&a.createElement(a.Fragment,null,a.createElement("li",{className:window.location.hash.indexOf("Schedule")>-1?"active":""},a.createElement(r.b,{to:"/"+i+"/"+n+"/Insights/"+o+"/Schedule/"+c+"/"+t},"Schedule")),a.createElement("li",{className:window.location.hash.indexOf("Alarms")>-1?"active":""},a.createElement(r.b,{to:"/"+i+"/"+n+"/Insights/"+o+"/Alarms/"+c+"/"+t},"Alarms"))),a.createElement("li",{className:window.location.hash.indexOf("Graphs")>-1?"active":""},a.createElement(r.b,{to:"/"+i+"/"+n+"/Insights/"+o+"/Graphs/"+c+"/"+t},"Graphs")),a.createElement("li",{className:window.location.hash.indexOf("ADP")>-1?"active":""},a.createElement(r.b,{to:"/"+i+"/"+n+"/Insights/"+o+"/ADP/"+c+"/"+t},"ADP"))))))},t}(a.Component);t.a=c}});