webpackJsonp([59],{1532:function(e,t,n){"use strict";t.a=function(e,t,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,Object(i.e)({buildingName:e,infoEntity:t,entityName:n},i.a.GetRelatedList)];case 1:return[2,o.sent()]}})})};var i=n(5),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}},603:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),r=(n.n(o),n(16)),a=n(1532),s=n(797),l=n(12),c=n(8),u=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_parentList:[],_filteredList:[],_fullList:Object()},i=n,n.showRelatedItems=n.showRelatedItems.bind(n),n.getRedirectPath=n.getRedirectPath.bind(n),n}return u(t,e),t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.infoEntity&&this.props.entityName?[4,this._fetchItems()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.showRelatedItems=function(e){var t=this.state._fullList,n=t[""+e]?t[""+e].hasRelated:[];this.setState({_filteredList:n})},t.prototype.getRedirectPath=function(e){var t=this.props,n=t.buildingName,i=t.instance;if(Object(c.g)(e.type))switch(Object(c.g)(e.type)){case"Equip":window.location.hash=i+"/"+n+"/Equip/Profile/"+Object(c.g)(e.item);break;case"Space":window.location.hash=i+"/"+n+"/Space/Profile/"+Object(c.g)(e.item);break;case"Zone":window.location.hash=i+"/"+n+"/Zone/Profile/"+Object(c.g)(e.item);break;default:return!1}},t.prototype._fetchItems=function(){return d(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,Object(a.a)(this.props.buildingName,this.props.infoEntity,this.props.entityName).then(function(e){i.setState({_fullList:e})}).catch(function(e){return e})];case 1:return e.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.buildingName,i=t.infoEntity,a=t.entityName,u=this.state._fullList;return o.createElement("div",{className:"content"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement(s.a,{workFlowSpaceList:this.props.workFlowSpaceList,inspectionOntology:"",instance:this.props.instance,buildingName:n,tabName:i,itemName:a,showDevicesButton:"Point"==i,showComponentButton:"Equip"==i,showAuditTypes:"Equip"==i||"Space"==i,showBIMButtons:"Equip"==i||"Space"==i}),o.createElement("div",{className:"dropdown pull-right"}))),o.createElement("br",null),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"card",id:"SpacesList"},o.createElement("div",{className:"content"},o.createElement(r.AppContext.Consumer,null,function(t){return o.createElement("div",{className:"dataCard"},o.createElement("div",null,o.createElement("h4",{className:"modal-title"},Object(l.g)(a)," Related Items"),o.createElement("br",null),u.length>0&&u.map(function(t){return o.createElement("li",{className:"list-group-item clickable",onClick:function(){e.getRedirectPath(t)}},Object(c.g)(t.label)," ")})))})))))))},t}(o.Component);t.default=h},713:function(e,t,n){"use strict";t.p=function(e,t,n){return a(this,void 0,void 0,function(){return s(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({buildingName:e,equipment:t,isEdit:n},r.a.EQUIPMENT.SaveEquipment,i.b.EQUIP).then(function(){Object(o.b)("Equipment "+(n?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Equipment.")})];case 1:return[2,a.sent()]}})})},t.o=function(e,t,n,l){return a(this,void 0,void 0,function(){var a;return s(this,function(s){switch(s.label){case 0:return a=!!n.name,[4,Object(r.f)({buildingName:e,equipmentName:t,component:n,counter:l},r.a.EQUIPMENT.SaveComponent,i.b.EQUIP).then(function(){Object(o.b)("Component(s) "+(a?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Component(s).")})];case 1:return[2,s.sent()]}})})},t.q=function(e,t,n,l){return a(this,void 0,void 0,function(){return s(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({isEdit:e,buildingName:t,equipmentName:n,lightingInformation:l},r.a.EQUIPMENT.SaveLightingInformation,i.b.EQUIP).then(function(){Object(o.b)("Lighting Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Lighting Info.")})];case 1:return[2,a.sent()]}})})},t.r=function(e,t,n,l,c){return a(this,void 0,void 0,function(){return s(this,function(a){switch(a.label){case 0:return[4,Object(r.f)({isEdit:e,buildingName:t,equipmentName:n,plugLoadModel:l,isCustom:c},r.a.EQUIPMENT.SavePlugLoadModel,i.b.EQUIP).then(function(){Object(o.b)("Plugload Info "+(e?"Updated":"Added")+" Successfully.")}).catch(function(e){Object(o.a)("Error occured while saving Plugload Info.")})];case 1:return[2,a.sent()]}})})},t.d=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.EQUIPMENT.FetchEquipments,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.j=function(e,t){return a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({buildingName:e,equipmentName:t},r.a.EQUIPMENT.GetEquipmentDetails,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.e=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.EQUIPMENT.GetAllCoolingAndHeatingEquipmentsList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.f=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.EQUIPMENT.GetAllEquipmentExceptCoolingAndHeatingList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.g=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.EQUIPMENT.GetAllEquipmentsList,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.k=function(){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,Object(r.e)({},r.a.EQUIPMENT.GetEquipmentTypeList,i.b.EQUIP)];case 1:return[2,e.sent()]}})})},t.m=function(e,t){return a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({typeName:e,distance:t},r.a.EQUIPMENT.GetSubClassTypeListForEquipment,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.h=function(e,t){return a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({typeName:e,distance:t},r.a.EQUIPMENT.GetComponentTypesList,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.c=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({buildingName:e},r.a.EQUIPMENT.FetchEquipmentExportData,i.b.EQUIP)];case 1:return[2,t.sent()]}})})},t.i=function(e,t){return a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({buildingName:e,equipmentName:t},r.a.EQUIPMENT.GetComponents,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.l=function(e,t){return a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({buildingName:e,equipmentName:t},r.a.EQUIPMENT.GetFixtures,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.n=function(e,t){return a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({buildingName:e,equipmentName:t},r.a.EQUIPMENT.GetTypeByEquipmentName,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.b=function(e,t){return a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({buildingName:e,equipmentName:t},r.a.EQUIPMENT.FetchPowerSource,i.b.EQUIP)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({buildingName:e,equipmentName:t},r.a.EQUIPMENT.FetchPlugLoad,i.b.EQUIP)];case 1:return[2,n.sent()]}})})};var i=n(7),o=n(6),r=n(5),a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}},753:function(e,t){e.exports={APIKey:"f51abd3013784ac6a0985f87f5ecbf03",Version:"3.2"}},775:function(e,t,n){"use strict";var i=n(2),o=(n.n(i),n(37)),r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={sdk:Object(),isStarted:!1,selectedSteps:n.props.sweeps,modelDetails:Object(),spaceDetails:[],currentSweep:Object(),matterTags:[],floorDetails:Object(),logMessage:"",sdkReady:!1,hasStartSweep:!1,startSweep:Object(),isViewForm:n.props.isViewForm,prevSweepIndex:0,onPropsReceivedStateChanged:!1,linkBimism:n.props.bimURL,destinationSweeps:n.props.sweeps,addCurrentSweep:!1,sweepPosition:Object()},n.loadSDK=n.loadSDK.bind(n),n.loadFrame=n.loadFrame.bind(n),n.toggleTourStartStop=n.toggleTourStartStop.bind(n),n.toggleTourSweepsStartStop=n.toggleTourSweepsStartStop.bind(n),n.addCurrentSweep=n.addCurrentSweep.bind(n),n.toggleAddingSweep=n.toggleAddingSweep.bind(n),n.removeSweep=n.removeSweep.bind(n),n.setDialogState=n.setDialogState.bind(n),n.onSaveHandle=n.onSaveHandle.bind(n),n}return r(t,e),t.prototype.componentWillReceiveProps=function(e){(0==this.state.selectedSteps.length&&e.sweeps.length>0||e.isSweepChangeable)&&(this.setState({selectedSteps:e.sweeps,hasStartSweep:!0,startSweep:e.sweeps[0],onPropsReceivedStateChanged:!0}),e.isSweepChangeable&&this.props.onSweepChangeable(e.isSweepChangeable)),e.bimURL&&this.setState({linkBimism:e.bimURL}),e.sweeps&&this.setState({destinationSweeps:e.sweeps}),this.setState({addCurrentSweep:e.addCurrentSweep})},t.prototype.componentDidUpdate=function(){this.state.onPropsReceivedStateChanged&&this.setState({onPropsReceivedStateChanged:!1})},t.prototype.onSaveHandle=function(){var e=this.state.selectedSteps,t=this.state.sweepPosition;this.props.onSaveClickButton(e,t)},t.prototype.toggleAddingSweep=function(){window.toggleStartStopAddingSweep()},t.prototype.toggleTourStartStop=function(){window.toggleTourSelectedSweep()},t.prototype.toggleTourSweepsStartStop=function(e){window.toggleTourSweepsSelectedSweep(e)},t.prototype.addCurrentSweep=function(){window.addCurrentSweep()},t.prototype.removeSweep=function(e){window.removeSweep(e)},t.prototype.setDialogState=function(e,t,n,i,o,r,a,s,l,c){null!=e&&this.setState({isStarted:e}),null!=t&&this.setState({isTourSelected:t}),null!=n&&this.setState({selectedSteps:n}),null!=i&&this.setState({modelDetails:i}),null!=o&&this.setState({currentSweep:o}),null!=r&&this.setState({logMessage:r}),null!=s&&this.setState({prevSweepIndex:s}),null!=l&&this.setState({sweepPosition:l}),null!=a&&this.setState({sdkReady:a}),null!=c&&(this.setState({sdk:c}),this.loadFrame(c,this.setDialogState,this.state))},t.prototype.loadSDK=function(e,t){var i=n(753),o=i.APIKey,r=i.Version,a=document.getElementById("showcase");window.MP_SDK.connect(a,o,r).then(function(t){console.log("SDK Connected!"),e(null,null,null,null,null,null,null,null,null,t)}).catch(function(e){console.log("Error while connecting with Matterport SDK")})},t.prototype.loadFrame=function(e,t,n){var i=this.state,o=i.modelDetails,r=i.currentSweep,a=i.isStarted,s=i.isTourSelected,l=i.selectedSteps,c=i.sdkReady,u=i.startSweep,d=i.hasStartSweep,p=i.isViewForm,h=i.prevSweepIndex,f=i.addCurrentSweep;function m(e){if(l.length>0){var t=l.find(function(t){return t.uuid==e});if(null!=t||""+t!="undefined"){var n="Sweep "+t.uuid+" of index "+t.uuidIndex+" is already added in the current list";return console.log(n),!0}}return!1}c||e.App.state.subscribe(function(n){n.phase===e.App.Phase.LOADING&&console.log("The app has started loading!"),n.phase===e.App.Phase.STARTING&&console.log("The transition into the start location begins!"),n.phase===e.App.Phase.PLAYING&&(console.log("The app is ready to take user input now!"),c=!0,t(null,null,null,null,null,null,!0),d&&window.goToSweep(u.uuid),f&&(l=[],window.setTimeout(function(){window.addCurrentSweep()},2e3)))}),e.Model.getData().then(function(e){console.log("Model data loaded for sid:",e.sid),t(null,null,null,o=e)}),window.addSweep=function(e){var n=o.sweeps.find(function(t){return t.uuid==e});t(null,null,null,null,r=n);var i=o.sweeps.indexOf(n);if(!m(r.uuid)){l.push({uuid:r.uuid,uuidIndex:i,stepNo:l.length});var a="Sweep "+r.uuid+" of index "+i+" is added in the current list";console.log(a)}},window.addCurrentSweep=function(){e.Camera.getPose().then(function(e){var n=o.sweeps.find(function(t){return t.uuid==e.sweep});t(null,null,null,null,r=n);var i=o.sweeps.indexOf(n);if(!m(r.uuid)){l.push({uuid:r.uuid,uuidIndex:i,stepNo:l.length});var a=e.position;t(null,null,l,null,null,null,null,null,a);var s="Sweep "+r.uuid+" of index "+i+" is added in the current list";console.log(s)}})},window.removeSweep=function(e){var n=l.find(function(t){return t.uuid==e}),i=l.indexOf(n);if(i>-1){l.splice(i,1),t(null,null,l);var o="Sweep "+n.uuid+" of index "+n.uuidIndex+" is removed from the current list";console.log(o)}},window.goToSweep=function(t){console.log("Will move to "+t),e.Sweep.moveTo(t,{transition:e.Sweep.Transition.FLY}).then(function(e){var n="Moved to sweep "+t;console.log(n)}).catch(function(e){console.log("Error: "+JSON.stringify(e))})},e.on(e.Sweep.Event.ENTER,function(){if(s)return!1;e.Camera.getPose().then(function(e){if("mode.inside"==e.mode||"mode.outside"==e.mode)if(p&&l.length>0){var n=l.find(function(t){return t.uuid==e.sweep});if(null!=n&&""+n!="undefined"){var i="Moved to sweep "+n.uuid;console.log(i),h=l.indexOf(n),t(null,null,null,null,null,null,null,h)}else{i="Not allowed in the current step ";console.log(i),window.goToSweep(l[h].uuid)}}else console.log("Current Sweep is: "+JSON.stringify(e.sweep)),a&&0==l.length&&window.addCurrentSweep()})})},t.prototype.render=function(){var e=this;this.props.isRefreshDialog&&(this.setState({isStarted:!1,isTourSelected:!1,selectedSteps:[],modelDetails:Object(),spaceDetails:[],currentSweep:Object(),matterTags:[],floorDetails:Object(),logMessage:"",sdkReady:!1,hasStartSweep:!1,startSweep:Object(),isViewForm:this.props.isViewForm,prevSweepIndex:0,onPropsReceivedStateChanged:!1,linkBimism:this.props.bimURL,destinationSweeps:[]}),this.props.onRefreshMatterport(!1));var t=this.props,n=t.id,r=t.heading,a=t.isViewForm,s=t.showSaveButton,l=this.state,c=l.isStarted,u=l.selectedSteps,d=l.logMessage,p=l.sdkReady,h=0,f=this.state.linkBimism;f&&!f.includes("&utm_source=sdkdebug&play=0&tourcta=0")&&(f+="&utm_source=sdkdebug&play=0&tourcta=0");var m=!1;return m=!p||(u.length>0||c),i.createElement(o.a,{id:n,saveButtonText:"Save",heading:r,isEditForm:!0,showSaveButton:s,showCancelButton:a,onSaveButtonClick:function(){e.onSaveHandle()}},i.createElement("div",{className:""},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 col-xs-12"},i.createElement("iframe",{id:"showcase",src:f,onLoad:function(){e.loadSDK(e.setDialogState,e.state)},width:"100%",height:"400",frameBorder:"0",allowFullScreen:!0}))),!a&&i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-7 col-xs-12"},i.createElement("button",{type:"button",id:"btnAddCurrentStep",disabled:m,title:"Add current step",className:"btn btn-primary btn-fill matterport-dialog-btn-tour-margin",onClick:this.addCurrentSweep},i.createElement("i",{className:"fa fa-thumb-tack"})),i.createElement("br",null),i.createElement("br",null),i.createElement("span",{className:"small-font-list"},d)),i.createElement("div",{className:"col-md-5 col-xs-12"},i.createElement("table",null,i.createElement("tr",null,i.createElement("th",null,"Step"),i.createElement("th",null)),u&&u.map(function(t){return h+=1,i.createElement("tr",null,i.createElement("td",{className:"link",onClick:function(){p&&window.goToSweep(t.uuid)}},"Step ",h,": ",i.createElement("input",{type:"checkbox",disabled:!0,checked:!0,style:{cursor:"pointer"}})),i.createElement("td",null,!a&&p&&i.createElement("button",{type:"button",title:"Remove step",onClick:function(){e.removeSweep(t.uuid)},className:"btn btn-light matterport-dialog-btn-no-border"},i.createElement("i",{className:"fa fa-times"}))))})))))))},t}(i.Component);t.a=a},797:function(e,t,n){"use strict";var i=n(2),o=(n.n(i),n(110)),r=n(8),a=n(40),s=n(713),l=n(775),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={virtualBIM:"",cadBIM:"",showCA:!1,showECM:!1,showRCX:!1,ECMCompleted:!1,RCXCompleted:!1,CACompleted:!1,workFlowSpaceList:[],equipmentSweeps:[],addCurrentSweep:!1,selectedVirtualBIM:""},n.updateInspectionButtonsVisibility=n.updateInspectionButtonsVisibility.bind(n),n}return c(t,e),t.prototype.componentWillReceiveProps=function(e){return u(this,void 0,void 0,function(){var t,n=this;return d(this,function(i){return"Equip"!=e.tabName&&"Space"!=e.tabName||(t=[],e.workFlowSpaceList&&e.workFlowSpaceList.length&&(t=e.workFlowSpaceList),this.setState({workFlowSpaceList:t},function(){return u(n,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,this.updateInspectionButtonsVisibility()];case 1:return e.sent(),[4,this.getBIM_Links()];case 2:return e.sent(),[2]}})})})),[2]})})},t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){var e,t=this;return d(this,function(n){return"Equip"!=this.props.tabName&&"Space"!=this.props.tabName||(e=[],this.props.workFlowSpaceList&&this.props.workFlowSpaceList.length&&(e=this.props.workFlowSpaceList),this.setState({workFlowSpaceList:e},function(){return u(t,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,this.updateInspectionButtonsVisibility()];case 1:return e.sent(),[2]}})})})),[2]})})},t.prototype.updateInspectionButtonsVisibility=function(){return u(this,void 0,void 0,function(){var e,t,n,i;return d(this,function(o){switch(o.label){case 0:return this.props.inspectionOntology?(e=this.state.workFlowSpaceList,t=localStorage.getItem("spaceOntology"),n=localStorage.getItem("equipmentType"),[4,Object(a.d)(this.props.tabName,t,n,e,this.props.itemName,this.props.inspectionOntology)]):[3,2];case 1:i=o.sent(),this.setState({showRCX:i.showRCX,showECM:i.showECM,showCA:i.showCA,RCXCompleted:i.RCXCompleted,ECMCompleted:i.ECMCompleted,CACompleted:i.CACompleted}),o.label=2;case 2:return[2]}})})},t.prototype.getBIM_Links=function(){return u(this,void 0,void 0,function(){var e=this;return d(this,function(t){switch(t.label){case 0:return[4,Object(o.d)(this.props.buildingName,this.props.itemName,this.props.tabName).then(function(t){if(t){var n=Object(r.g)(t.virtualBIM),i=Object(r.g)(t.cadBIM);e.setState({virtualBIM:n,cadBIM:i})}})];case 1:return t.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,o=t.buildingName,a=t.tabName,c=t.itemName,u=t.showDevicesButton,d=void 0!==u&&u,p=t.showComponentButton,h=void 0!==p&&p,f=t.showAuditTypes,m=void 0!==f&&f,b=t.showBIMButtons,w=void 0!==b&&b,S=this.state,g=S.virtualBIM,v=S.cadBIM,E=S.showCA,y=S.showECM,N=S.showRCX,C=S.ECMCompleted,I=S.RCXCompleted,O=S.CACompleted,P=S.equipmentSweeps,k=S.addCurrentSweep,M=S.selectedVirtualBIM,_=window.location.hash;return i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"content"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 col-sm-12 no-padding"},i.createElement("div",{className:"btn-group",id:"tabbtn"},i.createElement("a",{className:"btn "+(_.indexOf("/Profile")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+o+"/"+a+"/Profile/"+c},"Profile"),d&&i.createElement("a",{className:"btn "+(_.indexOf("/Devices")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+o+"/"+a+"/Devices/"+c},"Devices"),h&&i.createElement("a",{className:"btn "+(_.indexOf("/Components")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+o+"/"+a+"/Components/"+c},"Components"),i.createElement("a",{className:"btn "+(_.indexOf("/Related")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+o+"/"+a+"/Related/"+c},"Related"),i.createElement("a",{className:"btn "+(_.indexOf("/Documents")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+o+"/"+a+"/Documents/"+c},"Docs"),i.createElement("a",{className:"btn "+(_.indexOf("/SupplyChain")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+o+"/"+a+"/SupplyChain/"+c},"Supply"),m&&i.createElement("a",{className:"btn "+(_.indexOf("/P/")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",title:"Points",href:"#"+n+"/"+o+"/"+a+"/P/"+c},"P"),"Space"==this.props.tabName&&i.createElement("a",{className:"btn "+(_.indexOf("/SpaceSchedule")>0?"btn-fill":"")+" btn-secondary btn-secondary-dark",href:"#"+n+"/"+o+"/"+a+"/SpaceSchedule/"+c},"Schedule"),i.createElement("span",{className:"hidden-xs hidden-sm spacebtn"}),m&&i.createElement("span",null,y&&i.createElement("a",{className:"btn "+(_.indexOf("/ECM")>0?"btn-fill":"")+" btn-dark",title:"Energy Conservation Measures",href:"#"+n+"/"+o+"/"+a+"/ECM/"+c},"ECM",C&&i.createElement("i",{className:"fa fa-check inspection-completed"})),N&&i.createElement("a",{className:"btn "+(_.indexOf("/RCX")>0?"btn-fill":"")+" btn-dark",title:"Retro-Commissioning",href:"#"+n+"/"+o+"/"+a+"/RCX/"+c},"RCX",I&&i.createElement("i",{className:"fa fa-check inspection-completed"})),E&&i.createElement("a",{className:"btn "+(_.indexOf("/CA")>0?"btn-fill":"")+" btn-dark",title:"Condition Assessment",href:"#"+n+"/"+o+"/"+a+"/CA/"+c},"CA",O&&i.createElement("i",{className:"fa fa-check inspection-completed"}))),i.createElement("span",{className:"hidden-xs hidden-sm spacebtn"}),w&&i.createElement("span",null,g&&"Equip"!=this.props.tabName&&i.createElement("a",{className:"btn btn-success",href:g&&g.indexOf("ttp")>0?g:"http://"+g,target:"_blank",title:g},"Virtual BIM"),g&&"Equip"==this.props.tabName&&i.createElement("button",{className:"btn btn-success",title:"Virtual BIM",onClick:function(){Object(s.j)(o,e.props.itemName).then(function(t){if(t.length>0){var n=t[0],i=Object(r.g)(n.sweep);if(i){var o=[],a=Object();a.uuid=i,o.push(a);var s=!(o.length>0)&&(g&&g.includes("camera_position")),l=g;e.setState({equipmentSweeps:o,addCurrentSweep:s,selectedVirtualBIM:l})}}document.getElementById("btnVirtualBIMDialog").click()})}},"Virtual BIM"),v&&i.createElement("a",{className:"btn btn-success",href:v&&v.indexOf("ttp")>0?v:"http://"+v,target:"_blank",title:v},"Digital Twin")))),w&&g&&i.createElement(i.Fragment,null,i.createElement("button",{id:"btnVirtualBIMDialog",className:"hidden","data-toggle":"modal","data-target":"#virtualBIMDialog",title:"Add"},". "),i.createElement(l.a,{id:"virtualBIMDialog",heading:"Virtual BIM Equipment View",showSaveButton:!1,sweeps:P,bimURL:M,isViewForm:!0,addCurrentSweep:k,buildingName:this.props.buildingName,isRefreshDialog:!1,isSweepChangeable:!1})," "))))},t}(i.Component);t.a=p}});