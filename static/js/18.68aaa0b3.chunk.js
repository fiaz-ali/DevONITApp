webpackJsonp([18,91],{1071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(10)),i=n(1130),r=n(654),c=n(657),l=n(656),s=n(23),m=n(660),d=n(1131),u=n(116),p=n(1132),v=n(11),h=n(761),g=n(840),f=n(775),b=n(772),E=n(1133),y=n(1134),N=n(698),w=n(672),D=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),C=this&&this.__assign||function(){return(C=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},L=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(e){i(e)}}function c(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,c)}l((a=a.apply(e,t||[])).next())})},S=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},O=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],r=0,c=i.length;r<c;r++,o++)a[o]=i[r];return a},k=function(e){function t(t){var n=e.call(this,t)||this;return n.state={Moncon:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:Object(s.r)(12),floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",networkDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:"",subnetmask:"255.255.255.0"},topic:"",deviceNumber:"",enclosure:"",deviceState:"",supervisorAlarmTimeDelay:180},oldModel:{monitoringControl:"",monitoringControlDeviceType:"",deviceName:"",floor:"",rdfsLabel:"",relatedEquipment:[],manufacturer:"",model:"",location:"",computingDevice:"",networkDevice:"",connectionType:"",notes:"",wirelessConfig:{ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:"",subnetmask:"255.255.255.0"},topic:"",deviceNumber:"",enclosure:"",deviceState:"",supervisorAlarmTimeDelay:180},_spaces:[],_monconDeviceTypes:[],newLocation:{ontology:"",buildingName:n.props.buildingName,floor:"",type:"",name:"",rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:""},SensorList:[],HVAC_List:[],Equipment_List:[],newEquipmentType:"",EquipmentList:[],PanelEquipmentList:[],ComputingDevice_List:[],NetworkDevice_List:[],isHistorian:!1,deviceType:n.props.deviceType?n.props.deviceType:"Electronic",networkDevice:Object(),computingDevice:Object(),deviceID:"",MonconApplications:[]},n.getHVAC_List=n.getHVAC_List.bind(n),n.getEquipment_List=n.getEquipment_List.bind(n),n.getEnclosureEquipment_List=n.getEnclosureEquipment_List.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.handleMonConDeviceTypeChange=n.handleMonConDeviceTypeChange.bind(n),n.handleLightningTypeChange=n.handleLightningTypeChange.bind(n),n.handleManufacturerChange=n.handleManufacturerChange.bind(n),n.handleModelChange=n.handleModelChange.bind(n),n.handleConnectionTypeChange=n.handleConnectionTypeChange.bind(n),n.getComputingDevices=n.getComputingDevices.bind(n),n.getNetworkDevices=n.getNetworkDevices.bind(n),n.handleNotesChange=n.handleNotesChange.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.handleWirelessConfigChange=n.handleWirelessConfigChange.bind(n),n.handleNewLocationChange=n.handleNewLocationChange.bind(n),n.handleMultiSensorChange=n.handleMultiSensorChange.bind(n),n.handleMultiStrategiesChange=n.handleMultiStrategiesChange.bind(n),n.onChangeGraphURL=n.onChangeGraphURL.bind(n),n.verifyDeviceID=n.verifyDeviceID.bind(n),n.checkDeviceID=n.checkDeviceID.bind(n),n.handleDeviceNameChange=n.handleDeviceNameChange.bind(n),n.handleDeviceChange=n.handleDeviceChange.bind(n),n.getDevices=n.getDevices.bind(n),n.handleEquipmentList=n.handleEquipmentList.bind(n),n.onChangeComputingDevice=n.onChangeComputingDevice.bind(n),n.onChangeNetworkDevice=n.onChangeNetworkDevice.bind(n),n.onChangeControllerIpAddress=n.onChangeControllerIpAddress.bind(n),n.onChangeDigitalTwinLink=n.onChangeDigitalTwinLink.bind(n),n.onChangeVirtualBimLink=n.onChangeVirtualBimLink.bind(n),n.restoreSelectedVersion=n.restoreSelectedVersion.bind(n),n.handleNetworkDeviceChange=n.handleNetworkDeviceChange.bind(n),n.handleComputingDeviceChange=n.handleComputingDeviceChange.bind(n),n.saveNetworkingDevice=n.saveNetworkingDevice.bind(n),n.getNetworkingDevice=n.getNetworkingDevice.bind(n),n.getComputingDevice=n.getComputingDevice.bind(n),n.saveDevice=n.saveDevice.bind(n),n.saveComputingDevice=n.saveComputingDevice.bind(n),n.getMonconApplicatons=n.getMonconApplicatons.bind(n),n}return D(t,e),t.prototype.componentDidMount=function(){return L(this,void 0,void 0,function(){var e,t,n,a,o,i,r,c,m,d,p,h,g,f,b,E,y=this;return S(this,function(N){switch(N.label){case 0:return Object(u.a)(!0),e=this.props,t=e.deviceName,n=void 0===t?"":t,a=e.buildingName,o=e.isInsight,i=e.isView,r=e.isEdit,c=e.deviceType,[4,this.verifyDeviceID()];case 1:return N.sent(),a?(this.getDevices(),[4,this.getHVAC_List()]):[3,11];case 2:return N.sent(),[4,this.getEquipment_List()];case 3:return N.sent(),[4,this.getEnclosureEquipment_List()];case 4:return N.sent(),[4,this.fetchSpaces()];case 5:return N.sent(),m=Object(),d=Object(),p=Object(),o&&(m.monitoringControlDeviceType="Thermostat",m.connectionType="Wireless"),(i||r)&&n?"Electronic"!=c?[3,7]:[4,Object(l.t)(n,a)]:[3,9];case 6:return m=N.sent(),[3,8];case 7:"Network"==c?this.getNetworkingDevice(n):"Computing"==c&&this.getComputingDevice(n),N.label=8;case 8:return[3,10];case 9:h=JSON.parse(v.a.getItem("user")),m.deviceName=Object(s.r)(12),m.createdby=h.contact,m.wirelessConfig={ipAddress:"",controllerIPAddress:"",thermostatMacAddress:"",ssid:"",password:"",subnetmask:"255.255.255.0"},m.deviceID=this.state.deviceID,m.deviceState="Planned",m.timestamp=new Date,m.supervisorAlarmTimeDelay=180,d.ontology=Object(s.r)(12),d.deviceID=this.state.deviceID,d.deviceState="Planned",d.createdBy=h.contact,d.timestamp=new Date,p.ontology=Object(s.r)(12),p.deviceID=this.state.deviceID,p.instance=this.props.instance,p.deviceState="Planned",d.createdBy=h.contact,d.timestamp=new Date,this.setState({deviceType:this.props.tab}),N.label=10;case 10:m&&(m.rdfsLabel&&-1!=m.rdfsLabel.toLowerCase().indexOf(m.deviceID)&&(m.rdfsLabel=m.rdfsLabel.split("-").length>0?m.rdfsLabel.split("-")[0]:m.rdfsLabel),m.relatedEquipment&&m.relatedEquipment.length>0&&(g=this.state.EquipmentList).length>0&&(f=[],m.relatedEquipment&&m.relatedEquipment.map(function(e){var t=Object();t=g.find(function(t){return t.value==e.value}),f.push(t)}),m.relatedEquipment=f),m.sensors&&m.sensors.length>0&&(b=this.state.SensorList).length>0&&(E=[],m.sensors&&m.sensors.map(function(e){var t=Object();t=b.find(function(t){return t.value==e.value}),E.push(t)}),m.sensors=E),this.setState({Moncon:m,oldModel:C({},m),networkDevice:d,computingDevice:p},function(){y.getMonconApplicatons()})),N.label=11;case 11:return this.getComputingDevices(),this.getNetworkDevices(),Object(u.a)(!1),[2]}})})},t.prototype.getDevices=function(){return L(this,void 0,void 0,function(){var e,t,n,a;return S(this,function(i){switch(i.label){case 0:return e=this.props.buildingName,t=[],e?[4,Object(l.u)(e)]:[3,2];case 1:(n=i.sent())&&n.length>0&&(a=Object(),n.map(function(e){a={value:Object(o.g)(e.moncondevice),label:Object(o.g)(e.rdfsLabel)},t.push(a)})),i.label=2;case 2:return this.setState({SensorList:t}),[2]}})})},t.prototype.verifyDeviceID=function(){return L(this,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return""!=(e=this.state.deviceID)&&e?[3,2]:[4,this.checkDeviceID()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.handleDeviceTypeChange=function(e){return L(this,void 0,void 0,function(){return S(this,function(t){return this.setState({deviceType:e}),[2]})})},t.prototype.checkDeviceID=function(){return L(this,void 0,void 0,function(){var e,t,n=this;return S(this,function(a){switch(a.label){case 0:return e=this.state.deviceID,t=Object(s.p)(6).toString(),this.props.buildingName?[4,Object(l.a)(t,this.props.buildingName).then(function(n){e=n&&n[0]?"":t}).catch(function(e){return e})]:[3,2];case 1:a.sent(),this.setState({deviceID:e},function(){return L(n,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return[4,this.verifyDeviceID()];case 1:return e.sent(),[2]}})})}),a.label=2;case 2:return[2]}})})},t.prototype.getHVAC_List=function(){return L(this,void 0,void 0,function(){var e=this;return S(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,Object(r.g)(this.props.buildingName).then(function(t){for(var n=0;n<t.length;n++){var a=t[n];Object(o.g)(a.ontology)&&Object(o.g)(a.rdfsLabel)&&Object(s.C)(Object(o.g)(a.ontology),Object(o.g)(a.rdfsLabel))}e.setState({HVAC_List:t})})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.getNetworkingDevice=function(e){return L(this,void 0,void 0,function(){var t,n,a;return S(this,function(i){switch(i.label){case 0:return[4,Object(g.f)(e)];case 1:return t=i.sent(),n=Object(),t&&t.length>0&&t[0]?n={ontology:Object(o.g)(t[0].ontology),name:Object(o.g)(t[0].name),modelNo:Object(o.g)(t[0].modelNo),ipAddress:Object(o.g)(t[0].ipAddress),networkType:Object(o.g)(t[0].networkType),floor:Object(o.g)(t[0].floor)?Object(o.g)(t[0].floor):"",location:Object(o.g)(t[0].location)?Object(o.g)(t[0].location):"",building:Object(o.g)(t[0].building)?Object(o.g)(t[0].building):"",enclosure:Object(o.g)(t[0].enclosure),deviceState:Object(o.g)(t[0].deviceState),deviceID:Object(o.g)(t[0].deviceID)?Object(o.g)(t[0].deviceID):this.state.deviceID,createdBy:Object(o.g)(t[0].createdBy),timestamp:Object(o.g)(t[0].timestamp)&&new Date(Object(o.g)(t[0].timestamp))?new Date(Object(o.g)(t[0].timestamp)):new Date,referenceSolutionOntology:Object(o.g)(t[0].referenceSolutionOntology)}:(a=JSON.parse(v.a.getItem("user")),n.ontology=Object(s.r)(12),n.deviceID=this.state.deviceID,n.createdBy=a.contact,n.timestamp=new Date),this.setState({networkDevice:n}),[2]}})})},t.prototype.getComputingDevice=function(e){return L(this,void 0,void 0,function(){var t,n,a,i,r,c,l,m,d,u,p,g;return S(this,function(f){switch(f.label){case 0:return[4,Object(h.f)(e)];case 1:return t=f.sent(),n=Object(),t&&t.length>0&&t[0]?(a=Object(o.g)(t[0].devices),i=a&&a.split(","),r=[],i&&i.length>0?[4,Object(s.t)(i)]:[3,3]):[3,6];case 2:if((d=f.sent())&&d.length>0)for(u=0;u<d.length;u++)p=d[u],r.push({label:p.rdfsLabel,value:p.ontology});f.label=3;case 3:return c=Object(o.g)(t[0].relatedComputingDevices),l=c&&c.split(","),m=[],l&&l.length>0?[4,Object(s.t)(l)]:[3,5];case 4:if((d=f.sent())&&d.length>0)for(u=0;u<d.length;u++)p=d[u],m.push({label:p.rdfsLabel,value:p.ontology});f.label=5;case 5:return n={building:Object(o.g)(t[0].building),controllerIpAddress:Object(o.g)(t[0].controllerIpAddress),deviceID:Object(o.g)(t[0].deviceID)?Object(o.g)(t[0].deviceID):this.state.deviceID,deviceState:Object(o.g)(t[0].deviceState),devices:r,relatedComputingDevices:m,enclosure:Object(o.g)(t[0].enclosure),floor:Object(o.g)(t[0].floor),instance:Object(o.g)(t[0].instance),name:Object(o.g)(t[0].name),ontology:Object(o.g)(t[0].ontology),space:Object(o.g)(t[0].space),createdBy:Object(o.g)(t[0].createdBy),timestamp:Object(o.g)(t[0].timestamp)&&new Date(Object(o.g)(t[0].timestamp))?new Date(Object(o.g)(t[0].timestamp)):new Date,referenceSolutionOntology:Object(o.g)(t[0].referenceSolutionOntology)},[3,7];case 6:g=JSON.parse(v.a.getItem("user")),n.ontology=Object(s.r)(12),n.deviceID=this.state.deviceID,n.createdBy=g.contact,n.timestamp=new Date,f.label=7;case 7:return this.setState({computingDevice:n}),[2]}})})},t.prototype.getEquipment_List=function(){return L(this,void 0,void 0,function(){var e,t;return S(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(r.h)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0?e.map(function(e){return{value:Object(o.g)(e.ontology),label:Object(o.g)(e.rdfsLabel)}}):[],this.setState({EquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.getEnclosureEquipment_List=function(){return L(this,void 0,void 0,function(){var e,t;return S(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(r.o)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(o.g)(e.ontology),label:Object(o.g)(e.rdfsLabel)}}),this.setState({PanelEquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.fetchSpaces=function(){return L(this,void 0,void 0,function(){var e=this;return S(this,function(t){return Object(c.h)(this.props.buildingName).then(function(t){e.setState({_spaces:t})}).catch(function(e){return e}),[2]})})},t.prototype.handleNewLocationChange=function(e){this.setState({newLocation:e})},t.prototype.handleMonConDeviceTypeChange=function(e){var t=this;this.setState({Moncon:e},function(){t.getMonconApplicatons()})},t.prototype.getMonconApplicatons=function(){return L(this,void 0,void 0,function(){var e,t;return S(this,function(n){switch(n.label){case 0:return e=this.state.Moncon,[4,Object(l.j)([e.monitoringControlDeviceType]).catch(function(e){return[]})];case 1:return t=n.sent(),this.setState({MonconApplications:O(t)}),[2]}})})},t.prototype.handleDeviceNameChange=function(e){var t=this.state.Moncon;t.rdfsLabel=e,this.setState({Moncon:t})},t.prototype.handleEquipmentList=function(e){if(!this.props.isView){var t=this.state.Moncon;t.relatedEquipment=e,this.setState({Moncon:t})}},t.prototype.handleSupervisorAlarmTimeDelayChange=function(e){var t=this.state.Moncon;t.supervisorAlarmTimeDelay=e.target.value,this.setState({Moncon:t})},t.prototype.handleDeviceChange=function(e){var t=this.state.Moncon;t.adminPassword=e,this.setState({Moncon:t})},t.prototype.handleDeviceIDChange=function(e){var t=this.state.Moncon;t.deviceID=e,this.setState({Moncon:t})},t.prototype.handleDeviceStateChange=function(e){var t=this.state.Moncon;t.deviceState=e,this.setState({Moncon:t})},t.prototype.handleManufacturerChange=function(e){var t=this.state.Moncon;t.manufacturer=e,this.setState({Moncon:t})},t.prototype.handleModelChange=function(e){var t=this.state.Moncon;t.model=e,this.setState({Moncon:t})},t.prototype.handleBoardAddressChange=function(e){var t=this.state.Moncon;t.boardAddress=e,this.setState({Moncon:t})},t.prototype.handleLocationChange=function(e){var t=this.state.Moncon;t.location=e.selectedLocation,t.floor=e.selectedFloor},t.prototype.handleLightningTypeChange=function(e){var t=this.state.Moncon;t.relayLightingType=e,this.setState({Moncon:t})},t.prototype.handleConnectionTypeChange=function(e){var t=this.state.Moncon;t.connectionType=e,this.setState({Moncon:t})},t.prototype.onChangeComputingDevice=function(e){var t=this,n=this.state.Moncon;n.computingDevice=e.target.value,this.setState({Moncon:n},function(){t.onChangeControllerIpAddress()})},t.prototype.onChangeNetworkDevice=function(e){var t=this.state.Moncon;t.networkDevice=e.target.value,this.setState({Moncon:t},function(){})},t.prototype.onChangeMonconApplication=function(e){var t=this.state.Moncon;t.application=e.target.value,this.setState({Moncon:t})},t.prototype.onChangeControllerIpAddress=function(){var e=this.state,t=e.Moncon,n=e.ComputingDevice_List;if(t.computingDevice){var a=n.find(function(e){return Object(o.g)(e.ontology)==t.computingDevice}).controllerIpAddress;t.wirelessConfig.controllerIPAddress=Object(o.g)(a),this.setState({Moncon:t})}},t.prototype.getComputingDevices=function(){return L(this,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return[4,Object(h.f)()];case 1:return e=t.sent(),this.setState({ComputingDevice_List:e}),[2]}})})},t.prototype.getNetworkDevices=function(){return L(this,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return[4,Object(g.f)()];case 1:return e=t.sent(),this.setState({NetworkDevice_List:e}),[2]}})})},t.prototype.handleNotesChange=function(e){var t=this.state.Moncon;t.notes=e,this.setState({Moncon:t})},t.prototype.handleEnclosureChange=function(e){var t=this.state.Moncon;t.enclosure=e,this.setState({Moncon:t})},t.prototype.handleDeviceNumberChange=function(e){var t=this.state.Moncon;t.deviceNumber=e,this.setState({Moncon:t})},t.prototype.handleWirelessConfigChange=function(e){var t=this.state.Moncon,n=e.target.name;t.wirelessConfig[""+n]=e.target.value,this.setState({Moncon:t})},t.prototype.saveDevice=function(){return L(this,void 0,void 0,function(){var e;return S(this,function(t){return"Electronic"==(e=this.state.deviceType)?this._saveMoncon():"Network"==e?this.saveNetworkingDevice():"Computing"==e&&this.saveComputingDevice(),[2]})})},t.prototype._saveMoncon=function(e){return L(this,void 0,void 0,function(){var t,n,a,i,r,c,m,d,p,h,g,f,E;return S(this,function(y){switch(y.label){case 0:return t=this.state,n=t.Moncon,a=t.oldModel,i=this.props,r=i.instance,c=i.buildingName,m=i.isEdit,d=JSON.parse(v.a.getItem("user")),n?(n.deviceName=n&&n.deviceName?n.deviceName:Object(s.r)(12),n.createdby||(n.createdby=d.name),Object(u.a)(!0),n.deviceName?n.onitUrlLink=window.location.origin+"/#"+r+"/"+c+"/Point/EditDevice/Electronic/"+n.deviceName:n.onitUrlLink=window.location.origin+"/#"+r+"/"+c+"/Point/EditDevice/Electronic/",n.rdfsLabel=n.rdfsLabel+"-"+n.deviceID,[4,Object(w.d)(this.props.buildingName)]):[3,5];case 1:return p=y.sent(),h=Object(o.g)(p[0].buildingCode),g=Object(l.e)(n.wirelessConfig&&n.wirelessConfig.ipAddress,n.wirelessConfig&&n.wirelessConfig.controllerIPAddress,n.boardAddress,n.monitoringControlDeviceType,h),n.topic=g,f=void 0,E=void 0,e?(f=e||n,E=n):(f=n,E=m?a:null),[4,Object(l.l)(n,c,this.props.isEdit)];case 2:return y.sent(),[4,Object(b.b)(n.deviceName,f,E,d.contact)];case 3:return y.sent(),this.props.getNewDeviceLabel&&this.props.getNewDeviceLabel(n.deviceName),[4,Object(s.C)(n.deviceName,n.rdfsLabel)];case 4:y.sent(),Object(u.a)(!1),y.label=5;case 5:return this.props.onChangeTab?this.props.onChangeTab("Tab1"):document.getElementById("AddDeviceDailogeButton")?document.getElementById("AddDeviceDailogeButton").click():window.history.back(),Object(u.a)(!1),[2]}})})},t.prototype.saveNetworkingDevice=function(){return L(this,void 0,void 0,function(){var e,t,n,a;return S(this,function(o){switch(o.label){case 0:return Object(u.a)(!0),e=this.props,t=e.isEdit,n=e.buildingName,(a=this.state.networkDevice).building=n,[4,Object(g.d)(a,t)];case 1:return o.sent(),this.props.onChangeTab&&this.props.onChangeTab("Tab1"),Object(u.a)(!1),[2]}})})},t.prototype.saveComputingDevice=function(){return L(this,void 0,void 0,function(){var e,t;return S(this,function(n){switch(n.label){case 0:return Object(u.a)(!0),e=this.props.isEdit,t=this.state.computingDevice,[4,Object(h.c)(t,e)];case 1:return n.sent(),this.props.onChangeTab?this.props.onChangeTab("Tab1"):document.getElementById("AddDeviceDailogeButton")?document.getElementById("AddDeviceDailogeButton").click():window.history.back(),Object(u.a)(!1),[2]}})})},t.prototype.handleMultiSensorChange=function(e){var t=this.state.Moncon;t.sensors=[e],this.setState({Moncon:t})},t.prototype.handleMultiStrategiesChange=function(e){var t=this.state.Moncon;t.strategy=e,this.setState({Moncon:t})},t.prototype.onChangeGraphURL=function(e){var t=this.state.Moncon;t.graphURL=e,this.setState({Moncon:t})},t.prototype.onChangeDigitalTwinLink=function(e){var t=this.state.Moncon;t.digitalTwinLink=e,this.setState({Moncon:t})},t.prototype.onChangeVirtualBimLink=function(e){var t=this.state.Moncon;t.virtualBimLink=e,this.setState({Moncon:t})},t.prototype.handleNetworkDeviceChange=function(e){this.setState({networkDevice:e})},t.prototype.handleComputingDeviceChange=function(e){this.setState({computingDevice:e})},t.prototype.restoreSelectedVersion=function(e){return L(this,void 0,void 0,function(){var t;return S(this,function(n){switch(n.label){case 0:return e&&e.model?(t=JSON.parse(e.model),[4,this._saveMoncon(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.Moncon,r=t.SensorList,c=t.EquipmentList,l=t.ComputingDevice_List,s=t.NetworkDevice_List,u=t.isHistorian,h=t.PanelEquipmentList,g=t.deviceType,b=t.networkDevice,w=t.computingDevice,D=t.MonconApplications,C=this.props,L=C.instance,S=C.hideBackButton,O=this.props,k=O.isInsight,T=O.buildingName,j=O.isView,F=O.isEdit,_=O.deviceName,M=JSON.parse(v.a.getItem("user")),I=n.monitoringControlDeviceType&&(-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("relay")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ceiling")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("ats")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("generator")||-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("watt")),x=n.monitoringControlDeviceType&&-1!=n.monitoringControlDeviceType.toLocaleLowerCase().indexOf("cbw"),A=!1;"Electronic"==g?(A=I?!!(n.floor&&n.location&&n.rdfsLabel&&n.boardAddress&&n.computingDevice&&n.wirelessConfig&&n.wirelessConfig.controllerIPAddress&&n.wirelessConfig&&n.wirelessConfig.ipAddress):x?!!(n.floor&&n.location&&n.rdfsLabel&&n.computingDevice&&n.wirelessConfig&&n.wirelessConfig.controllerIPAddress&&n.wirelessConfig&&n.wirelessConfig.ipAddress):!!(n.floor&&n.location&&n.rdfsLabel),A=!!(n.rdfsLabel&&n.adminPassword&&n.monitoringControlDeviceType&&n.floor&&n.location&&n.wirelessConfig.ipAddress&&n.location)):"Network"==g?A=!!(b.name&&b.deviceID&&b.ipAddress&&b.networkType&&b.floor&&b.location):"Computing"==g&&(A=!!(w.name&&w.deviceID&&w.building&&w.floor&&w.space));var P=n&&n.monitoringControlDeviceType&&-1!=n.monitoringControlDeviceType.toLowerCase().indexOf("intesis"),B=!1,q="";return"Network"==g&&b.ontology?(B=!0,q=b.ontology):"Computing"==g&&w.ontology?(B=!0,q=w.ontology):"Electronic"==g&&n.deviceName&&(B=!0,q=n.deviceName),(j||F)&&(q=_),a.createElement(a.Fragment,null,u&&a.createElement("div",null,a.createElement("div",{className:"col-md-12"},a.createElement("button",{className:"btn btn-success pull-right active custom-outline-btn",style:{marginLeft:3,marginTop:5},onClick:function(){e.setState({isHistorian:!1})}}," Go To Back"))),u&&a.createElement(f.default,{buildingName:T,instance:L,ObjectId:n.deviceName,restoreSelectedVersion:this.restoreSelectedVersion}),!u&&a.createElement("div",{className:"content",style:{marginRight:"10px",marginLeft:"10px"}},a.createElement("div",{className:"card"},a.createElement("div",{className:"container-fluid padding-10",style:{marginTop:"-15px"}},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"deviceType"},"Device Type:"))),a.createElement("div",{className:"col-md-3 col-sm-3 col-xs-4"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:(g?"":"addFieldValidate")+" form-control",id:"deviceType",name:"deviceType",disabled:j||F,onChange:function(t){return e.handleDeviceTypeChange(t.target.value)},value:g||""},a.createElement("option",{value:"Electronic"},"Electronic Device"),a.createElement("option",{value:"Network"},"Network Device"),a.createElement("option",{value:"Computing"},"Computing Device")))),a.createElement("div",{className:"col-md-6"},a.createElement("button",{className:"btn btn-success pull-right active custom-outline-btn",onClick:function(){e.setState({isHistorian:!0})}}," ",a.createElement("i",{className:"fa fa-history","aria-hidden":"true"})," Historian Archive"))))),"Network"==g&&a.createElement(E.a,{buildingName:T,isView:j,networkDevice:b,handleNetworkDeviceChange:this.handleNetworkDeviceChange}),"Computing"==g&&a.createElement(y.a,{instance:L,buildingName:T,isView:j,computingDevice:w,handleComputingDeviceChange:this.handleComputingDeviceChange}),"Electronic"==g&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"devicename"},k?"Insight":"Device"," Name:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"devicename",disabled:j,className:(n.rdfsLabel?"":"addFieldValidate")+" form-control",value:n.rdfsLabel?n.rdfsLabel:"",onChange:function(t){return e.handleDeviceNameChange(t.target.value)}}))))),(M&&"1"==M.role||M.name==n.createdby)&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"adminPassword"},k?"Insight":"Device"," Admin Password:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",id:"adminPassword",disabled:j,className:(n.adminPassword?"":"addFieldValidate")+" form-control",value:n.adminPassword?n.adminPassword:"",name:"adminPassword",onChange:function(t){return e.handleDeviceChange(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"deviceID"},k?"Insight":"Device"," ID:"))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"deviceID",disabled:!P,className:"form-control",value:n.deviceID?n.deviceID:"",onChange:function(t){return e.handleDeviceIDChange(t.target.value)}}))),P&&a.createElement(p.a,{buildingName:T}),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"pull-right padding-5"},a.createElement("label",{htmlFor:"deviceState"},"Device State:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("select",{className:(n.deviceState?"":"addFieldValidate")+" form-control",id:"deviceState",name:"deviceState",disabled:j,onChange:function(t){return e.handleDeviceStateChange(t.target.value)},value:n.deviceState?n.deviceState:""},a.createElement("option",{value:"Planned"},"Planned"),a.createElement("option",{value:"Ordered"},"Ordered"),a.createElement("option",{value:"InInventory"},"In Inventory"),a.createElement("option",{value:"ReleasedForInstall"},"Released for Install"),a.createElement("option",{value:"Installed"},"Installed"),a.createElement("option",{value:"Testing"},"Testing"),a.createElement("option",{value:"Existing"},"Existing"),a.createElement("option",{value:"Retired"},"Retired"),a.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),a.createElement("option",{value:"Sold"},"Sold"))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"txtDeviceNumber"},"Device Number:"))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"txtDeviceNumber",className:"form-control",disabled:j,value:n.deviceNumber?n.deviceNumber:"",name:"txtDeviceNumber",onChange:function(t){return e.handleDeviceNumberChange(t.target.value)}}))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"pull-right padding-5"},a.createElement("label",{htmlFor:"txtEnclosure"},"Cabinet / Panel:"))),a.createElement("div",{className:"col-md-3 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"otherEquipment",disabled:j,value:n.enclosure?n.enclosure:"",onChange:function(t){return e.handleEnclosureChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Cabinet Equipment"),h&&h.length>0&&h.map(function(e,t){return a.createElement("option",{key:t,value:e.value},e.label," ")})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"computingdevice"},"Connected Computing Device:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:(I||x?n.computingDevice?"":"addFieldValidate":"")+" form-control",id:"computingdevice",disabled:j,value:n.computingDevice?n.computingDevice:"",onChange:function(t){e.onChangeComputingDevice(t)}},a.createElement("option",{value:"",key:-2},"Select Computing Device"),l.length>0&&l.map(function(e,t){return a.createElement("option",{key:t,value:Object(o.g)(e.ontology)},Object(o.g)(e.name))})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"networkdevice"},"Networking Device:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"networkdevice",value:n.networkDevice?n.networkDevice:"",disabled:j,onChange:function(t){e.onChangeNetworkDevice(t)}},a.createElement("option",{value:"",key:-2},"Select Network Device"),s.length>0&&s.map(function(e,t){return a.createElement("option",{key:t,value:Object(o.g)(e.ontology)},Object(o.g)(e.name))})))))),a.createElement("div",{className:"row "},a.createElement("div",{className:"col-md-12"},a.createElement(d.a,{buildingName:T,Moncon:n,isEdit:F,isView:j,handleMonConDeviceTypeChange:this.handleMonConDeviceTypeChange}))),a.createElement("div",{className:"row "},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"application"},"Moncon Application:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"application",value:n.application?n.application:"",disabled:j,onChange:function(t){e.onChangeMonconApplication(t)}},a.createElement("option",{value:"",key:-2},"General"),D.length>0&&D.map(function(e,t){return a.createElement("option",{key:t,value:e.ontology},e.applicationLabel)})))))),I&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"boardAddress"},"Board Address"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"boardAddress",disabled:j,className:(n.boardAddress?"":"addFieldValidate")+" form-control",value:n.boardAddress?n.boardAddress:"",onChange:function(t){return e.handleBoardAddressChange(t.target.value)}})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"Manufacturer"},"Manufacturer:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"Manufacturer",disabled:j,className:"form-control",value:n.manufacturer?n.manufacturer:"",onChange:function(t){return e.handleManufacturerChange(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"Model"},"Model:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"Model",disabled:j,className:"form-control",value:n.model?n.model:"",onChange:function(t){return e.handleModelChange(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"hvac"},"Related Equipment:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement(m.a,{isDisabled:j,closeMenuOnSelect:!1,isMulti:!0,value:n.relatedEquipment?n.relatedEquipment:[],onChange:this.handleEquipmentList,placeholder:"Select Equipment",options:c})),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"supervisorAlarmTimeDelay"},"Supervisory Alarm Time Delay (sec):"))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"number",id:"supervisorAlarmTimeDelay",name:"supervisorAlarmTimeDelay",disabled:j,className:"form-control",value:n.supervisorAlarmTimeDelay?n.supervisorAlarmTimeDelay:"",onChange:function(t){return e.handleSupervisorAlarmTimeDelayChange(t)}}))))),a.createElement(i.a,{instance:this.props.instance,buildingName:T,isDisabled:j,selectedFloorLocation:{selectedFloor:n.floor,selectedLocation:n.location},onLocationChange:this.handleLocationChange}),(M&&"1"==M.role||M.name==n.createdby)&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"connectiontype"},"Connection Type:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("select",{className:"form-control",id:"connectiontype",disabled:j,value:n.connectionType?n.connectionType:"",onChange:function(t){return e.handleConnectionTypeChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Connection Type"),a.createElement("option",{value:"Physical"},"Physical"),a.createElement("option",{value:"Wireless"},"Wireless")))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"cadBIM"},"ONIT URL Link:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("div",{className:"form-control",id:"onitUrlLink"},n.onitUrlLink?n.onitUrlLink:""))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"ipaddress"},"IP Address:"))),a.createElement("div",{className:"col-md-2 col-sm-2"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"ipaddress",className:(n.wirelessConfig&&n.wirelessConfig.ipAddress?"":"addFieldValidate")+" form-control",disabled:j,value:n.wirelessConfig&&n.wirelessConfig.ipAddress,name:"ipAddress",onChange:function(t){return e.handleWirelessConfigChange(t)}}))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group pull-right"},a.createElement("label",{htmlFor:"controllerIPAddress"},"Controller IP Address:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"controllerIPAddress",className:"form-control",disabled:!0,value:n.wirelessConfig&&n.wirelessConfig.controllerIPAddress?n.wirelessConfig.controllerIPAddress:"",name:"controllerIPAddress"}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"thermostatMacAddress"},"MAC Address:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"thermostatMacAddress",className:"form-control",disabled:j,value:n.wirelessConfig&&n.wirelessConfig.thermostatMacAddress?n.wirelessConfig.thermostatMacAddress:"",name:"thermostatMacAddress",onChange:function(t){return e.handleWirelessConfigChange(t)}}))),a.createElement("div",{className:"col-md-2 col-sm-3"},a.createElement("div",{className:"form-group pull-right"},a.createElement("label",{htmlFor:"thermostatMacAddress"},"Subnet Mask:"))),a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{onKeyPress:function(e){/[.0-9]/.test(e.key)||e.preventDefault()},type:"text ",id:"subnetmask",className:"form-control",disabled:j,value:n.wirelessConfig&&n.wirelessConfig.subnetmask?n.wirelessConfig.subnetmask:"",name:"subnetmask",onChange:function(t){return e.handleWirelessConfigChange(t)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"ssid"},"SSID (Wireless Network):"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"ssid",className:"form-control",disabled:j,value:n.wirelessConfig&&n.wirelessConfig.ssid?n.wirelessConfig.ssid:"",name:"ssid",onChange:function(t){return e.handleWirelessConfigChange(t)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"password"},"Password (Wireless Network):"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"password",className:"form-control",disabled:j,value:n.wirelessConfig&&n.wirelessConfig.password?n.wirelessConfig.password:"",name:"password",onChange:function(t){return e.handleWirelessConfigChange(t)}})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"graphURLs"},"Graph URL:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",disabled:j,id:"graphURL",className:"form-control",value:n.graphURL?n.graphURL:"",onChange:function(t){return e.onChangeGraphURL(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"digitalTwinLink"},"Digital Twin URL:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",disabled:j,id:"digitalTwinLink",className:"form-control",value:n.digitalTwinLink?n.digitalTwinLink:"",onChange:function(t){return e.onChangeDigitalTwinLink(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"virtualBimLink"},"Virtual Bim URL:"))),a.createElement("div",{className:"col-md-8 col-sm-8"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",disabled:j,id:"virtualBimLink",className:"form-control",value:n.virtualBimLink?n.virtualBimLink:"",onChange:function(t){return e.onChangeVirtualBimLink(t.target.value)}}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"connectiontype"},"Sensors:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",null,a.createElement(m.a,{disabled:j,isDisabled:j,closeMenuOnSelect:!0,isMulti:!1,value:n.sensors?n.sensors:[],onChange:this.handleMultiSensorChange,placeholder:"Sensors for Optimization Strategies",options:r}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"notes"},"Notes:"))),a.createElement("div",{className:"col-md-6 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text ",id:"notes",className:"form-control",disabled:j,value:n.notes?n.notes:"",onChange:function(t){return e.handleNotesChange(t.target.value)}})))))),B&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 col-xs-12"},a.createElement(N.a,{buildingName:T,assetOntology:q,showUploader:!j,entityType:g+"Device"}))),!S&&a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-12 inline-block"},!j&&a.createElement("button",{className:"btn btn-primary btn-fill",type:"button",disabled:!A,onClick:function(){e.saveDevice()}},a.createElement("i",{className:"fa fa-save"})," Save")))))))},t}(a.Component);t.default=k},1130:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(665)),i=n(657),r=n(650),c=n(23),l=n(885),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),m=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(e){i(e)}}function c(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,c)}l((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={floorsList:[],locationList:[],newFloor:Object(),newLocation:{ontology:"",buildingName:n.props.buildingName,floor:"",type:"",name:"",rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:""},toggleDialogForm:!1,selectedFloorLocation:{selectedFloor:"",selectedLocation:""}},n._getFloorsList=n._getFloorsList.bind(n),n._getLocationsList=n._getLocationsList.bind(n),n.handleNewFloorChange=n.handleNewFloorChange.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.handleLocationChange=n.handleLocationChange.bind(n),n.createFloor=n.createFloor.bind(n),n.updateSpace=n.updateSpace.bind(n),n}return s(t,e),t.prototype.componentDidMount=function(){return m(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,this._getFloorsList()]:[3,3];case 1:return t.sent(),[4,this._getLocationsList(this.state.selectedFloorLocation.selectedFloor)];case 2:t.sent(),(e=this.props.selectedFloorLocation)&&this.setState({selectedFloorLocation:e}),t.label=3;case 3:return[2]}})})},t.prototype.componentWillReceiveProps=function(e){return m(this,void 0,void 0,function(){var t,n=this;return d(this,function(a){return e.selectedFloorLocation&&(t=this.state.selectedFloorLocation,e.selectedFloorLocation.selectedFloor&&e.selectedFloorLocation.selectedLocation&&(e.selectedFloorLocation.selectedFloor!=t.selectedFloor||e.selectedFloorLocation.selectedLocation!=t.selectedLocation)&&this.setState({selectedFloorLocation:e.selectedFloorLocation},function(){n._getFloorsList(),n._getLocationsList(n.state.selectedFloorLocation.selectedFloor)})),[2]})})},t.prototype._getFloorsList=function(){return m(this,void 0,void 0,function(){var e=this;return d(this,function(t){switch(t.label){case 0:return[4,Object(o.f)(this.props.buildingName).then(function(t){e.setState({floorsList:t})})];case 1:return t.sent(),[2]}})})},t.prototype._getLocationsList=function(e){return m(this,void 0,void 0,function(){var t,n=this;return d(this,function(a){switch(a.label){case 0:return t=this.props.buildingName,[4,Object(i.d)(e,t).then(function(e){n.setState({locationList:e})})];case 1:return a.sent(),[2]}})})},t.prototype.handleNewFloorChange=function(e){var t=this.state.newFloor;t.rdfsLabel=e,this.setState({newFloor:t})},t.prototype.handleFloorChange=function(e){return m(this,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:return"newFloor"!==e?[3,1]:(document.getElementById("btnShowFloorForm").click(),[3,4]);case 1:return""===e?[3,4]:(t=this.state.selectedFloorLocation,e===t.selectedFloor?[3,3]:(t.selectedFloor=e,t.selectedLocation="",this.setState({selectedFloorLocation:t}),[4,this._getLocationsList(e)]));case 2:n.sent(),n.label=3;case 3:this.props.onLocationChange(t),n.label=4;case 4:return[2]}})})},t.prototype.handleLocationChange=function(e){return m(this,void 0,void 0,function(){var t;return d(this,function(n){return t=this.state.selectedFloorLocation,"addLocation"===e?this.setState({toggleDialogForm:!0},function(){document.getElementById("btnShowSpaceFormDialog").click()}):t.selectedLocation=e,this.setState({selectedFloorLocation:t}),this.props.onLocationChange(t),[2]})})},t.prototype.createFloor=function(){return m(this,void 0,void 0,function(){var e,t=this;return d(this,function(n){switch(n.label){case 0:return(e=this.state.newFloor)&&e.rdfsLabel?(e.floor=e.floor?e.floor:Object(c.r)(7),[4,Object(o.b)(this.props.buildingName,e)]):[3,4];case 1:return n.sent(),[4,this._getFloorsList()];case 2:return n.sent(),[4,this.handleFloorChange(e.floor)];case 3:n.sent(),setTimeout(function(){document.getElementById("btnShowSpaceFormDialog").click(),t.setState({toggleDialogForm:!1})},1e3),n.label=4;case 4:return[2]}})})},t.prototype.updateSpace=function(e){return m(this,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:return[4,this._getLocationsList(e.floor)];case 1:return n.sent(),(t=this.state.selectedFloorLocation).selectedFloor=e.floor,t.selectedLocation=e.name,this.setState({selectedFloorLocation:t}),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.isDisabled,o=t.buildingName,i=t.instance,c=this.state,s=c.selectedFloorLocation,m=c.floorsList,d=c.locationList,u=c.newFloor,p=c.toggleDialogForm;return a.createElement("div",{className:"row",style:{paddingTop:"10px"}},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"floor"},"Floor:"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("select",{id:"floor",className:(s.selectedFloor?"":"addFieldValidate")+" form-control",disabled:n,value:s.selectedFloor,onChange:function(t){return e.handleFloorChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Floor"),a.createElement("option",{value:"newFloor",key:-1},"New Floor"),a.createElement("hr",null),m&&m.length>0&&m.map(function(e,t){return a.createElement("option",{value:e.ontology.value,key:t},e.rdfsLabel.value," ")})),a.createElement("button",{type:"button",id:"btnShowFloorForm",className:"btn btn-primary btn-fill","data-toggle":"modal","data-target":"#floorFormDialog",style:{display:"none"}},"."),a.createElement(r.a,{id:"floorFormDialog",onSaveButtonClick:function(){e.createFloor()},saveButtonText:"Save and Create Space",disableSaveButton:!1},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-4 center"},a.createElement("label",{htmlFor:"newfloor"},"Floor:")),a.createElement("div",{className:"col-md-7"},a.createElement("input",{id:"newfloor",type:"text",className:"form-control",value:u.rdfsLabel,onChange:function(t){return e.handleNewFloorChange(t.target.value)}}))))))),a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"space"},"Space:"))),a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"form-group"},a.createElement("select",{id:"space",className:(s.selectedLocation?"":"addFieldValidate")+" form-control",disabled:n,value:s.selectedLocation,onChange:function(t){return e.handleLocationChange(t.target.value)}},a.createElement("option",{value:"",key:-2},"Select Location"),a.createElement("hr",null),a.createElement("option",{value:"addLocation",key:-1},"New Space"),a.createElement("hr",null),d.map(function(e,t){return a.createElement("option",{value:e.ontology.value,key:t},e.rdfsLabel.value," ")}))))),p&&a.createElement(l.a,{updateSpace:this.updateSpace,closeDailogBtnID:"btnShowSpaceFormDialog",floor:s.selectedFloor,buildingName:o,instance:i}))},t}(a.Component);t.a=u},1131:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(650)),i=n(116),r=n(656),c=n(11),l=n(10),s=n(660),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),d=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(e){i(e)}}function c(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,c)}l((a=a.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={_monconDeviceTypes:[],_monconDeviceTypesMulti:[],newDeviceType:"",Moncon:Object(),selectedMonconDevice:Object()},n._fetchMonConDeviceTypes=n._fetchMonConDeviceTypes.bind(n),n.saveEquipmentType=n.saveEquipmentType.bind(n),n.onchangeEquipmentType=n.onchangeEquipmentType.bind(n),n.handleMonConDeviceTypeChange=n.handleMonConDeviceTypeChange.bind(n),n}return m(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.state,n=t.selectedMonconDevice,a=t._monconDeviceTypesMulti;e&&e.Moncon&&e.Moncon.monitoringControlDeviceType&&(n=a&&a.find(function(t){return t.value==e.Moncon.monitoringControlDeviceType})),this.setState({Moncon:e.Moncon,selectedMonconDevice:n})},t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchMonConDeviceTypes()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype._fetchMonConDeviceTypes=function(){return d(this,void 0,void 0,function(){var e=this;return u(this,function(t){switch(t.label){case 0:return Object(i.a)(!0),[4,Object(r.w)().then(function(t){var n=[];t.map(function(e){var t=Object();t.label=Object(l.g)(e.moncon),t.value=Object(l.g)(e.moncon),n.push(t)}),"1"==JSON.parse(c.a.getItem("user")).role&&n.push({label:"Add New Device Type",value:"newDeviceType"}),e.setState({_monconDeviceTypes:t,_monconDeviceTypesMulti:n})}).catch(function(e){return e})];case 1:return t.sent(),Object(i.a)(!1),[2]}})})},t.prototype.onchangeEquipmentType=function(e){var t=e.target.value;this.setState({newDeviceType:t})},t.prototype.saveEquipmentType=function(){return d(this,void 0,void 0,function(){var e,t,n,a=this;return u(this,function(o){switch(o.label){case 0:return e=this.state.Moncon,t=this.state.newDeviceType,n=t.replace(new RegExp(" ","g"),""),t="",Object(i.a)(!0),[4,Object(r.x)(n,this.props.buildingName).then(function(e){}).catch(function(e){return e})];case 1:return o.sent(),e.monitoringControlDeviceType=n,this.setState({Moncon:e,newDeviceType:t},function(){return d(a,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this._fetchMonConDeviceTypes()];case 1:return e.sent(),[2]}})})}),Object(i.a)(!1),this.props.handleMonConDeviceTypeChange(e),[2]}})})},t.prototype.handleMonConDeviceTypeChange=function(e){var t=this.state,n=t.selectedMonconDevice,a=t.Moncon;if(e){var o=e.value;"newDeviceType"==o?document.getElementById("newEquipTypeDailogebtn").click():(a.monitoringControlDeviceType=o,n=e,this.props.handleMonConDeviceTypeChange(a)),this.setState({Moncon:a,selectedMonconDevice:n})}},t.prototype.render=function(){var e=this,t=this.props.isView,n=this.state,i=n.newDeviceType,r=n._monconDeviceTypesMulti,c=n.selectedMonconDevice;return a.createElement("div",{className:""},a.createElement("div",{className:"col-md-3 col-sm-3"},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"moncontype"},"Monitoring/Control Device Type:"))),a.createElement("div",{className:"col-md-4 col-sm-3"},a.createElement("div",{className:(c.value?"":"addFieldValidate")+" form-group"},a.createElement(s.a,{isDisabled:t,closeMenuOnSelect:!0,isMulti:!1,value:c,onChange:this.handleMonConDeviceTypeChange,placeholder:"Select Monitoring",options:r}))),a.createElement("div",{className:"colmd-12"},a.createElement("button",{id:"newEquipTypeDailogebtn",type:"button","data-toggle":"modal","data-target":"#AddTypeDailogeBox",className:"btn btn-dark hidden"}),a.createElement(o.a,{id:"AddTypeDailogeBox",heading:"Add New Device Type",saveButtonText:"Done",onSaveButtonClick:function(){e.saveEquipmentType()},disableSaveButton:!i},a.createElement("div",{className:"content"},a.createElement("div",{className:"dataCard"},a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{style:{padding:"10px"},className:"row"},a.createElement("div",{style:{paddingTop:"10px"},className:"col-md-4 headingText center"},"New Device Type:"),a.createElement("div",{className:"col-md-8 headingText"},a.createElement("input",{value:i,onChange:function(t){e.onchangeEquipmentType(t)},type:"text",className:"form-control"})," "))))))))))},t}(a.Component);t.a=p},1132:function(e,t,n){"use strict";var a=n(2),o=(n.n(a),n(650)),i=n(116),r=n(677),c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(e){i(e)}}function c(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,c)}l((a=a.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={intesisHome_Devices:[],filterString:""},n._fetchIntesisInfo=n._fetchIntesisInfo.bind(n),n}return c(t,e),t.prototype._fetchIntesisInfo=function(){return l(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return Object(i.a)(!0),[4,Object(r.v)(this.props.buildingName)];case 1:return(e=t.sent())&&e.devices&&this.setState({intesisHome_Devices:e.devices}),Object(i.a)(!1),[2]}})})},t.prototype.handleFilterStringChange=function(e){this.setState({filterString:e})},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.intesisHome_Devices,i=t.filterString;return a.createElement("div",{className:"col-md-1 col-sm-1 padding-5"},a.createElement("button",{className:"btn btn-xs btn-secondary btn-fill","data-toggle":"modal","data-target":"#IntesisHomeDeviceList",type:"button",title:"View available IntesisHome devices",onClick:function(){return l(e,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this._fetchIntesisInfo()];case 1:return e.sent(),[2]}})})}},a.createElement("i",{className:"fa fa-list"})),a.createElement(o.a,{id:"IntesisHomeDeviceList",heading:"IntesisHome Device List",saveButtonText:"Close",disableSaveButton:!1},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-9"},a.createElement("div",{className:"col-md-3 padding-5"},a.createElement("label",null,"Filters: ")),a.createElement("div",{className:"col-md-9"},a.createElement("input",{className:"form-control",type:"text",name:"filter",id:"filter",value:i,onChange:function(t){return e.handleFilterStringChange(t.target.value)},title:"Search filter..."}))),a.createElement("div",{className:"col-md-3 padding-5"},a.createElement("button",{className:"btn btn-sm btn-secondary btn-fill pull-right",type:"button",title:"Configure available IntesisHome devices to the API Credentials",onClick:function(){return l(e,void 0,void 0,function(){return s(this,function(e){return window.open("https://user.intesishome.com/oauth2/devices?scope=unused&state=asdflkjlaks&redirect_uri=google.com&client_id=my2wy-k2d5b-pmkgp-dbjr6-1ze2j"),[2]})})}},a.createElement("i",{className:"fa fas fa-tasks"})," Configure Devices"))),a.createElement("hr",null),n&&n.filter(function(e){return-1!=e.name.toLowerCase().indexOf(i.toLowerCase())}).map(function(e){return a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-5"},a.createElement("label",{htmlFor:""},"Device Name:"),a.createElement("br",null),a.createElement("b",null,e.name)),a.createElement("div",{className:"col-md-7"},a.createElement("label",{htmlFor:""},"Device ID:"),a.createElement("br",null),a.createElement("b",null,e.device_id)))})))},t}(a.Component);t.a=m},1133:function(e,t,n){"use strict";var a=n(2),o=n.n(a),i=n(650),r=n(10),c=n(825),l=n(654),s=n(657),m=n(665),d=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(e){i(e)}}function c(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,c)}l((a=a.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={DropdownModelObj:Object(),PanelEquipmentList:[],floorsList:[],locationList:[],networkDevice:n.props.networkDevice?n.props.networkDevice:Object(),networkListType:[]},n.getNetworkDeviceType=n.getNetworkDeviceType.bind(n),n.getPanelEquipmentList=n.getPanelEquipmentList.bind(n),n.getFloorsList=n.getFloorsList.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.getLocationsList=n.getLocationsList.bind(n),n.handleDeviceChange=n.handleDeviceChange.bind(n),n.handleNetworkType=n.handleNetworkType.bind(n),n.saveNetworkType=n.saveNetworkType.bind(n),n}return d(t,e),t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,this.getNetworkDeviceType()];case 1:return e.sent(),[4,this.getFloorsList()];case 2:return e.sent(),[4,this.getPanelEquipmentList()];case 3:return e.sent(),[2]}})})},t.prototype.componentWillReceiveProps=function(e){e&&e.networkDevice&&(e.networkDevice.floor&&this.state.locationList&&0==this.state.locationList.length&&this.getLocationsList(e.networkDevice.floor),this.setState({networkDevice:e.networkDevice}))},t.prototype.getNetworkDeviceType=function(){return u(this,void 0,void 0,function(){var e,t;return p(this,function(n){switch(n.label){case 0:return e=this.state.networkListType,[4,Object(c.c)()];case 1:return(t=n.sent())&&t.length>0&&(e=t.filter(function(e){return"Network Type"==Object(r.g)(e.type)}),this.setState({networkListType:e})),[2]}})})},t.prototype.getPanelEquipmentList=function(){return u(this,void 0,void 0,function(){var e,t;return p(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(l.o)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(r.g)(e.ontology),label:Object(r.g)(e.rdfsLabel)}}),this.setState({PanelEquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.getFloorsList=function(){return u(this,void 0,void 0,function(){var e=this;return p(this,function(t){switch(t.label){case 0:return this.props.buildingName?[4,Object(m.f)(this.props.buildingName).then(function(t){e.setState({floorsList:t})})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.getLocationsList=function(e){return u(this,void 0,void 0,function(){var t,n,a=this;return p(this,function(o){switch(o.label){case 0:return t=this.props.buildingName,n=this.state.locationList,""===e?[3,2]:[4,Object(s.d)(e,t).then(function(e){n=e,a.setState({locationList:n})})];case 1:return o.sent(),[3,3];case 2:n=[],this.setState({locationList:n}),o.label=3;case 3:return[2]}})})},t.prototype.handleFloorChange=function(e){return u(this,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:return(t=this.state.networkDevice).floor=e,this.setState({networkDevice:t}),this.props.handleNetworkDeviceChange(t),[4,this.getLocationsList(e)];case 1:return n.sent(),[2]}})})},t.prototype.handleDeviceChange=function(e){var t=this.state.networkDevice;t[""+e.target.name]=e.target.value,this.setState({networkDevice:t}),this.props.handleNetworkDeviceChange(t)},t.prototype.handleNetworkType=function(e){var t=this.state.networkDevice;"Others"==e.target.value?(t.networkType="",document.getElementById("networkTypeDialog").click()):this.handleDeviceChange(e)},t.prototype.saveNetworkType=function(){return u(this,void 0,void 0,function(){var e,t,n=this;return p(this,function(a){switch(a.label){case 0:return e=this.state.DropdownModelObj,t=this.state.networkDevice.networkType,e.name=t,e.type="Network Type",[4,Object(c.b)(e,!1).then(function(){n.getNetworkDeviceType()}).catch(function(e){console.log(e)})];case 1:return a.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.props.isView,n=this.state,a=n.networkDevice,c=n.networkListType,l=n.PanelEquipmentList,s=n.floorsList,m=n.locationList;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row padding-10"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Device Name"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"name",name:"name",disabled:t,className:(a.name?"":"addFieldValidate")+" form-control",value:a.name,onChange:function(t){return e.handleDeviceChange(t)}}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"deviceID"},"Device ID"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"deviceID",disabled:!0,className:"form-control",value:a.deviceID,name:"deviceID",onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"deviceState"},"Device State"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("select",{className:"form-control",id:"deviceState",name:"deviceState",disabled:t,onChange:function(t){return e.handleDeviceChange(t)},value:a.deviceState?a.deviceState:""},o.a.createElement("option",{value:"Planned"},"Planned"),o.a.createElement("option",{value:"Ordered"},"Ordered"),o.a.createElement("option",{value:"InInventory"},"In Inventory"),o.a.createElement("option",{value:"ReleasedForInstall"},"Released for Install"),o.a.createElement("option",{value:"Installed"},"Installed"),o.a.createElement("option",{value:"Testing"},"Testing"),o.a.createElement("option",{value:"Existing"},"Existing"),o.a.createElement("option",{value:"Retired"},"Retired"),o.a.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),o.a.createElement("option",{value:"Sold"},"Sold"))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"modelNo"},"Model"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"modelNo",name:"modelNo",disabled:t,className:"form-control",value:a.modelNo,onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"ipAddress"},"IP Address"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"ipAddress",name:"ipAddress",disabled:t,className:(a.ipAddress?"":"addFieldValidate")+" form-control",value:a.ipAddress,onChange:function(t){return e.handleDeviceChange(t)}}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"networkType"},"Network Type"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(a.networkType?"":"addFieldValidate")+" form-control",id:"networkType",disabled:t,name:"networkType",value:a.networkType,onChange:function(t){return e.handleNetworkType(t)}},o.a.createElement("option",{value:""},"Select Network Type"),c&&c.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(r.g)(e.name)},Object(r.g)(e.name))}),o.a.createElement("option",{value:"Others"},"Others")))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"enclosure"},"Cabinet"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"enclosure",name:"enclosure",disabled:t,value:a.enclosure,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Cabinet Equipment"),l&&l.length>0&&l.map(function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.label," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"floor"},"Floor"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{id:"floor",className:(a.floor?"":"addFieldValidate")+" form-control",disabled:t,value:a.floor?a.floor:"",onChange:function(t){return e.handleFloorChange(t.target.value)}},o.a.createElement("option",{value:"",key:-2},"Select Floor"),s&&s.length>0&&s.map(function(e,t){return o.a.createElement("option",{value:Object(r.g)(e.ontology),key:t},Object(r.g)(e.rdfsLabel)," ")})))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"pull-right padding-5"},o.a.createElement("label",{htmlFor:"location"},"Space"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(a.location?"":"addFieldValidate")+" form-control",id:"location",name:"location",disabled:t,value:a.location,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Space"),m.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(r.g)(e.ontology)}," ",Object(r.g)(e.rdfsLabel)," ")}))))))),o.a.createElement("button",{type:"button",id:"networkTypeDialog",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#dialogNetworkType"}," ."),o.a.createElement(i.a,{id:"dialogNetworkType",heading:"New Network Type",saveButtonText:"Save",cancelButtonText:"Cancel",disableSaveButton:!!a.networkType,showCancelButton:!0,showSaveButton:!0,onSaveButtonClick:function(){e.saveNetworkType()}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("label",{htmlFor:"point"},"Name:"),o.a.createElement("br",null),o.a.createElement("input",{type:"text",className:"controls clearfix form-control",name:"networkType",placeholder:"Other Name",onChange:function(t){return e.handleDeviceChange(t)},value:a.networkType})))))},t}(o.a.Component);t.a=v},1134:function(e,t,n){"use strict";var a=n(2),o=n.n(a),i=n(10),r=n(672),c=n(654),l=n(657),s=n(677),m=n(665),d=n(660),u=n(761),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),v=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(e){i(e)}}function c(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,c)}l((a=a.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={PanelEquipmentList:[],floorsList:[],locationList:[],computingDevice:n.props.computingDevice?n.props.computingDevice:Object(),devicesList:[],buildings:[],computingDeviceList:[],filteredComputingDeviceList:[]},n.getPanelEquipmentList=n.getPanelEquipmentList.bind(n),n.getFloorsList=n.getFloorsList.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.getLocationsList=n.getLocationsList.bind(n),n.handleDeviceChange=n.handleDeviceChange.bind(n),n.fetchBuildings=n.fetchBuildings.bind(n),n.getDevicesList=n.getDevicesList.bind(n),n.handleRelatedDevices=n.handleRelatedDevices.bind(n),n.handleRelatedComputingDevices=n.handleRelatedComputingDevices.bind(n),n.handleBuildingChange=n.handleBuildingChange.bind(n),n.getComputingDevices=n.getComputingDevices.bind(n),n.filterComputingDevices=n.filterComputingDevices.bind(n),n}return p(t,e),t.prototype.componentDidMount=function(){return v(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,this.fetchBuildings()];case 1:return e.sent(),[4,this.getComputingDevices()];case 2:return e.sent(),[4,this.getPanelEquipmentList()];case 3:return e.sent(),[2]}})})},t.prototype.componentWillReceiveProps=function(e){return v(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return e&&e.computingDevice?e.computingDevice.building?(this.filterComputingDevices(e.computingDevice.building),this.state.devicesList&&0==this.state.devicesList.length?[4,this.getDevicesList(e.computingDevice.building)]:[3,2]):[3,4]:[3,5];case 1:t.sent(),t.label=2;case 2:return this.state.floorsList&&0==this.state.floorsList.length?[4,this.getFloorsList(e.computingDevice.building)]:[3,4];case 3:t.sent(),t.label=4;case 4:e.computingDevice.floor&&this.state.locationList&&0==this.state.locationList.length&&this.getLocationsList(e.computingDevice.floor),this.setState({computingDevice:e.computingDevice}),t.label=5;case 5:return[2]}})})},t.prototype.fetchBuildings=function(){return v(this,void 0,void 0,function(){var e=this;return h(this,function(t){switch(t.label){case 0:return[4,Object(r.d)().then(function(t){e.setState({buildings:t})}).catch(function(e){return e})];case 1:return t.sent(),[2]}})})},t.prototype.getComputingDevices=function(){return v(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return[4,Object(u.f)()];case 1:return e=t.sent(),this.setState({computingDeviceList:e}),[2]}})})},t.prototype.filterComputingDevices=function(e){return v(this,void 0,void 0,function(){var t,n,a,o,r;return h(this,function(c){if(t=this.state.computingDeviceList,n=[],e)for(a=t.filter(function(t){return Object(i.g)(t.building)==e}),o=0;o<a.length;o++)r=a[o],n.push({value:Object(i.g)(r.ontology),label:Object(i.g)(r.name)});else n=[];return this.setState({filteredComputingDeviceList:n}),[2]})})},t.prototype.getDevicesList=function(e){return v(this,void 0,void 0,function(){var t,n,a;return h(this,function(o){switch(o.label){case 0:return t=[],e?[4,Object(s.u)(e)]:[3,2];case 1:(n=o.sent())&&n.length>0&&(a=Object(),n.map(function(e){a={value:Object(i.g)(e.moncondevice),label:Object(i.g)(e.rdfsLabel)},t&&t.push(a)})),o.label=2;case 2:return this.setState({devicesList:t}),[2]}})})},t.prototype.getPanelEquipmentList=function(){return v(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return this.props.buildingName?[4,Object(c.o)(this.props.buildingName)]:[3,2];case 1:e=n.sent(),t=e&&e.length>0&&e.map(function(e){return{value:Object(i.g)(e.ontology),label:Object(i.g)(e.rdfsLabel)}}),this.setState({PanelEquipmentList:t}),n.label=2;case 2:return[2]}})})},t.prototype.getFloorsList=function(e){return v(this,void 0,void 0,function(){var t=this;return h(this,function(n){switch(n.label){case 0:return e?[4,Object(m.f)(e).then(function(e){t.setState({floorsList:e})})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.getLocationsList=function(e){return v(this,void 0,void 0,function(){var t,n,a=this;return h(this,function(o){switch(o.label){case 0:return t=this.props.buildingName,n=this.state.locationList,""===e?[3,2]:[4,Object(l.d)(e,t).then(function(e){n=e,a.setState({locationList:n})})];case 1:return o.sent(),[3,3];case 2:n=[],this.setState({locationList:n}),o.label=3;case 3:return[2]}})})},t.prototype.handleBuildingChange=function(e){var t=this,n=this.state.computingDevice;n.building=e,this.setState({computingDevice:n},function(){t.getDevicesList(e),t.getFloorsList(e),t.filterComputingDevices(e)}),this.props.handleComputingDeviceChange(n)},t.prototype.handleFloorChange=function(e){return v(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return(t=this.state.computingDevice).floor=e,this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t),[4,this.getLocationsList(e)];case 1:return n.sent(),[2]}})})},t.prototype.handleDeviceChange=function(e){var t=this.state.computingDevice;t[""+e.target.name]=e.target.value,this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t)},t.prototype.handleRelatedDevices=function(e){var t=this.state.computingDevice;t.devices=e,this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t)},t.prototype.handleRelatedComputingDevices=function(e){var t=this.state.computingDevice;t.relatedComputingDevices=e,this.setState({computingDevice:t}),this.props.handleComputingDeviceChange(t)},t.prototype.render=function(){var e=this,t=this.props.isView,n=this.state,a=n.computingDevice,r=n.buildings,c=n.devicesList,l=n.PanelEquipmentList,s=n.floorsList,m=n.locationList,u=n.filteredComputingDeviceList;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row padding-10"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Device Name"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"name",name:"name",disabled:t,className:(a.name?"":"addFieldValidate")+" form-control",value:a.name,onChange:function(t){return e.handleDeviceChange(t)}}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"deviceID"},"Device ID"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"deviceID",disabled:!0,className:"form-control",value:a.deviceID,name:"deviceID",onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"deviceState"},"Device State"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("select",{className:(a.deviceState?"":"addFieldValidate")+" form-control",id:"deviceState",name:"deviceState",disabled:t,onChange:function(t){return e.handleDeviceChange(t)},value:a.deviceState?a.deviceState:""},o.a.createElement("option",{value:"Planned"},"Planned"),o.a.createElement("option",{value:"Ordered"},"Ordered"),o.a.createElement("option",{value:"InInventory"},"In Inventory"),o.a.createElement("option",{value:"ReleasedForInstall"},"Released for Install"),o.a.createElement("option",{value:"Installed"},"Installed"),o.a.createElement("option",{value:"Testing"},"Testing"),o.a.createElement("option",{value:"Existing"},"Existing"),o.a.createElement("option",{value:"Retired"},"Retired"),o.a.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),o.a.createElement("option",{value:"Sold"},"Sold"))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"controllerIpAddress"},"Controller IP Address"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text ",id:"controllerIpAddress",name:"controllerIpAddress",disabled:t,className:"form-control",value:a.controllerIpAddress,onChange:function(t){return e.handleDeviceChange(t)}}))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"enclosure"},"Cabinet"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",id:"enclosure",name:"enclosure",disabled:t,value:a.enclosure,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Cabinet Equipment"),l&&l.length>0&&l.map(function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.label," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"building"},"Building"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(a.building?"":"addFieldValidate")+" form-control",id:"building",disabled:t,name:"building",value:a.building,onChange:function(t){return e.handleBuildingChange(t.target.value)}},o.a.createElement("option",{value:""},"Select Building"),r&&r.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(i.g)(e.building)},Object(i.g)(e.rdfsLabel))})))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"floor"},"Floor"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{id:"floor",className:(a.floor?"":"addFieldValidate")+" form-control",disabled:t,value:a.floor?a.floor:"",onChange:function(t){return e.handleFloorChange(t.target.value)}},o.a.createElement("option",{value:"",key:-2},"Select Floor"),s&&s.length>0&&s.map(function(e,t){return o.a.createElement("option",{value:Object(i.g)(e.ontology),key:t},Object(i.g)(e.rdfsLabel)," ")})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"space"},"Space"))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:(a.space?"":"addFieldValidate")+" form-control",id:"space",name:"space",disabled:t,value:a.space,onChange:function(t){return e.handleDeviceChange(t)}},o.a.createElement("option",{value:"",key:-2},"Select Space"),m.map(function(e,t){return o.a.createElement("option",{key:t,value:Object(i.g)(e.ontology)}," ",Object(i.g)(e.rdfsLabel)," ")})))),o.a.createElement("div",{className:"col-md-2 col-sm-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"connectedDevices"},"Related Devices"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement(d.a,{isDisabled:t,closeMenuOnSelect:!1,isMulti:!0,value:a.devices,onChange:this.handleRelatedDevices,placeholder:"Select Devices",options:c}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"space"},"Related Computing Devices"))),o.a.createElement("div",{className:"col-md-3 col-sm-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement(d.a,{isDisabled:t,closeMenuOnSelect:!1,isMulti:!0,value:a.relatedComputingDevices,onChange:this.handleRelatedComputingDevices,placeholder:"Select Computing Devices",options:u})))))))},t}(o.a.Component);t.a=g},775:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=(n.n(a),n(116)),i=n(652),r=n(650),c=n(772),l=n(658),s=n(10),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),d=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(o,i){function r(e){try{l(a.next(e))}catch(e){i(e)}}function c(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(r,c)}l((a=a.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={archive:[],versionToRestore:Object(),historianArchiveDifferences:[],sourceTimestamp:Object(),targetTimestamp:Object(),user:"",peopleList:Object()},n.getHistorianArchive=n.getHistorianArchive.bind(n),n.restoreHistorian=n.restoreHistorian.bind(n),n.getPeopleList=n.getPeopleList.bind(n),n}return m(t,e),t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.instance&&this.props.ObjectId?(Object(o.a)(!0),[4,this.getHistorianArchive()]):[3,3];case 1:return e.sent(),[4,this.getPeopleList()];case 2:e.sent(),Object(o.a)(!1),e.label=3;case 3:return[2]}})})},t.prototype.getPeopleList=function(){return d(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,Object(l.s)(this.props.buildingName)];case 1:return e=t.sent(),this.setState({peopleList:e}),[2]}})})},t.prototype.getHistorianArchive=function(){return d(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,Object(c.a)(this.props.ObjectId)];case 1:return e=t.sent(),this.setState({archive:e}),[2]}})})},t.prototype.difference=function(e,t){return d(this,void 0,void 0,function(){var n,a,o,i,r,c;return u(this,function(l){switch(l.label){case 0:return n=this.state.peopleList,e&&e.model&&t&&t.model?(a=JSON.parse(e.model),o=JSON.parse(t.model),[4,this.getDifference(a,o)]):[3,2];case 1:i=l.sent(),r=n.find(function(t){return Object(s.g)(t.contact)==e.createdBy}),c=r&&r.name?Object(s.g)(r.name):"",console.log("historianArchiveDifferences",i),this.setState({historianArchiveDifferences:i,sourceTimestamp:e.timestamp,targetTimestamp:t.timestamp,user:c},function(){document.getElementById("btnShowDifference").click()}),l.label=2;case 2:return[2]}})})},t.prototype.getDifference=function(e,t,n){return d(this,void 0,Promise,function(){var a,o=this;return u(this,function(i){return a=[],Object.keys(e).forEach(function(i){return d(o,void 0,void 0,function(){var o,r,c,l;return u(this,function(s){switch(s.label){case 0:return o=e&&e[i]?e[i]:"",r=t&&t[i]?t[i]:"","object"!=typeof o?[3,3]:JSON.stringify(o)==JSON.stringify(r)?[3,2]:(c=isNaN(i)?i:n||"",[4,this.getDifference(o,r,c)]);case 1:l=s.sent(),a.push.apply(a,l),s.label=2;case 2:return[3,4];case 3:o!=r&&"value"!=i&&a.push({key:n?n+("label"!=i?" - "+i:""):i,source:o||"",target:r||""}),s.label=4;case 4:return[2]}})})}),[2,a]})})},t.prototype.restoreHistorian=function(){return d(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return(e=this.state.versionToRestore)&&e.model&&this.props.restoreSelectedVersion(e),[4,this.getHistorianArchive()];case 1:return t.sent(),[2]}})})},t.prototype.render=function(){var e=this,t=this.props.instance,n=this.state,o=n.archive,c=n.versionToRestore,l=n.historianArchiveDifferences,s=n.sourceTimestamp,m=n.targetTimestamp,p=n.user;return a.createElement("div",{className:"card",id:"HistorianArchiveList"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("h3",null,"Historian Archive"))),a.createElement("br",null),a.createElement("div",{className:"row no-margin"},a.createElement("div",{className:"hidden-xs col-md-10 col-md-offset-1 col-md-offset-right-1 no-padding cell_border",style:{marginBottom:"0px"}},a.createElement("div",{className:"col-md-12 bgcol trim-data headingText",style:{padding:"10px"}},"Timestamp"))),a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"hidden"}),o&&o.length>0&&o.map(function(t,n){return a.createElement("div",{className:"col-md-10 cell_border no-padding col-md-offset-1 col-md-offset-right-1 clickable"},a.createElement("div",{className:"row no-margin hover"},a.createElement("div",{className:"col-md-4 padding-10"},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Timestamp"),"  ",t.timestamp.ToEasternDateTime()),a.createElement("div",{className:"col-md-8"},0!=n&&a.createElement("button",{className:"btn btn-sm btn-success btn-fill pull-right margin-5 mr-0",title:"Restore this version",onClick:function(n){e.setState({versionToRestore:t},function(){document.getElementById("btnConfirmRestore").click()})}},"Restore this version  "),n!=o.length-1&&a.createElement("button",{className:"btn btn-sm btn-primary btn-fill pull-right margin-5 mr-0",title:"Difference with previous version",onClick:function(a){return d(e,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return n==o.length-1?[3,2]:[4,this.difference(t,o[n+1])];case 1:e.sent(),e.label=2;case 2:return[2]}})})}},"Difference with previous version   "),0!=n&&a.createElement("button",{className:" btn btn-sm btn-primary btn-fill pull-right margin-5 mr-0",title:"Difference with latest version",onClick:function(a){return d(e,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return 0==n?[3,2]:[4,this.difference(t,o[0])];case 1:e.sent(),e.label=2;case 2:return[2]}})})}},"Difference with latest version   "))))})),a.createElement("button",{id:"btnConfirmRestore",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmRestoreDialog"},"."),a.createElement(i.a,{instance:t,id:"ConfirmRestoreDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:'Are you sure to Restore "'+(c&&c.timestamp?c.timestamp.ToEasternDateTime():"")+'" Version?',heading:"Confirm...",onConfirmButtonClick:function(){e.restoreHistorian()},onCancelButton:function(){e.setState({versionToRestore:Object()})}}),a.createElement("button",{type:"button",id:"btnShowDifference",className:"hidden","data-toggle":"modal","data-target":"#ShowDifference"}," "),a.createElement(r.a,{id:"ShowDifference",heading:"Difference",saveButtonText:"Done",onSaveButtonClick:function(){e.setState({historianArchiveDifferences:[],sourceTimestamp:Object(),targetTimestamp:Object(),user:""})},isEditForm:!0},a.createElement("div",{className:"scroll-y",style:{maxHeight:500}},a.createElement("div",{className:"container-fluid",style:{paddingLeft:"0px"}},a.createElement("div",{className:"content",style:{paddingTop:"0px"}},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12",style:{margin:"0px 10px"}},a.createElement("p",{className:"padding-5 small pull-left cell_border hover",style:{borderRadius:"5px",background:"rgb(220 220 220 / 21%)",color:"black"}},a.createElement("b",{style:{color:"gray"}},"Updated By: \xa0")," ",p,", (",new Date(s&&s).ToEasternDateTime(),")")),l&&l.length>0&&s&&m&&a.createElement("div",{className:"col-md-12",style:{margin:"10px"}},a.createElement("div",{className:"col-md-6 cell_border no-padding center",style:{background:"#dcdcdc94",borderRadius:"50px"}},a.createElement("h4",{className:"margin-10"}," After "),a.createElement("h4",{className:"margin-10"},s&&s.ToEasternDateTime())),a.createElement("div",{className:"col-md-6 cell_border no-padding center",style:{background:"gainsboro",borderRadius:"50px"}},a.createElement("h4",{className:"margin-10"}," Before "),a.createElement("h4",{className:"margin-10"},m&&m.ToEasternDateTime()))),l&&l.length>0&&l.map(function(e){return console.log(e),a.createElement("div",{className:"col-md-12",style:{margin:"10px"}},a.createElement("div",{className:"col-md-12 no-padding cell_border border-radius"},a.createElement("div",{className:"col-md-12 padding-10 center cell_border",style:{background:"ghostwhite"}},a.createElement("h5",{className:"no-margin",style:{textTransform:"uppercase",padding:"2px"}},a.createElement("b",null,"Attribute:")," ",a.createElement("span",{className:"text-primary"},e.key))),a.createElement("div",{className:"col-md-6 padding-10 center cell_border",style:{background:"#dcdcdc94"}},e.source?e.source:"-"),a.createElement("div",{className:"col-md-6 padding-10 center cell_border",style:{background:"gainsboro"}},e.target?e.target:"-")))})))))))),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null),a.createElement("br",null))))},t}(a.Component);t.default=p}});