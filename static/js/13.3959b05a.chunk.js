webpackJsonp([13],{3036:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=(n.n(i),n(12)),o=n(749),l=n(3037),s=n(118),r=n(688),c=n(3038),d=n(683),m=n(685),p=n(3039),u=n(712),h=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function l(e){try{r(i.next(e))}catch(e){o(e)}}function s(e){try{r(i.throw(e))}catch(e){o(e)}}function r(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((i=i.apply(e,t||[])).next())})},g=this&&this.__generator||function(e,t){var n,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},b=new Date,y=new Date,v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isView:!!n.props.view&&n.props.view,workflow:Object(),isSpaces:!0,isEquipment:!1,_spaces:[],workFlowSpaceList:[],_equipments:[],AllOtherCompletionListOfSpace:[],AllOtherCompletionListOfEquipments:[],isCollapse:!0,ColorForSpace:Object(),ColorForEquip:Object()},n.fetchWorkflow=n.fetchWorkflow.bind(n),n.fetchSpaces=n.fetchSpaces.bind(n),n.populateInspectionsList=n.populateInspectionsList.bind(n),n.unpopulateInspectionsList=n.unpopulateInspectionsList.bind(n),n.handleWorkFlowChange=n.handleWorkFlowChange.bind(n),n._fetchEquipments=n._fetchEquipments.bind(n),n.populateInspectionsEquipmentList=n.populateInspectionsEquipmentList.bind(n),n.unpopulateInspectionsEquipmentList=n.unpopulateInspectionsEquipmentList.bind(n),n.handleCollapse=n.handleCollapse.bind(n),n.getDetailInspectionDataEquipment=n.getDetailInspectionDataEquipment.bind(n),n.getDetailInspectionDataSpace=n.getDetailInspectionDataSpace.bind(n),n._fetchAllOtherCompletionOfEquipment=n._fetchAllOtherCompletionOfEquipment.bind(n),n._fetchAllOtherCompletionOfSpace=n._fetchAllOtherCompletionOfSpace.bind(n),n}return h(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){return f(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.props.ontology==e.ontology?[3,4]:[4,this.fetchSpaces()];case 1:return t.sent(),[4,this._fetchEquipments()];case 2:return t.sent(),[4,this.handleWorkFlowChange(e.ontology)];case 3:t.sent(),t.label=4;case 4:return[2]}})})},t.prototype.UNSAFE_componentWillMount=function(){return f(this,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.ontology?(Object(s.a)(!0),[4,this._fetchEquipments()]):[3,3];case 1:return e.sent(),[4,this.fetchSpaces()];case 2:e.sent(),Object(s.a)(!1),e.label=3;case 3:return[2]}})})},t.prototype.componentDidMount=function(){return f(this,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:return this.props.buildingName&&this.props.ontology?(Object(s.a)(!0),[4,this.fetchWorkflow()]):[3,3];case 1:return e.sent(),[4,this.handleWorkFlowChange(this.props.ontology)];case 2:e.sent(),Object(s.a)(!1),e.label=3;case 3:return[2]}})})},t.prototype.handleWorkFlowChange=function(e){return f(this,void 0,void 0,function(){var t,n,i,l,s=this;return g(this,function(r){switch(r.label){case 0:return[4,Object(o.m)(e)];case 1:for(t=r.sent(),n=[],i=function(e){var i=t[e],o=Object(a.g)(i.space);if(-1==n.findIndex(function(e){return e.space==o})){var l=Object();l.ca=Object(),l.ca.ontology=Object(a.g)(i.CAOntology),l.ca.cooling="true"==Object(a.g)(i.CAcooling),l.ca.heating="true"==Object(a.g)(i.CAheating),l.ca.lighting="true"==Object(a.g)(i.CAlighting),l.ca.miscellaneous="true"==Object(a.g)(i.CAmiscellaneous),l.ca.space_compliance="true"==Object(a.g)(i.CAspace_compliance),l.ca.space_condition="true"==Object(a.g)(i.CAspace_condition),l.ca.space_safety="true"==Object(a.g)(i.CAspace_safety),l.ecm=Object(),l.ecm.ontology=Object(a.g)(i.ECMOntology),l.ecm.cooling="true"==Object(a.g)(i.ECMcooling),l.ecm.heating="true"==Object(a.g)(i.ECMheating),l.ecm.lighting="true"==Object(a.g)(i.ECMlighting),l.ecm.miscellaneous="true"==Object(a.g)(i.ECMmiscellaneous),l.other=Object(),l.other.ontology=Object(a.g)(i.OtherOntology),l.other.other="true"==Object(a.g)(i.OTHERother),l.rcx=Object(),l.rcx.ontology=Object(a.g)(i.RCXOntology),l.rcx.cooling="true"==Object(a.g)(i.RCXcooling),l.rcx.heating="true"==Object(a.g)(i.RCXheating),l.rcx.lighting="true"==Object(a.g)(i.RCXlighting),l.rcx.miscellaneous="true"==Object(a.g)(i.RCXmiscellaneous),l.ontology=Object(a.g)(i.workflowOntology),l.space=o,n.push.apply(n,[l])}},l=0;l<t.length;l++)i(l);return this.setState({workFlowSpaceList:n},function(){n&&n.length?(s.populateInspectionsList(),s.populateInspectionsEquipmentList()):(s.unpopulateInspectionsList(),s.unpopulateInspectionsEquipmentList())}),[2]}})})},t.prototype.fetchSpaces=function(){return f(this,void 0,void 0,function(){var e,t,n,i,a,l=this;return g(this,function(s){switch(s.label){case 0:return e=this.props,t=e.buildingName,n=e.ontology,i=e.instance,a=this,[4,Object(r.i)(this.props.buildingName).then(function(e){return f(l,void 0,void 0,function(){var l,s=this;return g(this,function(r){switch(r.label){case 0:return[4,Object(o.b)(e,t,i,n,"Space")];case 1:return l=r.sent(),this.setState({_spaces:l},function(){return f(s,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:return[4,a._fetchAllOtherCompletionOfSpace()];case 1:return e.sent(),[2]}})})}),[2]}})})}).catch(function(e){return e})];case 1:return s.sent(),[2]}})})},t.prototype.getDetailInspectionDataSpace=function(e){return f(this,void 0,void 0,function(){var t,n,i,a,l,s;return g(this,function(r){switch(r.label){case 0:return t=this.props,n=t.buildingName,i=t.ontology,a=t.instance,l=this.state._spaces,[4,Object(o.b)(l,n,a,i,e)];case 1:return s=r.sent(),this.setState({_spaces:s}),[2]}})})},t.prototype.populateInspectionsList=function(){return f(this,void 0,void 0,function(){var e,t,n,i,a,l,s,c,d,m,p;return g(this,function(u){switch(u.label){case 0:return[4,Object(r.i)(this.props.buildingName)];case 1:return e=u.sent(),t=this.state,n=t.workFlowSpaceList,i=t.ColorForSpace,a=this.state._spaces,console.log(a),l=0,s=0,c=0,d=0,[4,Object(o.e)(n,e,this.props.ontology)];case 2:if((m=u.sent())&&m.length>0){for(p=0;p<m.length;p++)m[p].inspectionVisibility&&(m[p].inspectionVisibility.ECMCompleted&&1==m[p].inspectionVisibility.ECMCompleted&&l++,m[p].inspectionVisibility.RCXCompleted&&1==m[p].inspectionVisibility.RCXCompleted&&s++,m[p].inspectionVisibility.CACompleted&&1==m[p].inspectionVisibility.CACompleted&&c++,m[p].inspectionVisibility.OtherCompleted&&1==m[p].inspectionVisibility.OtherCompleted&&d++);l==m.filter(function(e){return e.inspectionVisibility.showECM}).length?i.ecm="#00008B":i.ecm=0==l?"#B9BFFF":"#6495ED",s==m.filter(function(e){return e.inspectionVisibility.showRCX}).length?i.rcx="#00008B":i.rcx=0==s?"#B9BFFF":"#6495ED",c==m.filter(function(e){return e.inspectionVisibility.showCA}).length?i.ca="#00008B":i.ca=0==c?"#B9BFFF":"#6495ED",d==m.filter(function(e){return e.inspectionVisibility.showOther}).length?i.other="#00008B":i.other=0==d?"#B9BFFF":"#6495ED",l==m.filter(function(e){return e.inspectionVisibility.showECM}).length&&s==m.filter(function(e){return e.inspectionVisibility.showRCX}).length&&c==m.filter(function(e){return e.inspectionVisibility.showCA}).length&&d==m.filter(function(e){return e.inspectionVisibility.showOther}).length?i.all="#00008B":i.all=0==l&&0==s&&0==c&&0==d?"#B9BFFF":"#6495ED"}return this.setState({_spaces:m,ColorForSpace:i},function(){}),[2]}})})},t.prototype.unpopulateInspectionsList=function(){return f(this,void 0,void 0,function(){var e,t;return g(this,function(n){for(e=this.state._spaces,t=0;t<e.length;t++)e[t].inspectionVisibility={CACompleted:!1,ECMCompleted:!1,RCXCompleted:!1,showCA:!1,showECM:!1,showRCX:!1};return this.setState({_spaces:e}),[2]})})},t.prototype.fetchWorkflow=function(){return f(this,void 0,void 0,function(){var e,t,n,i,l=this;return g(this,function(s){switch(s.label){case 0:return e=this.props,t=e.buildingName,n=e.ontology,(i=this.state.workflow).dateOfStart=b.toString(),i.finishDate=y.toString(),t&&n?[4,Object(o.k)(t,n).then(function(e){return f(l,void 0,void 0,function(){var t,l,s,r,c,d,m,p;return g(this,function(u){switch(u.label){case 0:return e&&e.length&&Object(a.g)(e[0].ontology)?(t=e[0],l=Object(a.g)(t.dateOfStart),s=Object(a.g)(t.finishDate),i.ca="true"==Object(a.g)(t.ca),i.ecm="true"==Object(a.g)(t.ecm),i.rcx="true"==Object(a.g)(t.rcx),i.other="true"==Object(a.g)(t.other),i.dateOfStart=l,b=l?new Date(l):new Date,i.description=Object(a.g)(t.description),i.finishDate=s,y=s?new Date(s):new Date,i.lead=Object(a.g)(t.lead),i.ontology=Object(a.g)(t.ontology),i.otherName=Object(a.g)(t.otherName),[4,Object(o.l)(n)]):[3,2];case 1:for(r=u.sent(),c=0;c<r.length;c++)d=r[c],(m=Object()).done="true"==Object(a.g)(d.done),m.fileName=Object(a.g)(d.fileName),m.number=Object(a.g)(d.number),m.ontology=Object(a.g)(d.ontology),m.title=Object(a.g)(d.title),m.workFlowDescription=Object(a.g)(d.workFlowDescription),i.workFlowDescription||(i.workFlowDescription=[]),(p=i.workFlowDescription).push.apply(p,[m]);u.label=2;case 2:return[2]}})})})]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.setState({workflow:i}),[2]}})})},t.prototype._fetchEquipments=function(){return f(this,void 0,void 0,function(){var e,t=this;return g(this,function(n){switch(n.label){case 0:return e=this,[4,Object(d.g)(this.props.buildingName).then(function(n){n&&n.length>0&&t.setState({_equipments:n},function(){return f(t,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,e.getDetailInspectionDataEquipment("Equip")];case 1:return t.sent(),[4,e._fetchAllOtherCompletionOfEquipment()];case 2:return t.sent(),[2]}})})})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},t.prototype._fetchAllOtherCompletionOfSpace=function(){return f(this,void 0,void 0,function(){var e,t,n,i,o,l,s,r;return g(this,function(c){switch(c.label){case 0:if(e=[],t=[],!((n=this.state._spaces)&&n.length>0))return[3,3];for(i=0;i<n.length;i++)o=n[i],e&&e.push(Object(a.g)(o.space));return e&&e.length>0?[4,Object(u.a)(e)]:[3,2];case 1:if((l=c.sent())&&l.length>0)for(s=function(e){var n=l[e],i=Object(),o=Object(a.g)(n.inspectionOntology);!!o.split(",").find(function(e){return e==o})&&(i.inspectionOntology=Object(a.g)(n.inspectionOntology),i.otherCompleted="true"==Object(a.g)(n.otherCompleted),i.otherNotes=Object(a.g)(n.otherNotes),i.entityName=Object(a.g)(n.entityName)),t&&t.push(i)},r=0;r<l.length;r++)s(r);c.label=2;case 2:this.setState({AllOtherCompletionListOfSpace:t}),c.label=3;case 3:return[2]}})})},t.prototype._fetchAllOtherCompletionOfEquipment=function(){return f(this,void 0,void 0,function(){var e,t,n,i,o,l,s,r;return g(this,function(c){switch(c.label){case 0:for(e=this.state._equipments,t=[],n=[],i=0;i<e.length;i++)o=e[i],t&&t.push(Object(a.g)(o.equip));return t&&t.length>0?[4,Object(u.a)(t)]:[3,2];case 1:if((l=c.sent())&&l.length>0){for(s=function(e){var t=l[e],i=Object(),o=Object(a.g)(t.inspectionOntology);!!o.split(",").find(function(e){return e==o})&&(i.inspectionOntology=Object(a.g)(t.inspectionOntology),i.otherCompleted="true"==Object(a.g)(t.otherCompleted),i.otherNotes=Object(a.g)(t.otherNotes),i.entityName=Object(a.g)(t.entityName)),n&&n.push(i)},r=0;r<l.length;r++)s(r);this.setState({AllOtherCompletionListOfEquipments:n})}c.label=2;case 2:return[2]}})})},t.prototype.populateInspectionsEquipmentList=function(){return f(this,void 0,void 0,function(){var e,t,n,i,a,l,s,r,c,d;return g(this,function(m){switch(m.label){case 0:return e=this.state,t=e.workFlowSpaceList,n=e.ColorForEquip,i=this.state._equipments,a=0,l=0,s=0,r=0,[4,Object(o.c)(t,i,this.props.ontology)];case 1:if((c=m.sent())&&c.length>0){for(d=0;d<c.length;d++)c[d].inspectionVisibility&&(c[d].inspectionVisibility.ECMCompleted&&1==c[d].inspectionVisibility.ECMCompleted&&a++,c[d].inspectionVisibility.RCXCompleted&&1==c[d].inspectionVisibility.RCXCompleted&&l++,c[d].inspectionVisibility.CACompleted&&1==c[d].inspectionVisibility.CACompleted&&s++,c[d].inspectionVisibility.showOther&&c[d].inspectionVisibility.OtherCompleted&&1==c[d].inspectionVisibility.OtherCompleted&&r++);a==c.filter(function(e){return e.inspectionVisibility.showECM}).length?n.ecm="#00008B":n.ecm=0==a?"#B9BFFF":"#6495ED",l==c.filter(function(e){return e.inspectionVisibility.showRCX}).length?n.rcx="#00008B":n.rcx=0==l?"#B9BFFF":"#6495ED",s==c.filter(function(e){return e.inspectionVisibility.showCA}).length?n.ca="#00008B":n.ca=0==s?"#B9BFFF":"#6495ED",r==c.filter(function(e){return e.inspectionVisibility.showOther}).length?n.other="#00008B":n.other=0==r?"#B9BFFF":"#6495ED",a==c.filter(function(e){return e.inspectionVisibility.showECM}).length&&l==c.filter(function(e){return e.inspectionVisibility.showRCX}).length&&s==c.filter(function(e){return e.inspectionVisibility.showCA}).length&&r==c.filter(function(e){return e.inspectionVisibility.showOther}).length?n.all="#00008B":n.all=0==a&&0==l&&0==s&&0==r?"#B9BFFF":"#6495ED"}return this.setState({_equipments:c,ColorForEquip:n},function(){}),[2]}})})},t.prototype.getDetailInspectionDataEquipment=function(e){return f(this,void 0,void 0,function(){var t,n,i,a,l,s;return g(this,function(r){switch(r.label){case 0:return t=this.props,n=t.buildingName,i=t.ontology,a=t.instance,l=this.state._equipments,[4,Object(o.a)(l,n,a,i,e)];case 1:return s=r.sent(),this.setState({_equipments:s}),[2]}})})},t.prototype.handleCollapse=function(){this.setState({isCollapse:!this.state.isCollapse})},t.prototype.unpopulateInspectionsEquipmentList=function(){return f(this,void 0,void 0,function(){var e,t;return g(this,function(n){for(e=this.state._equipments,t=0;t<e.length;t++)e[t].inspectionVisibility={CACompleted:!1,ECMCompleted:!1,RCXCompleted:!1,showCA:!1,showECM:!1,showRCX:!1,ECMinspectionOntology:!1,RCXinspectionOntology:!1,CAinspectionOntology:!1};return this.setState({_equipments:e}),[2]})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,o=t.buildingName,s=t.ontology,r=this.state,d=r.isView,u=r.workflow,h=r.isSpaces,f=r.isEquipment,g=r._spaces,v=r._equipments,E=r.ColorForSpace,N=r.ColorForEquip,C=r.AllOtherCompletionListOfEquipments,x=r.AllOtherCompletionListOfSpace;return i.createElement("div",{className:"content"},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 "},d&&i.createElement("div",{className:"dropdown pull-right"},i.createElement(m.a,{filename:"InspectionReport",data:u,ElementID:"inspectionReport",showCSV:!1})))),i.createElement("br",null),i.createElement("div",{className:"card",id:"inspectionReport"},i.createElement("div",{className:"content"},i.createElement("div",{className:"dataCard"},i.createElement(l.a,{instance:n,buildingName:o,workflowData:u,view:d,dateOfStartLocal:b,finishDateLocal:y}),i.createElement("br",null),i.createElement("div",{className:"row padding-5"},i.createElement("div",{className:"col-md-12 btn-group"},i.createElement("button",{className:"btn btn-dark pull-left "+(h?"btn-fill":""),onClick:function(){e.setState({isSpaces:!0,isEquipment:!1})}},"Spaces"),i.createElement("button",{className:"btn btn-dark pull-left "+(f?"btn-fill":""),onClick:function(){e.setState({isSpaces:!1,isEquipment:!0})}},"Equipment"))),h&&i.createElement("div",null,i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},i.createElement("div",{className:"col-md-1 col-xs-2  headingText"},"Spaces"),i.createElement("div",{className:"col-md-1 col-xs-3 headingText"},i.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:E.all}})),i.createElement("div",{className:"col-md-4 col-xs-3 headingText"}),i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ECM "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," RCX "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," CA "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ",u.otherName," "))),i.createElement("div",{className:"row padding-10",style:{marginTop:"20px"}},i.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-2 headingText"}),i.createElement("div",{className:"col-md-4 headingText"},i.createElement("span",{style:{marginLeft:"15px"}},"Space")),i.createElement("div",{className:"col-md-5 headingText"},i.createElement("span",{style:{marginLeft:"15px"}},"Floor"))),i.createElement("div",{className:"col-md-6",style:{marginTop:"2px"}},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ",i.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:E.ecm,marginLeft:"5px",display:"inline-block"}})," "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ",i.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:E.rcx,marginLeft:"5px",display:"inline-block"}})," "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ",i.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:E.ca,marginLeft:"5px",display:"inline-block"}})," "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ",i.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:E.other,marginLeft:"20px",display:"inline-block"}})," "))))),g&&g.length>0&&g.map(function(t,l){return i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-sm-1 col-xs-12 padding-10"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-2 headingText"}),i.createElement("a",{"data-toggle":"collapse",id:"btn-detailSpace"+l.toString(),href:"#detailSpace"+l.toString(),"aria-expanded":"false",onClick:function(){e.handleCollapse()}},i.createElement("div",{className:"col-md-4 headingText trim-data",style:{color:"grey",marginLeft:"15px"}},t.rdfsLabel&&t.rdfsLabel.value)),i.createElement("div",{className:"col-md-5 headingText trim-data",style:{color:"grey"}},t.floorLabel&&t.floorLabel.value)),i.createElement(c.a,{AllOtherCompletionListOfSpace:x,isFromReport:!0,inspectionVisibility:t.inspectionVisibility,entityName:Object(a.g)(t.space),workflow:u,inspectionOntology:s,isView:d})),i.createElement("div",{id:"detailSpace"+l.toString(),className:"panel-collapse collapse padding-10",style:{paddingTop:"20px",paddingBottom:"50px"}},i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-sm-1 col-xs-12 padding-10"},i.createElement("div",{className:"col-md-2 headingText"}),i.createElement("div",{className:"col-md-4 headingText trim-data",style:{color:"grey",marginLeft:"15px"}},"Type: \xa0",t.type&&t.type.value),i.createElement("div",{className:"col-md-4 headingText trim-data",style:{color:"grey",marginLeft:"15px"}},"Zone: \xa0",t.zoneLabel&&t.zoneLabel.value))),i.createElement(p.a,{instance:n,inspectionOntology:s,buildingName:o,entityName:Object(a.g)(t.space),caObj:t.caObj,rcxObj:t.rcxObj,other:t.other,ecm:t.ecm,isFromReport:!0,inspectionVisibility:t.inspectionVisibility,infoEntity:"Space"})))})))),f&&i.createElement("div",null,i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},i.createElement("div",{className:"col-md-1 col-xs-2  headingText"},"Equipment"),i.createElement("div",{className:"col-md-1 col-xs-3 headingText"},i.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:N.all}})),i.createElement("div",{className:"col-md-4 col-xs-3 headingText"}),i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ECM "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," RCX "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," CA "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ",u.otherName," "))),i.createElement("div",{className:"row padding-10",style:{marginTop:"20px"}},i.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-2 headingText"}),i.createElement("div",{className:"col-md-5 headingText"},i.createElement("span",{style:{marginLeft:"15px"}},"Equipment")),i.createElement("div",{className:"col-md-4 headingText"},i.createElement("span",{style:{marginLeft:"15px"}},"Equipment Type"))),i.createElement("div",{className:"col-md-6",style:{marginTop:"2px"}},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ",i.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:N.ecm,marginLeft:"5px",display:"inline-block"}})," "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ",i.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:N.rcx,marginLeft:"5px",display:"inline-block"}})," "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ",i.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:N.ca,marginLeft:"5px",display:"inline-block"}})," "),i.createElement("div",{className:"col-md-3 col-xs-3 headingText center",style:{paddingLeft:d?"20px":""}}," ",i.createElement("div",{style:{border:"1px solid gray",width:"20px",height:"20px",background:N.other,marginLeft:"20px",display:"inline-block"}})," "))))),v&&v.length>0&&v.map(function(t,l){return i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-12 col-sm-1 col-xs-12 padding-10"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-2 headingText"}),i.createElement("a",{"data-toggle":"collapse",id:"btn-detailEquip"+l.toString(),href:"#detailEquip"+l.toString(),"aria-expanded":"false",onClick:function(){e.handleCollapse()}},i.createElement("div",{className:"col-md-5 headingText",style:{color:"grey",marginLeft:"15px"}},Object(a.g)(t.equipRdfsLabel))),i.createElement("div",{className:"col-md-4 headingText",style:{color:"grey"}},Object(a.g)(t.type).replace(new RegExp("MiscAndProcess","g"),"Misc & Process"))),i.createElement(c.a,{AllOtherCompletionListOfSpace:C,isFromReport:!0,inspectionVisibility:t.inspectionVisibility,entityName:Object(a.g)(t.equip),workflow:u,inspectionOntology:s,isView:d})),i.createElement("div",{id:"detailEquip"+l.toString(),className:"panel-collapse collapse padding-10"},i.createElement("div",{className:"row padding-10",style:{marginTop:"20px"}},i.createElement("div",{className:"col-md-12 col-sm-1 col-xs-12 padding-10"},i.createElement("div",{className:"col-md-2 headingText"}),i.createElement("div",{className:"col-md-4 headingText trim-data",style:{color:"grey",marginLeft:"15px"}},"Floor: \xa0",t.floorRdfsLabel&&t.floorRdfsLabel.value),i.createElement("div",{className:"col-md-4 headingText trim-data",style:{color:"grey",marginLeft:"15px"}},"Space: \xa0",t.spaceRdfsLabel&&t.spaceRdfsLabel.value))),i.createElement(p.a,{isFromReport:!0,inspectionVisibility:t.inspectionVisibility,instance:n,inspectionOntology:s,buildingName:o,entityName:Object(a.g)(t.equip),caObj:t.caObj,rcxObj:t.rcxObj,other:t.other,ecm:t.ecm,infoEntity:"Equip"})))})))))))))))},t}(i.Component);t.default=v},3037:function(e,t,n){"use strict";var i=n(2),a=(n.n(i),n(677)),o=n(686),l=n.n(o),s=n(54),r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={workflow:Object(),isView:!1},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.buildingName,n=e.workflowData,i=e.view;t&&n&&this.setState({workflow:n,isView:i})},t.prototype.render=function(){var e=this.props,t=e.dateOfStartLocal,n=e.finishDateLocal,o=this.state,r=o.workflow,c=o.isView,d=new s.b;return i.createElement(i.Fragment,null,i.createElement("div",{className:"container-fluid no-padding"},i.createElement("div",{className:"content",style:{paddingTop:"0px",paddingBottom:"0px"}},i.createElement("div",{className:""},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 descriptionStyle"},i.createElement("div",{className:""},i.createElement("div",{className:"row padding-5"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-3 headingText padding-10"}," Description: "),i.createElement("div",{className:"col-md-9 headingText"},i.createElement("input",{type:"text",name:"description",disabled:c,className:"form-control",style:{border:"1px solid gray"},value:r.description}))),i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-3 headingText padding-10"}," Lead: "),i.createElement("div",{className:"col-md-9 headingText"},i.createElement("input",{type:"text",disabled:c,name:"lead",className:"form-control",style:{border:"1px solid gray"},value:r.lead})))),i.createElement("div",{className:"row padding-5"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-3 headingText padding-10"}," Date of Start: "),i.createElement("div",{className:"col-md-9 headingText"},i.createElement(l.a,{id:"dateOfStart",className:"form-control",disabled:c,selected:t,onChange:function(e){},dateFormat:"MMMM d, yyyy",customInput:i.createElement("input",{type:"text",className:"form-control",placeholder:"Date of Start","aria-label":"","aria-describedby":"button-addon4",value:r.dateOfStart})}))),i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-3 headingText padding-10"}," Finish Date: "),i.createElement("div",{className:"col-md-9 headingText"},i.createElement(l.a,{id:"finishDate",className:"form-control",disabled:c,selected:n,onChange:function(e){},dateFormat:"MMMM d, yyyy",customInput:i.createElement("input",{type:"text",className:"form-control",placeholder:"Finish Date","aria-label":"","aria-describedby":"button-addon4",value:r.finishDate})})))),i.createElement("div",{className:"row padding-5"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"row img-thumbnail no-margin"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-3 col-xs-3 headingText padding-10"}," To Do: "),i.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10",style:{marginLeft:"5px"}}," ECM "),i.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10"}," RCX "),i.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10"}," CA "),i.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10"}," Other ")),i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-3 col-xs-3 headingText"}," "),i.createElement("div",{className:"col-md-2 col-xs-2",style:{marginTop:"7px"}}," \xa0 ",i.createElement("input",{name:"ecm",disabled:c,checked:r.ecm,type:"checkbox"})," "),i.createElement("div",{className:"col-md-2 col-xs-2",style:{marginTop:"7px"}}," \xa0 ",i.createElement("input",{name:"rcx",disabled:c,checked:r.rcx,type:"checkbox"})," "),i.createElement("div",{className:"col-md-2 col-xs-2",style:{marginTop:"7px"}}," \xa0 ",i.createElement("input",{name:"ca",disabled:c,checked:r.ca,type:"checkbox"})," "),i.createElement("div",{className:"col-md-2 col-xs-2",style:{marginTop:"7px"}}," \xa0 ",i.createElement("input",{name:"other",disabled:c,checked:r.other,type:"checkbox"})," ")))),r.other&&i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-3 col-xs-12 headingText padding-10"}," Other Name:"),i.createElement("div",{className:"col-md-9 col-xs-12"},"  ",i.createElement("input",{name:"otherName",className:"form-control",placeholder:"Enter Other Name",disabled:c,value:r.otherName,type:"text"})," "))),i.createElement("br",null),i.createElement("div",{className:"card no-margin small"},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"content no-padding"},i.createElement("div",{className:"dataCard"},i.createElement("div",{className:"row no-padding"},i.createElement("div",{className:"col-md-12 no-padding"},i.createElement("div",{className:"col-md-2 col-xs-2 grid-header"},"Item"),i.createElement("div",{className:"col-md-2 col-xs-2 grid-header"},i.createElement("i",{className:"fa fa-download",style:{marginTop:"4px",marginRight:"5px"}})," File Download"),i.createElement("div",{className:"col-md-2 col-xs-2 grid-header"},i.createElement("i",{className:"fa fa-upload",style:{marginTop:"4px",marginRight:"5px"}})," File Upload"),i.createElement("div",{className:"col-md-1 col-xs-2 grid-header"},"Done"),i.createElement("div",{className:"col-md-1 col-xs-2 grid-header"},"Number"),i.createElement("div",{className:"col-md-4 col-xs-4 grid-header hidden-xs d-sm-none"},"Description - State of Capture"))),r.workFlowDescription&&r.workFlowDescription.map(function(e,t){var n=d.GetSignedURL(s.a.DOCUMENT(),e.fileName);return i.createElement("div",{key:t,className:" row no-padding"},i.createElement("div",{className:"col-md-12 col-xs-12 no-padding"},i.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10"},e.title),i.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-10"},i.createElement("a",{className:"text-primary trim-data",href:n},e.fileName)),i.createElement("div",{className:"col-md-2 col-xs-2 headingText padding-5",style:{display:"inline-flex"}},i.createElement("div",{style:{background:e.fileName?"green":"lightgray",border:"1px solid gray",width:"30px",marginRight:"5px",height:"30px",borderRadius:"5px"}}),"\xa0",!c&&i.createElement("button",{type:"button",className:"btn btn-xs btn-dark btn-fill",onClick:function(){},disabled:c,"data-toggle":"modal","data-target":"#fileUpload"+t},i.createElement("span",{className:"hidden-xs"},i.createElement("i",{className:"fa fa-eye",style:{marginTop:"4px",marginRight:"5px"}}),"View File"))),i.createElement("div",{className:"col-md-1 col-xs-2 headingText padding-5"},i.createElement("input",{style:{border:"1px solid gray"},name:"done",type:"checkbox",className:"custom-control",disabled:c,checked:!!e.done})),i.createElement("div",{className:"col-md-1 col-xs-2 headingText padding-5"},i.createElement("input",{type:"text",name:"number",disabled:c,value:e.number,className:"custom-control",style:{border:"1px solid gray",width:"80%"}})),i.createElement("div",{className:"col-md-3 col-xs-2 headingText padding-5"},i.createElement("input",{type:"text",name:"workFlowDescription",disabled:c,value:e.workFlowDescription,className:"custom-control",placeholder:"Enter Description"})),i.createElement("div",{className:"col-md-1 col-xs-2 padding-5"},!c&&i.createElement("button",{className:"btn btn-xs active btn-danger",disabled:c},i.createElement("i",{className:"fa fa-trash"})))),i.createElement(a.a,{id:"fileUpload"+t,heading:"Workflow Description",saveButtonText:"Done",onSaveButtonClick:function(){document.getElementById("fileUpload"+t).click()},disableSaveButton:!1},i.createElement("div",{className:"content"},i.createElement("div",{className:"dataCard"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 center"},i.createElement("img",{src:n,alt:e.fileName})))))))}))))))))))))},t}(i.Component);t.a=c},3038:function(e,t,n){"use strict";var i=n(2),a=(n.n(i),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function l(e){try{r(i.next(e))}catch(e){o(e)}}function s(e){try{r(i.throw(e))}catch(e){o(e)}}function r(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((i=i.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={inspectionVisibility:n.props.inspectionVisibility?n.props.inspectionVisibility:Object(),otherNotes:"",otherCompleted:!1,otherInspectionOntology:[],otherInspectionOntologies:"",entityName:n.props.entityName?n.props.entityName:""},n.getOtherCompletion=n.getOtherCompletion.bind(n),n}return a(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){return o(this,void 0,void 0,function(){var t=this;return l(this,function(n){return this.props.inspectionVisibility==e.inspectionVisibility&&this.props.entityName==e.entityName||this.setState({inspectionVisibility:e.inspectionVisibility,entityName:e.entityName},function(){return o(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.getOtherCompletion()];case 1:return e.sent(),[2]}})})}),[2]})})},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.props.inspectionVisibility&&this.props.entityName?[4,this.getOtherCompletion()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.getOtherCompletion=function(){return o(this,void 0,void 0,function(){var e,t,n,i,a,o,s,r=this;return l(this,function(l){return e=this.state,t=e.inspectionVisibility,n=e.otherInspectionOntologies,i=e.otherCompleted,a=e.otherNotes,o=e.otherInspectionOntology,this.props.entityName&&this.props.inspectionOntology&&(s=this.props.AllOtherCompletionListOfSpace.find(function(e){return e.entityName==r.state.entityName}))&&(i=s.otherCompleted,a=s.otherNotes,n=s.inspectionOntology,o=n.split(","),t.OtherCompleted=s.otherCompleted,t.OtherinspectionOntology=!!o.find(function(e){return e==r.props.inspectionOntology}),this.setState({otherInspectionOntologies:n,otherCompleted:i,otherNotes:a,otherInspectionOntology:o,inspectionVisibility:t})),[2]})})},t.prototype.render=function(){var e=this.props,t=e.workflow,n=e.isView,a=e.isFromReport,o=this.state.inspectionVisibility;return i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-1 col-xs-2 headingText"},!a&&t.ecm&&o&&i.createElement("div",{className:"switch-container pull-right"},i.createElement("label",null,i.createElement("input",{disabled:n,checked:o.showECM,onChange:function(e){},className:"switch",type:"checkbox"}),i.createElement("div",null,i.createElement("div",null))))),i.createElement("div",{className:"col-md-1 col-xs-2 headingText"},t.ecm&&o&&o.showECM&&i.createElement("div",{className:"switch-container pull-right"},n&&i.createElement("label",null,i.createElement("input",{disabled:n,checked:o.ECMCompleted,onChange:function(e){},className:"switch1",type:"checkbox"}),i.createElement("div",null,i.createElement("div",null))))),i.createElement("div",{className:"col-md-1 col-xs-2 col-md-offset-1 headingText"},!a&&t.rcx&&o&&i.createElement("div",{className:"switch-container pull-right"},i.createElement("label",null,i.createElement("input",{disabled:n,checked:o.showRCX,onChange:function(e){},className:"switch",type:"checkbox"}),i.createElement("div",null,i.createElement("div",null))))),i.createElement("div",{className:"col-md-1 col-xs-2 headingText"},t.rcx&&o&&o.showRCX&&i.createElement("div",{className:"switch-container pull-right"},n&&i.createElement("label",null,i.createElement("input",{disabled:n,checked:o.RCXCompleted,onChange:function(e){},className:"switch1",type:"checkbox"}),i.createElement("div",null,i.createElement("div",null))))),i.createElement("div",{className:"col-md-1 col-xs-2 col-md-offset-1 headingText"},!a&&t.ca&&o&&i.createElement("div",{className:"switch-container pull-right"},i.createElement("label",null,i.createElement("input",{disabled:n,checked:o.showCA,onChange:function(e){},className:"switch",type:"checkbox"}),i.createElement("div",null,i.createElement("div",null))))),i.createElement("div",{className:"col-md-1 col-xs-2 headingText"},t.ca&&o&&o.showCA&&i.createElement("div",{className:"switch-container pull-right"},n&&i.createElement("label",null,i.createElement("input",{disabled:n,checked:o.CACompleted,onChange:function(e){},className:"switch1",type:"checkbox"}),i.createElement("div",null,i.createElement("div",null))))),i.createElement("div",{className:"col-md-1 col-xs-2 col-md-offset-1 headingText"},!a&&t.other&&i.createElement("div",{className:"switch-container pull-right"},i.createElement("label",null,i.createElement("input",{disabled:n,checked:o.showOther,onChange:function(e){},className:"switch",type:"checkbox"}),i.createElement("div",null,i.createElement("div",null))))),i.createElement("div",{className:"col-md-1 col-xs-2 headingText"},t.other&&o&&o.showOther&&i.createElement("div",{className:"switch-container pull-right"},n&&i.createElement("label",null,i.createElement("input",{disabled:n,checked:o.OtherCompleted,onChange:function(e){},className:"switch1",type:"checkbox"}),i.createElement("div",null,i.createElement("div",null)))))))},t}(i.Component);t.a=s},3039:function(e,t,n){"use strict";var i,a=n(2),o=(n.n(a),n(683)),l=n(12),s=n(868),r=n(866),c=n(867),d=n(869),m=n(20),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function l(e){try{r(i.next(e))}catch(e){o(e)}}function s(e){try{r(i.throw(e))}catch(e){o(e)}}function r(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((i=i.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},f=["Appropriate Schedule","Sensors or Actuators Calibrated","Equal Load Distribution Across Equipment","Ventilation Rates are Appropriate","Automatic Reset Functioning","Adjustments Made to Compensate for Oversized/Undersized Equip","No Unintended Simultaneous Cooling/Heating Occurs","Economizer Controls Functioning Properly","Air/Water Distribution Balanced","Light Levels are Appropriate","Light Sensors and Controls are Function Properly","DHW Temp. Settings are Correct","Water Pumps Properly Functioning","There Are No Water/Air Leaks"],g=["Vents/Ducts/Coils Are Clean","Filters/Steam Traps are Clean","Components in Good Condition (belts, bearings, pulleys, etc.)","Proper Insulation/Sealant Where Required"],b=["Fan","Compressor","Motor","Pump","Ballast","Lamp","Other"],y=["VFD","Dimmer","Occ. Sensor","Controls","Other"],v="Condition",E="Compliance",N="Safety",C="CA_Note",x=function(e){function t(t){var n=e.call(this,t)||this;return n.state={ecm:n.props.ecm?n.props.ecm:{ecmItems:[],item:n.props.entityName,notes:"",proposeSchedule:[]},replacementEquipmentList:[],inspectionOntology:n.props.inspectionOntology?n.props.inspectionOntology:"",rcxObj:n.props.rcxObj?n.props.rcxObj:{currentSchedule:[],adjustedSchedule:[],currentConditionsCleanliness:[],currentConditionsInspections:[],rcxtasksCleanliness:[],rcxtasksInspections:[]},caObj:n.props.caObj?n.props.caObj:{caAssessments:[]},equipLabels:[],conditionsLabels:[],complianceLabels:[],safetyLabels:[],other:n.props.other?n.props.other:Object()},i=n,n.getEquipmentType=n.getEquipmentType.bind(n),n.setupDropdownLists=n.setupDropdownLists.bind(n),n}return p(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.inspectionOntology!=e.inspectionOntology&&this.setState({inspectionOntology:e.inspectionOntology,ecm:e.ecm,rcxObj:e.rcxObj,caObj:e.caObj,other:e.other})},t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){return h(this,function(e){return this.props.inspectionOntology&&this.setupDropdownLists(),[2]})})},t.prototype.getEquipmentType=function(){return u(this,void 0,void 0,function(){var e,t,n,a=this;return h(this,function(s){return e=this.props,t=e.buildingName,n=e.entityName,Object(o.v)(t,n).then(function(e){return u(a,void 0,void 0,function(){return h(this,function(t){return Object(o.u)(Object(l.g)(e[0]),2).then(function(e){var t=e.map(function(e){return Object(l.g)(e)});i.setState({replacementEquipmentList:t})}),[2]})})}),[2]})})},t.prototype.setupDropdownLists=function(){return u(this,void 0,void 0,function(){var e,t,n,i,a;return h(this,function(o){return e=this.state,t=e.equipLabels,n=e.conditionsLabels,i=e.complianceLabels,a=e.safetyLabels,t=["Cleanliness","Debris","Insulation/Sealing","Rust/Chipped Paint","Loose Connections","Pad/Support/Dunnage","Ventilation","General Notes"],0==n.length&&n.push.apply(n,["Access","Ceiling","Egress","Fenestration","Flooring","Foundation","Frame","Roof","Walls","Curb","Landscaping","Pad","ParkingLot","ParkingSpace","Paving","StructuralElement"]),0==i.length&&i.push.apply(i,["ADA","HIPAA","PCI"]),0==a.length&&a.push.apply(a,["AED","AlarmSystem","FireExtinguisher","Sprinkler"]),this.setState({equipLabels:t,conditionsLabels:n,complianceLabels:i,safetyLabels:a}),[2]})})},t.prototype.render=function(){var e=this.props,t=e.inspectionVisibility,n=e.buildingName,i=e.instance,o=e.infoEntity,l=e.ecm,p=e.rcxObj,u=e.caObj,h=e.other,x=e.entityName,w=this.state,O=w.replacementEquipmentList,L=w.equipLabels,S=w.conditionsLabels,A=w.complianceLabels,k=w.safetyLabels,_=l&&l.ecmItems?l.ecmItems.filter(function(e){return"hasECMRComp"==e.type}):[],I=l&&l.ecmItems?l.ecmItems.filter(function(e){return"hasECMNComp"==e.type}):[],F=l&&l.ecmItems?l.ecmItems.filter(function(e){return"hasECMREquip"==e.type}):[],j=u&&u.caAssessments?u.caAssessments.filter(function(e){return e.type==C}):[],T=u&&u.caAssessments?u.caAssessments.filter(function(e){return e.type==v}):[],D=u&&u.caAssessments?u.caAssessments.filter(function(e){return e.type==E}):[],R=u&&u.caAssessments?u.caAssessments.filter(function(e){return e.type==N}):[];return a.createElement(a.Fragment,null,a.createElement("div",{className:"row padding-10"},t&&t.ECMCompleted&&a.createElement("div",{className:"col-md-offset-2 col-md-10"},a.createElement("div",{className:"col-md-12",style:{paddingTop:"20px"}},a.createElement("div",{className:"col-md-2 headingText trim-data",style:{color:"grey"}},"ECM:"),a.createElement("div",{className:"col-md-10"},a.createElement("div",{className:"col-md-12"},_&&_.length>0&&a.createElement(s.a,{instance:i,buildingName:n,dropDownLabel:"Replacement Component",dropDownList:b,isFromReport:!0,typePredicate:"hasECMRComp",items:_,hideAddButton:!0,isView:!0})),a.createElement("div",{className:"col-md-12"},I&&I.length>0&&a.createElement(s.a,{instance:i,buildingName:n,dropDownLabel:"New Component",isFromReport:!0,dropDownList:y,typePredicate:"hasECMNComp",items:I,hideAddButton:!0,isView:!0})),a.createElement("div",{className:"col-md-12"},F&&F.length>0&&a.createElement(s.a,{instance:i,buildingName:n,dropDownLabel:"Replacement Equipment",isFromReport:!0,dropDownList:O,typePredicate:"hasECMREquip",items:F,hideAddButton:!0,isView:!0})),a.createElement("div",{className:"col-md-10"},a.createElement("div",{className:"form-group"},a.createElement("div",{className:"col-md-2"},"Notes"),a.createElement("div",{className:"col-md-10"},a.createElement("textarea",{className:"form-control",value:Object(m.J)(l&&l.notes,!1),rows:3,disabled:!0}))))))),t&&t.RCXCompleted&&a.createElement("div",{className:"col-md-offset-2 col-md-10"},a.createElement("div",{className:"col-md-12",style:{paddingTop:"20px"}},a.createElement("div",{className:"col-md-2 headingText trim-data",style:{color:"grey"}},"RCX:"),a.createElement("div",{className:"col-md-10"},a.createElement("div",{className:"col-md-12 headingText trim-data",style:{color:"grey"}},"Current Conditions:"),a.createElement("div",{className:"col-md-12 padding-10 "},a.createElement("h4",{className:"title"},"Inspections"),a.createElement("div",{className:"padding-10"},a.createElement(r.a,{isFromReport:!0,isInspectionOrCleanliness:"inspection",buildingName:n,instance:i,hideAddButton:!0,rcxOf:o,currentConditions:p&&p.currentConditionsInspections?p.currentConditionsInspections:[],labels:f,isView:!0,entityName:x,infoEntity:o}))),a.createElement("div",{className:"col-md-12 padding-10 "},a.createElement("h4",{className:"title"},"Cleanliness"),a.createElement("div",{className:"padding-10"},a.createElement(r.a,{isFromReport:!0,hideAddButton:!0,isInspectionOrCleanliness:"cleanliness",buildingName:n,instance:i,rcxOf:o,currentConditions:p&&p.currentConditionsCleanliness?p.currentConditionsCleanliness:[],labels:g,isView:!0,entityName:x,infoEntity:o}))),a.createElement("div",{className:"col-md-12 headingText trim-data",style:{color:"grey"}},"RCX Task CheckList:"),a.createElement("div",{className:"col-md-12 padding-10 "},a.createElement("h4",{className:"title"},"Inspections"),a.createElement("div",{className:"padding-10"},a.createElement(c.a,{isFromReport:!0,hideAddButton:!0,buildingName:n,instance:i,rcxOf:o,rcxItems:p&&p.rcxtasksInspections?p.rcxtasksInspections:[],isView:!0,isInspectionOrCleanliness:"Inspection",entityName:x,infoEntity:o}))),a.createElement("div",{className:"col-md-12 padding-10 "},a.createElement("h4",{className:"title"},"Cleanliness"),a.createElement("div",{className:"padding-10"},a.createElement(c.a,{isFromReport:!0,hideAddButton:!0,buildingName:n,instance:i,rcxOf:o,rcxItems:p&&p.rcxtasksCleanliness?p.rcxtasksCleanliness:[],isView:!0,isInspectionOrCleanliness:"Cleanliness",entityName:x,infoEntity:o})))))),t&&t.CACompleted&&a.createElement("div",{className:"col-md-offset-2 col-md-10"},a.createElement("div",{className:"col-md-12",style:{paddingTop:"20px"}},a.createElement("div",{className:"col-md-2 headingText trim-data",style:{color:"grey"}},"CA:"),a.createElement("div",{className:"col-md-10"},a.createElement("div",{className:"col-md-12 headingText trim-data",style:{color:"grey"}},"Condition Assessment:"),"Equip"==o&&L.length>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-12"},a.createElement(d.a,{isFromReport:!0,instance:i,buildingName:n,caOf:o,items:j,hideAddButton:!0,type:C,labels:L,isView:!0,entityName:x,infoEntity:o}))),"Space"==o&&a.createElement(a.Fragment,null,S.length>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-12"},a.createElement("h4",null,v," Assessments"),a.createElement(d.a,{isFromReport:!0,instance:i,buildingName:n,caOf:o,items:T,hideAddButton:!0,type:v,labels:S,isView:!0,entityName:x,infoEntity:o})),a.createElement("br",null),a.createElement("br",null)),A.length>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-12"},a.createElement("h4",null,E," Assessments"),a.createElement(d.a,{instance:i,buildingName:n,caOf:o,items:D,hideAddButton:!0,type:E,labels:A,isView:!0,entityName:x,infoEntity:o})),a.createElement("br",null),a.createElement("br",null)),k.length>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-md-12"},a.createElement("h4",null,N," Assessments"),a.createElement(d.a,{instance:i,buildingName:n,caOf:o,items:R,hideAddButton:!0,type:N,labels:k,isView:!0,entityName:x,infoEntity:o})),a.createElement("br",null),a.createElement("br",null)))))),t&&t.OtherCompleted&&a.createElement("div",{className:"col-md-offset-2 col-md-10"},a.createElement("div",{className:"col-md-12",style:{paddingTop:"20px"}},a.createElement("div",{className:"col-md-2 headingText trim-data",style:{color:"grey"}},"Other:"),a.createElement("div",{className:"col-md-10"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"form-group"},a.createElement("div",{className:"col-md-2"},"Notes"),a.createElement("div",{className:"col-md-10"},a.createElement("textarea",{className:"form-control",value:Object(m.J)(h&&h.otherNotes,!1),rows:3,disabled:!0})))))))))},t}(a.Component);t.a=x},866:function(e,t,n){"use strict";var i=n(2),a=(n.n(i),n(677)),o=n(681),l=n(54),s=n(20),r=n(716),c=n(8),d=n(711),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),p=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function l(e){try{r(i.next(e))}catch(e){o(e)}}function s(e){try{r(i.throw(e))}catch(e){o(e)}}function r(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((i=i.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={currentConditions:[],ccLabel:[],labelsDropDownList:[],selectedAttachment:void 0},n.addItem=n.addItem.bind(n),n.handleItemChange=n.handleItemChange.bind(n),n.handleCurrentConditionLabelChange=n.handleCurrentConditionLabelChange.bind(n),n.handleCCLabelChange=n.handleCCLabelChange.bind(n),n.removeItem=n.removeItem.bind(n),n.handleFileAttachment=n.handleFileAttachment.bind(n),n}return m(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){return p(this,void 0,void 0,function(){return u(this,function(t){return e.buildingName&&e.instance&&this.setState({currentConditions:e.currentConditions}),[2]})})},t.prototype.componentDidMount=function(){return p(this,void 0,void 0,function(){var e;return u(this,function(t){return e=this.state.labelsDropDownList,this.props.labels&&this.props.labels.length>0&&(e=this.props.labels.map(function(e){return{value:e,label:e}}),this.setState({labelsDropDownList:e})),this.props.buildingName&&this.props.instance&&this.setState({currentConditions:this.props.currentConditions}),[2]})})},t.prototype.addItem=function(){var e=this,t=this.state,n=t.currentConditions;t.ccLabel.map(function(e){var t={preRCXName:"",ccBoolean:!1,ccLabel:e.value,proposedRCX:"",photo:"",entryTimeStamp:void 0};n||(n=[]),n.push(t)}),this.setState({currentConditions:n,ccLabel:[]},function(){return p(e,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this.props.handleAdder(n,this.props.isInspectionOrCleanliness)];case 1:return e.sent(),[2]}})})})},t.prototype.removeItem=function(e){var t=this.state.currentConditions;t.splice(e,1),this.setState({currentConditions:t}),this.props.handleAdder(t,this.props.isInspectionOrCleanliness)},t.prototype.handleCurrentConditionLabelChange=function(e){var t=this.state.ccLabel;t=e,this.setState({ccLabel:t})},t.prototype.handleCCLabelChange=function(e){this.setState({ccLabel:e})},t.prototype.handleItemChange=function(e,t){var n=this,i=this.state.currentConditions,a=t.target.name,o=i&&i[e];o[""+a]="ccBoolean"==a?t.target.checked:t.target.value,this.setState({currentConditions:i},function(){"ccBoolean"!=a&&document.getElementById(n.props.isInspectionOrCleanliness+"rcxCC"+e).focus()}),this.props.handleAdder(i,this.props.isInspectionOrCleanliness)},t.prototype.handleFileAttachment=function(e,t){var n=this,i=this.props,a=i.buildingName,o=i.entityName,r=i.infoEntity,m=JSON.parse(c.a.getItem("user")),p=this.state.currentConditions,u=p[t];try{if(e&&e.name&&(e.file||e.length>0)&&u){var h,f,g=this.props.buildingName+"-_-"+Object(s.C)(10),b=e.name.substring(e.name.indexOf("."));h=""+g+b,f=e,p[t].photo=h,this.setState({currentConditions:p,selectedAttachment:e},function(){n.props.handleAdder(p,n.props.isInspectionOrCleanliness),(new l.b).UploadFile(l.a.DOCUMENT(),h,f,function(){var t={building:a,docOntology:Object(s.C)(12),documentType:"InspectionDoc",documentSubtype:"InspectionDoc",enteredBy:m.contact,enteredByName:m.name,entityOntology:[{label:"",value:o}],entityType:r,rdfsLabel:e.name,s3FileName:h,entryTimeStamp:(new Date).toString(),linkToDocument:h};Object(d.f)(t).then(function(){})})})}}catch(e){}},t.prototype.render=function(){var e=this,t=this.state,n=t.currentConditions,s=t.ccLabel,c=t.labelsDropDownList,d=this.props,m=d.hideAddButton,p=d.isView,u=d.isFromReport,h=new l.b;return i.createElement(i.Fragment,null,n&&n.map(function(t,n){var o="";return t.photo&&(t.photo.toLowerCase().indexOf(".mp4")>0&&(o="assets/img/video-file-icon.png"),t.photo.toLowerCase().indexOf(".pdf")>0&&(o="assets/img/pdf-file-icon.png"),(t.photo.toLowerCase().indexOf(".xls")>0||t.photo.toLowerCase().indexOf(".csv")>0)&&(o="assets/img/excel-file-icon.png"),(t.photo.toLowerCase().indexOf(".docx")>0||t.photo.toLowerCase().indexOf(".txt")>0)&&(o="assets/img/doc-file-icon.png"),(t.photo.toLowerCase().indexOf(".png")>0||t.photo.toLowerCase().indexOf(".jpeg")>0||t.photo.toLowerCase().indexOf(".jpg")>0||t.photo.toLowerCase().indexOf(".tiff")>0)&&(o=h.GetSignedURL(l.a.DOCUMENT(),t.photo))),i.createElement("div",{key:n,className:"row padding-5",style:{borderBottom:"1px dotted #20cac738"}},i.createElement("div",{className:"col-md-3"},i.createElement("label",{htmlFor:"ccBoolean"+n},t.ccLabel)),i.createElement("div",{className:"col-md-1",style:{maxWidth:120}},i.createElement("div",{className:"switch-container"},"No / Yes",i.createElement("label",null,i.createElement("input",{id:"ccBoolean"+n,disabled:p,name:"ccBoolean",checked:t.ccBoolean,onChange:function(t){e.handleItemChange(n,t)},className:"switch",type:"checkbox"}),i.createElement("div",null,i.createElement("div",null))))),!t.ccBoolean&&i.createElement(i.Fragment,null,i.createElement("div",{className:"col-md-2"},i.createElement("label",{className:"pull-right",htmlFor:t.proposedRCX},"Describe Proposed RCX:")),i.createElement("div",{className:"col-md-4"},i.createElement("textarea",{disabled:p,id:e.props.isInspectionOrCleanliness+"rcxCC"+n,className:"form-control",value:t.proposedRCX,name:"proposedRCX",onChange:function(t){return e.handleItemChange(n,t)},style:{width:"100%",height:"60px",resize:"vertical"}})),i.createElement("div",{className:"col-md-1"},i.createElement("button",{type:"button",disabled:p||u,className:"btn btn-dark pull-right",style:{fontWeight:"bold",fontSize:"12pt",width:"70px"},"data-toggle":"modal","data-target":"#uploadImage"+e.props.isInspectionOrCleanliness+n,title:"Upload Attachment",onClick:function(){e.setState({selectedAttachment:void 0})}},t.photo&&t.photo.length>3?i.createElement("img",{src:o,style:{height:20}}):i.createElement("i",{className:"fa fa-paperclip"})),i.createElement(a.a,{id:"uploadImage"+e.props.isInspectionOrCleanliness+n,onSaveButtonClick:function(){},saveButtonText:"Close",isEditForm:!1,showCancelButton:!1,cancelButtonText:"Cancel",heading:e.props.isInspectionOrCleanliness},i.createElement(r.a,{handleAttachedFile:function(t){t&&t[0]&&e.handleFileAttachment(t[0],n)},files:e.state.selectedAttachment?[e.state.selectedAttachment]:[],single:!0})))),i.createElement("div",{className:"col-md-1"},!u&&n>=0&&i.createElement("button",{disabled:p,type:"button",className:"btn btn-danger",title:"Remove Item",style:{fontWeight:"bold",fontSize:"12pt"},onClick:function(){return e.removeItem(n)}},i.createElement("i",{className:"fa fa-remove"}))))}),!m&&!u&&i.createElement("div",{className:"row padding-10"},i.createElement("div",{className:"col-md-1"},i.createElement("label",null,"Add:")),i.createElement("div",{className:"col-md-11 col-xs-11"},i.createElement("button",{type:"button",className:"btn btn-dark btn-fill btn-sm","data-toggle":"modal","data-target":"#AddLabelDialog_"+this.props.isInspectionOrCleanliness},i.createElement("i",{className:"fa fa-plus"}))),i.createElement(a.a,{disableSaveButton:!s,id:"AddLabelDialog_"+this.props.isInspectionOrCleanliness,onSaveButtonClick:function(){e.addItem()},saveButtonText:"Ok",isEditForm:!1,showCancelButton:!0,cancelButtonText:"Cancel",heading:this.props.isInspectionOrCleanliness+" labels"},c&&c.length>0&&i.createElement("div",{className:"form-group"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-12"},i.createElement(o.a,{id:"lbl",isMulti:!0,closeMenuOnSelect:!1,onChange:this.handleCCLabelChange,placeholder:this.props.isInspectionOrCleanliness+" labels",options:c,value:s}))))))))},t}(i.Component);t.a=h},867:function(e,t,n){"use strict";var i=n(2),a=(n.n(i),n(677)),o=n(54),l=n(20),s=n(716),r=n(8),c=n(711),d=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function l(e){try{r(i.next(e))}catch(e){o(e)}}function s(e){try{r(i.throw(e))}catch(e){o(e)}}function r(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((i=i.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){var n,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={rcxItems:[],selectedAttachment:void 0},n.handleNotesChange=n.handleNotesChange.bind(n),n.handleFileAttachment=n.handleFileAttachment.bind(n),n}return d(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){return m(this,void 0,void 0,function(){return p(this,function(t){return this.setState({rcxItems:e.rcxItems}),[2]})})},t.prototype.handleNotesChange=function(e,t){var n=this,i=this.state.rcxItems;i[e].notesMeasurement=Object(l.J)(t.target.value,!0),this.setState({rcxItems:i},function(){document.getElementById(n.props.isInspectionOrCleanliness+"rcxTask"+e).focus()}),this.props.handleAdder(i)},t.prototype.handleFileAttachment=function(e,t){var n=this,i=this.state.rcxItems,a=this.props,s=a.buildingName,d=a.entityName,m=a.infoEntity,p=JSON.parse(r.a.getItem("user")),u=i[t];try{if(e&&(e.file||e.length>0)&&u){var h,f=this.props.buildingName+"-_-"+Object(l.C)(10),g="";i[t].photo=g,this.setState({rcxItems:i},function(){n.props.handleAdder(i),(new o.b).UploadFile(o.a.DOCUMENT(),g,h)});var b=e.name.substring(e.name.indexOf("."));g=""+f+b,h=e,i[t].photo=g,this.setState({rcxItems:i,selectedAttachment:e},function(){n.props.handleAdder(i),(new o.b).UploadFile(o.a.DOCUMENT(),g,h,function(){var t={building:s,docOntology:Object(l.C)(12),documentType:"InspectionDoc",documentSubtype:"InspectionDoc",enteredBy:p.contact,enteredByName:p.name,entityOntology:[{label:"",value:d}],entityType:m,rdfsLabel:e.name,s3FileName:g,entryTimeStamp:(new Date).toString(),linkToDocument:g};Object(c.f)(t).then(function(){})})})}}catch(e){}},t.prototype.render=function(){var e=this,t=this.state.rcxItems,n=this.props,r=n.isView,c=n.isFromReport,d=new o.b;return i.createElement(i.Fragment,null,t&&t.map(function(t,n){var m=d.GetSignedURL(o.a.DOCUMENT(),t.photo);return i.createElement("div",{key:n,className:"row padding-5",style:{borderBottom:"1px dotted #20cac738"}},i.createElement("div",{className:"col-md-5"},i.createElement("textarea",{disabled:!0,className:"form-control",value:t.ccLabel+": "+t.proposedRCX,style:{resize:"none"}})),i.createElement("div",{className:"col-md-5 col-md-offset-1"},i.createElement("textarea",{disabled:r,id:e.props.isInspectionOrCleanliness+"rcxTask"+n,className:"form-control",value:Object(l.J)(t.notesMeasurement,!1),placeholder:"Notes/Measurements",name:"proposedRCX",onChange:function(t){return e.handleNotesChange(n,t)},style:{resize:"vertical"}})),i.createElement("div",{className:"col-md-1"},i.createElement("button",{disabled:r||c,type:"button",className:"btn btn-dark",style:{fontWeight:"bold",fontSize:"12pt",width:"70px"},"data-toggle":"modal","data-target":"#uploadImage"+e.props.isInspectionOrCleanliness+n,title:"Upload Image"},t.photo&&t.photo.length>3?i.createElement("img",{src:m,style:{height:20}}):i.createElement("i",{className:"fa fa-image"})),i.createElement(a.a,{id:"uploadImage"+e.props.isInspectionOrCleanliness+n,onSaveButtonClick:function(){},saveButtonText:"Close",isEditForm:!1,showCancelButton:!1,cancelButtonText:"Cancel",heading:e.props.isInspectionOrCleanliness},i.createElement(s.a,{handleAttachedFile:function(t){t&&t[0]&&e.handleFileAttachment(t[0],n)},files:e.state.selectedAttachment?[e.state.selectedAttachment]:[],single:!0}),t.photo&&t.photo.length>3?i.createElement(i.Fragment,null,i.createElement("br",null),i.createElement("br",null),i.createElement("img",{src:m,style:{height:150}})," "):i.createElement(i.Fragment,null))))}))},t}(i.Component);t.a=u},868:function(e,t,n){"use strict";var i=n(2),a=(n.n(i),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function l(e){try{r(i.next(e))}catch(e){o(e)}}function s(e){try{r(i.throw(e))}catch(e){o(e)}}function r(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((i=i.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={items:[],dropDownList:n.props.dropDownList},n.addItem=n.addItem.bind(n),n.removeItem=n.removeItem.bind(n),n.handleItemChange=n.handleItemChange.bind(n),n.handleManufacturerChange=n.handleManufacturerChange.bind(n),n.handleModelChange=n.handleModelChange.bind(n),n}return a(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){return l(this,function(e){return this.props.items&&this.setState({items:this.props.items}),[2]})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({dropDownList:e.dropDownList})},t.prototype.addItem=function(){var e={ecmName:"",selectedItem:"",manufacturer:"",model:"",type:this.props.typePredicate},t=this.state.items;t?t.push(e):t=[e],this.setState({items:t}),this.props.handleAdder(t)},t.prototype.removeItem=function(e){var t=this.state.items;t.splice(e,1),this.setState({items:t}),this.props.handleAdder(t)},t.prototype.handleItemChange=function(e,t){var n=this.state.items;n[e].selectedItem=t,this.setState({items:n}),this.props.handleAdder(n)},t.prototype.handleManufacturerChange=function(e,t){var n=this.state.items;n[e].manufacturer=t,this.setState({items:n}),this.props.handleAdder(n)},t.prototype.handleModelChange=function(e,t){var n=this.state.items;n[e].model=t,this.setState({items:n}),this.props.handleAdder(n)},t.prototype.render=function(){var e=this,t=this.props,n=t.isView,a=t.isFromReport,o=t.dropDownLabel,l=this.state,s=l.items,r=l.dropDownList,c=s&&!1===s.map(function(e){return""!==e.selectedItem}).find(function(e){return!1===e}),d=s&&!c||!s,m=this.props.hideAddButton;return i.createElement(i.Fragment,null,s&&s.map(function(t,o){return a&&!t.selectedItem?i.createElement("div",null):i.createElement("div",{key:o,className:"row"},i.createElement("br",null),i.createElement("div",{className:"col-md-4"},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"repcmp"},e.props.dropDownLabel),i.createElement("select",{className:"form-control",id:"repcmp",disabled:n,value:t.selectedItem,onChange:function(t){return e.handleItemChange(o,t.target.value)}},i.createElement("option",{value:"",key:-2},"Select Item"),r&&r.map(function(e,t){return i.createElement("option",{key:t,value:e},e)})))),i.createElement("div",{className:"col-md-4"},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"man"},"Manufacturer"),i.createElement("input",{type:"text ",disabled:n,id:"man",className:"form-control",value:t.manufacturer,onChange:function(t){return e.handleManufacturerChange(o,t.target.value)}}))),i.createElement("div",{className:"col-md-3"},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"model"},"Model"),i.createElement("input",{type:"text ",disabled:n,id:"model",className:"form-control",value:t.model,onChange:function(t){return e.handleModelChange(o,t.target.value)}}))),i.createElement("div",{className:"col-md-1 padding-10"},i.createElement("br",null),o>0&&!a&&i.createElement("button",{type:"button",className:"btn btn-danger btn-xs",title:"Remove Item",onClick:function(){return e.removeItem(o)}},i.createElement("i",{className:"fa fa-remove"}))))}),!m&&!a&&i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12 inline-flex padding-10"},i.createElement("label",null,"Add ",o,":")," \xa0\xa0",i.createElement("button",{type:"button",disabled:!d,className:"btn btn-dark btn-fill btn-sm",title:"Add Item",onClick:this.addItem},i.createElement("i",{className:"fa fa-plus"})))),i.createElement("br",null),i.createElement("br",null))},t}(i.Component);t.a=s},869:function(e,t,n){"use strict";var i=n(2),a=(n.n(i),n(677)),o=n(681),l=n(54),s=n(20),r=n(716),c=n(13),d=n(711),m=n(8),p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function l(e){try{r(i.next(e))}catch(e){o(e)}}function s(e){try{r(i.throw(e))}catch(e){o(e)}}function r(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(l,s)}r((i=i.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){var n,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={items:[],caLabel:[],labelsDropDownList:[],files:[]},n.addItem=n.addItem.bind(n),n.removeItem=n.removeItem.bind(n),n.handleItemChange=n.handleItemChange.bind(n),n.handleCALabelChange=n.handleCALabelChange.bind(n),n.handleFileAttachment=n.handleFileAttachment.bind(n),n}return p(t,e),t.prototype.componentDidMount=function(){return u(this,void 0,void 0,function(){var e;return h(this,function(t){return e=this.state.labelsDropDownList,this.props.labels&&this.props.labels.length>0&&(e=this.props.labels.map(function(e){return{value:e,label:e}}),this.setState({labelsDropDownList:e})),[2]})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){return u(this,void 0,void 0,function(){return h(this,function(t){return e.items&&this.setState({items:e.items}),[2]})})},t.prototype.addItem=function(){var e=this,t=this.state,n=t.items;t.caLabel.map(function(t){var i={caName:"",age:"",assessmentLabel:t.value,notes:"",photo:[],repairCost:"",size:"",type:e.props.type,entryTimeStamp:"",typeOf:t.value};n||(n=[]),n.push(i)}),this.setState({items:n,caLabel:[]}),this.props.handleAdder(n,this.props.type)},t.prototype.removeItem=function(e){var t=this.state.items;t.splice(e,1),this.setState({items:t}),this.props.handleAdder(t,this.props.type)},t.prototype.handleCALabelChange=function(e){this.setState({caLabel:e})},t.prototype.handleItemChange=function(e,t){var n=this.state.items,i=t.target.name;(n&&n[e])[""+i]=t.target.value,this.setState({items:n}),this.props.handleAdder(n,this.props.type)},t.prototype.handleFileAttachment=function(e,t){var n=this,i=this.props,a=i.buildingName,o=i.entityName,r=i.infoEntity,c=JSON.parse(m.a.getItem("user")),p=this.state.items,u=p[t];e&&e.length>0&&e[0].file&&u&&this.setState({items:p,files:e},function(){for(var i=function(i){var m,u,h=e[i],f=n.props.buildingName+"-_-"+Object(s.C)(10),g=h.name.substring(h.name.indexOf("."));m=""+f+g,u=h,p[t].photo[0]=m,n.props.handleAdder(p,n.props.type),(new l.b).UploadFile(l.a.DOCUMENT(),m,u,function(){var e={building:a,docOntology:Object(s.C)(12),documentType:"InspectionDoc",documentSubtype:"InspectionDoc",enteredBy:c.contact,enteredByName:c.name,entityOntology:[{label:"",value:o}],entityType:r,rdfsLabel:h.name,s3FileName:m,entryTimeStamp:(new Date).toString(),linkToDocument:m};Object(d.f)(e).then(function(){})})},m=0;m<e.length;m++)i(m)})},t.prototype.handlefileAttached=function(e,t){if(e.length>0){for(var n=this.state.items,i=n[t],a=0;a<e.length;a++){var o=e[a].name.split(".").pop(),r=this.props.buildingName+"_"+Object(s.C)(15)+"."+o.toLowerCase();n[0].photo[a]=r}Object(c.g)(e),this.setState({files:e,items:n},function(){}),this.props.handleAdder(n,this.props.type);var d=new l.b,m=Object(c.d)();if(m&&m.length)for(var p=0;p<m.length;p++){var u=m[p];d.UploadFile(l.a.DOCUMENT(),i.photo[p],u)}}},t.prototype.render=function(){var e=this,t=this.state,n=t.items,s=t.caLabel,c=t.labelsDropDownList,d=this.props,m=d.caOf,p=d.hideAddButton,u=void 0!==p&&p,h=d.isFromReport,f=new l.b;return i.createElement(i.Fragment,null,n&&n.map(function(t,n){var o="";return t&&t.photo&&t.photo.length&&t.photo[0]&&(t.photo[0].toLowerCase().indexOf(".mp4")>0&&(o="assets/img/video-file-icon.png"),t.photo[0].toLowerCase().indexOf(".pdf")>0&&(o="assets/img/pdf-file-icon.png"),(t.photo[0].toLowerCase().indexOf(".xls")>0||t.photo[0].toLowerCase().indexOf(".csv")>0)&&(o="assets/img/excel-file-icon.png"),(t.photo[0].toLowerCase().indexOf(".docx")>0||t.photo[0].toLowerCase().indexOf(".txt")>0)&&(o="assets/img/doc-file-icon.png"),(t.photo[0].toLowerCase().indexOf(".png")>0||t.photo[0].toLowerCase().indexOf(".jpeg")>0||t.photo[0].toLowerCase().indexOf(".jpg")>0||t.photo[0].toLowerCase().indexOf(".tiff")>0)&&(o=f.GetSignedURL(l.a.DOCUMENT(),t.photo[0]))),i.createElement("div",{key:n,className:"row"},i.createElement("br",null),i.createElement("div",{className:"form-group"},i.createElement("div",{className:"col-md-2"},i.createElement("label",{htmlFor:t.assessmentLabel},t.assessmentLabel)),"Space"==m&&i.createElement(i.Fragment,null,i.createElement("div",{className:"col-md-1"},i.createElement("input",{type:"text",id:t.age,className:"form-control",value:t.age,placeholder:"Age",name:"age",onChange:function(t){return e.handleItemChange(n,t)}})),i.createElement("div",{className:"col-md-1"},i.createElement("input",{type:"text",id:t.size,className:"form-control",value:t.size,placeholder:"Size",name:"size",onChange:function(t){return e.handleItemChange(n,t)}}))),i.createElement("div",{className:"Space"==m?"col-md-4":"col-md-6"},i.createElement("input",{type:"text",id:t.notes,className:"form-control",value:t.notes,placeholder:"Notes",name:"notes",onChange:function(t){return e.handleItemChange(n,t)}})),i.createElement("div",{className:"col-md-2"},i.createElement("input",{type:"text",id:t.repairCost,className:"form-control",value:t.repairCost,placeholder:"Approximate Repair Cost",name:"repairCost",onChange:function(t){return e.handleItemChange(n,t)}})),i.createElement("div",{className:"col-md-1"},!h&&i.createElement("button",{type:"button",className:"btn btn-dark pull-right",style:{fontWeight:"bold",fontSize:"12pt",width:"70px"},"data-toggle":"modal","data-target":"#uploadImage"+e.props.type+n,title:"Upload Attachment",onClick:function(){e.setState({files:[]})}},t&&t.photo&&t.photo.length&&t.photo[0]?i.createElement("img",{src:o,style:{height:20}}):i.createElement("i",{className:"fa fa-paperclip"})),i.createElement(a.a,{disableSaveButton:!s,id:"uploadImage"+e.props.type+n,onSaveButtonClick:function(){},saveButtonText:"Close",isEditForm:!1,showCancelButton:!1,cancelButtonText:"Cancel",heading:e.props.type},i.createElement(r.a,{handleAttachedFile:function(t){t&&t[0]&&e.handleFileAttachment(t,n)},files:e.state.files,single:!1}))),i.createElement("div",{className:"col-md-1"},!h&&n>=0&&i.createElement("button",{type:"button",className:"btn btn-danger",title:"Remove Item",onClick:function(){return e.removeItem(n)}},i.createElement("i",{className:"fa fa-remove"})))))}),!u&&!h&&i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-11 col-xs-11"},i.createElement("button",{type:"button",className:"btn btn-dark btn-fill btn-sm","data-toggle":"modal","data-target":"#AddLabelDialog"+this.props.type,style:{fontWeight:"bold"}},i.createElement("i",{className:"fa fa-plus"}),"Add ",this.props.type)),i.createElement(a.a,{disableSaveButton:!s,id:"AddLabelDialog"+this.props.type,onSaveButtonClick:function(){e.addItem()},saveButtonText:"Ok",isEditForm:!1,showCancelButton:!0,cancelButtonText:"Cancel",heading:this.props.type},c&&c.length>0&&i.createElement("div",{className:"form-group"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-12"},i.createElement("div",{className:"col-md-12"},i.createElement(o.a,{id:"lbl",isMulti:!0,closeMenuOnSelect:!1,onChange:this.handleCALabelChange,placeholder:this.props.type+" Assessment Labels",options:c,value:s}))))))))},t}(i.Component);t.a=f}});