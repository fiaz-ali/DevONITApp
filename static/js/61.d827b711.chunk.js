webpackJsonp([61],{2509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=(n.n(a),n(657)),l=n.n(r),c=n(931),o=n(24),i=n(666),s=n(10),d=n(822),u=n.n(d),m=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),h=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,l){function c(e){try{i(a.next(e))}catch(e){l(e)}}function o(e){try{i(a.throw(e))}catch(e){l(e)}}function i(e){e.done?r(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,o)}i((a=a.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){var n,a,r,l,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,a=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){c=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){c.label=l[1];break}if(6===l[0]&&c.label<r[1]){c.label=r[1],r=l;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(l);break}r[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}},f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={event:Object(),selectedCalendar:""},n.handleEventName=n.handleEventName.bind(n),n.handleStartDate=n.handleStartDate.bind(n),n.handleEndDate=n.handleEndDate.bind(n),n.onchangeAttendees=n.onchangeAttendees.bind(n),n.AddAttendees=n.AddAttendees.bind(n),n}return m(t,e),t.prototype.componentDidMount=function(){return h(this,void 0,void 0,function(){var e,t,n,a,r,l;return v(this,function(o){switch(o.label){case 0:return e=this.state.event,t=new Date,n=this.state.selectedCalendar,[4,Object(i.d)(this.props.buildingName)];case 1:return a=o.sent(),r=a[0],n=Object(s.g)(r.calendarId),this.setState({selectedCalendar:n}),n?this.props.eventID?[4,Object(c.c)(this.props.eventID,n)]:[3,3]:[3,5];case 2:return l=o.sent(),e.eventId=this.props.eventID,e.calenderId=n,e.description=l.data.description,e.location=l.data.location,e.startDate=l.data.start.dateTime,e.endDate=l.data.end.dateTime,e.eventName=l.data.summary,[3,4];case 3:e.calenderId=n,e.startDate=t,e.endDate=new Date,o.label=4;case 4:this.setState({event:e}),o.label=5;case 5:return[2]}})})},t.prototype.handleEventName=function(e){var t=this.state.event;t[e.target.name]=e.target.value,this.setState({event:t})},t.prototype.handleStartDate=function(e){var t=this.state.event;t.startDate=e,this.setState({event:t})},t.prototype.handleEndDate=function(e){var t=this.state.event;t.endDate=e,this.setState({event:t})},t.prototype.AddAttendees=function(){var e=this.state.event;e.attendees||(e.attendees=[]),e.attendees.push({email:""}),this.setState({event:e})},t.prototype.onchangeAttendees=function(e,t){var n=this.state.event;n.attendees[t].email=e,this.setState({event:n})},t.prototype.saveEvent=function(){return h(this,void 0,void 0,function(){var e,t,n,a,r,l,i;return v(this,function(s){switch(s.label){case 0:return e=this.state.event,t=this.props,n=t.instance,a=t.buildingName,r=new Date(e.startDate),l=new Date(e.endDate),r.getTime()<l.getTime()&&""!=e.eventName&&""!=e.location?[4,Object(c.d)(e)]:[3,2];case 1:return"Error"!=(i=s.sent())?Object(o.b)(""+i):Object(o.a)("Error"),window.location.hash="/"+n+"/"+a+"/FrontDesk/Calendar",[3,3];case 2:Object(o.a)("Must be start date less then end date"),s.label=3;case 3:return[2]}})})},t.prototype.render=function(){var e=this,t=this.state.event,n=t&&t.eventName&&t.location&&t.startDate&&t.endDate&&t.description;return a.createElement(a.Fragment,null,a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"card"},a.createElement("div",{className:"content"},a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"form-group col-md-12"},a.createElement("label",null," ",a.createElement("h4",null,"Must Add Calender Id")," "),a.createElement("label",{className:"form-control"},"  ",t.calenderId))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"form-group col-md-12"},a.createElement("div",{className:"col-md-2"},a.createElement("label",null,"Event Name:")),a.createElement("div",{className:"col-md-5"},a.createElement("input",{type:"text",className:(t.eventName?"":"addFieldValidate")+" form-control",name:"eventName",placeholder:"Event Name",onChange:this.handleEventName,value:t.eventName})))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"form-group col-md-12"},a.createElement("div",{className:"col-md-2"},a.createElement("label",null,"Start Date:")),a.createElement("div",{className:"col-md-3"},a.createElement(l.a,{className:(t.startDate?"":"addFieldValidate")+" form-control",selected:u()(t.startDate).toDate(),onChange:this.handleStartDate,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time"})),a.createElement("div",{className:"col-md-2"},a.createElement("label",null,"End Date:")),a.createElement("div",{className:"col-md-3"},a.createElement(l.a,{className:(t.endDate?"":"addFieldValidate")+" form-control",selected:u()(t.endDate).toDate(),onChange:this.handleEndDate,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time"})))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"form-group col-md-12"},a.createElement("div",{className:"col-md-2"},a.createElement("label",null,"Location:")),a.createElement("div",{className:"col-md-5"},a.createElement("input",{type:"text",className:(t.location?"":"addFieldValidate")+" form-control",name:"location",placeholder:"location",onChange:this.handleEventName,value:t.location})))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"form-group col-md-12"},a.createElement("div",{className:"col-md-2"},a.createElement("label",null,"Description:")),a.createElement("div",{className:"col-md-5"},a.createElement("textarea",{className:(t.description?"":"addFieldValidate")+" form-control",name:"description",placeholder:"description ..",onChange:this.handleEventName,value:t.description,style:{height:"50px"}})))),a.createElement("div",{className:"row padding-10"},a.createElement("div",{className:"col-md-10"},a.createElement("div",{className:"col-md-2"},a.createElement("button",{className:"btn btn-primary float-right",disabled:!n,onClick:function(){e.saveEvent()}},a.createElement("i",{className:"fa fa-save"})," Save"))))))))},t}(a.Component);t.default=f},931:function(e,t,n){"use strict";t.b=function(e){return l(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.e)({calendarId:e},r.a.Calendar.GetEvent,a.b.Calendar)];case 1:return[2,t.sent()]}})})},t.d=function(e){return l(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Object(r.b)({event:e},r.a.Calendar.SetEvent)];case 1:return[2,t.sent()]}})})},t.c=function(e,t){return l(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.b)({eventId:e,calendarId:t},r.a.Calendar.GetOneEvent,a.b.Calendar)];case 1:return[2,n.sent()]}})})},t.a=function(e,t){return l(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,Object(r.e)({calendarId:e,eventId:t},r.a.Calendar.DeleteEvent,a.b.Calendar)];case 1:return[2,n.sent()]}})})};var a=n(19),r=n(12),l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,l){function c(e){try{i(a.next(e))}catch(e){l(e)}}function o(e){try{i(a.throw(e))}catch(e){l(e)}}function i(e){e.done?r(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(c,o)}i((a=a.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,a,r,l,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,a=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){c=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){c.label=l[1];break}if(6===l[0]&&c.label<r[1]){c.label=r[1],r=l;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(l);break}r[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}}});