webpackJsonp([78],{776:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),c=(n.n(a),n(13)),s=n(89),i=n(18),l=n(179),r=n(4),o=n(23),d=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),m=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(c,s){function i(e){try{r(a.next(e))}catch(e){s(e)}}function l(e){try{r(a.throw(e))}catch(e){s(e)}}function r(e){e.done?c(e.value):new n(function(t){t(e.value)}).then(i,l)}r((a=a.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,a,c,s,i={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(c=2&s[0]?a.return:s[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,s[1])).done)return c;switch(a=0,c&&(s=[2&s[0],c.value]),s[0]){case 0:case 1:c=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,a=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(c=(c=i.trys).length>0&&c[c.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!c||s[1]>c[0]&&s[1]<c[3])){i.label=s[1];break}if(6===s[0]&&i.label<c[1]){i.label=c[1],c=s;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(s);break}c[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],a=0}finally{n=c=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={checklist:[],selectedChecklist:Object()},n.sortCheckList=n.sortCheckList.bind(n),n._fetchChecklistList=n._fetchChecklistList.bind(n),n._deleteChecklistTemplate=n._deleteChecklistTemplate.bind(n),n}return d(t,e),t.prototype.componentWillMount=function(){return m(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this._fetchChecklistList()];case 1:return e.sent(),[2]}})})},t.prototype.componentWillReceiveProps=function(e){e.selectedChecklist&&this.setState({selectedChecklist:e.selectedChecklist})},t.prototype._fetchChecklistList=function(){return m(this,void 0,void 0,function(){var e,t=this;return u(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,Object(i.a)(!0),[4,Object(l.g)(e).then(function(e){""==Object(r.g)(e[0].ontology)&&(e=[]),t.setState({checklist:e,selectedChecklist:Object()})}).catch(function(e){return e})];case 1:return n.sent(),Object(i.a)(!1),[2]}})})},t.prototype.sortCheckList=function(e){},t.prototype._deleteChecklistTemplate=function(e){return m(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return e?(Object(i.a)(!0),[4,Object(l.c)(e,this.props.buildingName).then(function(e){}).catch(function(e){return e})]):[3,2];case 1:t.sent(),this._fetchChecklistList(),Object(i.a)(!1),t.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,i=t.buildingName,l=t.isSelectionlist,d=this.state,m=d.checklist,u=d.selectedChecklist;return a.createElement(c.AppContext.Consumer,null,function(t){return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},!l&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 "},a.createElement("div",{className:"padding-5"},a.createElement(s.a,{filename:"checkList",data:[],ElementID:"CheckList"}),a.createElement("button",{type:"button",className:"btn btn-dark pull-right margin-left-right-5",onClick:function(){window.location.hash=n+"/"+i+"/NewChecklist"}},a.createElement("i",{className:"fa fa-plus"}),a.createElement("span",null,"New CheckList")),a.createElement("button",{className:"btn btn-secondary btn-fill pull-left margin-left-right-5",onClick:function(){window.location.hash=n+"/"+i+"/Tasks"}},a.createElement("i",{className:"fa fa-angle-double-left"}),"  Back ")))),a.createElement("div",{className:"card padding-10",id:"CheckList"},a.createElement("div",{className:"content",style:{paddingTop:"0px"}},a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"row hidden-xs no-padding"},a.createElement("div",{className:(l?"col-sm-11":"col-sm-10")+" no-padding"},a.createElement("div",{className:"col-sm-2 small grid-header-left",onClick:function(){return e.sortCheckList("Module")}},"Module Use"),a.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortCheckList("Name")}},"Checklist Name"),a.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortCheckList("Equipment")}},"Equipment"),a.createElement("div",{className:"col-sm-1 small headingText grid-header",onClick:function(){return e.sortCheckList("Space")}},"Space"),a.createElement("div",{className:"col-sm-2 small headingText grid-header",onClick:function(){return e.sortCheckList("LastDate")}},"Last Date of Use"),a.createElement("div",{className:"col-sm-2 small headingText grid-header",onClick:function(){return e.sortCheckList("DataEntry")}},"Checklist/Data Entry"),a.createElement("div",{className:"col-sm-1 small headingText grid-header",onClick:function(){return e.sortCheckList("Uses")}},"Uses")),!l&&a.createElement("div",{className:"col-sm-2"})),m.map(function(t,c){return a.createElement("div",{className:"row no-padding"},a.createElement("div",{className:(l?"col-sm-11":"col-sm-10")+" no-padding ",style:{cursor:"pointer"},onClick:function(){l?(e.props.handleSelection(t),e.setState({selectedChecklist:t})):event.preventDefault()}},a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Module Use"),""),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:Object(r.g)(t.rdfsLabel)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Checklist Name"),Object(r.g)(t.rdfsLabel)),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:"Equip"==Object(r.g)(t.assetType)?""+Object(r.g)(t.assetLabel):""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Equipment"),"Equip"==Object(r.g)(t.assetType)?""+Object(r.g)(t.assetLabel):""),a.createElement("div",{className:"col-md-1 col-sm-12  padding-10 trim-data",title:"Space"==Object(r.g)(t.assetType)?""+Object(r.g)(t.assetLabel):""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Space"),"Space"==Object(r.g)(t.assetType)?""+Object(r.g)(t.assetLabel):""),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""!=Object(r.g)(t.lastUsed)?new Date(Object(r.g)(t.lastUsed)).ToEasternDateTime():""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Last Date of Use"),""!=Object(r.g)(t.lastUsed)?new Date(Object(r.g)(t.lastUsed)).ToEasternDateTime():""),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Checklist/Data Entry"),""),a.createElement("div",{className:"col-md-1 col-sm-12  padding-10 trim-data",title:Object(r.g)(t.uses)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Uses"),Object(r.g)(t.uses))),l&&a.createElement("div",{className:"col-sm-1 padding-10  trim-data"},Object(r.g)(t.ontology)==Object(r.g)(u.ontology)&&a.createElement("i",{style:{fontSize:"18px"},className:"fa fa-check"})),!l&&a.createElement("div",{className:"col-sm-1 no-padding"},a.createElement("button",{className:"btn-xs btn-danger btn-fill",title:"Delete Checklist",onClick:function(e){document.getElementById("deleteChecklistTempBtn").click()}},a.createElement("i",{className:"fa fa-trash"})),a.createElement("button",{className:"btn-xs btn-success btn-fill",title:"Edit Checklist",onClick:function(e){window.location.hash=n+"/"+i+"/NewChecklist/"+Object(r.g)(t.ontology)}},a.createElement("i",{className:"fa fa-edit"})),a.createElement("button",{id:"deleteChecklistTempBtn",style:{display:"none"},"data-toggle":"modal","data-target":"#deleteChecklist"},"."),a.createElement(o.a,{instance:e.props.instance,id:"deleteChecklist",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to remove Checklist Template?",heading:"Confirm...",onConfirmButtonClick:function(){e._deleteChecklistTemplate(t)}})))}))))))))})},t}(a.Component);t.default=h}});