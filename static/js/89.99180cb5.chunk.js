webpackJsonp([89],{3462:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),s=(a.n(n),a(896)),r=a(652),l=a(705),o=a(22),i=a(673),c=a(663),d=a.n(c),u=a(1925),m=a(1271),h=a(117),g=a(657),p=a(659),D=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),f=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(s,r){function l(e){try{i(n.next(e))}catch(e){r(e)}}function o(e){try{i(n.throw(e))}catch(e){r(e)}}function i(e){e.done?s(e.value):function(e){return e instanceof a?e:new a(function(t){t(e)})}(e.value).then(l,o)}i((n=n.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){var a,n,s,r,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,n=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!(s=(s=l.trys).length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){l.label=r[1];break}if(6===r[0]&&l.label<s[1]){l.label=s[1],s=r;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(r);break}s[2]&&l.ops.pop(),l.trys.pop();continue}r=t.call(e,l)}catch(e){r=[6,e],n=0}finally{a=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},y="",S=function(e){function t(t){var a=e.call(this,t)||this;return a.state={verifyDetailList:[],verifyDetailObj:Object(),projectName:Object(o.r)(a.props.projectName),isPDFExport:!1,verifyObj:Object(),asis_startDateLocal:new Date,asis_finishDateLocal:new Date,ecm_startDateLocal:new Date,ecm_finishDateLocal:new Date,pointList:[],isRegressionBaseline:!1,isRegressionECM:!1,isRegression:!1,isGraphA:!1,isGraphC:!1,totalASISkwh:0,totalECMkwh:0,totalASIScost:0,totalECMcost:0,weatherData:[],qudrantOneNoaa:[],qudrantTwoNoaa:[],qudrantThreeNoaa:[],qudrantFourNoaa:[],qudrantOnePoint:[],qudrantTwoPoint:[],qudrantThreePoint:[],qudrantFourPoint:[],importFileDataASIS:[],importDataASIS:[],combinedASISBaseline:Object(),ImportFileDataECM:[],importDataECM:[],combinedECMBaseline:Object(),viewingDataCollector:[],daysData:[],baselineGraphViewingData:[],daysGraphViewingData:[],postRetrofitGraph:[],asisQuadrantData:Object(),ecmQuadrantData:Object(),seasonDataArray:[],asisGraphStartDate:"",asisGraphEndDate:"",ecmGraphStartDate:"",ecmGraphEndDate:"",seasonList:[],coolingDegreeDaysGraph:[],heatingDegreeDaysGraph:[],selectedDateArray:[],selectedSeasonArray:[],staticSeasonArray:[],nrelData:Object()},a.onChangeHandler=a.onChangeHandler.bind(a),a.saveVerifyProjectDetail=a.saveVerifyProjectDetail.bind(a),a.fetchVerifyDetail=a.fetchVerifyDetail.bind(a),a.deleteVerifyDetail=a.deleteVerifyDetail.bind(a),a.restoreDefaultList=a.restoreDefaultList.bind(a),a.showHidePDFSection=a.showHidePDFSection.bind(a),a.handleSingleSeasonGraphDataASIS=a.handleSingleSeasonGraphDataASIS.bind(a),a.handleDataDemand=a.handleDataDemand.bind(a),a.handleSeasonDate=a.handleSeasonDate.bind(a),a.handleSeasonSelect=a.handleSeasonSelect.bind(a),a.handleSeasonAnalysis=a.handleSeasonAnalysis.bind(a),a.handle_Data_Extender=a.handle_Data_Extender.bind(a),a.deleteMeasure=a.deleteMeasure.bind(a),a.fetchVerify=a.fetchVerify.bind(a),a.saveVerify=a.saveVerify.bind(a),a.measure_Detail_Prediction_Data_Calculator=a.measure_Detail_Prediction_Data_Calculator.bind(a),a.savings_since_retrofit=a.savings_since_retrofit.bind(a),a.seasonChecker=a.seasonChecker.bind(a),a}return D(t,e),t.prototype.enterFunction=function(e){return f(this,void 0,void 0,function(){return v(this,function(t){return 13===e.keyCode&&(y="Enter"),[2]})})},t.prototype.componentDidMount=function(){return f(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return Object(o.G)(!1),Object(h.a)(!0),[4,document.addEventListener("keydown",this.enterFunction,!1)];case 1:return e.sent(),this.props.buildingName?this.props.projectName?[4,this.fetchVerify()]:[3,3]:[3,6];case 2:e.sent(),e.label=3;case 3:return[4,this.fetchVerifyDetail()];case 4:return e.sent(),[4,this.savings_since_retrofit()];case 5:e.sent(),e.label=6;case 6:return Object(h.a)(!1),[2]}})})},t.prototype.deleteMeasure=function(){return f(this,void 0,void 0,function(){var e,t,a,n;return v(this,function(s){switch(s.label){case 0:return e=this.state.verifyObj,t=this.props,a=t.instance,n=t.buildingName,Object(h.a)(!0),[4,Object(l.c)(e).then(function(){window.location.hash=a+"/"+n+"/VerifyMeasure"})];case 1:return s.sent(),Object(h.a)(!1),[2]}})})},t.prototype.handleDataDemand=function(e){var t="";return e&&e.length>0&&e.map(function(e){var a;e&&e.data&&e.data.length>0&&(a=Math.max.apply(Math,e.data.map(function(e){if(e)return e.y}))),a>t&&(t=a)}),t},t.prototype.handleSeasonDate=function(e,t){var a=this.state,n=a.selectedDateArray,s=a.postRetrofitGraph,r=Object();e&&(r={label:t.toString(),value:e.toString()},n[t]=r),s&&s.length>0&&s[t]&&s[t].graphData&&(s[t].graphData=[]),this.setState({selectedDateArray:n,postRetrofitGraph:s})},t.prototype.handleSeasonSelect=function(e,t){var a=this.state,n=a.selectedSeasonArray,s=a.postRetrofitGraph,r=Object();e&&(r={label:t.toString(),value:e},n[t]=r),s&&s.length>0&&s[t]&&s[t].graphData&&(s[t].graphData=[]),this.setState({selectedSeasonArray:n,postRetrofitGraph:s})},t.prototype.handleSeasonAnalysis=function(e,t,a){var n=this.state,s=n.verifyObj,r=n.staticSeasonArray;s.measureAnalysis&&s.measureAnalysis.length>0&&(s.measureAnalysis[a].selectedSeasonName=e.label,s.measureAnalysis[a].selectedSeasonOntology=e.value,s.measureAnalysis[a].staticSeasonName=t),r&&r.length>0&&(r[a].label=e.label,r[a].value=e.value),this.setState({verifyObj:s,staticSeasonArray:r})},t.prototype.saveVerify=function(e){return f(this,void 0,void 0,function(){var t;return v(this,function(a){switch(a.label){case 0:return t=this.state.verifyObj,Object(h.a)(!0),e?[4,Object(l.t)(e)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,Object(l.t)(t)];case 3:a.sent(),a.label=4;case 4:return Object(h.a)(!1),[2]}})})},t.prototype.handle_Data_Extender=function(e,t,a,n){return f(this,void 0,void 0,function(){var s,r,o,i,c,d,u,m,h,g,p,D;return v(this,function(f){switch(f.label){case 0:return s=this.state.postRetrofitGraph,r=[],o=Object(),i=Object(),c=[],d=[],[4,Object(l.n)(e)];case 1:return(u=f.sent())&&(o=u[0]),[4,this.handleNOAA_Extended_GraphData(o,t,a)];case 2:return(m=f.sent())&&m.length>0&&(h=[],g=[],p=[],D=[],h=m[1].filter(function(e){var t=e.x;if(new Date(t)<=new Date(new Date((new Date(a.ecmEndDate).getMonth()+1+"/"+new Date(a.ecmEndDate).getDate()).toString()).setFullYear(new Date(a.ecmEndDate).getFullYear())))return e}),(g=m[0].filter(function(e){var t=e.x;if(new Date(t)<=new Date(new Date((new Date(a.ecmEndDate).getMonth()+1+"/"+new Date(a.ecmEndDate).getDate()).toString()).setFullYear(new Date(a.ecmEndDate).getFullYear())))return e}))&&g.length>0&&h&&h.length>0&&r.push({id:"Pre-Retrofit "+("cooling"==o.selectedSeason?"Summer":"heating"==o.selectedSeason?"Winter":"continuous"==o.selectedSeason?"Continuous":"shoulder1"==o.selectedSeason?"Spring":"shoulder2"==o.selectedSeason?"Fall":"")+("Both"==o.seasonType?"cooling"==o.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (131, 40%, 34%, 1)",data:g},{id:"Post-Retrofit "+("cooling"==o.selectedSeason?"Summer":"heating"==o.selectedSeason?"Winter":"continuous"==o.selectedSeason?"Continuous":"shoulder1"==o.selectedSeason?"Spring":"shoulder2"==o.selectedSeason?"Fall":"")+("Both"==o.seasonType?"cooling"==o.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (0, 0%, 0%, 1)",data:h}),c=g,d=h,h=[],g=[],h=m[1].filter(function(e){return new Date(e.x)>new Date(new Date((new Date(a.ecmEndDate).getMonth()+1+"/"+new Date(a.ecmEndDate).getDate()).toString()).setFullYear(new Date(a.ecmEndDate).getFullYear()))&&new Date(e.x)<new Date}),(g=m[0].filter(function(e){return new Date(e.x)>new Date(new Date((new Date(a.ecmEndDate).getMonth()+1+"/"+new Date(a.ecmEndDate).getDate()).toString()).setFullYear(new Date(a.ecmEndDate).getFullYear()))&&new Date(e.x)<new Date}))&&g.length>0&&h&&h.length>0&&r.push({id:"Pre-Retrofit NOAA "+("cooling"==o.selectedSeason?"Summer":"heating"==o.selectedSeason?"Winter":"continuous"==o.selectedSeason?"Continuous":"shoulder1"==o.selectedSeason?"Spring":"shoulder2"==o.selectedSeason?"Fall":"")+("Both"==o.seasonType?"cooling"==o.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (131, 40%, 34%, 1)",data:g},{id:"Post-Retrofit NOAA "+("cooling"==o.selectedSeason?"Summer":"heating"==o.selectedSeason?"Winter":"continuous"==o.selectedSeason?"Continuous":"shoulder1"==o.selectedSeason?"Spring":"shoulder2"==o.selectedSeason?"Fall":"")+("Both"==o.seasonType?"cooling"==o.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (0, 0%, 0%, 1)",data:h}),r&&r.length>0&&c&&c.length>0&&d&&d.length>0&&g&&g.length>0&&h&&h.length>0&&(c.push(g[0]),d.push(h[0]),r[0]={id:r[0].id,color:r[0].color,data:c},r[1]={id:r[1].id,color:r[1].color,data:d},c=[],d=[]),c=g,d=h,p=m[1].filter(function(e){return new Date(e.x)>new Date(new Date((new Date(a.ecmEndDate).getMonth()+1+"/"+new Date(a.ecmEndDate).getDate()).toString()).setFullYear(new Date(a.ecmEndDate).getFullYear()))&&new Date(e.x)>new Date}),(D=m[0].filter(function(e){return new Date(e.x)>new Date(new Date((new Date(a.ecmEndDate).getMonth()+1+"/"+new Date(a.ecmEndDate).getDate()).toString()).setFullYear(new Date(a.ecmEndDate).getFullYear()))&&new Date(e.x)>new Date}))&&D.length>0&&p&&p.length>0&&r.push({id:"Pre-Retrofit NREL "+("cooling"==o.selectedSeason?"Summer":"heating"==o.selectedSeason?"Winter":"continuous"==o.selectedSeason?"Continuous":"shoulder1"==o.selectedSeason?"Spring":"shoulder2"==o.selectedSeason?"Fall":"")+("Both"==o.seasonType?"cooling"==o.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (131, 40%, 34%, 1)",data:D},{id:"Post-Retrofit NREL "+("cooling"==o.selectedSeason?"Summer":"heating"==o.selectedSeason?"Winter":"continuous"==o.selectedSeason?"Continuous":"shoulder1"==o.selectedSeason?"Spring":"shoulder2"==o.selectedSeason?"Fall":"")+("Both"==o.seasonType?"cooling"==o.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (0, 0%, 0%, 1)",data:p}),r&&r.length>0&&c&&c.length>0&&d&&d.length>0&&D&&D.length>0&&p&&p.length>0?(c.push(D[0]),d.push(p[0]),r[2]={id:r[2].id,color:r[2].color,data:c},r[3]={id:r[3].id,color:r[3].color,data:d},c=[],d=[]):r&&r.length>0&&!(c&&c.length>0)&&!(d&&d.length>0)&&D&&D.length>0&&p&&p.length>0&&(c=r[0].data,d=r[1].data,c.push(D[0]),d.push(p[0]),r[0]={id:r[0].id,color:r[0].color,data:c},r[1]={id:r[1].id,color:r[1].color,data:d},c=[],d=[])),i={seasonName:o.selectedSeason,graphData:r},s[n]=i,r=[],this.setState({postRetrofitGraph:s}),[2]}})})},t.prototype.handleSingleSeasonGraphDataASIS=function(e){return f(this,void 0,void 0,function(){var t,a,n,s,r,o,i;return v(this,function(c){switch(c.label){case 0:return t=new Date(new Date(e.asisStartDate).setHours(0,0,0,0)),a=new Date(new Date(e.asisEndDate).setHours(0,0,0,0)),s=[],r=[],o=[],e.importDataASISOntology?[4,Object(l.k)(e.importDataASISOntology).then(function(e){n=e[0].fileData})]:[3,3];case 1:return c.sent(),[4,Object(m.c)(n,new Date(e.asisStartDate),new Date(e.asisEndDate),e.noaaStation.value,parseFloat(e.basepointCD),parseFloat(e.basepointHD),e.isMeasureFile)];case 2:n=c.sent(),i=function(){var e=0,a=0,l=0,i=t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear(),c=n.filter(function(e){return i==e.date});c&&c.length>0&&(e=c.reduce(function(e,t){return e+t.load},0),s.push({x:t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),y:e||0}),a=c.reduce(function(e,t){return e+t.CDH},0),r.push({x:t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),y:a||0}),l=c.reduce(function(e,t){return e+t.HDH},0),o.push({x:t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),y:l||0})),t.setDate(t.getDate()+1)};do{i()}while(t.getTime()!=a.getTime());return s&&s.length>0?[2,[s,r,o]]:[3,4];case 3:return[2,[]];case 4:return[2]}})})},t.prototype.handleSingleSeasonGraphDataECM=function(e){return f(this,void 0,void 0,function(){var t,a,n,s,r,o;return v(this,function(i){switch(i.label){case 0:return t=new Date(new Date(e.ecmStartDate).setHours(0,0,0,0)),a=new Date(new Date(e.ecmEndDate).setHours(0,0,0,0)),s=[],r=[],e.importDataECMOntology?[4,Object(l.k)(e.importDataECMOntology).then(function(e){n=e[0].fileData})]:[3,7];case 1:return i.sent(),[4,Object(m.c)(n,new Date(e.ecmStartDate),new Date(e.ecmEndDate),e.noaaStation.value,parseFloat(e.basepointCD),parseFloat(e.basepointHD),e.isMeasureFile)];case 2:n=i.sent(),o=function(){var a,l,o,i,c,d;return v(this,function(u){switch(u.label){case 0:return a=0,l=t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear(),o=n.filter(function(e){return e.date==l}),i=void 0,e.asisSeasonGraphData?[4,Object(m.b)(o,e.asisSeasonGraphData,e.seasonType,e.selectedAnalysis)]:[3,2];case 1:return i=u.sent(),[3,3];case 2:i=0,u.label=3;case 3:if(o&&o.length>0){for(c=0;c<o.length;c++)(d=o[c])&&d.load&&(a+=d.load);r.push({x:t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),y:a})}return i&&s.push({x:t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),y:i}),t.setDate(t.getDate()+1),[2]}})},i.label=3;case 3:return[5,o()];case 4:i.sent(),i.label=5;case 5:if(t.getTime()!=a.getTime())return[3,3];i.label=6;case 6:return s&&s.length>0&&r&&r.length>0?[2,[s,r]]:[3,8];case 7:return r&&r.length>0?[2,[[],r]]:[2,[]];case 8:return[2]}})})},t.prototype.graphAandC=function(e){return f(this,void 0,void 0,function(){var t,a,n,s,r,l,o,i,c,d,u,m,h,g,p,D,f,y,S,E,b,N,w,M,A;return v(this,function(C){switch(C.label){case 0:if(t=this.state.seasonDataArray,a=this.state,n=a.daysGraphViewingData,s=a.asisGraphStartDate,r=a.asisGraphEndDate,l=a.ecmGraphStartDate,o=a.ecmGraphEndDate,i=a.coolingDegreeDaysGraph,c=a.heatingDegreeDaysGraph,d=a.postRetrofitGraph,u=[],m=[],h=[],g=[],p=[],"C"!=e)return[3,5];n=[],d=[],S=[],D=[],f=function(e){var a,s,r,l,o,i,c;return v(this,function(m){switch(m.label){case 0:return a=t[e],[4,y.handleSingleSeasonGraphDataECM(a)];case 1:return s=m.sent(),[4,y.handleNOAA_Extended_GraphData(a)];case 2:return r=m.sent(),s&&s.length>0&&(u=s[0],g=s[1],n&&n.length>0&&S&&S.length>0&&D&&D.length>0&&(S.push(u[0]),D.push(g[0]),n[n.length-2]={id:n[n.length-2].id,color:n[n.length-2].color,data:S},n[n.length-1]={id:n[n.length-1].id,color:n[n.length-1].color,data:D},S=[],D=[])),n.push({id:"Pre-Retrofit "+("cooling"==a.selectedSeason?"Summer":"heating"==a.selectedSeason?"Winter":"continuous"==a.selectedSeason?"Continuous":"shoulder1"==a.selectedSeason?"Spring":"shoulder2"==a.selectedSeason?"Fall":"")+("Both"==a.seasonType?"cooling"==a.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (131, 40%, 34%, 1)",data:u},{id:"Post-Retrofit "+("cooling"==a.selectedSeason?"Summer":"heating"==a.selectedSeason?"Winter":"continuous"==a.selectedSeason?"Continuous":"shoulder1"==a.selectedSeason?"Spring":"shoulder2"==a.selectedSeason?"Fall":"")+("Both"==a.seasonType?"cooling"==a.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (0, 0%, 0%, 1)",data:g}),r&&r.length>0?(l=[],o=[],l=r[1].filter(function(e){return new Date(e.x).setFullYear(new Date(a.ecmEndDate).getFullYear())<=new Date((new Date(a.ecmEndDate).getMonth()+1+"/"+new Date(a.ecmEndDate).getDate()).toString()).setFullYear(new Date(a.ecmEndDate).getFullYear())}),o=r[0].filter(function(e){return new Date(e.x).setFullYear(new Date(a.ecmEndDate).getFullYear())<=new Date((new Date(a.ecmEndDate).getMonth()+1+"/"+new Date(a.ecmEndDate).getDate()).toString()).setFullYear(new Date(a.ecmEndDate).getFullYear())}),S=o,D=l,p.push({id:"Pre-Retrofit "+("cooling"==a.selectedSeason?"Summer":"heating"==a.selectedSeason?"Winter":"continuous"==a.selectedSeason?"Continuous":"shoulder1"==a.selectedSeason?"Spring":"shoulder2"==a.selectedSeason?"Fall":"")+("Both"==a.seasonType?"cooling"==a.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (131, 40%, 34%, 1)",data:o},{id:"Post-Retrofit "+("cooling"==a.selectedSeason?"Summer":"heating"==a.selectedSeason?"Winter":"continuous"==a.selectedSeason?"Continuous":"shoulder1"==a.selectedSeason?"Spring":"shoulder2"==a.selectedSeason?"Fall":"")+("Both"==a.seasonType?"cooling"==a.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (0, 0%, 0%, 1)",data:l}),i=[],c=[],i=r[1].filter(function(e){return new Date(e.x).setFullYear(new Date(a.ecmEndDate).getFullYear())>new Date((new Date(a.ecmEndDate).getMonth()+1+"/"+new Date(a.ecmEndDate).getDate()).toString()).setFullYear(new Date(a.ecmEndDate).getFullYear())}),c=r[0].filter(function(e){return new Date(e.x).setFullYear(new Date(a.ecmEndDate).getFullYear())>new Date((new Date(a.ecmEndDate).getMonth()+1+"/"+new Date(a.ecmEndDate).getDate()).toString()).setFullYear(new Date(a.ecmEndDate).getFullYear())}),p.push({id:"Pre-Retrofit NOAA "+("cooling"==a.selectedSeason?"Summer":"heating"==a.selectedSeason?"Winter":"continuous"==a.selectedSeason?"Continuous":"shoulder1"==a.selectedSeason?"Spring":"shoulder2"==a.selectedSeason?"Fall":"")+("Both"==a.seasonType?"cooling"==a.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (131, 40%, 34%, 1)",data:c},{id:"Post-Retrofit NOAA "+("cooling"==a.selectedSeason?"Summer":"heating"==a.selectedSeason?"Winter":"continuous"==a.selectedSeason?"Continuous":"shoulder1"==a.selectedSeason?"Spring":"shoulder2"==a.selectedSeason?"Fall":"")+("Both"==a.seasonType?"cooling"==a.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (0, 0%, 0%, 1)",data:i}),d.push({seasonName:a.selectedSeason,graphData:p}),p&&p.length>0&&d&&d.length>0&&c&&c.length>0&&i&&i.length>0&&(S.push(c[0]),D.push(i[0]),p[0]={id:p[0].id,color:p[0].color,data:S},p[1]={id:p[1].id,color:p[1].color,data:D},d[d.length-1]={seasonName:d[d.length-1].seasonName,graphData:p}),S=[],D=[]):(p.push({id:"Pre-Retrofit "+("cooling"==a.selectedSeason?"Summer":"heating"==a.selectedSeason?"Winter":"continuous"==a.selectedSeason?"Continuous":"shoulder1"==a.selectedSeason?"Spring":"shoulder2"==a.selectedSeason?"Fall":"")+("Both"==a.seasonType?"cooling"==a.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (131, 40%, 34%, 1)",data:u},{id:"Post-Retrofit "+("cooling"==a.selectedSeason?"Summer":"heating"==a.selectedSeason?"Winter":"continuous"==a.selectedSeason?"Continuous":"shoulder1"==a.selectedSeason?"Spring":"shoulder2"==a.selectedSeason?"Fall":"")+("Both"==a.seasonType?"cooling"==a.selectedAnalysis?": Cooling":": Heating":""),color:"hsl (0, 0%, 0%, 1)",data:g}),d.push({seasonName:a.selectedSeason,graphData:p})),S=u,D=g,p=[],[2]}})},y=this,A=0,C.label=1;case 1:return A<t.length?[5,f(A)]:[3,4];case 2:C.sent(),C.label=3;case 3:return A++,[3,1];case 4:return l=t[0].ecmStartDate,o=t[t.length-1].ecmEndDate,[3,10];case 5:if("A"!=e)return[3,10];n=[],i=[],c=[],S=[],E=[],b=[],N=t.sort(function(e,t){return new Date(e.asisStartDate)>new Date(t.asisStartDate)?1:new Date(t.asisStartDate)>new Date(e.asisStartDate)?-1:0}),w=function(e){var t,a,s,r;return v(this,function(l){switch(l.label){case 0:return t=N[e],[4,M.handleSingleSeasonGraphDataASIS(t)];case 1:return(a=l.sent())&&(u=a[0],m=a[1],h=a[2],n&&n.length>0&&(s=[],n.map(function(e){var t;t=e.data.map(function(e){return e.x}),s.push.apply(s,t)}),(r=s.filter(function(e){return e==u[0].x}))&&r.length<=0&&(S.push(u[0]),E.push(m[0]),b.push(h[0]),n[n.length-1]={id:n[n.length-1].id,color:n[n.length-1].color,data:S},i[i.length-1]={id:i[i.length-1].id,color:i[i.length-1].color,data:E},c[c.length-1]={id:c[c.length-1].id,color:c[c.length-1].color,data:b})),S=u,E=m,b=h,u&&u.length>0&&n.push({id:"Pre-Retrofit "+("cooling"==t.selectedSeason?"Summer":"heating"==t.selectedSeason?"Winter":"continuous"==t.selectedSeason?"Continuous":"shoulder1"==t.selectedSeason?"Spring":"shoulder2"==t.selectedSeason?"Fall":"")+("Both"==t.seasonType?"cooling"==t.selectedAnalysis?": Cooling":": Heating":""),color:"hsl ("+e+", 0%, 64%, 1)",data:u}),m&&m.length>0&&i.push({id:"CDD: "+("cooling"==t.selectedSeason?"Summer":"heating"==t.selectedSeason?"Winter":"continuous"==t.selectedSeason?"Continuous":"shoulder1"==t.selectedSeason?"Spring":"shoulder2"==t.selectedSeason?"Fall":"")+("Both"==t.seasonType?"cooling"==t.selectedAnalysis?": Cooling":": Heating":""),color:"hsl ("+e+", 0%, 64%, 1)",data:m}),h&&h.length>0&&c.push({id:"HDD: "+("cooling"==t.selectedSeason?"Summer":"heating"==t.selectedSeason?"Winter":"continuous"==t.selectedSeason?"Continuous":"shoulder1"==t.selectedSeason?"Spring":"shoulder2"==t.selectedSeason?"Fall":"")+("Both"==t.seasonType?"cooling"==t.selectedAnalysis?": Cooling":": Heating":""),color:"hsl ("+e+", 0%, 64%, 1)",data:h})),u=[],m=[],h=[],[2]}})},M=this,A=0,C.label=6;case 6:return A<N.length?[5,w(A)]:[3,9];case 7:C.sent(),C.label=8;case 8:return A++,[3,6];case 9:s=t[0].asisStartDate,r=t[t.length-1].asisEndDate,C.label=10;case 10:return this.setState({daysGraphViewingData:n,asisGraphStartDate:s,asisGraphEndDate:r,ecmGraphStartDate:l,ecmGraphEndDate:o,coolingDegreeDaysGraph:i,heatingDegreeDaysGraph:c,postRetrofitGraph:d}),[2]}})})},t.prototype.handleNOAA_Extended_GraphData=function(e,t,a){return f(this,void 0,void 0,function(){var n,s,r,o,i,c,d,u,h,g;return v(this,function(p){switch(p.label){case 0:return n=this.state.verifyObj,s=a?new Date(new Date(a.ecmStartDate).setHours(0,0,0,0)):new Date(new Date(e.ecmStartDate).setHours(0,0,0,0)),o=[],i=[],t?(h=new Date(new Date(t).setHours(0,0,0,0)),a.importDataECMOntology?[4,Object(l.k)(a.importDataECMOntology).then(function(e){r=e[0].fileData})]:[3,7]):[3,9];case 1:return p.sent(),[4,Object(m.d)(r,new Date(a.ecmStartDate),new Date(a.ecmEndDate),a.noaaStation.value,a.ecmSeasonGraphData,a.seasonType,parseFloat(a.basepointCD),parseFloat(a.basepointHD),new Date(t),n.tmyData.value,e.selectedAnalysis,e.isMeasureFile,e.days)];case 2:r=p.sent(),c=function(){var t,a,n,l,c,d;return v(this,function(u){switch(u.label){case 0:return t=0,a=s.getMonth()+1+"-"+s.getDate()+"-"+s.getFullYear(),n=r.filter(function(e){return a==e.date}),[4,Object(m.b)(n,e.asisSeasonGraphData,e.seasonType,e.selectedAnalysis)];case 1:if(l=u.sent(),n&&n.length>0){for(c=0;c<n.length;c++)(d=n[c])&&d.load&&(t+=d.load);i.push({x:s.getMonth()+1+"/"+s.getDate()+"/"+s.getFullYear(),y:t})}return l&&o.push({x:s.getMonth()+1+"/"+s.getDate()+"/"+s.getFullYear(),y:l}),s.setDate(s.getDate()+1),[2]}})},p.label=3;case 3:return[5,c()];case 4:p.sent(),p.label=5;case 5:if(s.getTime()!=h.getTime())return[3,3];p.label=6;case 6:return o&&o.length>0?[2,[o,i]]:[3,8];case 7:return[2,[]];case 8:return[3,19];case 9:return new Date(e.ecmEndDate)<new Date?(d=(new Date).getTime(),u=new Date(d-864e5),(h=new Date(new Date(u).setHours(0,0,0,0)))<new Date(e.ecmEndDate)&&(h=new Date(e.ecmEndDate)),e.importDataECMOntology?[4,Object(l.k)(e.importDataECMOntology).then(function(e){r=e[0].fileData})]:[3,16]):[3,18];case 10:return p.sent(),[4,Object(m.d)(r,new Date(e.ecmStartDate),new Date(e.ecmEndDate),e.noaaStation.value,e.ecmSeasonGraphData,e.seasonType,parseFloat(e.basepointCD),parseFloat(e.basepointHD),void 0,"",e.selectedAnalysis,e.isMeasureFile,e.days)];case 11:r=p.sent(),g=function(){var t,a,n,l,c,d;return v(this,function(u){switch(u.label){case 0:return t=0,a=s.getMonth()+1+"-"+s.getDate()+"-"+s.getFullYear(),n=r.filter(function(e){return a==e.date}),[4,Object(m.b)(n,e.asisSeasonGraphData,e.seasonType,e.selectedAnalysis)];case 1:if(l=u.sent(),n&&n.length>0){for(c=0;c<n.length;c++)(d=n[c])&&d.load&&(t+=d.load);i.push({x:s.getMonth()+1+"/"+s.getDate()+"/"+s.getFullYear(),y:t})}return l&&o.push({x:s.getMonth()+1+"/"+s.getDate()+"/"+s.getFullYear(),y:l}),s.setDate(s.getDate()+1),[2]}})},p.label=12;case 12:return[5,g()];case 13:p.sent(),p.label=14;case 14:if(s.getTime()!=h.getTime())return[3,12];p.label=15;case 15:return o&&o.length>0?[2,[o,i]]:[3,17];case 16:return[2,[]];case 17:return[3,19];case 18:return[2,[]];case 19:return[2]}})})},t.prototype.energyCostCalculator=function(e,t){var a=this.state.verifyObj;return((t?e*t:e*(a.unitCost?a.unitCost:10.42))/100).toFixed(2)},t.prototype.fetchVerify=function(){return f(this,void 0,void 0,function(){var e,t,a,n,s,r,o,i,c,d,u,m,h=this;return v(this,function(g){switch(g.label){case 0:return e=this.state,t=e.asis_startDateLocal,a=e.asis_finishDateLocal,n=e.ecm_startDateLocal,s=e.ecm_finishDateLocal,r=e.importDataASIS,o=e.importDataECM,i=e.asisQuadrantData,c=e.ecmQuadrantData,d=e.seasonDataArray,u=e.seasonList,m=e.staticSeasonArray,[4,Object(l.o)(this.props.buildingName,"",this.props.projectName).then(function(e){return f(h,void 0,void 0,function(){var h,g;return v(this,function(p){switch(p.label){case 0:return e&&e[0]&&e[0].ontology?(h=e[0],[4,Object(l.l)(h.ontology)]):[3,5];case 1:return(g=p.sent())&&g.length>0?((d=g.sort(function(e,t){return e.seasonSequence>t.seasonSequence?1:t.seasonSequence>e.seasonSequence?-1:0})).map(function(e){u.push({label:e.analysisName,value:e.ontology})}),0!=h.measureAnalysis.length?[3,3]:(h.measureAnalysis=[{staticSeasonName:"Summer",selectedSeasonName:d[0].analysisName,selectedSeasonOntology:d[0].ontology},{staticSeasonName:"Fall",selectedSeasonName:d[0].analysisName,selectedSeasonOntology:d[0].ontology},{staticSeasonName:"Winter",selectedSeasonName:d[0].analysisName,selectedSeasonOntology:d[0].ontology},{staticSeasonName:"Spring",selectedSeasonName:d[0].analysisName,selectedSeasonOntology:d[0].ontology}],m=[{label:d[0].analysisName,value:d[0].ontology},{label:d[0].analysisName,value:d[0].ontology},{label:d[0].analysisName,value:d[0].ontology},{label:d[0].analysisName,value:d[0].ontology}],[4,this.saveVerify(h)])):[3,4];case 2:return p.sent(),[3,4];case 3:h.measureAnalysis.length>0&&(m=[{label:h.measureAnalysis[0].selectedSeasonName,value:h.measureAnalysis[0].selectedSeasonOntology},{label:h.measureAnalysis[1].selectedSeasonName,value:h.measureAnalysis[1].selectedSeasonOntology},{label:h.measureAnalysis[2].selectedSeasonName,value:h.measureAnalysis[2].selectedSeasonOntology},{label:h.measureAnalysis[3].selectedSeasonName,value:h.measureAnalysis[3].selectedSeasonOntology}]),p.label=4;case 4:this.setState({verifyObj:h,asis_startDateLocal:t,asis_finishDateLocal:a,ecm_startDateLocal:n,ecm_finishDateLocal:s,importDataASIS:r,importDataECM:o,asisQuadrantData:i,ecmQuadrantData:c,seasonDataArray:d,seasonList:u,staticSeasonArray:m}),p.label=5;case 5:return[2]}})})}).catch(function(e){return e})];case 1:return g.sent(),[2]}})})},t.prototype.dayCalculator=function(e,t,a,n,s,r){return f(this,void 0,void 0,function(){var l,o,i,c,d,u,h,g;return v(this,function(p){switch(p.label){case 0:if(l=0,i=0,c=0,d=0,u=0,h=t?new Date(t):new Date,!(e&&t&&a&&a.length>0))return[3,11];g=new Date(e),p.label=1;case 1:return g<=h?(l+=1)&&l>29?30!=l?[3,3]:[4,Object(m.c)(a,new Date(e),new Date(g),n,s,r)]:[3,9]:[3,10];case 2:(o=p.sent())&&o.length>0&&(i=o.reduce(function(e,t){return e+t.load},0)),p.label=3;case 3:return 90!=l?[3,5]:[4,Object(m.c)(a,new Date(e),new Date(g),n,s,r)];case 4:(o=p.sent())&&o.length>0&&(c=o.reduce(function(e,t){return e+t.load},0)),p.label=5;case 5:return 180!=l?[3,7]:[4,Object(m.c)(a,new Date(e),new Date(g),n,s,r)];case 6:(o=p.sent())&&o.length>0&&(d=o.reduce(function(e,t){return e+t.load},0)),p.label=7;case 7:return 360!=l?[3,9]:[4,Object(m.c)(a,new Date(e),new Date(g),n,s,r)];case 8:(o=p.sent())&&o.length>0&&(u=o.reduce(function(e,t){return e+t.load},0)),p.label=9;case 9:return g.setDate(g.getDate()+1),[3,1];case 10:return[2,[u,d,c,i]];case 11:if(e&&t&&!a){for(g=new Date(e);g<=t;g.setDate(g.getDate()+1))l+=1;return[2,l]}p.label=12;case 12:return[2]}})})},t.prototype.day_calculator_data_only=function(e){return f(this,void 0,void 0,function(){var t,a,n,s,r,l,o,i,c,d,u,m,h,g,p,D,f,y,S;return v(this,function(v){if(t=0,n=0,s=0,r=0,l=0,o=0,i=0,c=0,d=0,u=0,m=0,h=0,g=0,e&&e.length>0){for(f=[],p=new Date(e[0].date),D=new Date(e[e.length-1].date),y=function(p){t+=1;var D=p.getMonth()+1+"-"+p.getDate()+"-"+p.getFullYear();if(a=e.filter(function(e){return e.date==D}),f.push.apply(f,a),t<31){var v=0;a&&a.length>0&&(v=a.reduce(function(e,t){return e+t.load},0)),u+=v}if(30==t&&(n=u,o=Math.max.apply(Math,f.map(function(e){if(e)return e.load}))),t<91){var y=0;a&&a.length>0&&(y=a.reduce(function(e,t){return e+t.load},0)),m+=y}if(90==t&&(s=m,i=Math.max.apply(Math,f.map(function(e){if(e)return e.load}))),t<181){var S=0;a&&a.length>0&&(S=a.reduce(function(e,t){return e+t.load},0)),h+=S}if(180==t&&(r=h,c=Math.max.apply(Math,f.map(function(e){if(e)return e.load}))),t<361){var E=0;a&&a.length>0&&(E=a.reduce(function(e,t){return e+t.load},0)),g+=E}360==t&&(l=g,d=Math.max.apply(Math,f.map(function(e){if(e)return e.load})))},S=new Date(p);S<=D;S.setDate(S.getDate()+1))y(S);return[2,[l,r,s,n,d,c,i,o]]}if(p&&D&&!e){for(S=new Date(p);S<=D;S.setDate(S.getDate()+1))t+=1;return[2,t]}return[2]})})},t.prototype.fetchVerifyDetail=function(){return f(this,void 0,void 0,function(){var e,t,a,n,s,r=this;return v(this,function(o){switch(o.label){case 0:return e=this.state.verifyDetailList,t=this.props,a=t.buildingName,n=t.projectName,[4,Object(l.p)(a,n)];case 1:return(s=o.sent())&&s.length>0&&(e=s.filter(function(e){return e.projectName==r.props.projectName}),e=s),e&&e.length>0&&e[0].buildingName&&e[0].buildingName.length>0&&this.setState({verifyDetailList:e}),[2]}})})},t.prototype.restoreDefaultList=function(){return f(this,void 0,void 0,function(){var e,t,a=this;return v(this,function(n){switch(n.label){case 0:if(!(s.d&&s.d.length>0))return[3,4];e=0,n.label=1;case 1:return e<s.d.length?(t=Object(),(t=s.d[e]).buildingName=this.props.buildingName,t.projectName=this.props.projectName,[4,Object(l.u)(t).then(function(e){}).catch(function(e){return e})]):[3,4];case 2:n.sent(),n.label=3;case 3:return e++,[3,1];case 4:return this.setState({verifyDetailList:[]},function(){return f(a,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,this.fetchVerifyDetail()];case 1:return e.sent(),[2]}})})}),[2]}})})},t.prototype.showHidePDFSection=function(e){this.setState({isPDFExport:e},function(){console.log(e)})},t.prototype.saveVerifyProjectDetail=function(e){return f(this,void 0,void 0,function(){var t,a=this;return v(this,function(n){switch(n.label){case 0:return(t=this.state.verifyDetailObj).buildingName=this.props.buildingName,t.projectName=this.props.projectName,t.oneMonthAdj=t.oneMonth?t.oneMonth:"",t.threeMonthAdj=t.threeMonth?t.threeMonth:"",t.sixMonthAdj=t.sixMonth?t.sixMonth:"",t.twelveMonthAdj=t.twelveMonth?t.twelveMonth:"",[4,Object(l.u)(t).then(function(n){return f(a,void 0,void 0,function(){var a=this;return v(this,function(n){return t.departmentName="",t.finishDate="",t.oneMonth="",t.threeMonth="",t.sixMonth="",t.twelveMonth="",t.percentComplete="",t.start="",t.startDate="",t.valuationImprovement="",this.setState({verifyDetailObj:t},function(){return f(a,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return e?[4,this.fetchVerifyDetail()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}),[2]})})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},t.prototype.deleteVerifyDetail=function(e){return f(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return[4,Object(l.f)(e)];case 1:return t.sent(),[4,this.fetchVerifyDetail()];case 2:return t.sent(),[2]}})})},t.prototype.onChangeHandler=function(e,t){var a=this.state.verifyDetailObj;a||(a={departmentName:"",start:"",oneMonth:"",threeMonth:"",sixMonth:"",twelveMonth:""}),a[""+e]=t,this.setState({verifyDetailObj:a})},t.prototype.handleLastRechargeDate=function(e){var t=this.state.verifyDetailObj;e&&(t.finishDate=e.toString()),this.setState({verifyDetailObj:t})},t.prototype.handleStartRechargeDate=function(e){var t=this.state.verifyDetailObj;e&&(t.startDate=e.toString()),this.setState({verifyDetailObj:t})},t.prototype.reorderProjects=function(e,t){return f(this,void 0,void 0,function(){var a,n;return v(this,function(s){return a=this.state.verifyDetailList,"up"==t&&0!==e?(n=a[e],a[e]=a[e-1],a[e-1]=n):"down"==t&&e!==a.length-1&&(n=a[e],a[e]=a[e+1],a[e+1]=n),this.setState({verifyDetailList:a}),[2]})})},t.prototype.seasonChecker=function(e){if(e){var t=new Date("6/15/"+e.getFullYear().toString()),a=new Date("9/14/"+e.getFullYear().toString()),n=new Date("9/15/"+e.getFullYear().toString()),s=new Date("11/14/"+e.getFullYear().toString()),r=new Date("11/15/"+e.getFullYear().toString()),l=new Date("3/14/"+e.getFullYear().toString()),o=new Date("3/15/"+e.getFullYear().toString()),i=new Date("6/14/"+e.getFullYear().toString()),c=new Date("3/14/"+(e.getFullYear()+1).toString()),d=new Date("3/15/"+(e.getFullYear()+1).toString()),u=new Date("11/14/"+(e.getFullYear()-1).toString()),m=Object();return e>=t&&e<=a?m={startDate:e,endDate:n,season:"summer"}:e>=n&&e<=s?m={startDate:e,endDate:r,season:"fall"}:e>=o&&e<=i?m={startDate:e,endDate:t,season:"spring"}:e>u&&e<=l?m={startDate:e,endDate:o,season:"winter"}:e>s&&e<=c&&(m={startDate:e,endDate:d,season:"winter"}),m}},t.prototype.measure_Detail_Prediction_Data_Calculator=function(){return f(this,void 0,void 0,function(){var e,t,a,n,s,r,o,i,c,d,u,h,g,p,D,f,y,S,E,b,N,w,M,A,C,j,x,F,O,T,k,P,G,_,I,W,L,H,Y,R,B,V,z,$,q,Q,J,K,U,X,Z,ee,te,ae,ne,se,re,le;return v(this,function(oe){switch(oe.label){case 0:if(e=this.state,t=e.seasonDataArray,a=e.verifyObj,n=this.props,s=n.buildingName,r=n.projectName,(o=this.state.verifyDetailList)&&o.length>0)for(re=0;re<o.length;re++)le=o[re],this.deleteVerifyDetail(le._id);if(o=[],i=[],c=[],d=Object(),E=a.lifeOfAsset?a.lifeOfAsset:0,F=new Date,a&&a.ecmInstallationDate&&(F=new Date(a.ecmInstallationDate)),!(t&&t.length>0))return[3,22];if(O=[],T=[],!((k=t.sort(function(e,t){return new Date(e.asisStartDate)>new Date(t.asisStartDate)?1:new Date(t.asisStartDate)>new Date(e.asisStartDate)?-1:0}))&&k.length>0))return[3,16];P=function(e){var t,a,n,s,r;return v(this,function(o){switch(o.label){case 0:return t=k[e],a=[],n=[],[4,Object(l.k)(t.importDataASISOntology).then(function(e){a=e?e[0].fileData:[]})];case 1:return o.sent(),[4,Object(l.k)(t.importDataECMOntology).then(function(e){n=e?e[0].fileData:[]})];case 2:return o.sent(),[4,Object(m.c)(a,new Date(t.asisStartDate),new Date(t.asisEndDate),t.noaaStation.value,parseFloat(t.basepointCD),parseFloat(t.basepointHD),t.isMeasureFile)];case 3:return s=o.sent(),[4,Object(m.c)(n,new Date(t.ecmStartDate),new Date(t.ecmEndDate),t.noaaStation.value,parseFloat(t.basepointCD),parseFloat(t.basepointHD),t.isMeasureFile)];case 4:return r=o.sent(),O.push.apply(O,s),T.push.apply(T,r),[2]}})},re=0,oe.label=1;case 1:return re<k.length?[5,P(re)]:[3,4];case 2:oe.sent(),oe.label=3;case 3:return re++,[3,1];case 4:return G=void 0,_=void 0,T&&T.length>0?(I=F,L=T.filter(function(e){return new Date(e.date)>=I}),[4,this.day_calculator_data_only(L)]):[3,6];case 5:(G=oe.sent())&&(0!=G[0]&&(S=G[0],d={name:"energyTwelveECM",value:S,status:S&&0!=S?"Metered":"",demand:G[4]?G[4]:0,month:12},c.push(d)),0!=G[1]&&(y=G[1],d={name:"energySixECM",value:y,status:y&&0!=y?"Metered":"",demand:G[5]?G[5]:0,month:6},c.push(d)),0!=G[2]&&(f=G[2],d={name:"energyThreeECM",value:f,status:f&&0!=f?"Metered":"",demand:G[6]?G[6]:0,month:3},c.push(d)),0!=G[3]&&(D=G[3],d={name:"energyOneECM",value:D,status:D&&0!=D?"Metered":"",demand:G[7]?G[7]:0,month:1},c.push(d))),oe.label=6;case 6:return O&&O.length>0?[4,this.day_calculator_data_only(O)]:[3,8];case 7:(_=oe.sent())&&(0!=_[0]&&(p=_[0],d={name:"energyTwelveASIS",value:p,status:p&&0!=p?"Normalized":"",demand:_[4]?_[4]:0,month:12},i.push(d)),0!=_[1]&&(g=_[1],d={name:"energySixASIS",value:g,status:g&&0!=g?"Normalized":"",demand:_[5]?_[5]:0,month:6},i.push(d)),0!=_[2]&&(h=_[2],d={name:"energyThreeASIS",value:h,status:h&&0!=h?"Normalized":"",demand:_[6]?_[6]:0,month:3},i.push(d)),0!=_[3]&&(u=_[3],d={name:"energyOneASIS",value:u,status:u&&0!=u?"Normalized":"",demand:_[7]?_[7]:0,month:1},i.push(d))),oe.label=8;case 8:if(!(T&&T.length>0))return[3,12];W=F,L=T.filter(function(e){return new Date(e.date)>=W}),H=function(){var e,t,n,s;return v(this,function(r){switch(r.label){case 0:return[4,Y.day_calculator_data_only(L)];case 1:return(G=r.sent())&&(G&&0!=G[0]&&(S=G[0],c.find(function(e){return"energyTwelveECM"==e.name})||(d={name:"energyTwelveECM",value:S,status:"Predicted",demand:G[4]?G[4]:0,month:12},c.push(d))),G&&0!=G[1]&&(y=G[1],c.find(function(e){return"energySixECM"==e.name})||(d={name:"energySixECM",value:y,status:"Predicted",demand:G[5]?G[5]:0,month:6},c.push(d))),G&&0!=G[2]&&(f=G[2],c.find(function(e){return"energyThreeECM"==e.name})||(d={name:"energyThreeECM",value:f,status:"Predicted",demand:G[6]?G[6]:0,month:3},c.push(d))),G&&0!=G[3]&&(D=G[3],c.find(function(e){return"energyOneECM"==e.name})||(d={name:"energyOneECM",value:D,status:"Predicted",demand:G[7]?G[7]:0,month:1},c.push(d)))),[4,Y.seasonChecker(new Date(L[L.length-1].date))];case 2:return e=r.sent(),t=a.measureAnalysis.filter(function(t){return t.staticSeasonName.toLocaleLowerCase().trim()==e.season.toLocaleLowerCase().trim()}),[4,Object(l.n)(t[0].selectedSeasonOntology)];case 3:return n=r.sent(),[4,Object(m.e)(e.startDate,e.endDate,n[0].noaaStation.value,n[0].ecmSeasonGraphData,n[0].seasonType,a.tmyData.value,n[0].selectedAnalysis,parseFloat(n[0].basepointCD),parseFloat(n[0].basepointHD),n[0].days)];case 4:return(s=r.sent())&&s.length>0&&L.push.apply(L,s),[2]}})},Y=this,oe.label=9;case 9:return[5,H()];case 10:oe.sent(),oe.label=11;case 11:if(0==S||void 0==S)return[3,9];oe.label=12;case 12:if(!(O&&O.length>0))return[3,16];R=O,B=function(){var e,t,n,s;return v(this,function(r){switch(r.label){case 0:return[4,V.day_calculator_data_only(R)];case 1:return(_=r.sent())&&(_&&0!=_[0]&&(p=_[0],i.find(function(e){return"energyTwelveASIS"==e.name})||(d={name:"energyTwelveASIS",value:p,status:"Predicted",demand:_[4]?_[4]:0,month:12},i.push(d))),_&&0!=_[1]&&(g=_[1],i.find(function(e){return"energySixASIS"==e.name})||(d={name:"energySixASIS",value:g,status:"Predicted",demand:_[5]?_[5]:0,month:6},i.push(d))),_&&0!=_[2]&&(h=_[2],i.find(function(e){return"energyThreeASIS"==e.name})||(d={name:"energyThreeASIS",value:h,status:"Predicted",demand:_[6]?_[6]:0,month:3},i.push(d))),_&&0!=_[3]&&(u=_[3],i.find(function(e){return"energyOneASIS"==e.name})||(d={name:"energyOneASIS",value:u,status:"Predicted",demand:_[7]?_[7]:0,month:1},i.push(d)))),[4,V.seasonChecker(new Date(R[R.length-1].date))];case 2:return e=r.sent(),t=a.measureAnalysis.filter(function(t){return t.staticSeasonName.toLocaleLowerCase().trim()==e.season.toLocaleLowerCase().trim()}),[4,Object(l.n)(t[0].selectedSeasonOntology)];case 3:return n=r.sent(),[4,Object(m.e)(e.startDate,e.endDate,n[0].noaaStation.value,n[0].asisSeasonGraphData,n[0].seasonType,a.tmyData.value,n[0].selectedAnalysis,parseFloat(n[0].basepointCD),parseFloat(n[0].basepointHD),n[0].days)];case 4:return(s=r.sent())&&s.length>0&&R.push.apply(R,s),[2]}})},V=this,oe.label=13;case 13:return[5,B()];case 14:oe.sent(),oe.label=15;case 15:if(0==p||void 0==p)return[3,13];oe.label=16;case 16:b=u&&D?u-D:null,N=h&&f?h-f:null,w=g&&y?g-y:null,M=p&&S?p-S:null,b&&(A=this.energyCostCalculator(b),N&&(C=this.energyCostCalculator(N)),w&&(j=this.energyCostCalculator(w)),M&&(x=this.energyCostCalculator(M))),i&&i.length>0&&c&&c.length>0&&(i=i.sort(function(e,t){return e.month-t.month}),c=c.sort(function(e,t){return e.month-t.month}),z=a.projectActualCost+a.annualMaintenance,$=a.annualMaintenance*E,q=x&&z?parseFloat((z/parseFloat(x.split(" ")[0])).toFixed(2)):0,Q=$+a.projectActualCost,J=(x-a.annualMaintenance)/a.projectActualCost,K=x*E,o.unshift({buildingName:s,projectName:r,departmentName:"Life-Cycle Net Present Value - Increased Building Value",oneMonth:"",oneMonthAdj:"",threeMonth:"",threeMonthAdj:"",sixMonth:"",sixMonthAdj:"",twelveMonth:"",twelveMonthAdj:"",life:"$ "+(K-Q).toFixed(2)}),o.unshift({buildingName:s,projectName:r,departmentName:"CO2 Savings in Tons",oneMonth:b?(709e-6*b).toFixed(2):"Data N/A",oneMonthAdj:b?(709e-6*b).toFixed(2):"Data N/A",threeMonth:N?(709e-6*N).toFixed(2):"Data N/A",threeMonthAdj:N?(709e-6*N).toFixed(2):"Data N/A",sixMonth:w?(709e-6*w).toFixed(2):"Data N/A",sixMonthAdj:w?(709e-6*w).toFixed(2):"Data N/A",twelveMonth:M?(709e-6*M).toFixed(2):"Data N/A",twelveMonthAdj:M?(709e-6*M).toFixed(2):"Data N/A",life:E?(M*E*709e-6).toFixed(2):"Data N/A"}),o.unshift({buildingName:s,projectName:r,departmentName:"Return on Investment",oneMonth:"",oneMonthAdj:"",threeMonth:"",threeMonthAdj:"",sixMonth:"",sixMonthAdj:"",twelveMonth:J.toFixed(2)+"%",twelveMonthAdj:J.toFixed(2)+"%",life:""}),o.unshift({buildingName:s,projectName:r,departmentName:"Simple Payback in Year",oneMonth:"",oneMonthAdj:"",threeMonth:"",threeMonthAdj:"",sixMonth:"",sixMonthAdj:"",twelveMonth:q+"",twelveMonthAdj:q+"",life:""}),U=c[0]&&c[0].demand?c[0].demand:0,X=c[1]&&c[1].demand?c[1].demand:0,Z=c[2]&&c[2].demand?c[2].demand:0,ee=c[3]&&c[3].demand?c[3].demand:0,te=i[0]&&i[0].demand?i[0].demand:0,ae=i[1]&&i[1].demand?i[1].demand:0,ne=i[2]&&i[2].demand?i[2].demand:0,se=i[3]&&i[3].demand?i[3].demand:0,o.unshift({buildingName:s,projectName:r,departmentName:"Demand Reduction",oneMonth:te-U+" kWh",oneMonthAdj:te-U+" kWh",threeMonth:ae-X+" kWh",threeMonthAdj:ae-X+" kWh",sixMonth:ne-Z+" kWh",sixMonthAdj:ne-Z+" kWh",twelveMonth:se-ee+" kWh",twelveMonthAdj:se-ee+" kWh",life:" "}),o.unshift({buildingName:s,projectName:r,departmentName:"Demand ECM",oneMonth:0!=U?U+" kWh":"",oneMonthAdj:0!=U?U+" kWh":"",threeMonth:0!=X?X+" kWh":"",threeMonthAdj:0!=X?X+" kWh":"",sixMonth:0!=Z?Z+" kWh":"",sixMonthAdj:0!=Z?Z+" kWh":"",twelveMonth:0!=ee?ee+" kWh":"",twelveMonthAdj:0!=ee?ee+" kWh":"",life:" "}),o.unshift({buildingName:s,projectName:r,departmentName:"Demand ASIS",oneMonth:0!=te?te+" kWh":"",oneMonthAdj:0!=te?te+" kWh":"",threeMonth:0!=ae?ae+" kWh":"",threeMonthAdj:0!=ae?ae+" kWh":"",sixMonth:0!=ne?ne+" kWh":"",sixMonthAdj:0!=ne?ne+" kWh":"",twelveMonth:0!=se?se+" kWh":"",twelveMonthAdj:0!=se?se+" kWh":"",life:" "}),o.unshift({buildingName:s,projectName:r,departmentName:"Energy Cash Savings",oneMonth:A?" $"+A+(c[0].status&&"Predicted"==c[0].status?" (Projected)":""):"Data N/A",oneMonthAdj:A?" $"+A+(c[0].status&&"Predicted"==c[0].status?" (Projected)":""):"Data N/A",threeMonth:C?" $"+C+(c[1].status&&"Predicted"==c[1].status?" (Projected)":""):"Data N/A",threeMonthAdj:C?" $"+C+(c[1].status&&"Predicted"==c[1].status?" (Projected)":""):"Data N/A",sixMonth:j?" $"+j+(c[2].status&&"Predicted"==c[2].status?" (Projected)":""):"Data N/A",sixMonthAdj:j?" $"+j+(c[2].status&&"Predicted"==c[2].status?" (Projected)":""):"Data N/A",twelveMonth:x?" $"+x+(c[3].status&&"Predicted"==c[3].status?" (Projected)":""):"Data N/A",twelveMonthAdj:x?" $"+x+(c[3].status&&"Predicted"==c[3].status?" (Projected)":""):"Data N/A",life:x?" $"+(parseFloat(x.split(" ")[0])*E).toFixed(2)+" (Projected)":"Data N/A"}),o.unshift({buildingName:s,projectName:r,departmentName:"Energy Savings",oneMonth:b+" kWh "+(c[0].status&&"Predicted"==c[0].status?" (Projected)":""),oneMonthAdj:b+" kWh "+(c[0].status&&"Predicted"==c[0].status?" (Projected)":""),threeMonth:N+" kWh "+(c[1].status&&"Predicted"==c[1].status?" (Projected)":""),threeMonthAdj:N+" kWh "+(c[1].status&&"Predicted"==c[1].status?" (Projected)":""),sixMonth:w+" kWh "+(c[2].status&&"Predicted"==c[2].status?" (Projected)":""),sixMonthAdj:w+" kWh "+(c[2].status&&"Predicted"==c[2].status?" (Projected)":""),twelveMonth:M+" kWh "+(c[3].status&&"Predicted"==c[3].status?" (Projected)":""),twelveMonthAdj:M+" kWh "+(c[3].status&&"Predicted"==c[3].status?" (Projected)":""),life:M?M*E+" kWh (Projected)":"Data N/A"}),o.unshift({buildingName:s,projectName:r,departmentName:"ECM Energy Consumption",oneMonth:c[0].value+" kWh ("+c[0].status+")",oneMonthAdj:c[0].value+" kWh ("+c[0].status+")",threeMonth:c[1].value+" kWh ("+c[1].status+")",threeMonthAdj:c[1].value+" kWh ("+c[1].status+")",sixMonth:c[2].value+" kWh ("+c[2].status+")",sixMonthAdj:c[2].value+" kWh ("+c[2].status+")",twelveMonth:c[3].value+" kWh ("+c[3].status+")",twelveMonthAdj:c[3].value+" kWh ("+c[3].status+")",life:c[3].value?c[3].value*E+" kWh (Predicted)":"Data N/A"}),o.unshift({buildingName:s,projectName:r,departmentName:"ASIS Energy Consumption",oneMonth:i[0].value+" kWh ("+i[0].status+")",oneMonthAdj:i[0].value+" kWh ("+i[0].status+")",threeMonth:i[1].value+" kWh ("+i[1].status+")",threeMonthAdj:i[1].value+" kWh ("+i[1].status+")",sixMonth:i[2].value+" kWh ("+i[2].status+")",sixMonthAdj:i[2].value+" kWh ("+i[2].status+")",twelveMonth:i[3].value+" kWh ("+i[3].status+")",twelveMonthAdj:i[3].value+" kWh ("+i[3].status+")",life:i[3].value?i[3].value*E+" kWh (Predicted)":"Data N/A"})),re=0,oe.label=17;case 17:return re<o.length?(le=o[re],[4,Object(l.u)(le).then(function(e){}).catch(function(e){return e})]):[3,20];case 18:oe.sent(),oe.label=19;case 19:return re++,[3,17];case 20:return[4,this.fetchVerifyDetail()];case 21:oe.sent(),this.setState({verifyDetailList:o}),oe.label=22;case 22:return[2]}})})},t.prototype.savings_since_retrofit=function(){return f(this,void 0,void 0,function(){var e,t,a,n,s,r,o,i,c,d,u,h,g,p,D,f,y,S,E,b,N,w,M,A;return v(this,function(C){switch(C.label){case 0:if(e=this.state,t=e.seasonDataArray,a=e.verifyObj,n=this.state,s=n.totalASIScost,r=n.totalECMcost,o=n.totalASISkwh,i=n.totalECMkwh,c=new Date,a&&a.ecmInstallationDate&&(c=new Date(a.ecmInstallationDate)),!(t&&t.length>0))return[3,13];if(d=[],u=[],!((h=t.sort(function(e,t){return new Date(e.asisStartDate)>new Date(t.asisStartDate)?1:new Date(t.asisStartDate)>new Date(e.asisStartDate)?-1:0}))&&h.length>0))return[3,13];g=function(e){var t,a,n,s,r;return v(this,function(o){switch(o.label){case 0:return t=h[e],a=[],n=[],[4,Object(l.k)(t.importDataASISOntology).then(function(e){a=e?e[0].fileData:[]})];case 1:return o.sent(),[4,Object(l.k)(t.importDataECMOntology).then(function(e){n=e?e[0].fileData:[]})];case 2:return o.sent(),[4,Object(m.c)(a,new Date(t.asisStartDate),new Date(t.asisEndDate),t.noaaStation.value,parseFloat(t.basepointCD),parseFloat(t.basepointHD),t.isMeasureFile)];case 3:return s=o.sent(),[4,Object(m.c)(n,new Date(t.ecmStartDate),new Date(t.ecmEndDate),t.noaaStation.value,parseFloat(t.basepointCD),parseFloat(t.basepointHD),t.isMeasureFile)];case 4:return r=o.sent(),d.push.apply(d,s),u.push.apply(u,r),[2]}})},p=0,C.label=1;case 1:return p<h.length?[5,g(p)]:[3,4];case 2:C.sent(),C.label=3;case 3:return p++,[3,1];case 4:if(!(d&&d.length>0&&u&&u.length>0))return[3,13];D=void 0,f=void 0,y=d,S=u,E=function(){var e,t,n,s,r;return v(this,function(o){switch(o.label){case 0:return e=y&&y.length>0?new Date(y[y.length-1].date):new Date,[4,b.seasonChecker(e)];case 1:return t=o.sent(),n=a.measureAnalysis.filter(function(e){return e.staticSeasonName.toLocaleLowerCase().trim()==t.season.toLocaleLowerCase().trim()}),[4,Object(l.n)(n[0].selectedSeasonOntology)];case 2:return s=o.sent(),(D=t.endDate)<=new Date?[4,Object(m.e)(e,D,s[0].noaaStation.value,s[0].asisSeasonGraphData,s[0].seasonType,a.tmyData.value,s[0].selectedAnalysis,parseFloat(s[0].basepointCD),parseFloat(s[0].basepointHD),s[0].days)]:[3,4];case 3:return(r=o.sent())&&r.length>0&&y.push.apply(y,r),[3,6];case 4:return[4,Object(m.e)(e,new Date,s[0].noaaStation.value,s[0].asisSeasonGraphData,s[0].seasonType,a.tmyData.value,s[0].selectedAnalysis,parseFloat(s[0].basepointCD),parseFloat(s[0].basepointHD),s[0].days)];case 5:(r=o.sent())&&r.length>0&&y.push.apply(y,r),o.label=6;case 6:return[2]}})},b=this,C.label=5;case 5:return[5,E()];case 6:C.sent(),C.label=7;case 7:if(D<=new Date)return[3,5];C.label=8;case 8:N=function(){var e,t,n,s,r;return v(this,function(o){switch(o.label){case 0:return e=S&&S.length>0?new Date(S[S.length-1].date):new Date,[4,w.seasonChecker(e)];case 1:return t=o.sent(),n=a.measureAnalysis.filter(function(e){return e.staticSeasonName.toLocaleLowerCase().trim()==t.season.toLocaleLowerCase().trim()}),[4,Object(l.n)(n[0].selectedSeasonOntology)];case 2:return s=o.sent(),(f=t.endDate)<=new Date?[4,Object(m.e)(e,f,s[0].noaaStation.value,s[0].ecmSeasonGraphData,s[0].seasonType,a.tmyData.value,s[0].selectedAnalysis,parseFloat(s[0].basepointCD),parseFloat(s[0].basepointHD),s[0].days)]:[3,4];case 3:return(r=o.sent())&&r.length>0&&S.push.apply(S,r),[3,6];case 4:return[4,Object(m.e)(e,new Date,s[0].noaaStation.value,s[0].ecmSeasonGraphData,s[0].seasonType,a.tmyData.value,s[0].selectedAnalysis,parseFloat(s[0].basepointCD),parseFloat(s[0].basepointHD),s[0].days)];case 5:(r=o.sent())&&r.length>0&&S.push.apply(S,r),o.label=6;case 6:return[2]}})},w=this,C.label=9;case 9:return[5,N()];case 10:C.sent(),C.label=11;case 11:if(f<=new Date)return[3,9];C.label=12;case 12:y&&y.length>0&&S&&S.length>0&&(M=y.filter(function(e){return new Date(e.date)>=c}),A=S.filter(function(e){return new Date(e.date)>=c}),o=M.reduce(function(e,t){return e+t.load},0),i=A.reduce(function(e,t){return e+t.load},0),s=parseFloat(this.energyCostCalculator(o)),r=parseFloat(this.energyCostCalculator(i))),C.label=13;case 13:return this.setState({totalASIScost:s,totalECMcost:r,totalASISkwh:o,totalECMkwh:i}),[2]}})})},t.prototype.render=function(){var e=this,t=this.props.instance,a=this.state,s=a.verifyDetailList,l=a.verifyDetailObj,c=a.asisGraphStartDate,m=a.asisGraphEndDate,D=a.ecmGraphStartDate,S=a.ecmGraphEndDate,E=a.verifyObj,b=a.isGraphA,N=a.isGraphC,w=a.daysGraphViewingData,M=a.postRetrofitGraph,A=a.totalASIScost,C=a.totalECMcost,j=a.totalASISkwh,x=a.totalECMkwh,F=a.seasonList,O=a.coolingDegreeDaysGraph,T=a.heatingDegreeDaysGraph,k=a.selectedDateArray,P=a.seasonDataArray,G=a.selectedSeasonArray,_=a.staticSeasonArray,I=P.sort(function(e,t){return new Date(e.asisStartDate)>new Date(t.asisStartDate)?1:new Date(t.asisStartDate)>new Date(e.asisStartDate)?-1:0}),W=[];return s&&s.map(function(t,a){return f(e,void 0,void 0,function(){var e,a;return v(this,function(n){switch(n.label){case 0:return e=Object(),a=e,[4,Object(o.r)(t.buildingName)];case 1:return a.buildingName=n.sent(),e.finishDate=t.finishDate?t.finishDate:"",e.percentComplete=t.percentComplete?t.percentComplete:"",e.projectName=this.state.projectName,e.startDate=t.startDate?t.startDate:"",e.valuationImprovement=t.valuationImprovement?t.valuationImprovement:"",e.departmentName=t.departmentName?t.departmentName:"",e.oneMonth=t.oneMonth?t.oneMonth:"",e.oneMonthAdj=t.oneMonthAdj?t.oneMonthAdj:"",e.sixMonth=t.sixMonth?t.sixMonth:"",e.sixMonthAdj=t.sixMonthAdj?t.sixMonthAdj:"",e.start=t.start?t.start:"",e.threeMonth=t.threeMonth?t.threeMonth:"",e.threeMonthAdj=t.threeMonthAdj?t.threeMonthAdj:"",e.twelveMonth=t.twelveMonth?t.twelveMonth:"",e.twelveMonthAdj=t.twelveMonthAdj?t.twelveMonthAdj:"",W.push(e),[2]}})})}),b?n.createElement("div",{className:""},n.createElement("div",{className:""},n.createElement("div",{className:"card"},n.createElement("div",{className:"container-fluid"},n.createElement("div",{style:{padding:10}},n.createElement("button",{className:"btn btn-secondary btn-fill pull-right",onClick:function(){return e.setState({isGraphA:!1})},"data-html2canvas-ignore":"true"},n.createElement("i",{className:"fa fa-times",style:{marginLeft:"-5%",marginRight:"5%"}}),"Close"),n.createElement("div",{className:"dropdown pull-right",style:{paddingRight:"1%"}},n.createElement(i.a,{filename:"Pre Retrofit Graph: "+E.projectName,showCSV:!1,data:[],ElementID:"GraphA"}))),n.createElement("div",{className:"container-fluid",id:"GraphA"},n.createElement("h4",{className:"title"},"Measured Data before Retrofit"),n.createElement("div",{className:"col-md-12",style:{padding:0,marginTop:"1%"}},n.createElement("div",{className:""},n.createElement(u.a,{instance:this.props.instance,buildingName:this.props.buildingName,isGraph:!0,daysDataGraph:w,startDate:c,endDate:m,measureType:"Pre-Retrofit",measureName:E.projectName,isGraphA:!0,dataDemand:this.handleDataDemand(w)}))),n.createElement("div",{className:"col-md-12",style:{padding:0,marginTop:"1%"}},n.createElement("div",{className:""},n.createElement(u.a,{instance:this.props.instance,buildingName:this.props.buildingName,isGraph:!0,daysDataGraph:O,startDate:c,endDate:m,measureType:"Cooling Degree Day",measureName:E.projectName,isDegreeDay:!0,isGraphA:!0,dataDemand:this.handleDataDemand(O)}))),n.createElement("div",{className:"col-md-12",style:{padding:0,marginTop:"1%"}},n.createElement("div",{className:""},n.createElement(u.a,{instance:this.props.instance,buildingName:this.props.buildingName,isGraph:!0,daysDataGraph:T,startDate:c,endDate:m,measureType:"Heating Degree Day",measureName:E.projectName,isDegreeDay:!0,isGraphA:!0,dataDemand:this.handleDataDemand(T)})))))))):N?n.createElement("div",{className:""},n.createElement("div",{className:""},n.createElement("div",{className:"card"},n.createElement("div",{className:"container-fluid"},n.createElement("div",{style:{padding:10}},n.createElement("button",{className:"btn btn-secondary btn-fill pull-right",onClick:function(){return e.setState({isGraphC:!1})},"data-html2canvas-ignore":"true"},n.createElement("i",{className:"fa fa-times",style:{marginLeft:"-5%",marginRight:"5%"}}),"Close"),n.createElement("div",{className:"dropdown pull-right",style:{paddingRight:"1%"}},n.createElement(i.a,{filename:"Post Retrofit Graph: "+E.projectName,showCSV:!1,data:[],ElementID:"GraphC"}))),n.createElement("div",{className:"container-fluid",id:"GraphC"},n.createElement("div",{className:"col-md-12"},n.createElement("h4",{className:"title"},"Comparision of Pre and Post Retrofit actual metered energy used ")),n.createElement("div",{className:"col-md-12",style:{padding:0,marginTop:"1%"}},n.createElement("div",{className:""},n.createElement(u.a,{instance:this.props.instance,buildingName:this.props.buildingName,isGraph:!0,daysDataGraph:w,startDate:D,endDate:S,measureType:"Post-Retrofit",measureName:E.projectName,isGraphA:!1,dataDemand:this.handleDataDemand(w)}))),n.createElement("div",{className:"col-md-12"},n.createElement("hr",null)),n.createElement("div",{className:"col-md-12 p-0"},P.map(function(t,a){return n.createElement("div",{className:"p-0"},n.createElement("div",{className:"col-md-12 headingText",style:{fontSize:"large",textTransform:"uppercase",marginBottom:"2%"}},"Pre-Retrofit data selection for ",("cooling"==t.selectedSeason?"Summer":"heating"==t.selectedSeason?"Winter":"continuous"==t.selectedSeason?"Continuous":"shoulder1"==t.selectedSeason?"Spring":"shoulder2"==t.selectedSeason?"Fall":"")+("Both"==t.seasonType?"cooling"==t.selectedAnalysis?": Cooling":": Heating":"")," season"),n.createElement("div",{className:"col-md-6 p-0",style:{marginBottom:10}},n.createElement("div",{className:"col-md-3"},n.createElement("label",{htmlFor:"seasonSelect"},"ASIS Analysis: ")),n.createElement("div",{className:"col-md-8"},n.createElement("select",{className:"form-control",id:"seasonSelect",name:"seasonSelect",value:G[a]?G[a].value:t.selectedSeason,onChange:function(t){return e.handleSeasonSelect(t.target.value,a)}},n.createElement("option",{value:""},"Select Analysis"),F&&F.length>0&&F.map(function(e,t){return n.createElement("option",{value:e.value,key:t},e.label," ")})))),n.createElement("div",{className:"col-md-6 p-0"},n.createElement("div",{className:"col-md-2"},n.createElement("label",{htmlFor:"finishDate"},"End Date:")),n.createElement("div",{className:"col-md-4"},n.createElement(d.a,{id:"finishDate",name:"finishDate",className:"form-control",selected:k[a]?new Date(k[a].value):new Date,onChange:function(t){return e.handleSeasonDate(t,a)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"time",minDate:t.ecmEndDate?new Date(t.ecmEndDate):void 0,maxDate:E.lifeOfAsset?new Date(new Date(t.ecmEndDate).setFullYear(new Date(t.ecmEndDate).getFullYear()+E.lifeOfAsset)):void 0,customInput:n.createElement("input",{type:"text",className:"",name:"finishDate","aria-label":"",placeholder:"Baseline (pre-retrofit) Finish Measure Time","aria-describedby":"button-addon4",value:k.toString()})})),n.createElement("div",{className:"col-md-4"},n.createElement("button",{disabled:!(G[a]&&G[a].value&&k[a]&&k[a].value),className:"btn btn-success btn-fill margin-5",onClick:function(){return f(e,void 0,void 0,function(){return v(this,function(e){return Object(h.a)(!0,"Loading Graph"),this.handle_Data_Extender(G[a].value,k[a].value,t,a),Object(h.a)(!1),[2]})})}},"Calculate"))),n.createElement("div",{className:"col-md-12",style:{padding:0,marginTop:"1%"}},M&&M[a]&&M[a].graphData&&M[a].graphData.length>0?n.createElement("div",{className:""},n.createElement(u.a,{instance:e.props.instance,buildingName:e.props.buildingName,isGraph:!0,daysDataGraph:M&&M[a]&&M[a].graphData,startDate:t.ecmStartDate,endDate:t.ecmEndDate,measureType:"Post-Retrofit",measureName:E.projectName,isGraphA:!1,dataDemand:e.handleDataDemand(M&&M[a]&&M[a].graphData)})):n.createElement("div",null,n.createElement("div",{className:"col-md-12 headingText",style:{fontSize:"large",textTransform:"uppercase",marginBottom:"2%",color:"red"}},"No data found for ",("cooling"==t.selectedSeason?"Summer":"heating"==t.selectedSeason?"Winter":"continuous"==t.selectedSeason?"Continuous":"shoulder1"==t.selectedSeason?"Spring":"shoulder2"==t.selectedSeason?"Fall":"")+("Both"==t.seasonType?"cooling"==t.selectedAnalysis?": Cooling":": Heating":"")," season"))),n.createElement("div",{className:"col-md-12"},n.createElement("hr",null)))}))))))):n.createElement("div",{className:"content"},n.createElement("div",{className:"container-fluid",id:"measureDetail"},n.createElement("div",{className:"padding-10"},n.createElement("div",{className:"hidden-xs"},n.createElement("div",{className:"row"},n.createElement("div",{className:"content"},n.createElement("div",{style:{paddingTop:"1%"}},n.createElement("div",{className:"col-md-12 "},n.createElement("div",{className:"col-md-6"},n.createElement("h4",{className:"title",style:{margin:0}},"Measure All Season Analysis: ",n.createElement("span",{style:{fontWeight:400}},E.projectName))),n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"dropdown pull-right"},n.createElement(i.a,{filename:"Project Information",data:W,ElementID:"measureDetail"})),n.createElement("button",{style:{margin:"0px !important",marginLeft:3},disabled:!1,className:"btn btn-dark btn-fill margin-0 pull-right",onClick:function(){return f(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return Object(h.a)(!0,"Loading Grpahs"),[4,this.graphAandC("C")];case 1:return e.sent(),this.setState({isGraphC:!0}),Object(h.a)(!1),[2]}})})}},"Post-Retrofit Graph"),n.createElement("button",{style:{margin:"0px !important",marginLeft:3},disabled:!1,className:"btn btn-dark btn-fill margin-0 pull-right",onClick:function(){return f(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return Object(h.a)(!0,"Loading Graph"),[4,this.graphAandC("A")];case 1:return e.sent(),this.setState({isGraphA:!0}),Object(h.a)(!1),[2]}})})}},"Pre-Retrofit Graph")))))))),n.createElement("div",null,n.createElement("div",{style:{display:"grid"}},n.createElement("div",{className:"col-md-12"},n.createElement("hr",{style:{marginTop:0}})),n.createElement("div",{className:"padding-10"},n.createElement("div",{className:"col-md-6 p-0"},n.createElement("div",{className:"col-md-12 headingText",style:{fontSize:"large"}},"AS IS"),n.createElement("div",{className:"col-md-5 headingText"},"Total Energy Consumed: "),n.createElement("div",{className:"col-md-7 "},j||0," kWh "),n.createElement("div",{className:"col-md-5 headingText"},"Total Energy Cost: "),n.createElement("div",{className:"col-md-7 "},"$ ",A?A.toFixed(2):0," "),n.createElement("div",{className:"col-md-5 headingText"},"Electricity Reductions: "),n.createElement("div",{className:"col-md-7 "},j?(709e-6*j).toFixed(2):0," Tons CO2 Emissions")),n.createElement("div",{className:"col-md-6 p-0"},n.createElement("div",{className:"col-md-12 headingText",style:{fontSize:"large"}},"ECM"),n.createElement("div",{className:"col-md-5 headingText"},"Total Energy Consumed: "),n.createElement("div",{className:"col-md-7 "},x||0," kWh "),n.createElement("div",{className:"col-md-5 headingText"},"Total Energy Cost: "),n.createElement("div",{className:"col-md-7 "},"$ ",C||0," "),n.createElement("div",{className:"col-md-5 headingText"},"Electricity Reductions: "),n.createElement("div",{className:"col-md-7 "},x?(709e-6*x).toFixed(2):0," Tons CO2 Emissions"))),n.createElement("div",{className:"col-md-12"},n.createElement("hr",{style:{marginTop:0}})),n.createElement("div",{style:{display:"flow-root"}},I&&I.length>0&&I.map(function(e,t){var a="rgb("+(215-3*t)+","+(185-5*t)+","+(185-10*t)+" )";return n.createElement("div",{className:"col-md-6",style:{backgroundColor:a,paddingTop:10,paddingBottom:10}},n.createElement("div",{className:"col-md-12 headingText",style:{fontSize:"large"}},"TOTAL ENERGY SAVINGS"," "+e.analysisName+": "+(e.seasonType&&"both"==e.seasonType.toLocaleLowerCase().trim()?e.seasonType+": "+("cooling"==e.selectedAnalysis?"Cooling":"Heating"):e.seasonType)),n.createElement("div",{className:"col-md-5 headingText"},"Time Duration ASIS: "),n.createElement("div",{className:"col-md-7 "},new Date(e.asisStartDate).onitDateFormat()+" - "+new Date(e.asisEndDate).onitDateFormat(),"  "),n.createElement("div",{className:"col-md-5 headingText"},"Time Duration ECM: "),n.createElement("div",{className:"col-md-7 "},new Date(e.ecmStartDate).onitDateFormat()+" - "+new Date(e.ecmEndDate).onitDateFormat(),"  "),n.createElement("div",{className:"col-md-5 headingText"},"Total Energy Saved: "),n.createElement("div",{className:"col-md-7 "},e.totalConsumedEnergyASIS&&e.totalConsumedEnergyECM?(e.totalConsumedEnergyASIS-e.totalConsumedEnergyECM).toFixed(2):0," kWh "),n.createElement("div",{className:"col-md-5 headingText"},"Total Savings: "),n.createElement("div",{className:"col-md-7 "},"$ ",e.totalConsumedEnergyCostASIS&&e.totalConsumedEnergyCostECM?(e.totalConsumedEnergyCostASIS-e.totalConsumedEnergyCostECM).toFixed(2):0," "),n.createElement("div",{className:"col-md-5 headingText"},"Total CO2 Emission Savings: "),n.createElement("div",{className:"col-md-7 "},e.totalConsumedEnergyASIS&&e.totalConsumedEnergyECM?(709e-6*e.totalConsumedEnergyASIS-709e-6*e.totalConsumedEnergyECM).toFixed(2):0," Tons CO2 Emissions"))}),n.createElement("div",{className:"col-md-12"},n.createElement("hr",null))),n.createElement("div",{style:{display:"grid"}},n.createElement("div",{className:"col-md-12 headingText",style:{fontSize:"large"}},"ANALYSIS SELECTED"),n.createElement("div",{className:""},n.createElement("div",{className:"col-md-3"},n.createElement("div",null,n.createElement("label",{htmlFor:"seasonSelectSummer"},"Summer (Jun-15 to Sep-14): ")),n.createElement("div",null,n.createElement(p.a,{isMulti:!1,id:"seasonSelectSummer",name:"seasonSelectSummer",value:_[0],onChange:function(t){var a=Object();a=t,e.handleSeasonAnalysis(a,"Summer",0)},options:F}))),n.createElement("div",{className:"col-md-3"},n.createElement("div",null,n.createElement("label",{htmlFor:"seasonSelectFall"},"Fall (Sep-15 to Nov-14): ")),n.createElement("div",null,n.createElement(p.a,{isMulti:!1,id:"seasonSelectFall",name:"seasonSelectFall",value:_[1],onChange:function(t){var a=Object();a=t,e.handleSeasonAnalysis(a,"Fall",1)},options:F}))),n.createElement("div",{className:"col-md-3"},n.createElement("div",null,n.createElement("label",{htmlFor:"seasonSelectWinter"},"Winter (Nov-15 to Mar-14): ")),n.createElement("div",null,n.createElement(p.a,{isMulti:!1,id:"seasonSelectWinter",name:"seasonSelectWinter",value:_[2],onChange:function(t){var a=Object();a=t,e.handleSeasonAnalysis(a,"Winter",2)},options:F}))),n.createElement("div",{className:"col-md-3"},n.createElement("div",null,n.createElement("label",{htmlFor:"seasonSelectSpring"},"Spring (Mar-15 to Jun-14): ")),n.createElement("div",null,n.createElement(p.a,{isMulti:!1,id:"seasonSelectSpring",name:"seasonSelectSpring",value:_[3],onChange:function(t){var a=Object();a=t,e.handleSeasonAnalysis(a,"Spring",3)},options:F}))),n.createElement("div",{className:"col-md-12"},n.createElement("label",{style:{marginTop:15}},"ECM INSTALLATION DATE: ",E.ecmInstallationDate?new Date(E.ecmInstallationDate).onitDateFormat():""),n.createElement("button",{style:{marginLeft:3,marginTop:10},className:"btn btn-success btn-fill pull-right margin-0",onClick:function(){return f(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,this.saveVerify()];case 1:return e.sent(),Object(h.a)(!0,"Performing analysis"),[4,this.measure_Detail_Prediction_Data_Calculator()];case 2:return e.sent(),Object(h.a)(!1),[2]}})})}}," Perform Analysis"))),n.createElement("div",{className:"col-md-12"},n.createElement("hr",null)),n.createElement("div",{className:"padding-10",style:{backgroundColor:"darkseagreen"}},n.createElement("div",{className:"col-md-6 p-0"},n.createElement("div",{className:"col-md-12 headingText",style:{fontSize:"large"}},"TOTAL ENERGY SAVINGS SINCE RETROFIT"),n.createElement("div",{className:"col-md-5 headingText"},"Time Duration: "),n.createElement("div",{className:"col-md-7 "},E.ecmInstallationDate?new Date(E.ecmInstallationDate).onitDateFormat()+" - "+(new Date).onitDateFormat():"","  "),n.createElement("div",{className:"col-md-5 headingText"},"Total Energy Saved: "),n.createElement("div",{className:"col-md-7 "},j&&x?(j-x).toFixed(2):0," kWh "),n.createElement("div",{className:"col-md-5 headingText"},"Total Savings: "),n.createElement("div",{className:"col-md-7 "},"$ ",A&&C?(A-C).toFixed(2):0," "),n.createElement("div",{className:"col-md-5 headingText"},"Total CO2 Emission Savings: "),n.createElement("div",{className:"col-md-7 "},j&&x?(709e-6*j-709e-6*x).toFixed(2):0," Tons CO2 Emissions"))),n.createElement("div",{className:"col-md-12"},n.createElement("hr",null)))),n.createElement("div",{className:"padding-10",id:"VerifyDetailPage"},n.createElement("div",{className:"padding-10",style:{border:"2px solid gainsboro"}},n.createElement("div",{className:"row no-padding"},n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"col-md-1 headingText"}),n.createElement("div",{className:"col-md-5 headingText"},this.state.projectName),n.createElement("div",{className:"col-md-1 headingText"},"1 Month"),n.createElement("div",{className:"col-md-1 headingText"},"3 Month"),n.createElement("div",{className:"col-md-1 headingText"},"6 Month"),n.createElement("div",{className:"col-md-1 headingText"},"12 Month"),n.createElement("div",{className:"col-md-1 headingText"},"LIFE")))),n.createElement("div",{style:{marginBottom:"3px",paddingBottom:"1%",border:"1px solid lightgray",padding:"20px"}},s&&s.length>0&&s.map(function(t,a){return n.createElement("div",{key:a,style:{margin:"2px",border:"1px dotted lightgray",borderRadius:5}},n.createElement("div",{className:"padding-10",style:{marginBottom:"1px"},key:a},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"col-md-1 no-padding"},0!=a&&n.createElement("button",{className:"circle",style:{marginRight:"5px",border:"white"},onClick:function(){e.reorderProjects(a,"up")}},n.createElement("i",{className:"fa fa-arrow-up"})),a<s.length-1&&n.createElement("button",{className:"circle",style:{marginRight:"5px",border:"white"},onClick:function(){e.reorderProjects(a,"down")}},n.createElement("i",{className:"fa fa-arrow-down"}))),n.createElement("div",{className:"col-md-5",style:{fontSize:12}},t.departmentName),n.createElement("div",{className:"col-md-1",style:{fontSize:12}},t.oneMonth),n.createElement("div",{className:"col-md-1",style:{fontSize:12}},t.threeMonth),n.createElement("div",{className:"col-md-1",style:{fontSize:12}},t.sixMonth),n.createElement("div",{className:"col-md-1",style:{fontSize:12}},t.twelveMonth),n.createElement("div",{className:"col-md-1",style:{fontSize:12}},t.life),n.createElement("div",{className:"col-md-1"},n.createElement("button",{className:"btn-xs btn-danger btn active pull-right",style:{marginLeft:"5px"},onClick:function(a){e.deleteVerifyDetail(t._id)}}," ",n.createElement("i",{className:"fa fa-trash"})),n.createElement("button",{className:"btn-xs btn-success btn active pull-right",onClick:function(a){e.setState({verifyDetailObj:t}),document.getElementById("editProjectbtn").click()}},"  ",n.createElement("i",{className:"fa fa-edit"})))))))}),n.createElement("br",null),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12"},n.createElement("button",{className:"btn btn-default pull-left",onClick:function(){e.setState({verifyDetailObj:Object()}),document.getElementById("editProjectbtn").click()}}," ",n.createElement("i",{className:"fa fa-plus"})," ")),n.createElement("div",{className:"col-md-12"},n.createElement("button",{style:{marginLeft:3},className:"btn btn-danger btn-fill pull-right margin-0",onClick:function(){document.getElementById("btnMeasureDeleteConfirm").click()}}," Delete Measure"))))),n.createElement("button",{id:"btnMeasureDeleteConfirm",style:{display:"none"},"data-toggle":"modal","data-target":"#ConfirmDeleteDialog"},"."),n.createElement(g.a,{instance:t,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this Measure and all attached Analysis?",heading:"Confirm...",onConfirmButtonClick:function(){return f(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return"Enter"!=y?[3,1]:[3,3];case 1:return[4,this.deleteMeasure()];case 2:e.sent(),e.label=3;case 3:return y="",[2]}})})}}),n.createElement("button",{id:"editProjectbtn",className:"hidden","data-toggle":"modal","data-target":"#editProject",title:"Add"}," ",n.createElement("i",{className:"fa fa-plus"})," "),n.createElement(r.a,{id:"editProject",heading:this.state.projectName,saveButtonText:"Save",isEditForm:!0,onSaveButtonClick:function(){e.saveVerifyProjectDetail(!0)},disableSaveButton:!l.departmentName},n.createElement("div",{className:"content dataCard"},n.createElement("div",{className:""},n.createElement("div",{className:"row padding-10"},n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"col-md-3 headingText padding-10"},"Description:"),n.createElement("div",{className:"col-md-9"},n.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value)},type:"text",name:"departmentName",value:l.departmentName,className:(l.departmentName?"":"addFieldValidate")+" form-control cell_border"}))),n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"col-md-3 headingText padding-10"},"Start:"),n.createElement("div",{className:"col-md-9"},n.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value)},type:"text",name:"start",value:l.start,className:"form-control cell_border"})))),n.createElement("div",{className:"row padding-10"},n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"col-md-3 headingText padding-10"},"1 Month:"),n.createElement("div",{className:"col-md-9"},n.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value)},type:"text",name:"oneMonth",value:l.oneMonth,className:"form-control cell_border"}))),n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"col-md-3 headingText padding-10"},"3 Month:"),n.createElement("div",{className:"col-md-9"},n.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value)},type:"text",name:"threeMonth",value:l.threeMonth,className:"form-control cell_border"})))),n.createElement("div",{className:"row padding-10"},n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"col-md-3 headingText padding-10"},"6 Month:"),n.createElement("div",{className:"col-md-9"},n.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value)},type:"text",name:"sixMonth",value:l.sixMonth,className:"form-control cell_border"}))),n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"col-md-3 headingText padding-10"},"12 Month:"),n.createElement("div",{className:"col-md-9"},n.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value)},type:"text",name:"twelveMonth",value:l.twelveMonth,className:"form-control cell_border"})))),n.createElement("div",{className:"row padding-10"},n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"col-md-3 headingText padding-10"},"Percent Completion:"),n.createElement("div",{className:"col-md-9"},n.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value)},type:"text",name:"percentComplete",value:l.percentComplete,className:"form-control cell_border"}))),n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"col-md-3 headingText padding-10"},"Valuation Improvement:"),n.createElement("div",{className:"col-md-9"},n.createElement("input",{onChange:function(t){e.onChangeHandler(t.target.name,t.target.value)},type:"text",name:"valuationImprovement",value:l.valuationImprovement,className:"form-control cell_border"})))),n.createElement("div",{className:"row padding-10"},n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"col-md-3 headingText padding-10"},"Start Date:"),n.createElement("div",{className:"col-md-9"},n.createElement(d.a,{name:"startDate",className:"form-control",selected:l.startDate?new Date(l.startDate):void 0,onChange:function(t){return e.handleStartRechargeDate(t)},timeIntervals:15,dateFormat:"MMMM d, yyyy",customInput:n.createElement("input",{type:"text",className:"form-control","aria-label":"","aria-describedby":"button-addon4",value:l.startDate?l.startDate.toLocaleString():""})}))),n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"col-md-3 headingText padding-10"},"Finish Date:"),n.createElement("div",{className:"col-md-9"},n.createElement(d.a,{name:"finishDate",className:"form-control",selected:l.finishDate?new Date(l.finishDate):void 0,onChange:function(t){return e.handleLastRechargeDate(t)},timeIntervals:15,dateFormat:"MMMM d, yyyy",customInput:n.createElement("input",{type:"text",className:"form-control","aria-label":"","aria-describedby":"button-addon4",value:l.finishDate?l.finishDate.toLocaleString():""})}))))))))))},t}(n.Component);t.default=S}});