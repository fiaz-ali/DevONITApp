webpackJsonp([70],{3215:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=(n.n(a),n(708)),c=n(122),i=n(928),l=n(11),r=n(701),o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),d=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(s,c){function i(e){try{r(a.next(e))}catch(e){c(e)}}function l(e){try{r(a.throw(e))}catch(e){c(e)}}function r(e){e.done?s(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,l)}r((a=a.apply(e,t||[])).next())})},m=this&&this.__generator||function(e,t){var n,a,s,c,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function l(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(s=2&c[0]?a.return:c[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,c[1])).done)return s;switch(a=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,a=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){i.label=c[1];break}if(6===c[0]&&i.label<s[1]){i.label=s[1],s=c;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(c);break}s[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],a=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={checklist:[],selectedChecklist:Object()},n.sortCheckList=n.sortCheckList.bind(n),n._fetchChecklistList=n._fetchChecklistList.bind(n),n._deleteChecklistTemplate=n._deleteChecklistTemplate.bind(n),n}return o(t,e),t.prototype.componentDidMount=function(){return d(this,void 0,void 0,function(){return m(this,function(e){switch(e.label){case 0:return this.props.buildingName?[4,this._fetchChecklistList()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.selectedChecklist&&this.setState({selectedChecklist:e.selectedChecklist})},t.prototype._fetchChecklistList=function(){return d(this,void 0,void 0,function(){var e,t=this;return m(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,[4,Object(i.g)(e).then(function(e){""==Object(l.g)(e[0].ontology)&&(e=[]),t.setState({checklist:e,selectedChecklist:Object()})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},t.prototype.sortCheckList=function(e){},t.prototype._deleteChecklistTemplate=function(e){return d(this,void 0,void 0,function(){return m(this,function(t){switch(t.label){case 0:return e?(Object(c.a)(!0),[4,Object(i.c)(e,this.props.buildingName).then(function(e){}).catch(function(e){return e})]):[3,2];case 1:t.sent(),this._fetchChecklistList(),Object(c.a)(!1),t.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.instance,c=t.buildingName,i=t.isSelectionlist,o=this.state,d=o.checklist,m=o.selectedChecklist;return a.createElement("div",{className:"content"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},!i&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 "},a.createElement("div",{className:"padding-5"},a.createElement(s.a,{filename:"checkList",data:[],ElementID:"CheckList"}),a.createElement("button",{type:"button",className:"btn btn-dark pull-right margin-left-right-5",onClick:function(){window.location.hash=n+"/"+c+"/NewChecklist"}},a.createElement("i",{className:"fa fa-plus"}),a.createElement("span",null,"New CheckList")),a.createElement("button",{className:"btn btn-secondary btn-fill pull-left margin-left-right-5",onClick:function(){window.location.hash=n+"/"+c+"/Tasks"}},a.createElement("i",{className:"fa fa-angle-double-left"}),"  Back ")))),a.createElement("div",{className:"card padding-10",id:"CheckList"},a.createElement("div",{className:"content",style:{paddingTop:"0px"}},a.createElement("div",{className:"dataCard"},a.createElement("div",{className:"row hidden-xs no-padding"},a.createElement("div",{className:(i?"col-sm-11":"col-sm-10")+" no-padding"},a.createElement("div",{className:"col-sm-2 small grid-header-left",onClick:function(){return e.sortCheckList("Module")}},"Module Use"),a.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortCheckList("Name")}},"Checklist Name"),a.createElement("div",{className:"col-sm-2 small grid-header",onClick:function(){return e.sortCheckList("Equipment")}},"Equipment"),a.createElement("div",{className:"col-sm-1 small headingText grid-header",onClick:function(){return e.sortCheckList("Space")}},"Space"),a.createElement("div",{className:"col-sm-2 small headingText grid-header",onClick:function(){return e.sortCheckList("LastDate")}},"Last Date of Use"),a.createElement("div",{className:"col-sm-2 small headingText grid-header",onClick:function(){return e.sortCheckList("DataEntry")}},"Checklist/Data Entry"),a.createElement("div",{className:"col-sm-1 small headingText grid-header",onClick:function(){return e.sortCheckList("Uses")}},"Uses")),!i&&a.createElement("div",{className:"col-sm-2"})),d.map(function(t,s){return a.createElement("div",{key:s,className:"row no-padding"},a.createElement("div",{className:(i?"col-sm-11":"col-sm-10")+" no-padding ",style:{cursor:"pointer"},onClick:function(){i?(e.props.handleSelection(t),e.setState({selectedChecklist:t})):event.preventDefault()}},a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Module Use"),""),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:Object(l.g)(t.rdfsLabel)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Checklist Name"),Object(l.g)(t.rdfsLabel)),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:"Equip"==Object(l.g)(t.assetType)?""+Object(l.g)(t.assetLabel):""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Equipment"),"Equip"==Object(l.g)(t.assetType)?""+Object(l.g)(t.assetLabel):""),a.createElement("div",{className:"col-md-1 col-sm-12  padding-10 trim-data",title:"Space"==Object(l.g)(t.assetType)?""+Object(l.g)(t.assetLabel):""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Space"),"Space"==Object(l.g)(t.assetType)?""+Object(l.g)(t.assetLabel):""),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""!=Object(l.g)(t.lastUsed)?new Date(Object(l.g)(t.lastUsed)).ToEasternDateTime():""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Last Date of Use"),""!=Object(l.g)(t.lastUsed)?new Date(Object(l.g)(t.lastUsed)).ToEasternDateTime():""),a.createElement("div",{className:"col-md-2 col-sm-12  padding-10 trim-data",title:""},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Checklist/Data Entry"),""),a.createElement("div",{className:"col-md-1 col-sm-12  padding-10 trim-data",title:Object(l.g)(t.uses)},a.createElement("span",{className:"hidden visible-xs-inline headingText"},"Uses"),Object(l.g)(t.uses))),i&&a.createElement("div",{className:"col-sm-1 padding-10  trim-data"},Object(l.g)(t.ontology)==Object(l.g)(m.ontology)&&a.createElement("i",{style:{fontSize:"18px"},className:"fa fa-check"})),!i&&a.createElement("div",{className:"col-sm-1 no-padding"},a.createElement("button",{className:"btn-xs btn-danger btn-fill",title:"Delete Checklist",onClick:function(e){document.getElementById("deleteChecklistTempBtn").click()}},a.createElement("i",{className:"fa fa-trash"})),a.createElement("button",{className:"btn-xs btn-success btn-fill",title:"Edit Checklist",onClick:function(e){window.location.hash=n+"/"+c+"/NewChecklist/"+Object(l.g)(t.ontology)}},a.createElement("i",{className:"fa fa-edit"})),a.createElement("button",{id:"deleteChecklistTempBtn",style:{display:"none"},"data-toggle":"modal","data-target":"#deleteChecklist"},"."),a.createElement(r.a,{instance:e.props.instance,id:"deleteChecklist",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to remove Checklist Template?",heading:"Confirm...",onConfirmButtonClick:function(){e._deleteChecklistTemplate(t)}})))}))))))))},t}(a.Component);t.default=u}});