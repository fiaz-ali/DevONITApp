webpackJsonp([46,79],{1324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l=n(2),o=(n.n(l),n(13)),i=n(721),c=n(709),r=n(20),s=n(57),d=n(702),u=n(11),m=n(698),p=n(122),h=n(8),g=n(754),b=n(743),v=n(851),f=n(948),E=n(701),N=n(21),y=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),S=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(l,o){function i(e){try{r(a.next(e))}catch(e){o(e)}}function c(e){try{r(a.throw(e))}catch(e){o(e)}}function r(e){e.done?l(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}r((a=a.apply(e,t||[])).next())})},C=this&&this.__generator||function(e,t){var n,a,l,o,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(l=2&o[0]?a.return:o[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,o[1])).done)return l;switch(a=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(l=(l=i.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){i.label=o[1];break}if(6===o[0]&&i.label<l[1]){i.label=l[1],l=o;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(o);break}l[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},w=["Drop Ceiling","Other Ceiling","Drywall","Plaster","Metal","None"],D=function(e){function t(t){var n=e.call(this,t)||this;return n.state={locationModel:{ontology:n.props.spaceName?n.props.spaceName:Object(r.F)(7),buildingName:n.props.buildingName,floor:"",type:"",name:"",rdfsLabel:"",ceilingType:"",ceilingHeight:"",description:"",notes:"",zone:[],profileFileName:[],panelID:"",cadBIM:"",virtualBIM:"",isDirectional:!1,locationState:"Existing"},floorsList:[],isEdit:!1,_spaceTypes:[],newFloor:Object(),panelIDs:[],zonesList:[],files:[],zoneName:"",zoneType:"",_zoneTypes:[],_serviceProvidersList:[],selectedBIMSweeps:[],refreshMatterportDialog:!1,showMatterportDialog:!0},a=n,n.handleDirectionalSpaceChange=n.handleDirectionalSpaceChange.bind(n),n.handleRefreshMatterport=n.handleRefreshMatterport.bind(n),n.handleSelectedSweepsChange=n.handleSelectedSweepsChange.bind(n),n.handleFloorChange=n.handleFloorChange.bind(n),n.handleTypeChange=n.handleTypeChange.bind(n),n.handleNameChange=n.handleNameChange.bind(n),n.handleCeilingTypeChange=n.handleCeilingTypeChange.bind(n),n.handleCeilingHeightChange=n.handleCeilingHeightChange.bind(n),n.handleDescriptionChange=n.handleDescriptionChange.bind(n),n.handleNotesChange=n.handleNotesChange.bind(n),n.createFloor=n.createFloor.bind(n),n.handlePanelIDChange=n.handlePanelIDChange.bind(n),n.handleNewPanelID=n.handleNewPanelID.bind(n),n.handleRemovePanelID=n.handleRemovePanelID.bind(n),n.handleZoneChange=n.handleZoneChange.bind(n),n.handleVirtualBIMChange=n.handleVirtualBIMChange.bind(n),n.handleCADBIMChange=n.handleCADBIMChange.bind(n),n.handlefileAttached=n.handlefileAttached.bind(n),n._getZonesList=n._getZonesList.bind(n),n.saveZone=n.saveZone.bind(n),n.handleZoneNameChange=n.handleZoneNameChange.bind(n),n.handleZoneTypeChange=n.handleZoneTypeChange.bind(n),n._fetchServiceProvidersList=n._fetchServiceProvidersList.bind(n),n._getZoneTypesList=n._getZoneTypesList.bind(n),n.createLocation=n.createLocation.bind(n),n.getSpace=n.getSpace.bind(n),n.getMultiSelectDropDownLabel=n.getMultiSelectDropDownLabel.bind(n),n.getSweeps=n.getSweeps.bind(n),n.onDialogCancelButton=n.onDialogCancelButton.bind(n),n.handleStateChange=n.handleStateChange.bind(n),n.deleteSpace=n.deleteSpace.bind(n),n}return y(t,e),t.prototype.componentDidMount=function(){return S(this,void 0,void 0,function(){var e,t,n;return C(this,function(a){switch(a.label){case 0:return e=this.props,t=e.buildingName,n=e.spaceName,t?[4,this._getFloorsList()]:[3,7];case 1:return a.sent(),[4,this._getSpaceTypeList()];case 2:return a.sent(),[4,this._getZonesList()];case 3:return a.sent(),[4,this._getZoneTypesList()];case 4:return a.sent(),n?[4,this.getSpace(t,n)]:[3,7];case 5:return a.sent(),[4,this.getSweeps(t,n)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){return S(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return e.spaceName?[4,this.getSpace(e.buildingName,e.spaceName)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.createLocation=function(){return S(this,void 0,void 0,function(){var e,t,n,a,l,i,r=this;return C(this,function(d){switch(d.label){case 0:return e=this.state.isEdit,(t=this.state.locationModel)?(e||(t.hasFloorPlan=!1),Object(p.a)(!0),[4,Object(c.a)(this.props.buildingName,t,t.floor,e,t.name)]):[3,2];case 1:if(d.sent(),n=new s.b,(a=Object(o.d)())&&a.length)for(l=0;l<a.length;l++)i=a[l],n.UploadFile(s.a.DOCUMENT(),t.profileFileName[l],i,function(e,t){e?Object(N.a)("Attachment failed to upload"):console.log(t)});Object(p.a)(!1),this.props.onChangeTab&&this.props.onChangeTab("Tab1"),this.setState({locationModel:Object(),selectedBIMSweeps:[]},function(){window.location.hash=r.props.instance+"/"+r.props.buildingName+"/Space"}),d.label=2;case 2:return[2]}})})},t.prototype.getSweeps=function(e,t){return S(this,void 0,void 0,function(){var n,a=this;return C(this,function(l){switch(l.label){case 0:return n=[],[4,Object(g.c)(e,t).then(function(e){return S(a,void 0,void 0,function(){return C(this,function(t){return e.forEach(function(e){var t=Object();t.assignedSpace=Object(u.g)(e.assignedSpace),t.buildingName=Object(u.g)(e.buildingName),t.ontology=Object(u.g)(e.ontology),t.uuid=Object(u.g)(e.uuid),t.uuidIndex=parseInt(Object(u.g)(e.uuidIndex)),t.stepNo=parseInt(Object(u.g)(e.stepNo)),n.push(t)}),this.setState({selectedBIMSweeps:n}),[2]})})}).catch(function(e){return e})];case 1:return l.sent(),[2]}})})},t.prototype.getSpace=function(e,t){return S(this,void 0,void 0,function(){var n,a,l,o,i=this;return C(this,function(r){switch(r.label){case 0:return n=Object(),a=this.state.locationModel,l=this.state.panelIDs,Object(p.a)(!0),[4,Object(c.i)(e,t).then(function(e){return S(i,void 0,void 0,function(){return C(this,function(t){return""==Object(u.g)(e[0].space)&&(e=[]),n=e[0],[2]})})}).catch(function(e){return e})];case 1:return r.sent(),n&&(localStorage.setItem("spaceOntology",Object(u.g)(n.space)),a.buildingName=e,a.floor=Object(u.g)(n.floor&&n.floor),a.type=Object(u.g)(n.type),a.name=Object(u.g)(n.space),a.rdfsLabel=Object(u.g)(n.rdfsLabel),a.ceilingType=Object(u.g)(n.ceilingtype),a.ceilingHeight=Object(u.g)(n.ceilingheight),a.description=Object(u.g)(n.description),a.notes=Object(u.g)(n.notes),a.panelID=Object(u.g)(n.panelID),o=[],n.zone&&n.zone.value&&(o=n.zone.value.indexOf(",")>0?n.zone.value.split(","):[n.zone.value]),a.zone=o.map(function(e,t){return{label:i.getMultiSelectDropDownLabel(e,i.state.zonesList),value:e}}),a.virtualBIM=Object(u.g)(n.virtualBIM),a.cadBIM=Object(u.g)(n.cadBIM),a.profileFileName=Object(u.g)(n.profileFileName).split(","),a.isDirectional="true"===Object(u.g)(n.isDirectional),a.locationState=Object(u.g)(n.locationState)?Object(u.g)(n.locationState):"",a.hasFloorPlan=!(!Object(u.g)(n.hasFloorPlan)||"true"!=Object(u.g)(n.hasFloorPlan)),n.panelID&&(l=n.panelID.value.indexOf(",")>0?n.panelID.value.split(","):[n.panelID.value]),this.handleFloorChange(a.floor),this.setState({isEdit:!0,locationModel:a,panelIDs:l})),Object(p.a)(!1),[2]}})})},t.prototype.getMultiSelectDropDownLabel=function(e,t){var n=t,a=Object();return(a=n&&n.find(function(t){return t.value==e}))&&a.label},t.prototype.saveZone=function(){return S(this,void 0,void 0,function(){var e,t,n=this;return C(this,function(l){switch(l.label){case 0:return e=this.props.buildingName,(t=Object()).rdfsLabel=this.state.zoneName,t.type=this.state.zoneType,[4,Object(i.c)(t,e)];case 1:return l.sent(),this.setState({zoneName:"",zoneType:""},function(){setTimeout(function(){return S(n,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return[4,a._getZonesList()];case 1:return e.sent(),[2]}})})},2e3)}),[2]}})})},t.prototype.handleZoneNameChange=function(e){this.setState({zoneName:e})},t.prototype.handleZoneTypeChange=function(e){var t=this;this.setState({zoneType:e},function(){t._fetchServiceProvidersList(e)})},t.prototype._fetchServiceProvidersList=function(e){return S(this,void 0,void 0,function(){var t=this;return C(this,function(n){switch(n.label){case 0:return"zoneHeat"==e&&(e="both"),[4,Object(i.g)(this.props.buildingName,e).then(function(e){t.setState({_serviceProvidersList:e})}).catch(function(e){return e})];case 1:return n.sent(),[2]}})})},t.prototype._getFloorsList=function(){return S(this,void 0,void 0,function(){var e=this;return C(this,function(t){switch(t.label){case 0:return[4,Object(i.f)(this.props.buildingName).then(function(t){e.setState({floorsList:t})})];case 1:return t.sent(),[2]}})})},t.prototype._getZonesList=function(){return S(this,void 0,void 0,function(){var e;return C(this,function(t){switch(t.label){case 0:return(e=[])||(e=[]),[4,Object(i.e)(this.props.buildingName,!0).then(function(t){for(var n=0;n<t.length;n++){var l={value:Object(u.g)(t[n].ontology),label:Object(u.g)(t[n].rdfsLabel)};e.push(l)}a.setState({zonesList:e})})];case 1:return t.sent(),[2]}})})},t.prototype._getZoneTypesList=function(){return S(this,void 0,void 0,function(){var e,t=this;return C(this,function(n){switch(n.label){case 0:return e=this.props.buildingName,[4,Object(i.h)(e).then(function(e){t.setState({_zoneTypes:e})})];case 1:return n.sent(),[2]}})})},t.prototype._getSpaceTypeList=function(){return S(this,void 0,void 0,function(){var e=this;return C(this,function(t){switch(t.label){case 0:return[4,Object(c.g)(this.props.buildingName).then(function(t){e.setState({_spaceTypes:t})})];case 1:return t.sent(),[2]}})})},t.prototype.handleFloorChange=function(e){return S(this,void 0,void 0,function(){var t,n=this;return C(this,function(a){switch(a.label){case 0:return(t=this.state.locationModel).floor=e,"newFloor"!==e?[3,1]:(document.getElementById("btnOpenFloorForm").click(),[3,3]);case 1:return[4,Object(i.a)(this.props.buildingName,e).then(function(e){e&&e.length>0&&(t.linkBimism=Object(u.g)(e[0].linkBimism)),n.setState({locationModel:t,refreshMatterportDialog:!0})}).catch(function(e){return e})];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.handleRefreshMatterport=function(e){this.setState({refreshMatterportDialog:e})},t.prototype.handleTypeChange=function(e){var t=this.state.locationModel;t.type=e,this.setState({locationModel:t})},t.prototype.handleZoneChange=function(e){var t=this.state.locationModel;t.zone=e,this.setState({locationModel:t})},t.prototype.handleNameChange=function(e){var t=this.state.locationModel;t.rdfsLabel=e,this.setState({locationModel:t})},t.prototype.handleVirtualBIMChange=function(e){var t=this.state.locationModel;t.virtualBIM=e,this.setState({locationModel:t})},t.prototype.handleCADBIMChange=function(e){var t=this.state.locationModel;t.cadBIM=e,this.setState({locationModel:t})},t.prototype.handlePanelIDChange=function(e,t){var n=this.state,a=n.locationModel,l=n.panelIDs;l[t]=e,a.panelID=l.join(","),this.setState({locationModel:a,panelIDs:l})},t.prototype.handleNewPanelID=function(){var e=this.state,t=e.locationModel,n=e.panelIDs;n.push(""),t.panelID=n.join(","),this.setState({locationModel:t,panelIDs:n})},t.prototype.handleRemovePanelID=function(e){var t=this.state,n=t.locationModel,a=t.panelIDs;a.splice(e,1),n.panelID=a.join(","),this.setState({locationModel:n,panelIDs:a})},t.prototype.handleCeilingTypeChange=function(e){var t=this.state.locationModel;t.ceilingType=e,this.setState({locationModel:t})},t.prototype.handleCeilingHeightChange=function(e){var t=this.state.locationModel;t.ceilingHeight=e,this.setState({locationModel:t})},t.prototype.handleDescriptionChange=function(e){var t=this.state.locationModel;t.description=e,this.setState({locationModel:t})},t.prototype.handleNotesChange=function(e){var t=this.state.locationModel;t.notes=e,this.setState({locationModel:t})},t.prototype.handleStateChange=function(e){var t=this.state.locationModel;t.locationState=e,this.setState({locationModel:t})},t.prototype.handleDirectionalSpaceChange=function(e){var t=this.state.locationModel;t.isDirectional=e,this.setState({locationModel:t})},t.prototype.handleNewFloorChange=function(e){var t=this.state.newFloor;t.rdfsLabel=e,this.setState({newFloor:t})},t.prototype.handleSelectedSweepsChange=function(e){this.setState({selectedBIMSweeps:e})},t.prototype.createFloor=function(){return S(this,void 0,void 0,function(){var e;return C(this,function(t){switch(t.label){case 0:return(e=this.state.newFloor)?(e.floor=e.floor?e.floor:Object(r.F)(7),[4,Object(i.b)(this.props.buildingName,e).then(function(e){})]):[3,4];case 1:return t.sent(),[4,this._getFloorsList()];case 2:return t.sent(),[4,this.handleFloorChange(e.floor)];case 3:t.sent(),t.label=4;case 4:return[2]}})})},t.prototype.handlefileAttached=function(e){if(e.length>0){for(var t=this.state.locationModel,n=0;n<e.length;n++){var a=e[n].name.split(".").pop(),l=this.props.buildingName+"_"+Object(r.F)(15)+"."+a.toLowerCase();t.profileFileName&&(t.profileFileName[n]=l)}Object(o.g)(e),this.setState({files:e,locationModel:t},function(){})}},t.prototype.onDialogCancelButton=function(e){this.setState({showMatterportDialog:e})},t.prototype.deleteSpace=function(e){return S(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return Object(p.a)(!0),[4,Object(r.l)(e,o.b.SPACE)];case 1:return t.sent(),[4,Object(f.c)(e)];case 2:return t.sent(),Object(p.a)(!1),window.history.back(),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.isView,a=void 0!==n&&n,o=t.buildingName,i=t.spaceName,c=t.instance,s=this.state.locationModel,p=s.floor,g=s.ceilingHeight,f=s.ceilingType,N=s.description,y=s.notes,S=s.type,C=s.zone,D=s.virtualBIM,O=(s.cadBIM,s.rdfsLabel),I=s.linkBimism,M=s.isDirectional,F=s.locationState,j=this.state,x=j._spaceTypes,T=j.newFloor,_=j.panelIDs,B=j.zonesList,k=j.zoneName,L=j.zoneType,P=j._zoneTypes,z=j.showMatterportDialog,Z=this.state.selectedBIMSweeps,A=this.state.floorsList,R=JSON.parse(h.a.getItem("user")),V=R&&"1"==R.role,H=O&&S&&S.length>0&&p&&F&&!0,U=_.map(function(e){return!!e}).find(function(e){return 0==e}),G=I||localStorage.getItem("BIMURL"),W=!(Z.length>0)&&(G&&G.includes("camera_position"));return l.createElement("div",{className:"content"},l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"card padding-10"},l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-6 col-xs-12"},l.createElement("div",{className:"col-md-4"},l.createElement("label",{htmlFor:"name"},"Name:")),l.createElement("div",{className:"col-md-7"},l.createElement("input",{type:"text",id:"name",disabled:a,className:(O?"":"addFieldValidate")+" form-control",value:O,onChange:function(t){return e.handleNameChange(t.target.value)}}))),l.createElement("div",{className:"col-md-6 col-xs-12"},l.createElement("div",{className:"col-md-4"},l.createElement("label",{htmlFor:"type"},"Type:")),l.createElement("div",{className:"col-md-6"},l.createElement("select",{id:"type",className:(S?"":"addFieldValidate")+" form-control",disabled:a,onChange:function(t){return e.handleTypeChange(t.target.value)},value:S},l.createElement("option",{value:""},"Select Type"),x.map(function(e,t){return 0===t?l.createElement("option",{key:t,selected:!0,value:e.value},e.value):l.createElement("option",{key:t,value:e.value},e.value)})))))),l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-6 col-xs-12"},l.createElement("div",{className:"col-md-4"},l.createElement("label",{htmlFor:"floor"},"Floor:")),l.createElement("div",{className:"col-md-7"},l.createElement("select",{className:(p?"":"addFieldValidate")+" form-control",id:"floor",disabled:a,onChange:function(t){return e.handleFloorChange(t.target.value)},value:p},l.createElement("option",{value:""},"Select Floor"),l.createElement("option",{value:"newFloor",key:-1},"New Floor"),l.createElement("hr",null),A.map(function(e,t){return e.ontology.value===p?l.createElement("option",{key:t,selected:!0,value:Object(u.g)(e.ontology)},Object(u.g)(e.rdfsLabel)):l.createElement("option",{key:t,value:Object(u.g)(e.ontology)},Object(u.g)(e.rdfsLabel))})))),l.createElement("div",{className:"col-md-6 col-xs-12"},l.createElement("div",{className:"col-md-4"},l.createElement("label",{htmlFor:"zone"},"Is in Zone:")),l.createElement("div",{className:"col-md-6"},l.createElement("div",null,l.createElement(d.a,{isDisabled:a,closeMenuOnSelect:!1,isMulti:!0,value:C,onChange:this.handleZoneChange,placeholder:"Select IS IN ZONE",options:B}))),l.createElement("div",{className:"col-md-2",style:{paddingTop:"2px"}},!a&&l.createElement("button",{id:"zoneColapsBtn",type:"button",disabled:a,className:"btn btn-dark btn-fill btn-sm pull-right",onClick:function(){document.getElementById("btnOpenZoneForm").click()}},l.createElement("i",{id:"icons",className:"fa fa-plus"})))))),l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-6 col-xs-12"},l.createElement("div",{className:"col-md-4"},l.createElement("label",{htmlFor:"ceilingType"},"Ceiling Type:")),l.createElement("div",{className:"col-md-7"},l.createElement("select",{id:"ceilingType",className:"form-control",disabled:a,onChange:function(t){return e.handleCeilingTypeChange(t.target.value)},value:f},l.createElement("option",{value:""},"Select Ceiling Type"),w.map(function(e,t){return 0===t?l.createElement("option",{key:t,selected:!0,value:e},e):l.createElement("option",{key:t,value:e},e)})))),l.createElement("div",{className:"col-md-6 col-xs-12"},l.createElement("div",{className:"col-md-4"},l.createElement("label",{htmlFor:"ceilingHeight"},"Ceiling Height:")),l.createElement("div",{className:"col-md-8"},l.createElement("input",{type:"text",id:"ceilingHeight",disabled:a,className:"form-control col-md-6",value:g,onChange:function(t){return e.handleCeilingHeightChange(t.target.value)}}))))),l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-6 col-xs-12"},l.createElement("div",{className:"col-md-4"},l.createElement("label",{htmlFor:"virtualBIM"},"Digital Twin 3D Space:")),l.createElement("div",{className:"col-md-7"},l.createElement("input",{type:"text",id:"virtualBIM",disabled:a,className:"form-control col-md-6",value:D,onChange:function(t){return e.handleVirtualBIMChange(t.target.value)}})),D&&l.createElement("button",{className:"btn-sm btn-success active custom-icon-btn",title:D,onClick:function(){window.open("http://"+D,"_blank")},style:{border:"1px solid transparent"}},l.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"}))))),!1,l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-6 col-xs-12"},l.createElement("div",{className:"col-md-4 col-xs-12"},l.createElement("label",{htmlFor:"directionalSpace"},"Directional Space:")),!a&&l.createElement("div",{className:"col-md-8 col-xs-12"},l.createElement("div",{className:"switch-container"},l.createElement("label",null,l.createElement("input",{id:"directionalSpace",disabled:a,name:"directionalSpace",checked:M,onChange:function(t){e.handleDirectionalSpaceChange(t.target.checked)},className:"switch",type:"checkbox"}),l.createElement("div",null,l.createElement("div",null))))),a&&G&&l.createElement("div",{className:"col-md-8 col-xs-12"},l.createElement("label",{htmlFor:"directionalSpace"},M?"Yes":"No"),l.createElement("button",{className:"btn-sm btn-success active pull-right custom-icon-btn",title:G,onClick:function(){Z&&Z.length>0?e.setState({showMatterportDialog:!0},function(){document.getElementById("btnVirtualBIMDialog").click()}):document.getElementById("btnNoStepsFound").click()},style:{border:"1px solid transparent",backgroundColor:"#A69888"}},l.createElement("img",{className:"icon-img",src:"assets/img/virtual-bim.png"})))),l.createElement("div",{className:"col-md-6 col-xs-12"},l.createElement("div",{className:"col-md-4 col-xs-12"},l.createElement("label",{htmlFor:"spaceState"},"Space State:")),l.createElement("div",{className:"col-md-8 col-xs-12"},l.createElement("select",{className:(F?"":"addFieldValidate")+" form-control",id:"spaceState",name:"spaceState",onChange:function(t){e.handleStateChange(t.target.value)},value:F,disabled:a},l.createElement("option",{value:""},"Select State"),l.createElement("option",{value:"Planned"},"Planned"),l.createElement("option",{value:"Ordered"},"Ordered"),l.createElement("option",{value:"ReadyToShip"},"Ready To Ship"),l.createElement("option",{value:"ShippingInbound"},"Shipping Inbound"),l.createElement("option",{value:"DeliveredPerShipperInbound"},"Delivered Per Shipper Inbound"),l.createElement("option",{value:"InventoryCataloging"},"Inventory Cataloging"),l.createElement("option",{value:"Assembly"},"Assembly"),l.createElement("option",{value:"ProvisioningWithSoftware"},"Provisioning With Software"),l.createElement("option",{value:"Kitting"},"Kitting"),l.createElement("option",{value:"FactoryAcceptenceTesting"},"Factory Acceptance Testing"),l.createElement("option",{value:"ShippingOutbound"},"Shipping Outbound"),l.createElement("option",{value:"DeliveredPerShipperOutbound"},"Delivered Per Shipper Outbound"),l.createElement("option",{value:"InstallingInFacility"},"Installing In Facility"),l.createElement("option",{value:"InstalledInFacility"},"Installed In Facility"),l.createElement("option",{value:"Commissioning"},"Commissioning (testing)"),l.createElement("option",{value:"Existing"},"Existing In Use"),l.createElement("option",{value:"Retired"},"Retired"),l.createElement("option",{value:"CommittedToSell"},"Committed to Sell"),l.createElement("option",{value:"Sold"},"Sold"),l.createElement("option",{value:"DisposedOf"},"Disposed Of"),l.createElement("option",{value:"ErrorDeleted"},"Error Deleted")))))),l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-2"},l.createElement("label",{htmlFor:"description"},"Description:")),l.createElement("div",{className:"col-md-10"},l.createElement("textarea",{style:{resize:"none"},id:"description",disabled:a,className:"form-control",value:Object(r.M)(N,!1),onChange:function(t){return e.handleDescriptionChange(Object(r.M)(t.target.value,!0))}}))))),l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-2"},l.createElement("label",{htmlFor:"notes"},"Notes:")),l.createElement("div",{className:"col-md-10"},l.createElement("textarea",{style:{resize:"none"},id:"notes",className:"form-control",disabled:a,value:Object(r.M)(y,!1),onChange:function(t){return e.handleNotesChange(Object(r.M)(t.target.value,!0))}}))))),l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement(b.a,{buildingName:o,assetOntology:i,showUploader:!a,entityType:"Space"})))),l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-6 col-xs-12"},l.createElement("div",{className:"col-md-4 padding-10"},l.createElement("label",{htmlFor:"panelID"},"Panel ID:")),l.createElement("div",{className:"col-md-8"},_.map(function(t,n){return l.createElement("div",{key:n,className:"row padding-5"},l.createElement("div",{className:"col-md-6"},l.createElement("input",{disabled:!V||a,type:"text",id:"panelID",className:"form-control",value:t,onChange:function(t){return e.handlePanelIDChange(t.target.value,n)}})),l.createElement("div",{className:"col-md-2 center"},l.createElement("button",{disabled:!V||a,type:"button",className:"remove-button btn btn-secondary btn-sm",onClick:function(){return e.handleRemovePanelID(n)},title:"Remove"},l.createElement("i",{className:"fa fa-remove"}))))}),l.createElement("div",{className:"col-md-12"},!a&&l.createElement("button",{disabled:!V||a||_.length>0&&0==U,type:"button",className:"btn btn-dark btn-fill btn-sm",onClick:this.handleNewPanelID,title:"Add"},l.createElement("i",{className:"fa fa-plus"}))))))),!a&&l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"col-md-11"},l.createElement("button",{type:"button",disabled:!H,className:"btn btn-dark btn-fill",onClick:function(){e.createLocation()}},"Save"),"\xa0\xa0",l.createElement("button",{type:"button",className:"btn btn-danger active",onClick:function(){e.props.onChangeTab?e.props.onChangeTab("Tab1"):window.history.back()}},"Cancel")),i&&l.createElement("div",{className:"col-md-1"},l.createElement("button",{type:"button",className:"btn btn-danger btn-fill","data-toggle":"modal","data-target":"#ConfirmDeleteDialog",title:"Delete"},"Delete"))),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null)),l.createElement("button",{id:"btnVirtualBIMDialog",className:"hidden","data-toggle":"modal","data-target":"#virtualBIMDialog",title:"Add"},". "),z&&a&&G&&l.createElement(v.a,{id:"virtualBIMDialog",heading:"Digital Twin 3D Space Space View",showSaveButton:!1,sweeps:Z,bimURL:G,isViewForm:!0,addCurrentSweep:W,buildingName:this.props.buildingName,isRefreshDialog:!1,isSweepChangeable:!1,showFloorMap:!0,floor:p,onDialogCancelButton:this.onDialogCancelButton,showInBuildingRoutes:!0,space:i}),l.createElement("button",{id:"btnNoStepsFound",className:"hidden","data-toggle":"modal","data-target":"#NoStepsFound",title:"Add"},". "),l.createElement(m.a,{id:"NoStepsFound",heading:"Digital Twin 3D Space Equipment View",showSaveButton:!1,showCancelButton:!0},l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement("h4",{className:"modal-title",style:{textAlign:"center"}},"No Virtual Space View")))),l.createElement("button",{type:"button",id:"btnOpenZoneForm",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#zoneFormDialog"}," ."),l.createElement(m.a,{id:"zoneFormDialog",onSaveButtonClick:function(){e.saveZone()},saveButtonText:"Add",disableSaveButton:!k,heading:"Add Zone"},l.createElement("div",{className:"card dataCard padding-10 no-margin"},l.createElement("div",{className:""},l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-3"},l.createElement("label",{htmlFor:"type"},"Zone Name:")),l.createElement("div",{className:"col-md-9"},l.createElement("input",{value:k,onChange:function(t){return e.handleZoneNameChange(t.target.value)},type:"text",className:"form-control"})," "))),l.createElement("div",{className:"row padding-10"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-3"},l.createElement("label",{htmlFor:"type"},"Zone Type:")),l.createElement("div",{className:"col-md-9"},l.createElement("button",{className:"btn btn-default btn-block dropdown-toggle",type:"button","data-toggle":"dropdown"},L&&P&&P.find(function(e){return-1!==e.z.value.indexOf(L.substring(3))})?P.find(function(e){return-1!==e.z.value.indexOf(L.substring(3))}).zone.value:"Select Zone Type",l.createElement("span",{className:"caret"})),l.createElement("ul",{className:"dropdown-menu"},l.createElement("li",{className:"dropdown-header"},l.createElement("h5",null,l.createElement("b",null,"Space Group"))),P.filter(function(e){return"Space Group"==e.yname.value}).map(function(t,n){return l.createElement("li",{key:n},l.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.handleZoneTypeChange(t.z.value)}},t.zone.value))}),l.createElement("li",{className:"dropdown-header"},l.createElement("h5",null,l.createElement("b",null,"Service Zone"))),P.filter(function(e){return"Service Zone"==e.yname.value}).map(function(t,n){return l.createElement("li",{key:n},l.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.handleZoneTypeChange(t.z.value)}},t.zone.value))})))))))),l.createElement("button",{type:"button",id:"btnOpenFloorForm",className:"btn btn-dark pull-right",style:{display:"none"},"data-toggle":"modal","data-target":"#floorFormDialog"}," ."),l.createElement(m.a,{id:"floorFormDialog",onSaveButtonClick:function(){e.createFloor()},saveButtonText:"Add",disableSaveButton:!T.rdfsLabel,heading:"Add Floor"},l.createElement("div",{className:"card dataCard padding-10 no-margin"},l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12 col-xs-12"},l.createElement("div",{className:"col-md-4 padding-10"},l.createElement("label",{htmlFor:"floor"},"Floor")),l.createElement("div",{className:"col-md-8"},l.createElement("input",{type:"text",id:"floor",className:"form-control col-md-6",value:T.rdfsLabel,onChange:function(t){return e.handleNewFloorChange(t.target.value)}}))))))),l.createElement(E.a,{instance:c,id:"ConfirmDeleteDialog",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",confirmationText:"Are you sure to delete this Space?",heading:"Confirm...",onConfirmButtonClick:function(){e.deleteSpace(i)}}))))))},t}(l.Component);t.default=D},2949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),l=(n.n(a),n(1324)),o=n(771),i=n(711),c=n(8),r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),s=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(l,o){function i(e){try{r(a.next(e))}catch(e){o(e)}}function c(e){try{r(a.throw(e))}catch(e){o(e)}}function r(e){e.done?l(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}r((a=a.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,a,l,o,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(l=2&o[0]?a.return:o[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,o[1])).done)return l;switch(a=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(l=(l=i.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){i.label=o[1];break}if(6===o[0]&&i.label<l[1]){i.label=l[1],l=o;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(o);break}l[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return r(t,e),t.prototype.componentDidMount=function(){return s(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){return s(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},t.prototype.render=function(){var e=this.props,t=e.instance,n=e.buildingName,r=e.spaceName,s=JSON.parse(c.a.getItem("user")),d=Object(i.b)(s,"info-space","write");return a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"content"},a.createElement("div",{className:""},a.createElement("div",{className:"row"},a.createElement("div",{className:d?"col-md-10":"col-md-12"},a.createElement(o.a,{instance:t,buildingName:n,tabName:"Space",itemName:r,showAuditTypes:!0,showBIMButtons:!0})),d&&a.createElement("div",{className:"col-sm-2 padding-10"},a.createElement("button",{className:"btn-sm btn-success btn-fill pull-right",onClick:function(){window.location.hash=t+"/"+n+"/Space/SpaceForm/"+r}},a.createElement("i",{className:"fa fa-edit"})," Edit "))),a.createElement("br",null),a.createElement("div",{className:""},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12 col-sm-12 no-padding"},a.createElement(l.default,{instance:t,buildingName:n,spaceName:r,isView:!0})))))))},t}(a.Component);t.default=u}});